(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var j1={exports:{}},Qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function x$(){if(yE)return Qh;yE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:s,ref:i!==void 0?i:null,props:a}}return Qh.Fragment=e,Qh.jsx=t,Qh.jsxs=t,Qh}var vE;function w$(){return vE||(vE=1,j1.exports=x$()),j1.exports}var T=w$(),C1={exports:{}},ar={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function _$(){if(xE)return ar;xE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(R){return R===null||typeof R!="object"?null:(R=f&&R[f]||R["@@iterator"],typeof R=="function"?R:null)}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(R,q,H){this.props=R,this.context=q,this.refs=y,this.updater=H||d}m.prototype.isReactComponent={},m.prototype.setState=function(R,q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,q,"setState")},m.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function x(){}x.prototype=m.prototype;function v(R,q,H){this.props=R,this.context=q,this.refs=y,this.updater=H||d}var _=v.prototype=new x;_.constructor=v,g(_,m.prototype),_.isPureReactComponent=!0;var k=Array.isArray,N={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function D(R,q,H,Y,Z,te){return H=te.ref,{$$typeof:r,type:R,key:q,ref:H!==void 0?H:null,props:te}}function I(R,q){return D(R.type,q,void 0,void 0,void 0,R.props)}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function L(R){var q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(H){return q[H]})}var z=/\/+/g;function $(R,q){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):q.toString(36)}function O(){}function F(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(O,O):(R.status="pending",R.then(function(q){R.status==="pending"&&(R.status="fulfilled",R.value=q)},function(q){R.status==="pending"&&(R.status="rejected",R.reason=q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function C(R,q,H,Y,Z){var te=typeof R;(te==="undefined"||te==="boolean")&&(R=null);var W=!1;if(R===null)W=!0;else switch(te){case"bigint":case"string":case"number":W=!0;break;case"object":switch(R.$$typeof){case r:case e:W=!0;break;case u:return W=R._init,C(W(R._payload),q,H,Y,Z)}}if(W)return Z=Z(R),W=Y===""?"."+$(R,0):Y,k(Z)?(H="",W!=null&&(H=W.replace(z,"$&/")+"/"),C(Z,q,H,"",function(V){return V})):Z!=null&&(B(Z)&&(Z=I(Z,H+(Z.key==null||R&&R.key===Z.key?"":(""+Z.key).replace(z,"$&/")+"/")+W)),q.push(Z)),1;W=0;var ee=Y===""?".":Y+":";if(k(R))for(var K=0;K<R.length;K++)Y=R[K],te=ee+$(Y,K),W+=C(Y,q,H,te,Z);else if(K=h(R),typeof K=="function")for(R=K.call(R),K=0;!(Y=R.next()).done;)Y=Y.value,te=ee+$(Y,K++),W+=C(Y,q,H,te,Z);else if(te==="object"){if(typeof R.then=="function")return C(F(R),q,H,Y,Z);throw q=String(R),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return W}function w(R,q,H){if(R==null)return R;var Y=[],Z=0;return C(R,Y,"","",function(te){return q.call(H,te,Z++)}),Y}function E(R){if(R._status===-1){var q=R._result;q=q(),q.then(function(H){(R._status===0||R._status===-1)&&(R._status=1,R._result=H)},function(H){(R._status===0||R._status===-1)&&(R._status=2,R._result=H)}),R._status===-1&&(R._status=0,R._result=q)}if(R._status===1)return R._result.default;throw R._result}var A=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function j(){}return ar.Children={map:w,forEach:function(R,q,H){w(R,function(){q.apply(this,arguments)},H)},count:function(R){var q=0;return w(R,function(){q++}),q},toArray:function(R){return w(R,function(q){return q})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ar.Component=m,ar.Fragment=t,ar.Profiler=i,ar.PureComponent=v,ar.StrictMode=n,ar.Suspense=l,ar.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ar.act=function(){throw Error("act(...) is not supported in production builds of React.")},ar.cache=function(R){return function(){return R.apply(null,arguments)}},ar.cloneElement=function(R,q,H){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Y=g({},R.props),Z=R.key,te=void 0;if(q!=null)for(W in q.ref!==void 0&&(te=void 0),q.key!==void 0&&(Z=""+q.key),q)!P.call(q,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&q.ref===void 0||(Y[W]=q[W]);var W=arguments.length-2;if(W===1)Y.children=H;else if(1<W){for(var ee=Array(W),K=0;K<W;K++)ee[K]=arguments[K+2];Y.children=ee}return D(R.type,Z,void 0,void 0,te,Y)},ar.createContext=function(R){return R={$$typeof:s,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},ar.createElement=function(R,q,H){var Y,Z={},te=null;if(q!=null)for(Y in q.key!==void 0&&(te=""+q.key),q)P.call(q,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Z[Y]=q[Y]);var W=arguments.length-2;if(W===1)Z.children=H;else if(1<W){for(var ee=Array(W),K=0;K<W;K++)ee[K]=arguments[K+2];Z.children=ee}if(R&&R.defaultProps)for(Y in W=R.defaultProps,W)Z[Y]===void 0&&(Z[Y]=W[Y]);return D(R,te,void 0,void 0,null,Z)},ar.createRef=function(){return{current:null}},ar.forwardRef=function(R){return{$$typeof:c,render:R}},ar.isValidElement=B,ar.lazy=function(R){return{$$typeof:u,_payload:{_status:-1,_result:R},_init:E}},ar.memo=function(R,q){return{$$typeof:o,type:R,compare:q===void 0?null:q}},ar.startTransition=function(R){var q=N.T,H={};N.T=H;try{var Y=R(),Z=N.S;Z!==null&&Z(H,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(j,A)}catch(te){A(te)}finally{N.T=q}},ar.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ar.use=function(R){return N.H.use(R)},ar.useActionState=function(R,q,H){return N.H.useActionState(R,q,H)},ar.useCallback=function(R,q){return N.H.useCallback(R,q)},ar.useContext=function(R){return N.H.useContext(R)},ar.useDebugValue=function(){},ar.useDeferredValue=function(R,q){return N.H.useDeferredValue(R,q)},ar.useEffect=function(R,q){return N.H.useEffect(R,q)},ar.useId=function(){return N.H.useId()},ar.useImperativeHandle=function(R,q,H){return N.H.useImperativeHandle(R,q,H)},ar.useInsertionEffect=function(R,q){return N.H.useInsertionEffect(R,q)},ar.useLayoutEffect=function(R,q){return N.H.useLayoutEffect(R,q)},ar.useMemo=function(R,q){return N.H.useMemo(R,q)},ar.useOptimistic=function(R,q){return N.H.useOptimistic(R,q)},ar.useReducer=function(R,q,H){return N.H.useReducer(R,q,H)},ar.useRef=function(R){return N.H.useRef(R)},ar.useState=function(R){return N.H.useState(R)},ar.useSyncExternalStore=function(R,q,H){return N.H.useSyncExternalStore(R,q,H)},ar.useTransition=function(){return N.H.useTransition()},ar.version="19.0.0",ar}var wE;function u5(){return wE||(wE=1,C1.exports=_$()),C1.exports}var ye=u5();const pe=Cr(ye);var O1={exports:{}},Zh={},N1={exports:{}},M1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function S$(){return _E||(_E=1,(function(r){function e(w,E){var A=w.length;w.push(E);e:for(;0<A;){var j=A-1>>>1,R=w[j];if(0<i(R,E))w[j]=E,w[A]=R,A=j;else break e}}function t(w){return w.length===0?null:w[0]}function n(w){if(w.length===0)return null;var E=w[0],A=w.pop();if(A!==E){w[0]=A;e:for(var j=0,R=w.length,q=R>>>1;j<q;){var H=2*(j+1)-1,Y=w[H],Z=H+1,te=w[Z];if(0>i(Y,A))Z<R&&0>i(te,Y)?(w[j]=te,w[Z]=A,j=Z):(w[j]=Y,w[H]=A,j=H);else if(Z<R&&0>i(te,A))w[j]=te,w[Z]=A,j=Z;else break e}}return E}function i(w,E){var A=w.sortIndex-E.sortIndex;return A!==0?A:w.id-E.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();r.unstable_now=function(){return s.now()-c}}var l=[],o=[],u=1,f=null,h=3,d=!1,g=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function _(w){for(var E=t(o);E!==null;){if(E.callback===null)n(o);else if(E.startTime<=w)n(o),E.sortIndex=E.expirationTime,e(l,E);else break;E=t(o)}}function k(w){if(y=!1,_(w),!g)if(t(l)!==null)g=!0,F();else{var E=t(o);E!==null&&C(k,E.startTime-w)}}var N=!1,P=-1,D=5,I=-1;function B(){return!(r.unstable_now()-I<D)}function L(){if(N){var w=r.unstable_now();I=w;var E=!0;try{e:{g=!1,y&&(y=!1,x(P),P=-1),d=!0;var A=h;try{t:{for(_(w),f=t(l);f!==null&&!(f.expirationTime>w&&B());){var j=f.callback;if(typeof j=="function"){f.callback=null,h=f.priorityLevel;var R=j(f.expirationTime<=w);if(w=r.unstable_now(),typeof R=="function"){f.callback=R,_(w),E=!0;break t}f===t(l)&&n(l),_(w)}else n(l);f=t(l)}if(f!==null)E=!0;else{var q=t(o);q!==null&&C(k,q.startTime-w),E=!1}}break e}finally{f=null,h=A,d=!1}E=void 0}}finally{E?z():N=!1}}}var z;if(typeof v=="function")z=function(){v(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,O=$.port2;$.port1.onmessage=L,z=function(){O.postMessage(null)}}else z=function(){m(L,0)};function F(){N||(N=!0,z())}function C(w,E){P=m(function(){w(r.unstable_now())},E)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(w){w.callback=null},r.unstable_continueExecution=function(){g||d||(g=!0,F())},r.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<w?Math.floor(1e3/w):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(w){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var A=h;h=E;try{return w()}finally{h=A}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(w,E){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var A=h;h=w;try{return E()}finally{h=A}},r.unstable_scheduleCallback=function(w,E,A){var j=r.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?j+A:j):A=j,w){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=A+R,w={id:u++,callback:E,priorityLevel:w,startTime:A,expirationTime:R,sortIndex:-1},A>j?(w.sortIndex=A,e(o,w),t(l)===null&&w===t(o)&&(y?(x(P),P=-1):y=!0,C(k,A-j))):(w.sortIndex=R,e(l,w),g||d||(g=!0,F())),w},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(w){var E=h;return function(){var A=h;h=E;try{return w.apply(this,arguments)}finally{h=A}}}})(M1)),M1}var SE;function A$(){return SE||(SE=1,N1.exports=S$()),N1.exports}var R1={exports:{}},ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function E$(){if(AE)return ai;AE=1;var r=u5();function e(l){var o="https://react.dev/errors/"+l;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:o,implementation:u}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(l,o){if(l==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ai.createPortal=function(l,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(e(299));return a(l,o,null,u)},ai.flushSync=function(l){var o=s.T,u=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=o,n.p=u,n.d.f()}},ai.preconnect=function(l,o){typeof l=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(l,o))},ai.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},ai.preinit=function(l,o){if(typeof l=="string"&&o&&typeof o.as=="string"){var u=o.as,f=c(u,o.crossOrigin),h=typeof o.integrity=="string"?o.integrity:void 0,d=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?n.d.S(l,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:d}):u==="script"&&n.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:d,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},ai.preinitModule=function(l,o){if(typeof l=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=c(o.as,o.crossOrigin);n.d.M(l,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(l)},ai.preload=function(l,o){if(typeof l=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,f=c(u,o.crossOrigin);n.d.L(l,u,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},ai.preloadModule=function(l,o){if(typeof l=="string")if(o){var u=c(o.as,o.crossOrigin);n.d.m(l,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(l)},ai.requestFormReset=function(l){n.d.r(l)},ai.unstable_batchedUpdates=function(l,o){return l(o)},ai.useFormState=function(l,o,u){return s.H.useFormState(l,o,u)},ai.useFormStatus=function(){return s.H.useHostTransitionStatus()},ai.version="19.0.0",ai}var EE;function T$(){if(EE)return R1.exports;EE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),R1.exports=E$(),R1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function k$(){if(TE)return Zh;TE=1;var r=A$(),e=u5(),t=T$();function n(p){var b="https://react.dev/errors/"+p;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(p){return p===null||typeof p!="object"?null:(p=N&&p[N]||p["@@iterator"],typeof p=="function"?p:null)}var D=Symbol.for("react.client.reference");function I(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===D?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case l:return"Fragment";case c:return"Portal";case u:return"Profiler";case o:return"StrictMode";case y:return"Suspense";case m:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case d:return(p.displayName||"Context")+".Provider";case h:return(p._context.displayName||"Context")+".Consumer";case g:var b=p.render;return p=p.displayName,p||(p=b.displayName||b.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case x:return b=p.displayName||null,b!==null?b:I(p.type)||"Memo";case v:b=p._payload,p=p._init;try{return I(p(b))}catch{}}return null}var B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,z,$;function O(p){if(z===void 0)try{throw Error()}catch(S){var b=S.stack.trim().match(/\n( *(at )?)/);z=b&&b[1]||"",$=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+p+$}var F=!1;function C(p,b){if(!p||F)return"";F=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(b){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(De){var Me=De}Reflect.construct(p,[],He)}else{try{He.call()}catch(De){Me=De}p.call(He.prototype)}}else{try{throw Error()}catch(De){Me=De}(He=p())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(De){if(De&&Me&&typeof De.stack=="string")return[De.stack,Me.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var X=M.DetermineComponentFrameRoot(),ie=X[0],ce=X[1];if(ie&&ce){var be=ie.split(`
`),Ee=ce.split(`
`);for(G=M=0;M<be.length&&!be[M].includes("DetermineComponentFrameRoot");)M++;for(;G<Ee.length&&!Ee[G].includes("DetermineComponentFrameRoot");)G++;if(M===be.length||G===Ee.length)for(M=be.length-1,G=Ee.length-1;1<=M&&0<=G&&be[M]!==Ee[G];)G--;for(;1<=M&&0<=G;M--,G--)if(be[M]!==Ee[G]){if(M!==1||G!==1)do if(M--,G--,0>G||be[M]!==Ee[G]){var Le=`
`+be[M].replace(" at new "," at ");return p.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",p.displayName)),Le}while(1<=M&&0<=G);break}}}finally{F=!1,Error.prepareStackTrace=S}return(S=p?p.displayName||p.name:"")?O(S):""}function w(p){switch(p.tag){case 26:case 27:case 5:return O(p.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return p=C(p.type,!1),p;case 11:return p=C(p.type.render,!1),p;case 1:return p=C(p.type,!0),p;default:return""}}function E(p){try{var b="";do b+=w(p),p=p.return;while(p);return b}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function A(p){var b=p,S=p;if(p.alternate)for(;b.return;)b=b.return;else{p=b;do b=p,(b.flags&4098)!==0&&(S=b.return),p=b.return;while(p)}return b.tag===3?S:null}function j(p){if(p.tag===13){var b=p.memoizedState;if(b===null&&(p=p.alternate,p!==null&&(b=p.memoizedState)),b!==null)return b.dehydrated}return null}function R(p){if(A(p)!==p)throw Error(n(188))}function q(p){var b=p.alternate;if(!b){if(b=A(p),b===null)throw Error(n(188));return b!==p?null:p}for(var S=p,M=b;;){var G=S.return;if(G===null)break;var X=G.alternate;if(X===null){if(M=G.return,M!==null){S=M;continue}break}if(G.child===X.child){for(X=G.child;X;){if(X===S)return R(G),p;if(X===M)return R(G),b;X=X.sibling}throw Error(n(188))}if(S.return!==M.return)S=G,M=X;else{for(var ie=!1,ce=G.child;ce;){if(ce===S){ie=!0,S=G,M=X;break}if(ce===M){ie=!0,M=G,S=X;break}ce=ce.sibling}if(!ie){for(ce=X.child;ce;){if(ce===S){ie=!0,S=X,M=G;break}if(ce===M){ie=!0,M=X,S=G;break}ce=ce.sibling}if(!ie)throw Error(n(189))}}if(S.alternate!==M)throw Error(n(190))}if(S.tag!==3)throw Error(n(188));return S.stateNode.current===S?p:b}function H(p){var b=p.tag;if(b===5||b===26||b===27||b===6)return p;for(p=p.child;p!==null;){if(b=H(p),b!==null)return b;p=p.sibling}return null}var Y=Array.isArray,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},W=[],ee=-1;function K(p){return{current:p}}function V(p){0>ee||(p.current=W[ee],W[ee]=null,ee--)}function Q(p,b){ee++,W[ee]=p.current,p.current=b}var re=K(null),oe=K(null),ne=K(null),le=K(null);function me(p,b){switch(Q(ne,b),Q(oe,p),Q(re,null),p=b.nodeType,p){case 9:case 11:b=(b=b.documentElement)&&(b=b.namespaceURI)?GA(b):0;break;default:if(p=p===8?b.parentNode:b,b=p.tagName,p=p.namespaceURI)p=GA(p),b=WA(p,b);else switch(b){case"svg":b=1;break;case"math":b=2;break;default:b=0}}V(re),Q(re,b)}function ge(){V(re),V(oe),V(ne)}function se(p){p.memoizedState!==null&&Q(le,p);var b=re.current,S=WA(b,p.type);b!==S&&(Q(oe,p),Q(re,S))}function fe(p){oe.current===p&&(V(re),V(oe)),le.current===p&&(V(le),Kh._currentValue=te)}var he=Object.prototype.hasOwnProperty,ve=r.unstable_scheduleCallback,xe=r.unstable_cancelCallback,_e=r.unstable_shouldYield,Ne=r.unstable_requestPaint,Re=r.unstable_now,$e=r.unstable_getCurrentPriorityLevel,tt=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,Ye=r.unstable_NormalPriority,wt=r.unstable_LowPriority,bt=r.unstable_IdlePriority,yt=r.log,_t=r.unstable_setDisableYieldValue,Ze=null,Ue=null;function at(p){if(Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ze,p,void 0,(p.current.flags&128)===128)}catch{}}function st(p){if(typeof yt=="function"&&_t(p),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ze,p)}catch{}}var rt=Math.clz32?Math.clz32:vt,Wt=Math.log,yr=Math.LN2;function vt(p){return p>>>=0,p===0?32:31-(Wt(p)/yr|0)|0}var ir=128,At=4194304;function jt(p){var b=p&42;if(b!==0)return b;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function cr(p,b){var S=p.pendingLanes;if(S===0)return 0;var M=0,G=p.suspendedLanes,X=p.pingedLanes,ie=p.warmLanes;p=p.finishedLanes!==0;var ce=S&134217727;return ce!==0?(S=ce&~G,S!==0?M=jt(S):(X&=ce,X!==0?M=jt(X):p||(ie=ce&~ie,ie!==0&&(M=jt(ie))))):(ce=S&~G,ce!==0?M=jt(ce):X!==0?M=jt(X):p||(ie=S&~ie,ie!==0&&(M=jt(ie)))),M===0?0:b!==0&&b!==M&&(b&G)===0&&(G=M&-M,ie=b&-b,G>=ie||G===32&&(ie&4194176)!==0)?b:M}function Gt(p,b){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&b)===0}function Ot(p,b){switch(p){case 1:case 2:case 4:case 8:return b+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(){var p=ir;return ir<<=1,(ir&4194176)===0&&(ir=128),p}function ur(){var p=At;return At<<=1,(At&62914560)===0&&(At=4194304),p}function Mt(p){for(var b=[],S=0;31>S;S++)b.push(p);return b}function or(p,b){p.pendingLanes|=b,b!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function vr(p,b,S,M,G,X){var ie=p.pendingLanes;p.pendingLanes=S,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=S,p.entangledLanes&=S,p.errorRecoveryDisabledLanes&=S,p.shellSuspendCounter=0;var ce=p.entanglements,be=p.expirationTimes,Ee=p.hiddenUpdates;for(S=ie&~S;0<S;){var Le=31-rt(S),He=1<<Le;ce[Le]=0,be[Le]=-1;var Me=Ee[Le];if(Me!==null)for(Ee[Le]=null,Le=0;Le<Me.length;Le++){var De=Me[Le];De!==null&&(De.lane&=-536870913)}S&=~He}M!==0&&Dt(p,M,0),X!==0&&G===0&&p.tag!==0&&(p.suspendedLanes|=X&~(ie&~b))}function Dt(p,b,S){p.pendingLanes|=b,p.suspendedLanes&=~b;var M=31-rt(b);p.entangledLanes|=b,p.entanglements[M]=p.entanglements[M]|1073741824|S&4194218}function we(p,b){var S=p.entangledLanes|=b;for(p=p.entanglements;S;){var M=31-rt(S),G=1<<M;G&b|p[M]&b&&(p[M]|=b),S&=~G}}function Te(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function Pe(){var p=Z.p;return p!==0?p:(p=window.event,p===void 0?32:hE(p.type))}function Je(p,b){var S=Z.p;try{return Z.p=p,b()}finally{Z.p=S}}var ct=Math.random().toString(36).slice(2),Ge="__reactFiber$"+ct,ft="__reactProps$"+ct,mt="__reactContainer$"+ct,pt="__reactEvents$"+ct,Bt="__reactListeners$"+ct,Pt="__reactHandles$"+ct,Ut="__reactResources$"+ct,Or="__reactMarker$"+ct;function xr(p){delete p[Ge],delete p[ft],delete p[pt],delete p[Bt],delete p[Pt]}function Nr(p){var b=p[Ge];if(b)return b;for(var S=p.parentNode;S;){if(b=S[mt]||S[Ge]){if(S=b.alternate,b.child!==null||S!==null&&S.child!==null)for(p=QA(p);p!==null;){if(S=p[Ge])return S;p=QA(p)}return b}p=S,S=p.parentNode}return null}function Mr(p){if(p=p[Ge]||p[mt]){var b=p.tag;if(b===5||b===6||b===13||b===26||b===27||b===3)return p}return null}function Gr(p){var b=p.tag;if(b===5||b===26||b===27||b===6)return p.stateNode;throw Error(n(33))}function de(p){var b=p[Ut];return b||(b=p[Ut]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function Ae(p){p[Or]=!0}var Fe=new Set,qe={};function lt(p,b){We(p,b),We(p+"Capture",b)}function We(p,b){for(qe[p]=b,p=0;p<b.length;p++)Fe.add(b[p])}var Xe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qt={},Ht={};function Ct(p){return he.call(Ht,p)?!0:he.call(qt,p)?!1:er.test(p)?Ht[p]=!0:(qt[p]=!0,!1)}function mr(p,b,S){if(Ct(b))if(S===null)p.removeAttribute(b);else{switch(typeof S){case"undefined":case"function":case"symbol":p.removeAttribute(b);return;case"boolean":var M=b.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){p.removeAttribute(b);return}}p.setAttribute(b,""+S)}}function Xt(p,b,S){if(S===null)p.removeAttribute(b);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(b);return}p.setAttribute(b,""+S)}}function $t(p,b,S,M){if(M===null)p.removeAttribute(S);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(S);return}p.setAttributeNS(b,S,""+M)}}function tr(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Ur(p){var b=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function yn(p){var b=Ur(p)?"checked":"value",S=Object.getOwnPropertyDescriptor(p.constructor.prototype,b),M=""+p[b];if(!p.hasOwnProperty(b)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var G=S.get,X=S.set;return Object.defineProperty(p,b,{configurable:!0,get:function(){return G.call(this)},set:function(ie){M=""+ie,X.call(this,ie)}}),Object.defineProperty(p,b,{enumerable:S.enumerable}),{getValue:function(){return M},setValue:function(ie){M=""+ie},stopTracking:function(){p._valueTracker=null,delete p[b]}}}}function rr(p){p._valueTracker||(p._valueTracker=yn(p))}function mi(p){if(!p)return!1;var b=p._valueTracker;if(!b)return!0;var S=b.getValue(),M="";return p&&(M=Ur(p)?p.checked?"true":"false":p.value),p=M,p!==S?(b.setValue(p),!0):!1}function Yn(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var Ei=/[\n"\\]/g;function vn(p){return p.replace(Ei,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function gr(p,b,S,M,G,X,ie,ce){p.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?p.type=ie:p.removeAttribute("type"),b!=null?ie==="number"?(b===0&&p.value===""||p.value!=b)&&(p.value=""+tr(b)):p.value!==""+tr(b)&&(p.value=""+tr(b)):ie!=="submit"&&ie!=="reset"||p.removeAttribute("value"),b!=null?Ti(p,ie,tr(b)):S!=null?Ti(p,ie,tr(S)):M!=null&&p.removeAttribute("value"),G==null&&X!=null&&(p.defaultChecked=!!X),G!=null&&(p.checked=G&&typeof G!="function"&&typeof G!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?p.name=""+tr(ce):p.removeAttribute("name")}function fr(p,b,S,M,G,X,ie,ce){if(X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(p.type=X),b!=null||S!=null){if(!(X!=="submit"&&X!=="reset"||b!=null))return;S=S!=null?""+tr(S):"",b=b!=null?""+tr(b):S,ce||b===p.value||(p.value=b),p.defaultValue=b}M=M??G,M=typeof M!="function"&&typeof M!="symbol"&&!!M,p.checked=ce?p.checked:!!M,p.defaultChecked=!!M,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(p.name=ie)}function Ti(p,b,S){b==="number"&&Yn(p.ownerDocument)===p||p.defaultValue===""+S||(p.defaultValue=""+S)}function ri(p,b,S,M){if(p=p.options,b){b={};for(var G=0;G<S.length;G++)b["$"+S[G]]=!0;for(S=0;S<p.length;S++)G=b.hasOwnProperty("$"+p[S].value),p[S].selected!==G&&(p[S].selected=G),G&&M&&(p[S].defaultSelected=!0)}else{for(S=""+tr(S),b=null,G=0;G<p.length;G++){if(p[G].value===S){p[G].selected=!0,M&&(p[G].defaultSelected=!0);return}b!==null||p[G].disabled||(b=p[G])}b!==null&&(b.selected=!0)}}function ys(p,b,S){if(b!=null&&(b=""+tr(b),b!==p.value&&(p.value=b),S==null)){p.defaultValue!==b&&(p.defaultValue=b);return}p.defaultValue=S!=null?""+tr(S):""}function hn(p,b,S,M){if(b==null){if(M!=null){if(S!=null)throw Error(n(92));if(Y(M)){if(1<M.length)throw Error(n(93));M=M[0]}S=M}S==null&&(S=""),b=S}S=tr(b),p.defaultValue=S,M=p.textContent,M===S&&M!==""&&M!==null&&(p.value=M)}function an(p,b){if(b){var S=p.firstChild;if(S&&S===p.lastChild&&S.nodeType===3){S.nodeValue=b;return}}p.textContent=b}var Ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _a(p,b,S){var M=b.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?M?p.setProperty(b,""):b==="float"?p.cssFloat="":p[b]="":M?p.setProperty(b,S):typeof S!="number"||S===0||Ri.has(b)?b==="float"?p.cssFloat=S:p[b]=(""+S).trim():p[b]=S+"px"}function Ka(p,b,S){if(b!=null&&typeof b!="object")throw Error(n(62));if(p=p.style,S!=null){for(var M in S)!S.hasOwnProperty(M)||b!=null&&b.hasOwnProperty(M)||(M.indexOf("--")===0?p.setProperty(M,""):M==="float"?p.cssFloat="":p[M]="");for(var G in b)M=b[G],b.hasOwnProperty(G)&&S[G]!==M&&_a(p,G,M)}else for(var X in b)b.hasOwnProperty(X)&&_a(p,X,b[X])}function Ii(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(p){return Sa.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}var vs=null;function Ga(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var An=null,Ea=null;function Ta(p){var b=Mr(p);if(b&&(p=b.stateNode)){var S=p[ft]||null;e:switch(p=b.stateNode,b.type){case"input":if(gr(p,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),b=S.name,S.type==="radio"&&b!=null){for(S=p;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+vn(""+b)+'"][type="radio"]'),b=0;b<S.length;b++){var M=S[b];if(M!==p&&M.form===p.form){var G=M[ft]||null;if(!G)throw Error(n(90));gr(M,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name)}}for(b=0;b<S.length;b++)M=S[b],M.form===p.form&&mi(M)}break e;case"textarea":ys(p,S.value,S.defaultValue);break e;case"select":b=S.value,b!=null&&ri(p,!!S.multiple,b,!1)}}}var Di=!1;function ih(p,b,S){if(Di)return p(b,S);Di=!0;try{var M=p(b);return M}finally{if(Di=!1,(An!==null||Ea!==null)&&(Zm(),An&&(b=An,p=Ea,Ea=An=null,Ta(b),p)))for(b=0;b<p.length;b++)Ta(p[b])}}function ka(p,b){var S=p.stateNode;if(S===null)return null;var M=S[ft]||null;if(M===null)return null;S=M[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(p=p.type,M=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!M;break e;default:p=!1}if(p)return null;if(S&&typeof S!="function")throw Error(n(231,b,typeof S));return S}var xs=!1;if(Xe)try{var so={};Object.defineProperty(so,"passive",{get:function(){xs=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{xs=!1}var ea=null,Wr=null,Vc=null;function hm(){if(Vc)return Vc;var p,b=Wr,S=b.length,M,G="value"in ea?ea.value:ea.textContent,X=G.length;for(p=0;p<S&&b[p]===G[p];p++);var ie=S-p;for(M=1;M<=ie&&b[S-M]===G[X-M];M++);return Vc=G.slice(p,1<M?1-M:void 0)}function ml(p){var b=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&b===13&&(p=13)):p=b,p===10&&(p=13),32<=p||p===13?p:0}function gl(){return!0}function ah(){return!1}function Mn(p){function b(S,M,G,X,ie){this._reactName=S,this._targetInst=G,this.type=M,this.nativeEvent=X,this.target=ie,this.currentTarget=null;for(var ce in p)p.hasOwnProperty(ce)&&(S=p[ce],this[ce]=S?S(X):X[ce]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?gl:ah,this.isPropagationStopped=ah,this}return L(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),b}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Mn(ni),yl=L({},ni,{view:0,detail:0}),vl=Mn(yl),zc,xl,Wa,wl=L({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Wa&&(Wa&&p.type==="mousemove"?(zc=p.screenX-Wa.screenX,xl=p.screenY-Wa.screenY):xl=zc=0,Wa=p),zc)},movementY:function(p){return"movementY"in p?p.movementY:xl}}),_l=Mn(wl),Ly=L({},wl,{dataTransfer:0}),dm=Mn(Ly),Sl=L({},yl,{relatedTarget:0}),qc=Mn(Sl),pm=L({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=Mn(pm),oh=L({},ni,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),mm=Mn(oh),Uc=L({},ni,{data:0}),lh=Mn(Uc),gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ym(p){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(p):(p=bm[p])?!!b[p]:!1}function Hc(){return ym}var vm=L({},yl,{key:function(p){if(p.key){var b=gm[p.key]||p.key;if(b!=="Unidentified")return b}return p.type==="keypress"?(p=ml(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?ws[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(p){return p.type==="keypress"?ml(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?ml(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Kc=Mn(vm),gi=L({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=Mn(gi),xm=L({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),oo=Mn(xm),U=L({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Mn(U),ae=L({},wl,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=Mn(ae),Ce=L({},ni,{newState:0,oldState:0}),Ie=Mn(Ce),nt=[9,13,27,32],Yt=Xe&&"CompositionEvent"in window,tn=null;Xe&&"documentMode"in document&&(tn=document.documentMode);var Pr=Xe&&"TextEvent"in window&&!tn,xn=Xe&&(!Yt||tn&&8<tn&&11>=tn),Bi=" ",Xa=!1;function ja(p,b){switch(p){case"keyup":return nt.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Oa=!1;function uh(p,b){switch(p){case"compositionend":return Ca(b);case"keypress":return b.which!==32?null:(Xa=!0,Bi);case"textInput":return p=b.data,p===Bi&&Xa?null:p;default:return null}}function GL(p,b){if(Oa)return p==="compositionend"||!Yt&&ja(p,b)?(p=hm(),Vc=Wr=ea=null,Oa=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return xn&&b.locale!=="ko"?null:b.data;default:return null}}var WL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mS(p){var b=p&&p.nodeName&&p.nodeName.toLowerCase();return b==="input"?!!WL[p.type]:b==="textarea"}function gS(p,b,S,M){An?Ea?Ea.push(M):Ea=[M]:An=M,b=n0(b,"onChange"),0<b.length&&(S=new bl("onChange","change",null,S,M),p.push({event:S,listeners:b}))}var fh=null,hh=null;function XL(p){zA(p,0)}function wm(p){var b=Gr(p);if(mi(b))return p}function bS(p,b){if(p==="change")return b}var yS=!1;if(Xe){var Fy;if(Xe){var $y="oninput"in document;if(!$y){var vS=document.createElement("div");vS.setAttribute("oninput","return;"),$y=typeof vS.oninput=="function"}Fy=$y}else Fy=!1;yS=Fy&&(!document.documentMode||9<document.documentMode)}function xS(){fh&&(fh.detachEvent("onpropertychange",wS),hh=fh=null)}function wS(p){if(p.propertyName==="value"&&wm(hh)){var b=[];gS(b,hh,p,Ga(p)),ih(XL,b)}}function YL(p,b,S){p==="focusin"?(xS(),fh=b,hh=S,fh.attachEvent("onpropertychange",wS)):p==="focusout"&&xS()}function QL(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return wm(hh)}function ZL(p,b){if(p==="click")return wm(b)}function JL(p,b){if(p==="input"||p==="change")return wm(b)}function eF(p,b){return p===b&&(p!==0||1/p===1/b)||p!==p&&b!==b}var Li=typeof Object.is=="function"?Object.is:eF;function dh(p,b){if(Li(p,b))return!0;if(typeof p!="object"||p===null||typeof b!="object"||b===null)return!1;var S=Object.keys(p),M=Object.keys(b);if(S.length!==M.length)return!1;for(M=0;M<S.length;M++){var G=S[M];if(!he.call(b,G)||!Li(p[G],b[G]))return!1}return!0}function _S(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function SS(p,b){var S=_S(p);p=0;for(var M;S;){if(S.nodeType===3){if(M=p+S.textContent.length,p<=b&&M>=b)return{node:S,offset:b-p};p=M}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=_S(S)}}function AS(p,b){return p&&b?p===b?!0:p&&p.nodeType===3?!1:b&&b.nodeType===3?AS(p,b.parentNode):"contains"in p?p.contains(b):p.compareDocumentPosition?!!(p.compareDocumentPosition(b)&16):!1:!1}function ES(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var b=Yn(p.document);b instanceof p.HTMLIFrameElement;){try{var S=typeof b.contentWindow.location.href=="string"}catch{S=!1}if(S)p=b.contentWindow;else break;b=Yn(p.document)}return b}function Vy(p){var b=p&&p.nodeName&&p.nodeName.toLowerCase();return b&&(b==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||b==="textarea"||p.contentEditable==="true")}function tF(p,b){var S=ES(b);b=p.focusedElem;var M=p.selectionRange;if(S!==b&&b&&b.ownerDocument&&AS(b.ownerDocument.documentElement,b)){if(M!==null&&Vy(b)){if(p=M.start,S=M.end,S===void 0&&(S=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(S,b.value.length);else if(S=(p=b.ownerDocument||document)&&p.defaultView||window,S.getSelection){S=S.getSelection();var G=b.textContent.length,X=Math.min(M.start,G);M=M.end===void 0?X:Math.min(M.end,G),!S.extend&&X>M&&(G=M,M=X,X=G),G=SS(b,X);var ie=SS(b,M);G&&ie&&(S.rangeCount!==1||S.anchorNode!==G.node||S.anchorOffset!==G.offset||S.focusNode!==ie.node||S.focusOffset!==ie.offset)&&(p=p.createRange(),p.setStart(G.node,G.offset),S.removeAllRanges(),X>M?(S.addRange(p),S.extend(ie.node,ie.offset)):(p.setEnd(ie.node,ie.offset),S.addRange(p)))}}for(p=[],S=b;S=S.parentNode;)S.nodeType===1&&p.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)S=p[b],S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}var rF=Xe&&"documentMode"in document&&11>=document.documentMode,Gc=null,zy=null,ph=null,qy=!1;function TS(p,b,S){var M=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;qy||Gc==null||Gc!==Yn(M)||(M=Gc,"selectionStart"in M&&Vy(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),ph&&dh(ph,M)||(ph=M,M=n0(zy,"onSelect"),0<M.length&&(b=new bl("onSelect","select",null,b,S),p.push({event:b,listeners:M}),b.target=Gc)))}function Al(p,b){var S={};return S[p.toLowerCase()]=b.toLowerCase(),S["Webkit"+p]="webkit"+b,S["Moz"+p]="moz"+b,S}var Wc={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},Uy={},kS={};Xe&&(kS=document.createElement("div").style,"AnimationEvent"in window||(delete Wc.animationend.animation,delete Wc.animationiteration.animation,delete Wc.animationstart.animation),"TransitionEvent"in window||delete Wc.transitionend.transition);function El(p){if(Uy[p])return Uy[p];if(!Wc[p])return p;var b=Wc[p],S;for(S in b)if(b.hasOwnProperty(S)&&S in kS)return Uy[p]=b[S];return p}var jS=El("animationend"),CS=El("animationiteration"),OS=El("animationstart"),nF=El("transitionrun"),iF=El("transitionstart"),aF=El("transitioncancel"),NS=El("transitionend"),MS=new Map,RS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Na(p,b){MS.set(p,b),lt(b,[p])}var ta=[],Xc=0,Hy=0;function _m(){for(var p=Xc,b=Hy=Xc=0;b<p;){var S=ta[b];ta[b++]=null;var M=ta[b];ta[b++]=null;var G=ta[b];ta[b++]=null;var X=ta[b];if(ta[b++]=null,M!==null&&G!==null){var ie=M.pending;ie===null?G.next=G:(G.next=ie.next,ie.next=G),M.pending=G}X!==0&&IS(S,G,X)}}function Sm(p,b,S,M){ta[Xc++]=p,ta[Xc++]=b,ta[Xc++]=S,ta[Xc++]=M,Hy|=M,p.lanes|=M,p=p.alternate,p!==null&&(p.lanes|=M)}function Ky(p,b,S,M){return Sm(p,b,S,M),Am(p)}function lo(p,b){return Sm(p,null,null,b),Am(p)}function IS(p,b,S){p.lanes|=S;var M=p.alternate;M!==null&&(M.lanes|=S);for(var G=!1,X=p.return;X!==null;)X.childLanes|=S,M=X.alternate,M!==null&&(M.childLanes|=S),X.tag===22&&(p=X.stateNode,p===null||p._visibility&1||(G=!0)),p=X,X=X.return;G&&b!==null&&p.tag===3&&(X=p.stateNode,G=31-rt(S),X=X.hiddenUpdates,p=X[G],p===null?X[G]=[b]:p.push(b),b.lane=S|536870912)}function Am(p){if(50<Fh)throw Fh=0,Zv=null,Error(n(185));for(var b=p.return;b!==null;)p=b,b=p.return;return p.tag===3?p.stateNode:null}var Yc={},PS=new WeakMap;function ra(p,b){if(typeof p=="object"&&p!==null){var S=PS.get(p);return S!==void 0?S:(b={value:p,source:b,stack:E(b)},PS.set(p,b),b)}return{value:p,source:b,stack:E(b)}}var Qc=[],Zc=0,Em=null,Tm=0,na=[],ia=0,Tl=null,_s=1,Ss="";function kl(p,b){Qc[Zc++]=Tm,Qc[Zc++]=Em,Em=p,Tm=b}function DS(p,b,S){na[ia++]=_s,na[ia++]=Ss,na[ia++]=Tl,Tl=p;var M=_s;p=Ss;var G=32-rt(M)-1;M&=~(1<<G),S+=1;var X=32-rt(b)+G;if(30<X){var ie=G-G%5;X=(M&(1<<ie)-1).toString(32),M>>=ie,G-=ie,_s=1<<32-rt(b)+G|S<<G|M,Ss=X+p}else _s=1<<X|S<<G|M,Ss=p}function Gy(p){p.return!==null&&(kl(p,1),DS(p,1,0))}function Wy(p){for(;p===Em;)Em=Qc[--Zc],Qc[Zc]=null,Tm=Qc[--Zc],Qc[Zc]=null;for(;p===Tl;)Tl=na[--ia],na[ia]=null,Ss=na[--ia],na[ia]=null,_s=na[--ia],na[ia]=null}var bi=null,Qn=null,Tr=!1,Ma=null,Ya=!1,Xy=Error(n(519));function jl(p){var b=Error(n(418,""));throw bh(ra(b,p)),Xy}function BS(p){var b=p.stateNode,S=p.type,M=p.memoizedProps;switch(b[Ge]=p,b[ft]=M,S){case"dialog":wr("cancel",b),wr("close",b);break;case"iframe":case"object":case"embed":wr("load",b);break;case"video":case"audio":for(S=0;S<Vh.length;S++)wr(Vh[S],b);break;case"source":wr("error",b);break;case"img":case"image":case"link":wr("error",b),wr("load",b);break;case"details":wr("toggle",b);break;case"input":wr("invalid",b),fr(b,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0),rr(b);break;case"select":wr("invalid",b);break;case"textarea":wr("invalid",b),hn(b,M.value,M.defaultValue,M.children),rr(b)}S=M.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||b.textContent===""+S||M.suppressHydrationWarning===!0||KA(b.textContent,S)?(M.popover!=null&&(wr("beforetoggle",b),wr("toggle",b)),M.onScroll!=null&&wr("scroll",b),M.onScrollEnd!=null&&wr("scrollend",b),M.onClick!=null&&(b.onclick=i0),b=!0):b=!1,b||jl(p)}function LS(p){for(bi=p.return;bi;)switch(bi.tag){case 3:case 27:Ya=!0;return;case 5:case 13:Ya=!1;return;default:bi=bi.return}}function mh(p){if(p!==bi)return!1;if(!Tr)return LS(p),Tr=!0,!1;var b=!1,S;if((S=p.tag!==3&&p.tag!==27)&&((S=p.tag===5)&&(S=p.type,S=!(S!=="form"&&S!=="button")||m1(p.type,p.memoizedProps)),S=!S),S&&(b=!0),b&&Qn&&jl(p),LS(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));e:{for(p=p.nextSibling,b=0;p;){if(p.nodeType===8)if(S=p.data,S==="/$"){if(b===0){Qn=Ia(p.nextSibling);break e}b--}else S!=="$"&&S!=="$!"&&S!=="$?"||b++;p=p.nextSibling}Qn=null}}else Qn=bi?Ia(p.stateNode.nextSibling):null;return!0}function gh(){Qn=bi=null,Tr=!1}function bh(p){Ma===null?Ma=[p]:Ma.push(p)}var yh=Error(n(460)),FS=Error(n(474)),Yy={then:function(){}};function $S(p){return p=p.status,p==="fulfilled"||p==="rejected"}function km(){}function VS(p,b,S){switch(S=p[S],S===void 0?p.push(b):S!==b&&(b.then(km,km),b=S),b.status){case"fulfilled":return b.value;case"rejected":throw p=b.reason,p===yh?Error(n(483)):p;default:if(typeof b.status=="string")b.then(km,km);else{if(p=Xr,p!==null&&100<p.shellSuspendCounter)throw Error(n(482));p=b,p.status="pending",p.then(function(M){if(b.status==="pending"){var G=b;G.status="fulfilled",G.value=M}},function(M){if(b.status==="pending"){var G=b;G.status="rejected",G.reason=M}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw p=b.reason,p===yh?Error(n(483)):p}throw vh=b,yh}}var vh=null;function zS(){if(vh===null)throw Error(n(459));var p=vh;return vh=null,p}var Jc=null,xh=0;function jm(p){var b=xh;return xh+=1,Jc===null&&(Jc=[]),VS(Jc,p,b)}function wh(p,b){b=b.props.ref,p.ref=b!==void 0?b:null}function Cm(p,b){throw b.$$typeof===a?Error(n(525)):(p=Object.prototype.toString.call(b),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":p)))}function qS(p){var b=p._init;return b(p._payload)}function US(p){function b(ke,Se){if(p){var Oe=ke.deletions;Oe===null?(ke.deletions=[Se],ke.flags|=16):Oe.push(Se)}}function S(ke,Se){if(!p)return null;for(;Se!==null;)b(ke,Se),Se=Se.sibling;return null}function M(ke){for(var Se=new Map;ke!==null;)ke.key!==null?Se.set(ke.key,ke):Se.set(ke.index,ke),ke=ke.sibling;return Se}function G(ke,Se){return ke=wo(ke,Se),ke.index=0,ke.sibling=null,ke}function X(ke,Se,Oe){return ke.index=Oe,p?(Oe=ke.alternate,Oe!==null?(Oe=Oe.index,Oe<Se?(ke.flags|=33554434,Se):Oe):(ke.flags|=33554434,Se)):(ke.flags|=1048576,Se)}function ie(ke){return p&&ke.alternate===null&&(ke.flags|=33554434),ke}function ce(ke,Se,Oe,Ve){return Se===null||Se.tag!==6?(Se=Uv(Oe,ke.mode,Ve),Se.return=ke,Se):(Se=G(Se,Oe),Se.return=ke,Se)}function be(ke,Se,Oe,Ve){var gt=Oe.type;return gt===l?Le(ke,Se,Oe.props.children,Ve,Oe.key):Se!==null&&(Se.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===v&&qS(gt)===Se.type)?(Se=G(Se,Oe.props),wh(Se,Oe),Se.return=ke,Se):(Se=Gm(Oe.type,Oe.key,Oe.props,null,ke.mode,Ve),wh(Se,Oe),Se.return=ke,Se)}function Ee(ke,Se,Oe,Ve){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Oe.containerInfo||Se.stateNode.implementation!==Oe.implementation?(Se=Hv(Oe,ke.mode,Ve),Se.return=ke,Se):(Se=G(Se,Oe.children||[]),Se.return=ke,Se)}function Le(ke,Se,Oe,Ve,gt){return Se===null||Se.tag!==7?(Se=Ll(Oe,ke.mode,Ve,gt),Se.return=ke,Se):(Se=G(Se,Oe),Se.return=ke,Se)}function He(ke,Se,Oe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Uv(""+Se,ke.mode,Oe),Se.return=ke,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case s:return Oe=Gm(Se.type,Se.key,Se.props,null,ke.mode,Oe),wh(Oe,Se),Oe.return=ke,Oe;case c:return Se=Hv(Se,ke.mode,Oe),Se.return=ke,Se;case v:var Ve=Se._init;return Se=Ve(Se._payload),He(ke,Se,Oe)}if(Y(Se)||P(Se))return Se=Ll(Se,ke.mode,Oe,null),Se.return=ke,Se;if(typeof Se.then=="function")return He(ke,jm(Se),Oe);if(Se.$$typeof===d)return He(ke,Um(ke,Se),Oe);Cm(ke,Se)}return null}function Me(ke,Se,Oe,Ve){var gt=Se!==null?Se.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return gt!==null?null:ce(ke,Se,""+Oe,Ve);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case s:return Oe.key===gt?be(ke,Se,Oe,Ve):null;case c:return Oe.key===gt?Ee(ke,Se,Oe,Ve):null;case v:return gt=Oe._init,Oe=gt(Oe._payload),Me(ke,Se,Oe,Ve)}if(Y(Oe)||P(Oe))return gt!==null?null:Le(ke,Se,Oe,Ve,null);if(typeof Oe.then=="function")return Me(ke,Se,jm(Oe),Ve);if(Oe.$$typeof===d)return Me(ke,Se,Um(ke,Oe),Ve);Cm(ke,Oe)}return null}function De(ke,Se,Oe,Ve,gt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return ke=ke.get(Oe)||null,ce(Se,ke,""+Ve,gt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case s:return ke=ke.get(Ve.key===null?Oe:Ve.key)||null,be(Se,ke,Ve,gt);case c:return ke=ke.get(Ve.key===null?Oe:Ve.key)||null,Ee(Se,ke,Ve,gt);case v:var pr=Ve._init;return Ve=pr(Ve._payload),De(ke,Se,Oe,Ve,gt)}if(Y(Ve)||P(Ve))return ke=ke.get(Oe)||null,Le(Se,ke,Ve,gt,null);if(typeof Ve.then=="function")return De(ke,Se,Oe,jm(Ve),gt);if(Ve.$$typeof===d)return De(ke,Se,Oe,Um(Se,Ve),gt);Cm(Se,Ve)}return null}function Et(ke,Se,Oe,Ve){for(var gt=null,pr=null,Nt=Se,Vt=Se=0,qn=null;Nt!==null&&Vt<Oe.length;Vt++){Nt.index>Vt?(qn=Nt,Nt=null):qn=Nt.sibling;var kr=Me(ke,Nt,Oe[Vt],Ve);if(kr===null){Nt===null&&(Nt=qn);break}p&&Nt&&kr.alternate===null&&b(ke,Nt),Se=X(kr,Se,Vt),pr===null?gt=kr:pr.sibling=kr,pr=kr,Nt=qn}if(Vt===Oe.length)return S(ke,Nt),Tr&&kl(ke,Vt),gt;if(Nt===null){for(;Vt<Oe.length;Vt++)Nt=He(ke,Oe[Vt],Ve),Nt!==null&&(Se=X(Nt,Se,Vt),pr===null?gt=Nt:pr.sibling=Nt,pr=Nt);return Tr&&kl(ke,Vt),gt}for(Nt=M(Nt);Vt<Oe.length;Vt++)qn=De(Nt,ke,Vt,Oe[Vt],Ve),qn!==null&&(p&&qn.alternate!==null&&Nt.delete(qn.key===null?Vt:qn.key),Se=X(qn,Se,Vt),pr===null?gt=qn:pr.sibling=qn,pr=qn);return p&&Nt.forEach(function(jo){return b(ke,jo)}),Tr&&kl(ke,Vt),gt}function Qt(ke,Se,Oe,Ve){if(Oe==null)throw Error(n(151));for(var gt=null,pr=null,Nt=Se,Vt=Se=0,qn=null,kr=Oe.next();Nt!==null&&!kr.done;Vt++,kr=Oe.next()){Nt.index>Vt?(qn=Nt,Nt=null):qn=Nt.sibling;var jo=Me(ke,Nt,kr.value,Ve);if(jo===null){Nt===null&&(Nt=qn);break}p&&Nt&&jo.alternate===null&&b(ke,Nt),Se=X(jo,Se,Vt),pr===null?gt=jo:pr.sibling=jo,pr=jo,Nt=qn}if(kr.done)return S(ke,Nt),Tr&&kl(ke,Vt),gt;if(Nt===null){for(;!kr.done;Vt++,kr=Oe.next())kr=He(ke,kr.value,Ve),kr!==null&&(Se=X(kr,Se,Vt),pr===null?gt=kr:pr.sibling=kr,pr=kr);return Tr&&kl(ke,Vt),gt}for(Nt=M(Nt);!kr.done;Vt++,kr=Oe.next())kr=De(Nt,ke,Vt,kr.value,Ve),kr!==null&&(p&&kr.alternate!==null&&Nt.delete(kr.key===null?Vt:kr.key),Se=X(kr,Se,Vt),pr===null?gt=kr:pr.sibling=kr,pr=kr);return p&&Nt.forEach(function(v$){return b(ke,v$)}),Tr&&kl(ke,Vt),gt}function mn(ke,Se,Oe,Ve){if(typeof Oe=="object"&&Oe!==null&&Oe.type===l&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case s:e:{for(var gt=Oe.key;Se!==null;){if(Se.key===gt){if(gt=Oe.type,gt===l){if(Se.tag===7){S(ke,Se.sibling),Ve=G(Se,Oe.props.children),Ve.return=ke,ke=Ve;break e}}else if(Se.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===v&&qS(gt)===Se.type){S(ke,Se.sibling),Ve=G(Se,Oe.props),wh(Ve,Oe),Ve.return=ke,ke=Ve;break e}S(ke,Se);break}else b(ke,Se);Se=Se.sibling}Oe.type===l?(Ve=Ll(Oe.props.children,ke.mode,Ve,Oe.key),Ve.return=ke,ke=Ve):(Ve=Gm(Oe.type,Oe.key,Oe.props,null,ke.mode,Ve),wh(Ve,Oe),Ve.return=ke,ke=Ve)}return ie(ke);case c:e:{for(gt=Oe.key;Se!==null;){if(Se.key===gt)if(Se.tag===4&&Se.stateNode.containerInfo===Oe.containerInfo&&Se.stateNode.implementation===Oe.implementation){S(ke,Se.sibling),Ve=G(Se,Oe.children||[]),Ve.return=ke,ke=Ve;break e}else{S(ke,Se);break}else b(ke,Se);Se=Se.sibling}Ve=Hv(Oe,ke.mode,Ve),Ve.return=ke,ke=Ve}return ie(ke);case v:return gt=Oe._init,Oe=gt(Oe._payload),mn(ke,Se,Oe,Ve)}if(Y(Oe))return Et(ke,Se,Oe,Ve);if(P(Oe)){if(gt=P(Oe),typeof gt!="function")throw Error(n(150));return Oe=gt.call(Oe),Qt(ke,Se,Oe,Ve)}if(typeof Oe.then=="function")return mn(ke,Se,jm(Oe),Ve);if(Oe.$$typeof===d)return mn(ke,Se,Um(ke,Oe),Ve);Cm(ke,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,Se!==null&&Se.tag===6?(S(ke,Se.sibling),Ve=G(Se,Oe),Ve.return=ke,ke=Ve):(S(ke,Se),Ve=Uv(Oe,ke.mode,Ve),Ve.return=ke,ke=Ve),ie(ke)):S(ke,Se)}return function(ke,Se,Oe,Ve){try{xh=0;var gt=mn(ke,Se,Oe,Ve);return Jc=null,gt}catch(Nt){if(Nt===yh)throw Nt;var pr=la(29,Nt,null,ke.mode);return pr.lanes=Ve,pr.return=ke,pr}finally{}}}var Cl=US(!0),HS=US(!1),eu=K(null),Om=K(0);function KS(p,b){p=Is,Q(Om,p),Q(eu,b),Is=p|b.baseLanes}function Qy(){Q(Om,Is),Q(eu,eu.current)}function Zy(){Is=Om.current,V(eu),V(Om)}var aa=K(null),Qa=null;function co(p){var b=p.alternate;Q(Rn,Rn.current&1),Q(aa,p),Qa===null&&(b===null||eu.current!==null||b.memoizedState!==null)&&(Qa=p)}function GS(p){if(p.tag===22){if(Q(Rn,Rn.current),Q(aa,p),Qa===null){var b=p.alternate;b!==null&&b.memoizedState!==null&&(Qa=p)}}else uo()}function uo(){Q(Rn,Rn.current),Q(aa,aa.current)}function As(p){V(aa),Qa===p&&(Qa=null),V(Rn)}var Rn=K(0);function Nm(p){for(var b=p;b!==null;){if(b.tag===13){var S=b.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var sF=typeof AbortController<"u"?AbortController:function(){var p=[],b=this.signal={aborted:!1,addEventListener:function(S,M){p.push(M)}};this.abort=function(){b.aborted=!0,p.forEach(function(S){return S()})}},oF=r.unstable_scheduleCallback,lF=r.unstable_NormalPriority,In={$$typeof:d,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jy(){return{controller:new sF,data:new Map,refCount:0}}function _h(p){p.refCount--,p.refCount===0&&oF(lF,function(){p.controller.abort()})}var Sh=null,ev=0,tu=0,ru=null;function cF(p,b){if(Sh===null){var S=Sh=[];ev=0,tu=s1(),ru={status:"pending",value:void 0,then:function(M){S.push(M)}}}return ev++,b.then(WS,WS),b}function WS(){if(--ev===0&&Sh!==null){ru!==null&&(ru.status="fulfilled");var p=Sh;Sh=null,tu=0,ru=null;for(var b=0;b<p.length;b++)(0,p[b])()}}function uF(p,b){var S=[],M={status:"pending",value:null,reason:null,then:function(G){S.push(G)}};return p.then(function(){M.status="fulfilled",M.value=b;for(var G=0;G<S.length;G++)(0,S[G])(b)},function(G){for(M.status="rejected",M.reason=G,G=0;G<S.length;G++)(0,S[G])(void 0)}),M}var XS=B.S;B.S=function(p,b){typeof b=="object"&&b!==null&&typeof b.then=="function"&&cF(p,b),XS!==null&&XS(p,b)};var Ol=K(null);function tv(){var p=Ol.current;return p!==null?p:Xr.pooledCache}function Mm(p,b){b===null?Q(Ol,Ol.current):Q(Ol,b.pool)}function YS(){var p=tv();return p===null?null:{parent:In._currentValue,pool:p}}var fo=0,hr=null,Lr=null,En=null,Rm=!1,nu=!1,Nl=!1,Im=0,Ah=0,iu=null,fF=0;function wn(){throw Error(n(321))}function rv(p,b){if(b===null)return!1;for(var S=0;S<b.length&&S<p.length;S++)if(!Li(p[S],b[S]))return!1;return!0}function nv(p,b,S,M,G,X){return fo=X,hr=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,B.H=p===null||p.memoizedState===null?Ml:ho,Nl=!1,X=S(M,G),Nl=!1,nu&&(X=ZS(b,S,M,G)),QS(p),X}function QS(p){B.H=Za;var b=Lr!==null&&Lr.next!==null;if(fo=0,En=Lr=hr=null,Rm=!1,Ah=0,iu=null,b)throw Error(n(300));p===null||Vn||(p=p.dependencies,p!==null&&qm(p)&&(Vn=!0))}function ZS(p,b,S,M){hr=p;var G=0;do{if(nu&&(iu=null),Ah=0,nu=!1,25<=G)throw Error(n(301));if(G+=1,En=Lr=null,p.updateQueue!=null){var X=p.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}B.H=Rl,X=b(S,M)}while(nu);return X}function hF(){var p=B.H,b=p.useState()[0];return b=typeof b.then=="function"?Eh(b):b,p=p.useState()[0],(Lr!==null?Lr.memoizedState:null)!==p&&(hr.flags|=1024),b}function iv(){var p=Im!==0;return Im=0,p}function av(p,b,S){b.updateQueue=p.updateQueue,b.flags&=-2053,p.lanes&=~S}function sv(p){if(Rm){for(p=p.memoizedState;p!==null;){var b=p.queue;b!==null&&(b.pending=null),p=p.next}Rm=!1}fo=0,En=Lr=hr=null,nu=!1,Ah=Im=0,iu=null}function ki(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?hr.memoizedState=En=p:En=En.next=p,En}function Tn(){if(Lr===null){var p=hr.alternate;p=p!==null?p.memoizedState:null}else p=Lr.next;var b=En===null?hr.memoizedState:En.next;if(b!==null)En=b,Lr=p;else{if(p===null)throw hr.alternate===null?Error(n(467)):Error(n(310));Lr=p,p={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},En===null?hr.memoizedState=En=p:En=En.next=p}return En}var Pm;Pm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Eh(p){var b=Ah;return Ah+=1,iu===null&&(iu=[]),p=VS(iu,p,b),b=hr,(En===null?b.memoizedState:En.next)===null&&(b=b.alternate,B.H=b===null||b.memoizedState===null?Ml:ho),p}function Dm(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Eh(p);if(p.$$typeof===d)return ii(p)}throw Error(n(438,String(p)))}function ov(p){var b=null,S=hr.updateQueue;if(S!==null&&(b=S.memoCache),b==null){var M=hr.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(b={data:M.data.map(function(G){return G.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),S===null&&(S=Pm(),hr.updateQueue=S),S.memoCache=b,S=b.data[b.index],S===void 0)for(S=b.data[b.index]=Array(p),M=0;M<p;M++)S[M]=k;return b.index++,S}function Es(p,b){return typeof b=="function"?b(p):b}function Bm(p){var b=Tn();return lv(b,Lr,p)}function lv(p,b,S){var M=p.queue;if(M===null)throw Error(n(311));M.lastRenderedReducer=S;var G=p.baseQueue,X=M.pending;if(X!==null){if(G!==null){var ie=G.next;G.next=X.next,X.next=ie}b.baseQueue=G=X,M.pending=null}if(X=p.baseState,G===null)p.memoizedState=X;else{b=G.next;var ce=ie=null,be=null,Ee=b,Le=!1;do{var He=Ee.lane&-536870913;if(He!==Ee.lane?(Sr&He)===He:(fo&He)===He){var Me=Ee.revertLane;if(Me===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),He===tu&&(Le=!0);else if((fo&Me)===Me){Ee=Ee.next,Me===tu&&(Le=!0);continue}else He={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},be===null?(ce=be=He,ie=X):be=be.next=He,hr.lanes|=Me,_o|=Me;He=Ee.action,Nl&&S(X,He),X=Ee.hasEagerState?Ee.eagerState:S(X,He)}else Me={lane:He,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},be===null?(ce=be=Me,ie=X):be=be.next=Me,hr.lanes|=He,_o|=He;Ee=Ee.next}while(Ee!==null&&Ee!==b);if(be===null?ie=X:be.next=ce,!Li(X,p.memoizedState)&&(Vn=!0,Le&&(S=ru,S!==null)))throw S;p.memoizedState=X,p.baseState=ie,p.baseQueue=be,M.lastRenderedState=X}return G===null&&(M.lanes=0),[p.memoizedState,M.dispatch]}function cv(p){var b=Tn(),S=b.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=p;var M=S.dispatch,G=S.pending,X=b.memoizedState;if(G!==null){S.pending=null;var ie=G=G.next;do X=p(X,ie.action),ie=ie.next;while(ie!==G);Li(X,b.memoizedState)||(Vn=!0),b.memoizedState=X,b.baseQueue===null&&(b.baseState=X),S.lastRenderedState=X}return[X,M]}function JS(p,b,S){var M=hr,G=Tn(),X=Tr;if(X){if(S===void 0)throw Error(n(407));S=S()}else S=b();var ie=!Li((Lr||G).memoizedState,S);if(ie&&(G.memoizedState=S,Vn=!0),G=G.queue,hv(r8.bind(null,M,G,p),[p]),G.getSnapshot!==b||ie||En!==null&&En.memoizedState.tag&1){if(M.flags|=2048,au(9,t8.bind(null,M,G,S,b),{destroy:void 0},null),Xr===null)throw Error(n(349));X||(fo&60)!==0||e8(M,b,S)}return S}function e8(p,b,S){p.flags|=16384,p={getSnapshot:b,value:S},b=hr.updateQueue,b===null?(b=Pm(),hr.updateQueue=b,b.stores=[p]):(S=b.stores,S===null?b.stores=[p]:S.push(p))}function t8(p,b,S,M){b.value=S,b.getSnapshot=M,n8(b)&&i8(p)}function r8(p,b,S){return S(function(){n8(b)&&i8(p)})}function n8(p){var b=p.getSnapshot;p=p.value;try{var S=b();return!Li(p,S)}catch{return!0}}function i8(p){var b=lo(p,2);b!==null&&yi(b,p,2)}function uv(p){var b=ki();if(typeof p=="function"){var S=p;if(p=S(),Nl){st(!0);try{S()}finally{st(!1)}}}return b.memoizedState=b.baseState=p,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:p},b}function a8(p,b,S,M){return p.baseState=S,lv(p,Lr,typeof M=="function"?M:Es)}function dF(p,b,S,M,G){if($m(p))throw Error(n(485));if(p=b.action,p!==null){var X={payload:G,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){X.listeners.push(ie)}};B.T!==null?S(!0):X.isTransition=!1,M(X),S=b.pending,S===null?(X.next=b.pending=X,s8(b,X)):(X.next=S.next,b.pending=S.next=X)}}function s8(p,b){var S=b.action,M=b.payload,G=p.state;if(b.isTransition){var X=B.T,ie={};B.T=ie;try{var ce=S(G,M),be=B.S;be!==null&&be(ie,ce),o8(p,b,ce)}catch(Ee){fv(p,b,Ee)}finally{B.T=X}}else try{X=S(G,M),o8(p,b,X)}catch(Ee){fv(p,b,Ee)}}function o8(p,b,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(M){l8(p,b,M)},function(M){return fv(p,b,M)}):l8(p,b,S)}function l8(p,b,S){b.status="fulfilled",b.value=S,c8(b),p.state=S,b=p.pending,b!==null&&(S=b.next,S===b?p.pending=null:(S=S.next,b.next=S,s8(p,S)))}function fv(p,b,S){var M=p.pending;if(p.pending=null,M!==null){M=M.next;do b.status="rejected",b.reason=S,c8(b),b=b.next;while(b!==M)}p.action=null}function c8(p){p=p.listeners;for(var b=0;b<p.length;b++)(0,p[b])()}function u8(p,b){return b}function f8(p,b){if(Tr){var S=Xr.formState;if(S!==null){e:{var M=hr;if(Tr){if(Qn){t:{for(var G=Qn,X=Ya;G.nodeType!==8;){if(!X){G=null;break t}if(G=Ia(G.nextSibling),G===null){G=null;break t}}X=G.data,G=X==="F!"||X==="F"?G:null}if(G){Qn=Ia(G.nextSibling),M=G.data==="F!";break e}}jl(M)}M=!1}M&&(b=S[0])}}return S=ki(),S.memoizedState=S.baseState=b,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u8,lastRenderedState:b},S.queue=M,S=C8.bind(null,hr,M),M.dispatch=S,M=uv(!1),X=bv.bind(null,hr,!1,M.queue),M=ki(),G={state:b,dispatch:null,action:p,pending:null},M.queue=G,S=dF.bind(null,hr,G,X,S),G.dispatch=S,M.memoizedState=p,[b,S,!1]}function h8(p){var b=Tn();return d8(b,Lr,p)}function d8(p,b,S){b=lv(p,b,u8)[0],p=Bm(Es)[0],b=typeof b=="object"&&b!==null&&typeof b.then=="function"?Eh(b):b;var M=Tn(),G=M.queue,X=G.dispatch;return S!==M.memoizedState&&(hr.flags|=2048,au(9,pF.bind(null,G,S),{destroy:void 0},null)),[b,X,p]}function pF(p,b){p.action=b}function p8(p){var b=Tn(),S=Lr;if(S!==null)return d8(b,S,p);Tn(),b=b.memoizedState,S=Tn();var M=S.queue.dispatch;return S.memoizedState=p,[b,M,!1]}function au(p,b,S,M){return p={tag:p,create:b,inst:S,deps:M,next:null},b=hr.updateQueue,b===null&&(b=Pm(),hr.updateQueue=b),S=b.lastEffect,S===null?b.lastEffect=p.next=p:(M=S.next,S.next=p,p.next=M,b.lastEffect=p),p}function m8(){return Tn().memoizedState}function Lm(p,b,S,M){var G=ki();hr.flags|=p,G.memoizedState=au(1|b,S,{destroy:void 0},M===void 0?null:M)}function Fm(p,b,S,M){var G=Tn();M=M===void 0?null:M;var X=G.memoizedState.inst;Lr!==null&&M!==null&&rv(M,Lr.memoizedState.deps)?G.memoizedState=au(b,S,X,M):(hr.flags|=p,G.memoizedState=au(1|b,S,X,M))}function g8(p,b){Lm(8390656,8,p,b)}function hv(p,b){Fm(2048,8,p,b)}function b8(p,b){return Fm(4,2,p,b)}function y8(p,b){return Fm(4,4,p,b)}function v8(p,b){if(typeof b=="function"){p=p();var S=b(p);return function(){typeof S=="function"?S():b(null)}}if(b!=null)return p=p(),b.current=p,function(){b.current=null}}function x8(p,b,S){S=S!=null?S.concat([p]):null,Fm(4,4,v8.bind(null,b,p),S)}function dv(){}function w8(p,b){var S=Tn();b=b===void 0?null:b;var M=S.memoizedState;return b!==null&&rv(b,M[1])?M[0]:(S.memoizedState=[p,b],p)}function _8(p,b){var S=Tn();b=b===void 0?null:b;var M=S.memoizedState;if(b!==null&&rv(b,M[1]))return M[0];if(M=p(),Nl){st(!0);try{p()}finally{st(!1)}}return S.memoizedState=[M,b],M}function pv(p,b,S){return S===void 0||(fo&1073741824)!==0?p.memoizedState=b:(p.memoizedState=S,p=AA(),hr.lanes|=p,_o|=p,S)}function S8(p,b,S,M){return Li(S,b)?S:eu.current!==null?(p=pv(p,S,M),Li(p,b)||(Vn=!0),p):(fo&42)===0?(Vn=!0,p.memoizedState=S):(p=AA(),hr.lanes|=p,_o|=p,b)}function A8(p,b,S,M,G){var X=Z.p;Z.p=X!==0&&8>X?X:8;var ie=B.T,ce={};B.T=ce,bv(p,!1,b,S);try{var be=G(),Ee=B.S;if(Ee!==null&&Ee(ce,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var Le=uF(be,M);Th(p,b,Le,zi(p))}else Th(p,b,M,zi(p))}catch(He){Th(p,b,{then:function(){},status:"rejected",reason:He},zi())}finally{Z.p=X,B.T=ie}}function mF(){}function mv(p,b,S,M){if(p.tag!==5)throw Error(n(476));var G=E8(p).queue;A8(p,G,b,te,S===null?mF:function(){return T8(p),S(M)})}function E8(p){var b=p.memoizedState;if(b!==null)return b;b={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:te},next:null};var S={};return b.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:S},next:null},p.memoizedState=b,p=p.alternate,p!==null&&(p.memoizedState=b),b}function T8(p){var b=E8(p).next.queue;Th(p,b,{},zi())}function gv(){return ii(Kh)}function k8(){return Tn().memoizedState}function j8(){return Tn().memoizedState}function gF(p){for(var b=p.return;b!==null;){switch(b.tag){case 24:case 3:var S=zi();p=go(S);var M=bo(b,p,S);M!==null&&(yi(M,b,S),Ch(M,b,S)),b={cache:Jy()},p.payload=b;return}b=b.return}}function bF(p,b,S){var M=zi();S={lane:M,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},$m(p)?O8(b,S):(S=Ky(p,b,S,M),S!==null&&(yi(S,p,M),N8(S,b,M)))}function C8(p,b,S){var M=zi();Th(p,b,S,M)}function Th(p,b,S,M){var G={lane:M,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if($m(p))O8(b,G);else{var X=p.alternate;if(p.lanes===0&&(X===null||X.lanes===0)&&(X=b.lastRenderedReducer,X!==null))try{var ie=b.lastRenderedState,ce=X(ie,S);if(G.hasEagerState=!0,G.eagerState=ce,Li(ce,ie))return Sm(p,b,G,0),Xr===null&&_m(),!1}catch{}finally{}if(S=Ky(p,b,G,M),S!==null)return yi(S,p,M),N8(S,b,M),!0}return!1}function bv(p,b,S,M){if(M={lane:2,revertLane:s1(),action:M,hasEagerState:!1,eagerState:null,next:null},$m(p)){if(b)throw Error(n(479))}else b=Ky(p,S,M,2),b!==null&&yi(b,p,2)}function $m(p){var b=p.alternate;return p===hr||b!==null&&b===hr}function O8(p,b){nu=Rm=!0;var S=p.pending;S===null?b.next=b:(b.next=S.next,S.next=b),p.pending=b}function N8(p,b,S){if((S&4194176)!==0){var M=b.lanes;M&=p.pendingLanes,S|=M,b.lanes=S,we(p,S)}}var Za={readContext:ii,use:Dm,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn};Za.useCacheRefresh=wn,Za.useMemoCache=wn,Za.useHostTransitionStatus=wn,Za.useFormState=wn,Za.useActionState=wn,Za.useOptimistic=wn;var Ml={readContext:ii,use:Dm,useCallback:function(p,b){return ki().memoizedState=[p,b===void 0?null:b],p},useContext:ii,useEffect:g8,useImperativeHandle:function(p,b,S){S=S!=null?S.concat([p]):null,Lm(4194308,4,v8.bind(null,b,p),S)},useLayoutEffect:function(p,b){return Lm(4194308,4,p,b)},useInsertionEffect:function(p,b){Lm(4,2,p,b)},useMemo:function(p,b){var S=ki();b=b===void 0?null:b;var M=p();if(Nl){st(!0);try{p()}finally{st(!1)}}return S.memoizedState=[M,b],M},useReducer:function(p,b,S){var M=ki();if(S!==void 0){var G=S(b);if(Nl){st(!0);try{S(b)}finally{st(!1)}}}else G=b;return M.memoizedState=M.baseState=G,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:G},M.queue=p,p=p.dispatch=bF.bind(null,hr,p),[M.memoizedState,p]},useRef:function(p){var b=ki();return p={current:p},b.memoizedState=p},useState:function(p){p=uv(p);var b=p.queue,S=C8.bind(null,hr,b);return b.dispatch=S,[p.memoizedState,S]},useDebugValue:dv,useDeferredValue:function(p,b){var S=ki();return pv(S,p,b)},useTransition:function(){var p=uv(!1);return p=A8.bind(null,hr,p.queue,!0,!1),ki().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,b,S){var M=hr,G=ki();if(Tr){if(S===void 0)throw Error(n(407));S=S()}else{if(S=b(),Xr===null)throw Error(n(349));(Sr&60)!==0||e8(M,b,S)}G.memoizedState=S;var X={value:S,getSnapshot:b};return G.queue=X,g8(r8.bind(null,M,X,p),[p]),M.flags|=2048,au(9,t8.bind(null,M,X,S,b),{destroy:void 0},null),S},useId:function(){var p=ki(),b=Xr.identifierPrefix;if(Tr){var S=Ss,M=_s;S=(M&~(1<<32-rt(M)-1)).toString(32)+S,b=":"+b+"R"+S,S=Im++,0<S&&(b+="H"+S.toString(32)),b+=":"}else S=fF++,b=":"+b+"r"+S.toString(32)+":";return p.memoizedState=b},useCacheRefresh:function(){return ki().memoizedState=gF.bind(null,hr)}};Ml.useMemoCache=ov,Ml.useHostTransitionStatus=gv,Ml.useFormState=f8,Ml.useActionState=f8,Ml.useOptimistic=function(p){var b=ki();b.memoizedState=b.baseState=p;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=S,b=bv.bind(null,hr,!0,S),S.dispatch=b,[p,b]};var ho={readContext:ii,use:Dm,useCallback:w8,useContext:ii,useEffect:hv,useImperativeHandle:x8,useInsertionEffect:b8,useLayoutEffect:y8,useMemo:_8,useReducer:Bm,useRef:m8,useState:function(){return Bm(Es)},useDebugValue:dv,useDeferredValue:function(p,b){var S=Tn();return S8(S,Lr.memoizedState,p,b)},useTransition:function(){var p=Bm(Es)[0],b=Tn().memoizedState;return[typeof p=="boolean"?p:Eh(p),b]},useSyncExternalStore:JS,useId:k8};ho.useCacheRefresh=j8,ho.useMemoCache=ov,ho.useHostTransitionStatus=gv,ho.useFormState=h8,ho.useActionState=h8,ho.useOptimistic=function(p,b){var S=Tn();return a8(S,Lr,p,b)};var Rl={readContext:ii,use:Dm,useCallback:w8,useContext:ii,useEffect:hv,useImperativeHandle:x8,useInsertionEffect:b8,useLayoutEffect:y8,useMemo:_8,useReducer:cv,useRef:m8,useState:function(){return cv(Es)},useDebugValue:dv,useDeferredValue:function(p,b){var S=Tn();return Lr===null?pv(S,p,b):S8(S,Lr.memoizedState,p,b)},useTransition:function(){var p=cv(Es)[0],b=Tn().memoizedState;return[typeof p=="boolean"?p:Eh(p),b]},useSyncExternalStore:JS,useId:k8};Rl.useCacheRefresh=j8,Rl.useMemoCache=ov,Rl.useHostTransitionStatus=gv,Rl.useFormState=p8,Rl.useActionState=p8,Rl.useOptimistic=function(p,b){var S=Tn();return Lr!==null?a8(S,Lr,p,b):(S.baseState=p,[p,S.queue.dispatch])};function yv(p,b,S,M){b=p.memoizedState,S=S(M,b),S=S==null?b:L({},b,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var vv={isMounted:function(p){return(p=p._reactInternals)?A(p)===p:!1},enqueueSetState:function(p,b,S){p=p._reactInternals;var M=zi(),G=go(M);G.payload=b,S!=null&&(G.callback=S),b=bo(p,G,M),b!==null&&(yi(b,p,M),Ch(b,p,M))},enqueueReplaceState:function(p,b,S){p=p._reactInternals;var M=zi(),G=go(M);G.tag=1,G.payload=b,S!=null&&(G.callback=S),b=bo(p,G,M),b!==null&&(yi(b,p,M),Ch(b,p,M))},enqueueForceUpdate:function(p,b){p=p._reactInternals;var S=zi(),M=go(S);M.tag=2,b!=null&&(M.callback=b),b=bo(p,M,S),b!==null&&(yi(b,p,S),Ch(b,p,S))}};function M8(p,b,S,M,G,X,ie){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(M,X,ie):b.prototype&&b.prototype.isPureReactComponent?!dh(S,M)||!dh(G,X):!0}function R8(p,b,S,M){p=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(S,M),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(S,M),b.state!==p&&vv.enqueueReplaceState(b,b.state,null)}function Il(p,b){var S=b;if("ref"in b){S={};for(var M in b)M!=="ref"&&(S[M]=b[M])}if(p=p.defaultProps){S===b&&(S=L({},S));for(var G in p)S[G]===void 0&&(S[G]=p[G])}return S}var Vm=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)};function I8(p){Vm(p)}function P8(p){console.error(p)}function D8(p){Vm(p)}function zm(p,b){try{var S=p.onUncaughtError;S(b.value,{componentStack:b.stack})}catch(M){setTimeout(function(){throw M})}}function B8(p,b,S){try{var M=p.onCaughtError;M(S.value,{componentStack:S.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function xv(p,b,S){return S=go(S),S.tag=3,S.payload={element:null},S.callback=function(){zm(p,b)},S}function L8(p){return p=go(p),p.tag=3,p}function F8(p,b,S,M){var G=S.type.getDerivedStateFromError;if(typeof G=="function"){var X=M.value;p.payload=function(){return G(X)},p.callback=function(){B8(b,S,M)}}var ie=S.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(p.callback=function(){B8(b,S,M),typeof G!="function"&&(So===null?So=new Set([this]):So.add(this));var ce=M.stack;this.componentDidCatch(M.value,{componentStack:ce!==null?ce:""})})}function yF(p,b,S,M,G){if(S.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(b=S.alternate,b!==null&&jh(b,S,G,!0),S=aa.current,S!==null){switch(S.tag){case 13:return Qa===null?t1():S.alternate===null&&pn===0&&(pn=3),S.flags&=-257,S.flags|=65536,S.lanes=G,M===Yy?S.flags|=16384:(b=S.updateQueue,b===null?S.updateQueue=new Set([M]):b.add(M),n1(p,M,G)),!1;case 22:return S.flags|=65536,M===Yy?S.flags|=16384:(b=S.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([M])},S.updateQueue=b):(S=b.retryQueue,S===null?b.retryQueue=new Set([M]):S.add(M)),n1(p,M,G)),!1}throw Error(n(435,S.tag))}return n1(p,M,G),t1(),!1}if(Tr)return b=aa.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=G,M!==Xy&&(p=Error(n(422),{cause:M}),bh(ra(p,S)))):(M!==Xy&&(b=Error(n(423),{cause:M}),bh(ra(b,S))),p=p.current.alternate,p.flags|=65536,G&=-G,p.lanes|=G,M=ra(M,S),G=xv(p.stateNode,M,G),Pv(p,G),pn!==4&&(pn=2)),!1;var X=Error(n(520),{cause:M});if(X=ra(X,S),Bh===null?Bh=[X]:Bh.push(X),pn!==4&&(pn=2),b===null)return!0;M=ra(M,S),S=b;do{switch(S.tag){case 3:return S.flags|=65536,p=G&-G,S.lanes|=p,p=xv(S.stateNode,M,p),Pv(S,p),!1;case 1:if(b=S.type,X=S.stateNode,(S.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(So===null||!So.has(X))))return S.flags|=65536,G&=-G,S.lanes|=G,G=L8(G),F8(G,p,S,M),Pv(S,G),!1}S=S.return}while(S!==null);return!1}var $8=Error(n(461)),Vn=!1;function Zn(p,b,S,M){b.child=p===null?HS(b,null,S,M):Cl(b,p.child,S,M)}function V8(p,b,S,M,G){S=S.render;var X=b.ref;if("ref"in M){var ie={};for(var ce in M)ce!=="ref"&&(ie[ce]=M[ce])}else ie=M;return Dl(b),M=nv(p,b,S,ie,X,G),ce=iv(),p!==null&&!Vn?(av(p,b,G),Ts(p,b,G)):(Tr&&ce&&Gy(b),b.flags|=1,Zn(p,b,M,G),b.child)}function z8(p,b,S,M,G){if(p===null){var X=S.type;return typeof X=="function"&&!qv(X)&&X.defaultProps===void 0&&S.compare===null?(b.tag=15,b.type=X,q8(p,b,X,M,G)):(p=Gm(S.type,null,M,b,b.mode,G),p.ref=b.ref,p.return=b,b.child=p)}if(X=p.child,!Cv(p,G)){var ie=X.memoizedProps;if(S=S.compare,S=S!==null?S:dh,S(ie,M)&&p.ref===b.ref)return Ts(p,b,G)}return b.flags|=1,p=wo(X,M),p.ref=b.ref,p.return=b,b.child=p}function q8(p,b,S,M,G){if(p!==null){var X=p.memoizedProps;if(dh(X,M)&&p.ref===b.ref)if(Vn=!1,b.pendingProps=M=X,Cv(p,G))(p.flags&131072)!==0&&(Vn=!0);else return b.lanes=p.lanes,Ts(p,b,G)}return wv(p,b,S,M,G)}function U8(p,b,S){var M=b.pendingProps,G=M.children,X=(b.stateNode._pendingVisibility&2)!==0,ie=p!==null?p.memoizedState:null;if(kh(p,b),M.mode==="hidden"||X){if((b.flags&128)!==0){if(M=ie!==null?ie.baseLanes|S:S,p!==null){for(G=b.child=p.child,X=0;G!==null;)X=X|G.lanes|G.childLanes,G=G.sibling;b.childLanes=X&~M}else b.childLanes=0,b.child=null;return H8(p,b,M,S)}if((S&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},p!==null&&Mm(b,ie!==null?ie.cachePool:null),ie!==null?KS(b,ie):Qy(),GS(b);else return b.lanes=b.childLanes=536870912,H8(p,b,ie!==null?ie.baseLanes|S:S,S)}else ie!==null?(Mm(b,ie.cachePool),KS(b,ie),uo(),b.memoizedState=null):(p!==null&&Mm(b,null),Qy(),uo());return Zn(p,b,G,S),b.child}function H8(p,b,S,M){var G=tv();return G=G===null?null:{parent:In._currentValue,pool:G},b.memoizedState={baseLanes:S,cachePool:G},p!==null&&Mm(b,null),Qy(),GS(b),p!==null&&jh(p,b,M,!0),null}function kh(p,b){var S=b.ref;if(S===null)p!==null&&p.ref!==null&&(b.flags|=2097664);else{if(typeof S!="function"&&typeof S!="object")throw Error(n(284));(p===null||p.ref!==S)&&(b.flags|=2097664)}}function wv(p,b,S,M,G){return Dl(b),S=nv(p,b,S,M,void 0,G),M=iv(),p!==null&&!Vn?(av(p,b,G),Ts(p,b,G)):(Tr&&M&&Gy(b),b.flags|=1,Zn(p,b,S,G),b.child)}function K8(p,b,S,M,G,X){return Dl(b),b.updateQueue=null,S=ZS(b,M,S,G),QS(p),M=iv(),p!==null&&!Vn?(av(p,b,X),Ts(p,b,X)):(Tr&&M&&Gy(b),b.flags|=1,Zn(p,b,S,X),b.child)}function G8(p,b,S,M,G){if(Dl(b),b.stateNode===null){var X=Yc,ie=S.contextType;typeof ie=="object"&&ie!==null&&(X=ii(ie)),X=new S(M,X),b.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=vv,b.stateNode=X,X._reactInternals=b,X=b.stateNode,X.props=M,X.state=b.memoizedState,X.refs={},Rv(b),ie=S.contextType,X.context=typeof ie=="object"&&ie!==null?ii(ie):Yc,X.state=b.memoizedState,ie=S.getDerivedStateFromProps,typeof ie=="function"&&(yv(b,S,ie,M),X.state=b.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(ie=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),ie!==X.state&&vv.enqueueReplaceState(X,X.state,null),Nh(b,M,X,G),Oh(),X.state=b.memoizedState),typeof X.componentDidMount=="function"&&(b.flags|=4194308),M=!0}else if(p===null){X=b.stateNode;var ce=b.memoizedProps,be=Il(S,ce);X.props=be;var Ee=X.context,Le=S.contextType;ie=Yc,typeof Le=="object"&&Le!==null&&(ie=ii(Le));var He=S.getDerivedStateFromProps;Le=typeof He=="function"||typeof X.getSnapshotBeforeUpdate=="function",ce=b.pendingProps!==ce,Le||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ce||Ee!==ie)&&R8(b,X,M,ie),mo=!1;var Me=b.memoizedState;X.state=Me,Nh(b,M,X,G),Oh(),Ee=b.memoizedState,ce||Me!==Ee||mo?(typeof He=="function"&&(yv(b,S,He,M),Ee=b.memoizedState),(be=mo||M8(b,S,be,M,Me,Ee,ie))?(Le||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(b.flags|=4194308)):(typeof X.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=M,b.memoizedState=Ee),X.props=M,X.state=Ee,X.context=ie,M=be):(typeof X.componentDidMount=="function"&&(b.flags|=4194308),M=!1)}else{X=b.stateNode,Iv(p,b),ie=b.memoizedProps,Le=Il(S,ie),X.props=Le,He=b.pendingProps,Me=X.context,Ee=S.contextType,be=Yc,typeof Ee=="object"&&Ee!==null&&(be=ii(Ee)),ce=S.getDerivedStateFromProps,(Ee=typeof ce=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ie!==He||Me!==be)&&R8(b,X,M,be),mo=!1,Me=b.memoizedState,X.state=Me,Nh(b,M,X,G),Oh();var De=b.memoizedState;ie!==He||Me!==De||mo||p!==null&&p.dependencies!==null&&qm(p.dependencies)?(typeof ce=="function"&&(yv(b,S,ce,M),De=b.memoizedState),(Le=mo||M8(b,S,Le,M,Me,De,be)||p!==null&&p.dependencies!==null&&qm(p.dependencies))?(Ee||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(M,De,be),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(M,De,be)),typeof X.componentDidUpdate=="function"&&(b.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof X.componentDidUpdate!="function"||ie===p.memoizedProps&&Me===p.memoizedState||(b.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===p.memoizedProps&&Me===p.memoizedState||(b.flags|=1024),b.memoizedProps=M,b.memoizedState=De),X.props=M,X.state=De,X.context=be,M=Le):(typeof X.componentDidUpdate!="function"||ie===p.memoizedProps&&Me===p.memoizedState||(b.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ie===p.memoizedProps&&Me===p.memoizedState||(b.flags|=1024),M=!1)}return X=M,kh(p,b),M=(b.flags&128)!==0,X||M?(X=b.stateNode,S=M&&typeof S.getDerivedStateFromError!="function"?null:X.render(),b.flags|=1,p!==null&&M?(b.child=Cl(b,p.child,null,G),b.child=Cl(b,null,S,G)):Zn(p,b,S,G),b.memoizedState=X.state,p=b.child):p=Ts(p,b,G),p}function W8(p,b,S,M){return gh(),b.flags|=256,Zn(p,b,S,M),b.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function Sv(p){return{baseLanes:p,cachePool:YS()}}function Av(p,b,S){return p=p!==null?p.childLanes&~S:0,b&&(p|=ca),p}function X8(p,b,S){var M=b.pendingProps,G=!1,X=(b.flags&128)!==0,ie;if((ie=X)||(ie=p!==null&&p.memoizedState===null?!1:(Rn.current&2)!==0),ie&&(G=!0,b.flags&=-129),ie=(b.flags&32)!==0,b.flags&=-33,p===null){if(Tr){if(G?co(b):uo(),Tr){var ce=Qn,be;if(be=ce){e:{for(be=ce,ce=Ya;be.nodeType!==8;){if(!ce){ce=null;break e}if(be=Ia(be.nextSibling),be===null){ce=null;break e}}ce=be}ce!==null?(b.memoizedState={dehydrated:ce,treeContext:Tl!==null?{id:_s,overflow:Ss}:null,retryLane:536870912},be=la(18,null,null,0),be.stateNode=ce,be.return=b,b.child=be,bi=b,Qn=null,be=!0):be=!1}be||jl(b)}if(ce=b.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return ce.data==="$!"?b.lanes=16:b.lanes=536870912,null;As(b)}return ce=M.children,M=M.fallback,G?(uo(),G=b.mode,ce=Tv({mode:"hidden",children:ce},G),M=Ll(M,G,S,null),ce.return=b,M.return=b,ce.sibling=M,b.child=ce,G=b.child,G.memoizedState=Sv(S),G.childLanes=Av(p,ie,S),b.memoizedState=_v,M):(co(b),Ev(b,ce))}if(be=p.memoizedState,be!==null&&(ce=be.dehydrated,ce!==null)){if(X)b.flags&256?(co(b),b.flags&=-257,b=kv(p,b,S)):b.memoizedState!==null?(uo(),b.child=p.child,b.flags|=128,b=null):(uo(),G=M.fallback,ce=b.mode,M=Tv({mode:"visible",children:M.children},ce),G=Ll(G,ce,S,null),G.flags|=2,M.return=b,G.return=b,M.sibling=G,b.child=M,Cl(b,p.child,null,S),M=b.child,M.memoizedState=Sv(S),M.childLanes=Av(p,ie,S),b.memoizedState=_v,b=G);else if(co(b),ce.data==="$!"){if(ie=ce.nextSibling&&ce.nextSibling.dataset,ie)var Ee=ie.dgst;ie=Ee,M=Error(n(419)),M.stack="",M.digest=ie,bh({value:M,source:null,stack:null}),b=kv(p,b,S)}else if(Vn||jh(p,b,S,!1),ie=(S&p.childLanes)!==0,Vn||ie){if(ie=Xr,ie!==null){if(M=S&-S,(M&42)!==0)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=(M&(ie.suspendedLanes|S))!==0?0:M,M!==0&&M!==be.retryLane)throw be.retryLane=M,lo(p,M),yi(ie,p,M),$8}ce.data==="$?"||t1(),b=kv(p,b,S)}else ce.data==="$?"?(b.flags|=128,b.child=p.child,b=RF.bind(null,p),ce._reactRetry=b,b=null):(p=be.treeContext,Qn=Ia(ce.nextSibling),bi=b,Tr=!0,Ma=null,Ya=!1,p!==null&&(na[ia++]=_s,na[ia++]=Ss,na[ia++]=Tl,_s=p.id,Ss=p.overflow,Tl=b),b=Ev(b,M.children),b.flags|=4096);return b}return G?(uo(),G=M.fallback,ce=b.mode,be=p.child,Ee=be.sibling,M=wo(be,{mode:"hidden",children:M.children}),M.subtreeFlags=be.subtreeFlags&31457280,Ee!==null?G=wo(Ee,G):(G=Ll(G,ce,S,null),G.flags|=2),G.return=b,M.return=b,M.sibling=G,b.child=M,M=G,G=b.child,ce=p.child.memoizedState,ce===null?ce=Sv(S):(be=ce.cachePool,be!==null?(Ee=In._currentValue,be=be.parent!==Ee?{parent:Ee,pool:Ee}:be):be=YS(),ce={baseLanes:ce.baseLanes|S,cachePool:be}),G.memoizedState=ce,G.childLanes=Av(p,ie,S),b.memoizedState=_v,M):(co(b),S=p.child,p=S.sibling,S=wo(S,{mode:"visible",children:M.children}),S.return=b,S.sibling=null,p!==null&&(ie=b.deletions,ie===null?(b.deletions=[p],b.flags|=16):ie.push(p)),b.child=S,b.memoizedState=null,S)}function Ev(p,b){return b=Tv({mode:"visible",children:b},p.mode),b.return=p,p.child=b}function Tv(p,b){return wA(p,b,0,null)}function kv(p,b,S){return Cl(b,p.child,null,S),p=Ev(b,b.pendingProps.children),p.flags|=2,b.memoizedState=null,p}function Y8(p,b,S){p.lanes|=b;var M=p.alternate;M!==null&&(M.lanes|=b),Nv(p.return,b,S)}function jv(p,b,S,M,G){var X=p.memoizedState;X===null?p.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:M,tail:S,tailMode:G}:(X.isBackwards=b,X.rendering=null,X.renderingStartTime=0,X.last=M,X.tail=S,X.tailMode=G)}function Q8(p,b,S){var M=b.pendingProps,G=M.revealOrder,X=M.tail;if(Zn(p,b,M.children,S),M=Rn.current,(M&2)!==0)M=M&1|2,b.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=b.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Y8(p,S,b);else if(p.tag===19)Y8(p,S,b);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===b)break e;for(;p.sibling===null;){if(p.return===null||p.return===b)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}M&=1}switch(Q(Rn,M),G){case"forwards":for(S=b.child,G=null;S!==null;)p=S.alternate,p!==null&&Nm(p)===null&&(G=S),S=S.sibling;S=G,S===null?(G=b.child,b.child=null):(G=S.sibling,S.sibling=null),jv(b,!1,G,S,X);break;case"backwards":for(S=null,G=b.child,b.child=null;G!==null;){if(p=G.alternate,p!==null&&Nm(p)===null){b.child=G;break}p=G.sibling,G.sibling=S,S=G,G=p}jv(b,!0,S,null,X);break;case"together":jv(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function Ts(p,b,S){if(p!==null&&(b.dependencies=p.dependencies),_o|=b.lanes,(S&b.childLanes)===0)if(p!==null){if(jh(p,b,S,!1),(S&b.childLanes)===0)return null}else return null;if(p!==null&&b.child!==p.child)throw Error(n(153));if(b.child!==null){for(p=b.child,S=wo(p,p.pendingProps),b.child=S,S.return=b;p.sibling!==null;)p=p.sibling,S=S.sibling=wo(p,p.pendingProps),S.return=b;S.sibling=null}return b.child}function Cv(p,b){return(p.lanes&b)!==0?!0:(p=p.dependencies,!!(p!==null&&qm(p)))}function vF(p,b,S){switch(b.tag){case 3:me(b,b.stateNode.containerInfo),po(b,In,p.memoizedState.cache),gh();break;case 27:case 5:se(b);break;case 4:me(b,b.stateNode.containerInfo);break;case 10:po(b,b.type,b.memoizedProps.value);break;case 13:var M=b.memoizedState;if(M!==null)return M.dehydrated!==null?(co(b),b.flags|=128,null):(S&b.child.childLanes)!==0?X8(p,b,S):(co(b),p=Ts(p,b,S),p!==null?p.sibling:null);co(b);break;case 19:var G=(p.flags&128)!==0;if(M=(S&b.childLanes)!==0,M||(jh(p,b,S,!1),M=(S&b.childLanes)!==0),G){if(M)return Q8(p,b,S);b.flags|=128}if(G=b.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),Q(Rn,Rn.current),M)break;return null;case 22:case 23:return b.lanes=0,U8(p,b,S);case 24:po(b,In,p.memoizedState.cache)}return Ts(p,b,S)}function Z8(p,b,S){if(p!==null)if(p.memoizedProps!==b.pendingProps)Vn=!0;else{if(!Cv(p,S)&&(b.flags&128)===0)return Vn=!1,vF(p,b,S);Vn=(p.flags&131072)!==0}else Vn=!1,Tr&&(b.flags&1048576)!==0&&DS(b,Tm,b.index);switch(b.lanes=0,b.tag){case 16:e:{p=b.pendingProps;var M=b.elementType,G=M._init;if(M=G(M._payload),b.type=M,typeof M=="function")qv(M)?(p=Il(M,p),b.tag=1,b=G8(null,b,M,p,S)):(b.tag=0,b=wv(null,b,M,p,S));else{if(M!=null){if(G=M.$$typeof,G===g){b.tag=11,b=V8(null,b,M,p,S);break e}else if(G===x){b.tag=14,b=z8(null,b,M,p,S);break e}}throw b=I(M)||M,Error(n(306,b,""))}}return b;case 0:return wv(p,b,b.type,b.pendingProps,S);case 1:return M=b.type,G=Il(M,b.pendingProps),G8(p,b,M,G,S);case 3:e:{if(me(b,b.stateNode.containerInfo),p===null)throw Error(n(387));var X=b.pendingProps;G=b.memoizedState,M=G.element,Iv(p,b),Nh(b,X,null,S);var ie=b.memoizedState;if(X=ie.cache,po(b,In,X),X!==G.cache&&Mv(b,[In],S,!0),Oh(),X=ie.element,G.isDehydrated)if(G={element:X,isDehydrated:!1,cache:ie.cache},b.updateQueue.baseState=G,b.memoizedState=G,b.flags&256){b=W8(p,b,X,S);break e}else if(X!==M){M=ra(Error(n(424)),b),bh(M),b=W8(p,b,X,S);break e}else for(Qn=Ia(b.stateNode.containerInfo.firstChild),bi=b,Tr=!0,Ma=null,Ya=!0,S=HS(b,null,X,S),b.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(gh(),X===M){b=Ts(p,b,S);break e}Zn(p,b,X,S)}b=b.child}return b;case 26:return kh(p,b),p===null?(S=tE(b.type,null,b.pendingProps,null))?b.memoizedState=S:Tr||(S=b.type,p=b.pendingProps,M=a0(ne.current).createElement(S),M[Ge]=b,M[ft]=p,Jn(M,S,p),Ae(M),b.stateNode=M):b.memoizedState=tE(b.type,p.memoizedProps,b.pendingProps,p.memoizedState),null;case 27:return se(b),p===null&&Tr&&(M=b.stateNode=ZA(b.type,b.pendingProps,ne.current),bi=b,Ya=!0,Qn=Ia(M.firstChild)),M=b.pendingProps.children,p!==null||Tr?Zn(p,b,M,S):b.child=Cl(b,null,M,S),kh(p,b),b.child;case 5:return p===null&&Tr&&((G=M=Qn)&&(M=XF(M,b.type,b.pendingProps,Ya),M!==null?(b.stateNode=M,bi=b,Qn=Ia(M.firstChild),Ya=!1,G=!0):G=!1),G||jl(b)),se(b),G=b.type,X=b.pendingProps,ie=p!==null?p.memoizedProps:null,M=X.children,m1(G,X)?M=null:ie!==null&&m1(G,ie)&&(b.flags|=32),b.memoizedState!==null&&(G=nv(p,b,hF,null,null,S),Kh._currentValue=G),kh(p,b),Zn(p,b,M,S),b.child;case 6:return p===null&&Tr&&((p=S=Qn)&&(S=YF(S,b.pendingProps,Ya),S!==null?(b.stateNode=S,bi=b,Qn=null,p=!0):p=!1),p||jl(b)),null;case 13:return X8(p,b,S);case 4:return me(b,b.stateNode.containerInfo),M=b.pendingProps,p===null?b.child=Cl(b,null,M,S):Zn(p,b,M,S),b.child;case 11:return V8(p,b,b.type,b.pendingProps,S);case 7:return Zn(p,b,b.pendingProps,S),b.child;case 8:return Zn(p,b,b.pendingProps.children,S),b.child;case 12:return Zn(p,b,b.pendingProps.children,S),b.child;case 10:return M=b.pendingProps,po(b,b.type,M.value),Zn(p,b,M.children,S),b.child;case 9:return G=b.type._context,M=b.pendingProps.children,Dl(b),G=ii(G),M=M(G),b.flags|=1,Zn(p,b,M,S),b.child;case 14:return z8(p,b,b.type,b.pendingProps,S);case 15:return q8(p,b,b.type,b.pendingProps,S);case 19:return Q8(p,b,S);case 22:return U8(p,b,S);case 24:return Dl(b),M=ii(In),p===null?(G=tv(),G===null&&(G=Xr,X=Jy(),G.pooledCache=X,X.refCount++,X!==null&&(G.pooledCacheLanes|=S),G=X),b.memoizedState={parent:M,cache:G},Rv(b),po(b,In,G)):((p.lanes&S)!==0&&(Iv(p,b),Nh(b,null,null,S),Oh()),G=p.memoizedState,X=b.memoizedState,G.parent!==M?(G={parent:M,cache:M},b.memoizedState=G,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=G),po(b,In,M)):(M=X.cache,po(b,In,M),M!==G.cache&&Mv(b,[In],S,!0))),Zn(p,b,b.pendingProps.children,S),b.child;case 29:throw b.pendingProps}throw Error(n(156,b.tag))}var Ov=K(null),Pl=null,ks=null;function po(p,b,S){Q(Ov,b._currentValue),b._currentValue=S}function js(p){p._currentValue=Ov.current,V(Ov)}function Nv(p,b,S){for(;p!==null;){var M=p.alternate;if((p.childLanes&b)!==b?(p.childLanes|=b,M!==null&&(M.childLanes|=b)):M!==null&&(M.childLanes&b)!==b&&(M.childLanes|=b),p===S)break;p=p.return}}function Mv(p,b,S,M){var G=p.child;for(G!==null&&(G.return=p);G!==null;){var X=G.dependencies;if(X!==null){var ie=G.child;X=X.firstContext;e:for(;X!==null;){var ce=X;X=G;for(var be=0;be<b.length;be++)if(ce.context===b[be]){X.lanes|=S,ce=X.alternate,ce!==null&&(ce.lanes|=S),Nv(X.return,S,p),M||(ie=null);break e}X=ce.next}}else if(G.tag===18){if(ie=G.return,ie===null)throw Error(n(341));ie.lanes|=S,X=ie.alternate,X!==null&&(X.lanes|=S),Nv(ie,S,p),ie=null}else ie=G.child;if(ie!==null)ie.return=G;else for(ie=G;ie!==null;){if(ie===p){ie=null;break}if(G=ie.sibling,G!==null){G.return=ie.return,ie=G;break}ie=ie.return}G=ie}}function jh(p,b,S,M){p=null;for(var G=b,X=!1;G!==null;){if(!X){if((G.flags&524288)!==0)X=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var ie=G.alternate;if(ie===null)throw Error(n(387));if(ie=ie.memoizedProps,ie!==null){var ce=G.type;Li(G.pendingProps.value,ie.value)||(p!==null?p.push(ce):p=[ce])}}else if(G===le.current){if(ie=G.alternate,ie===null)throw Error(n(387));ie.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(p!==null?p.push(Kh):p=[Kh])}G=G.return}p!==null&&Mv(b,p,S,M),b.flags|=262144}function qm(p){for(p=p.firstContext;p!==null;){if(!Li(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function Dl(p){Pl=p,ks=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function ii(p){return J8(Pl,p)}function Um(p,b){return Pl===null&&Dl(p),J8(p,b)}function J8(p,b){var S=b._currentValue;if(b={context:b,memoizedValue:S,next:null},ks===null){if(p===null)throw Error(n(308));ks=b,p.dependencies={lanes:0,firstContext:b},p.flags|=524288}else ks=ks.next=b;return S}var mo=!1;function Rv(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iv(p,b){p=p.updateQueue,b.updateQueue===p&&(b.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function go(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function bo(p,b,S){var M=p.updateQueue;if(M===null)return null;if(M=M.shared,(cn&2)!==0){var G=M.pending;return G===null?b.next=b:(b.next=G.next,G.next=b),M.pending=b,b=Am(p),IS(p,null,S),b}return Sm(p,M,b,S),Am(p)}function Ch(p,b,S){if(b=b.updateQueue,b!==null&&(b=b.shared,(S&4194176)!==0)){var M=b.lanes;M&=p.pendingLanes,S|=M,b.lanes=S,we(p,S)}}function Pv(p,b){var S=p.updateQueue,M=p.alternate;if(M!==null&&(M=M.updateQueue,S===M)){var G=null,X=null;if(S=S.firstBaseUpdate,S!==null){do{var ie={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};X===null?G=X=ie:X=X.next=ie,S=S.next}while(S!==null);X===null?G=X=b:X=X.next=b}else G=X=b;S={baseState:M.baseState,firstBaseUpdate:G,lastBaseUpdate:X,shared:M.shared,callbacks:M.callbacks},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=b:p.next=b,S.lastBaseUpdate=b}var Dv=!1;function Oh(){if(Dv){var p=ru;if(p!==null)throw p}}function Nh(p,b,S,M){Dv=!1;var G=p.updateQueue;mo=!1;var X=G.firstBaseUpdate,ie=G.lastBaseUpdate,ce=G.shared.pending;if(ce!==null){G.shared.pending=null;var be=ce,Ee=be.next;be.next=null,ie===null?X=Ee:ie.next=Ee,ie=be;var Le=p.alternate;Le!==null&&(Le=Le.updateQueue,ce=Le.lastBaseUpdate,ce!==ie&&(ce===null?Le.firstBaseUpdate=Ee:ce.next=Ee,Le.lastBaseUpdate=be))}if(X!==null){var He=G.baseState;ie=0,Le=Ee=be=null,ce=X;do{var Me=ce.lane&-536870913,De=Me!==ce.lane;if(De?(Sr&Me)===Me:(M&Me)===Me){Me!==0&&Me===tu&&(Dv=!0),Le!==null&&(Le=Le.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Et=p,Qt=ce;Me=b;var mn=S;switch(Qt.tag){case 1:if(Et=Qt.payload,typeof Et=="function"){He=Et.call(mn,He,Me);break e}He=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Qt.payload,Me=typeof Et=="function"?Et.call(mn,He,Me):Et,Me==null)break e;He=L({},He,Me);break e;case 2:mo=!0}}Me=ce.callback,Me!==null&&(p.flags|=64,De&&(p.flags|=8192),De=G.callbacks,De===null?G.callbacks=[Me]:De.push(Me))}else De={lane:Me,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Le===null?(Ee=Le=De,be=He):Le=Le.next=De,ie|=Me;if(ce=ce.next,ce===null){if(ce=G.shared.pending,ce===null)break;De=ce,ce=De.next,De.next=null,G.lastBaseUpdate=De,G.shared.pending=null}}while(!0);Le===null&&(be=He),G.baseState=be,G.firstBaseUpdate=Ee,G.lastBaseUpdate=Le,X===null&&(G.shared.lanes=0),_o|=ie,p.lanes=ie,p.memoizedState=He}}function eA(p,b){if(typeof p!="function")throw Error(n(191,p));p.call(b)}function tA(p,b){var S=p.callbacks;if(S!==null)for(p.callbacks=null,p=0;p<S.length;p++)eA(S[p],b)}function Mh(p,b){try{var S=b.updateQueue,M=S!==null?S.lastEffect:null;if(M!==null){var G=M.next;S=G;do{if((S.tag&p)===p){M=void 0;var X=S.create,ie=S.inst;M=X(),ie.destroy=M}S=S.next}while(S!==G)}}catch(ce){Hr(b,b.return,ce)}}function yo(p,b,S){try{var M=b.updateQueue,G=M!==null?M.lastEffect:null;if(G!==null){var X=G.next;M=X;do{if((M.tag&p)===p){var ie=M.inst,ce=ie.destroy;if(ce!==void 0){ie.destroy=void 0,G=b;var be=S;try{ce()}catch(Ee){Hr(G,be,Ee)}}}M=M.next}while(M!==X)}}catch(Ee){Hr(b,b.return,Ee)}}function rA(p){var b=p.updateQueue;if(b!==null){var S=p.stateNode;try{tA(b,S)}catch(M){Hr(p,p.return,M)}}}function nA(p,b,S){S.props=Il(p.type,p.memoizedProps),S.state=p.memoizedState;try{S.componentWillUnmount()}catch(M){Hr(p,b,M)}}function Bl(p,b){try{var S=p.ref;if(S!==null){var M=p.stateNode;switch(p.tag){case 26:case 27:case 5:var G=M;break;default:G=M}typeof S=="function"?p.refCleanup=S(G):S.current=G}}catch(X){Hr(p,b,X)}}function Fi(p,b){var S=p.ref,M=p.refCleanup;if(S!==null)if(typeof M=="function")try{M()}catch(G){Hr(p,b,G)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(G){Hr(p,b,G)}else S.current=null}function iA(p){var b=p.type,S=p.memoizedProps,M=p.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":S.autoFocus&&M.focus();break e;case"img":S.src?M.src=S.src:S.srcSet&&(M.srcset=S.srcSet)}}catch(G){Hr(p,p.return,G)}}function aA(p,b,S){try{var M=p.stateNode;UF(M,p.type,S,b),M[ft]=b}catch(G){Hr(p,p.return,G)}}function sA(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27||p.tag===4}function Bv(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||sA(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==27&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Lv(p,b,S){var M=p.tag;if(M===5||M===6)p=p.stateNode,b?S.nodeType===8?S.parentNode.insertBefore(p,b):S.insertBefore(p,b):(S.nodeType===8?(b=S.parentNode,b.insertBefore(p,S)):(b=S,b.appendChild(p)),S=S._reactRootContainer,S!=null||b.onclick!==null||(b.onclick=i0));else if(M!==4&&M!==27&&(p=p.child,p!==null))for(Lv(p,b,S),p=p.sibling;p!==null;)Lv(p,b,S),p=p.sibling}function Hm(p,b,S){var M=p.tag;if(M===5||M===6)p=p.stateNode,b?S.insertBefore(p,b):S.appendChild(p);else if(M!==4&&M!==27&&(p=p.child,p!==null))for(Hm(p,b,S),p=p.sibling;p!==null;)Hm(p,b,S),p=p.sibling}var Cs=!1,dn=!1,Fv=!1,oA=typeof WeakSet=="function"?WeakSet:Set,zn=null,lA=!1;function xF(p,b){if(p=p.containerInfo,d1=f0,p=ES(p),Vy(p)){if("selectionStart"in p)var S={start:p.selectionStart,end:p.selectionEnd};else e:{S=(S=p.ownerDocument)&&S.defaultView||window;var M=S.getSelection&&S.getSelection();if(M&&M.rangeCount!==0){S=M.anchorNode;var G=M.anchorOffset,X=M.focusNode;M=M.focusOffset;try{S.nodeType,X.nodeType}catch{S=null;break e}var ie=0,ce=-1,be=-1,Ee=0,Le=0,He=p,Me=null;t:for(;;){for(var De;He!==S||G!==0&&He.nodeType!==3||(ce=ie+G),He!==X||M!==0&&He.nodeType!==3||(be=ie+M),He.nodeType===3&&(ie+=He.nodeValue.length),(De=He.firstChild)!==null;)Me=He,He=De;for(;;){if(He===p)break t;if(Me===S&&++Ee===G&&(ce=ie),Me===X&&++Le===M&&(be=ie),(De=He.nextSibling)!==null)break;He=Me,Me=He.parentNode}He=De}S=ce===-1||be===-1?null:{start:ce,end:be}}else S=null}S=S||{start:0,end:0}}else S=null;for(p1={focusedElem:p,selectionRange:S},f0=!1,zn=b;zn!==null;)if(b=zn,p=b.child,(b.subtreeFlags&1028)!==0&&p!==null)p.return=b,zn=p;else for(;zn!==null;){switch(b=zn,X=b.alternate,p=b.flags,b.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&X!==null){p=void 0,S=b,G=X.memoizedProps,X=X.memoizedState,M=S.stateNode;try{var Et=Il(S.type,G,S.elementType===S.type);p=M.getSnapshotBeforeUpdate(Et,X),M.__reactInternalSnapshotBeforeUpdate=p}catch(Qt){Hr(S,S.return,Qt)}}break;case 3:if((p&1024)!==0){if(p=b.stateNode.containerInfo,S=p.nodeType,S===9)y1(p);else if(S===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":y1(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(n(163))}if(p=b.sibling,p!==null){p.return=b.return,zn=p;break}zn=b.return}return Et=lA,lA=!1,Et}function cA(p,b,S){var M=S.flags;switch(S.tag){case 0:case 11:case 15:Ns(p,S),M&4&&Mh(5,S);break;case 1:if(Ns(p,S),M&4)if(p=S.stateNode,b===null)try{p.componentDidMount()}catch(ce){Hr(S,S.return,ce)}else{var G=Il(S.type,b.memoizedProps);b=b.memoizedState;try{p.componentDidUpdate(G,b,p.__reactInternalSnapshotBeforeUpdate)}catch(ce){Hr(S,S.return,ce)}}M&64&&rA(S),M&512&&Bl(S,S.return);break;case 3:if(Ns(p,S),M&64&&(M=S.updateQueue,M!==null)){if(p=null,S.child!==null)switch(S.child.tag){case 27:case 5:p=S.child.stateNode;break;case 1:p=S.child.stateNode}try{tA(M,p)}catch(ce){Hr(S,S.return,ce)}}break;case 26:Ns(p,S),M&512&&Bl(S,S.return);break;case 27:case 5:Ns(p,S),b===null&&M&4&&iA(S),M&512&&Bl(S,S.return);break;case 12:Ns(p,S);break;case 13:Ns(p,S),M&4&&hA(p,S);break;case 22:if(G=S.memoizedState!==null||Cs,!G){b=b!==null&&b.memoizedState!==null||dn;var X=Cs,ie=dn;Cs=G,(dn=b)&&!ie?vo(p,S,(S.subtreeFlags&8772)!==0):Ns(p,S),Cs=X,dn=ie}M&512&&(S.memoizedProps.mode==="manual"?Bl(S,S.return):Fi(S,S.return));break;default:Ns(p,S)}}function uA(p){var b=p.alternate;b!==null&&(p.alternate=null,uA(b)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(b=p.stateNode,b!==null&&xr(b)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var kn=null,$i=!1;function Os(p,b,S){for(S=S.child;S!==null;)fA(p,b,S),S=S.sibling}function fA(p,b,S){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ze,S)}catch{}switch(S.tag){case 26:dn||Fi(S,b),Os(p,b,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:dn||Fi(S,b);var M=kn,G=$i;for(kn=S.stateNode,Os(p,b,S),S=S.stateNode,b=S.attributes;b.length;)S.removeAttributeNode(b[0]);xr(S),kn=M,$i=G;break;case 5:dn||Fi(S,b);case 6:G=kn;var X=$i;if(kn=null,Os(p,b,S),kn=G,$i=X,kn!==null)if($i)try{p=kn,M=S.stateNode,p.nodeType===8?p.parentNode.removeChild(M):p.removeChild(M)}catch(ie){Hr(S,b,ie)}else try{kn.removeChild(S.stateNode)}catch(ie){Hr(S,b,ie)}break;case 18:kn!==null&&($i?(b=kn,S=S.stateNode,b.nodeType===8?b1(b.parentNode,S):b.nodeType===1&&b1(b,S),Yh(b)):b1(kn,S.stateNode));break;case 4:M=kn,G=$i,kn=S.stateNode.containerInfo,$i=!0,Os(p,b,S),kn=M,$i=G;break;case 0:case 11:case 14:case 15:dn||yo(2,S,b),dn||yo(4,S,b),Os(p,b,S);break;case 1:dn||(Fi(S,b),M=S.stateNode,typeof M.componentWillUnmount=="function"&&nA(S,b,M)),Os(p,b,S);break;case 21:Os(p,b,S);break;case 22:dn||Fi(S,b),dn=(M=dn)||S.memoizedState!==null,Os(p,b,S),dn=M;break;default:Os(p,b,S)}}function hA(p,b){if(b.memoizedState===null&&(p=b.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{Yh(p)}catch(S){Hr(b,b.return,S)}}function wF(p){switch(p.tag){case 13:case 19:var b=p.stateNode;return b===null&&(b=p.stateNode=new oA),b;case 22:return p=p.stateNode,b=p._retryCache,b===null&&(b=p._retryCache=new oA),b;default:throw Error(n(435,p.tag))}}function $v(p,b){var S=wF(p);b.forEach(function(M){var G=IF.bind(null,p,M);S.has(M)||(S.add(M),M.then(G,G))})}function sa(p,b){var S=b.deletions;if(S!==null)for(var M=0;M<S.length;M++){var G=S[M],X=p,ie=b,ce=ie;e:for(;ce!==null;){switch(ce.tag){case 27:case 5:kn=ce.stateNode,$i=!1;break e;case 3:kn=ce.stateNode.containerInfo,$i=!0;break e;case 4:kn=ce.stateNode.containerInfo,$i=!0;break e}ce=ce.return}if(kn===null)throw Error(n(160));fA(X,ie,G),kn=null,$i=!1,X=G.alternate,X!==null&&(X.return=null),G.return=null}if(b.subtreeFlags&13878)for(b=b.child;b!==null;)dA(b,p),b=b.sibling}var Ra=null;function dA(p,b){var S=p.alternate,M=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:sa(b,p),oa(p),M&4&&(yo(3,p,p.return),Mh(3,p),yo(5,p,p.return));break;case 1:sa(b,p),oa(p),M&512&&(dn||S===null||Fi(S,S.return)),M&64&&Cs&&(p=p.updateQueue,p!==null&&(M=p.callbacks,M!==null&&(S=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=S===null?M:S.concat(M))));break;case 26:var G=Ra;if(sa(b,p),oa(p),M&512&&(dn||S===null||Fi(S,S.return)),M&4){var X=S!==null?S.memoizedState:null;if(M=p.memoizedState,S===null)if(M===null)if(p.stateNode===null){e:{M=p.type,S=p.memoizedProps,G=G.ownerDocument||G;t:switch(M){case"title":X=G.getElementsByTagName("title")[0],(!X||X[Or]||X[Ge]||X.namespaceURI==="http://www.w3.org/2000/svg"||X.hasAttribute("itemprop"))&&(X=G.createElement(M),G.head.insertBefore(X,G.querySelector("head > title"))),Jn(X,M,S),X[Ge]=p,Ae(X),M=X;break e;case"link":var ie=iE("link","href",G).get(M+(S.href||""));if(ie){for(var ce=0;ce<ie.length;ce++)if(X=ie[ce],X.getAttribute("href")===(S.href==null?null:S.href)&&X.getAttribute("rel")===(S.rel==null?null:S.rel)&&X.getAttribute("title")===(S.title==null?null:S.title)&&X.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){ie.splice(ce,1);break t}}X=G.createElement(M),Jn(X,M,S),G.head.appendChild(X);break;case"meta":if(ie=iE("meta","content",G).get(M+(S.content||""))){for(ce=0;ce<ie.length;ce++)if(X=ie[ce],X.getAttribute("content")===(S.content==null?null:""+S.content)&&X.getAttribute("name")===(S.name==null?null:S.name)&&X.getAttribute("property")===(S.property==null?null:S.property)&&X.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&X.getAttribute("charset")===(S.charSet==null?null:S.charSet)){ie.splice(ce,1);break t}}X=G.createElement(M),Jn(X,M,S),G.head.appendChild(X);break;default:throw Error(n(468,M))}X[Ge]=p,Ae(X),M=X}p.stateNode=M}else aE(G,p.type,p.stateNode);else p.stateNode=nE(G,M,p.memoizedProps);else X!==M?(X===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):X.count--,M===null?aE(G,p.type,p.stateNode):nE(G,M,p.memoizedProps)):M===null&&p.stateNode!==null&&aA(p,p.memoizedProps,S.memoizedProps)}break;case 27:if(M&4&&p.alternate===null){G=p.stateNode,X=p.memoizedProps;try{for(var be=G.firstChild;be;){var Ee=be.nextSibling,Le=be.nodeName;be[Or]||Le==="HEAD"||Le==="BODY"||Le==="SCRIPT"||Le==="STYLE"||Le==="LINK"&&be.rel.toLowerCase()==="stylesheet"||G.removeChild(be),be=Ee}for(var He=p.type,Me=G.attributes;Me.length;)G.removeAttributeNode(Me[0]);Jn(G,He,X),G[Ge]=p,G[ft]=X}catch(Et){Hr(p,p.return,Et)}}case 5:if(sa(b,p),oa(p),M&512&&(dn||S===null||Fi(S,S.return)),p.flags&32){G=p.stateNode;try{an(G,"")}catch(Et){Hr(p,p.return,Et)}}M&4&&p.stateNode!=null&&(G=p.memoizedProps,aA(p,G,S!==null?S.memoizedProps:G)),M&1024&&(Fv=!0);break;case 6:if(sa(b,p),oa(p),M&4){if(p.stateNode===null)throw Error(n(162));M=p.memoizedProps,S=p.stateNode;try{S.nodeValue=M}catch(Et){Hr(p,p.return,Et)}}break;case 3:if(l0=null,G=Ra,Ra=s0(b.containerInfo),sa(b,p),Ra=G,oa(p),M&4&&S!==null&&S.memoizedState.isDehydrated)try{Yh(b.containerInfo)}catch(Et){Hr(p,p.return,Et)}Fv&&(Fv=!1,pA(p));break;case 4:M=Ra,Ra=s0(p.stateNode.containerInfo),sa(b,p),oa(p),Ra=M;break;case 12:sa(b,p),oa(p);break;case 13:sa(b,p),oa(p),p.child.flags&8192&&p.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Xv=Re()),M&4&&(M=p.updateQueue,M!==null&&(p.updateQueue=null,$v(p,M)));break;case 22:if(M&512&&(dn||S===null||Fi(S,S.return)),be=p.memoizedState!==null,Ee=S!==null&&S.memoizedState!==null,Le=Cs,He=dn,Cs=Le||be,dn=He||Ee,sa(b,p),dn=He,Cs=Le,oa(p),b=p.stateNode,b._current=p,b._visibility&=-3,b._visibility|=b._pendingVisibility&2,M&8192&&(b._visibility=be?b._visibility&-2:b._visibility|1,be&&(b=Cs||dn,S===null||Ee||b||su(p)),p.memoizedProps===null||p.memoizedProps.mode!=="manual"))e:for(S=null,b=p;;){if(b.tag===5||b.tag===26||b.tag===27){if(S===null){Ee=S=b;try{if(G=Ee.stateNode,be)X=G.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ie=Ee.stateNode,ce=Ee.memoizedProps.style;var De=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;ie.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Et){Hr(Ee,Ee.return,Et)}}}else if(b.tag===6){if(S===null){Ee=b;try{Ee.stateNode.nodeValue=be?"":Ee.memoizedProps}catch(Et){Hr(Ee,Ee.return,Et)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===p)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break e;for(;b.sibling===null;){if(b.return===null||b.return===p)break e;S===b&&(S=null),b=b.return}S===b&&(S=null),b.sibling.return=b.return,b=b.sibling}M&4&&(M=p.updateQueue,M!==null&&(S=M.retryQueue,S!==null&&(M.retryQueue=null,$v(p,S))));break;case 19:sa(b,p),oa(p),M&4&&(M=p.updateQueue,M!==null&&(p.updateQueue=null,$v(p,M)));break;case 21:break;default:sa(b,p),oa(p)}}function oa(p){var b=p.flags;if(b&2){try{if(p.tag!==27){e:{for(var S=p.return;S!==null;){if(sA(S)){var M=S;break e}S=S.return}throw Error(n(160))}switch(M.tag){case 27:var G=M.stateNode,X=Bv(p);Hm(p,X,G);break;case 5:var ie=M.stateNode;M.flags&32&&(an(ie,""),M.flags&=-33);var ce=Bv(p);Hm(p,ce,ie);break;case 3:case 4:var be=M.stateNode.containerInfo,Ee=Bv(p);Lv(p,Ee,be);break;default:throw Error(n(161))}}}catch(Le){Hr(p,p.return,Le)}p.flags&=-3}b&4096&&(p.flags&=-4097)}function pA(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var b=p;pA(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),p=p.sibling}}function Ns(p,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)cA(p,b.alternate,b),b=b.sibling}function su(p){for(p=p.child;p!==null;){var b=p;switch(b.tag){case 0:case 11:case 14:case 15:yo(4,b,b.return),su(b);break;case 1:Fi(b,b.return);var S=b.stateNode;typeof S.componentWillUnmount=="function"&&nA(b,b.return,S),su(b);break;case 26:case 27:case 5:Fi(b,b.return),su(b);break;case 22:Fi(b,b.return),b.memoizedState===null&&su(b);break;default:su(b)}p=p.sibling}}function vo(p,b,S){for(S=S&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var M=b.alternate,G=p,X=b,ie=X.flags;switch(X.tag){case 0:case 11:case 15:vo(G,X,S),Mh(4,X);break;case 1:if(vo(G,X,S),M=X,G=M.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(Ee){Hr(M,M.return,Ee)}if(M=X,G=M.updateQueue,G!==null){var ce=M.stateNode;try{var be=G.shared.hiddenCallbacks;if(be!==null)for(G.shared.hiddenCallbacks=null,G=0;G<be.length;G++)eA(be[G],ce)}catch(Ee){Hr(M,M.return,Ee)}}S&&ie&64&&rA(X),Bl(X,X.return);break;case 26:case 27:case 5:vo(G,X,S),S&&M===null&&ie&4&&iA(X),Bl(X,X.return);break;case 12:vo(G,X,S);break;case 13:vo(G,X,S),S&&ie&4&&hA(G,X);break;case 22:X.memoizedState===null&&vo(G,X,S),Bl(X,X.return);break;default:vo(G,X,S)}b=b.sibling}}function Vv(p,b){var S=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),p=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(p=b.memoizedState.cachePool.pool),p!==S&&(p!=null&&p.refCount++,S!=null&&_h(S))}function zv(p,b){p=null,b.alternate!==null&&(p=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==p&&(b.refCount++,p!=null&&_h(p))}function xo(p,b,S,M){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)mA(p,b,S,M),b=b.sibling}function mA(p,b,S,M){var G=b.flags;switch(b.tag){case 0:case 11:case 15:xo(p,b,S,M),G&2048&&Mh(9,b);break;case 3:xo(p,b,S,M),G&2048&&(p=null,b.alternate!==null&&(p=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==p&&(b.refCount++,p!=null&&_h(p)));break;case 12:if(G&2048){xo(p,b,S,M),p=b.stateNode;try{var X=b.memoizedProps,ie=X.id,ce=X.onPostCommit;typeof ce=="function"&&ce(ie,b.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(be){Hr(b,b.return,be)}}else xo(p,b,S,M);break;case 23:break;case 22:X=b.stateNode,b.memoizedState!==null?X._visibility&4?xo(p,b,S,M):Rh(p,b):X._visibility&4?xo(p,b,S,M):(X._visibility|=4,ou(p,b,S,M,(b.subtreeFlags&10256)!==0)),G&2048&&Vv(b.alternate,b);break;case 24:xo(p,b,S,M),G&2048&&zv(b.alternate,b);break;default:xo(p,b,S,M)}}function ou(p,b,S,M,G){for(G=G&&(b.subtreeFlags&10256)!==0,b=b.child;b!==null;){var X=p,ie=b,ce=S,be=M,Ee=ie.flags;switch(ie.tag){case 0:case 11:case 15:ou(X,ie,ce,be,G),Mh(8,ie);break;case 23:break;case 22:var Le=ie.stateNode;ie.memoizedState!==null?Le._visibility&4?ou(X,ie,ce,be,G):Rh(X,ie):(Le._visibility|=4,ou(X,ie,ce,be,G)),G&&Ee&2048&&Vv(ie.alternate,ie);break;case 24:ou(X,ie,ce,be,G),G&&Ee&2048&&zv(ie.alternate,ie);break;default:ou(X,ie,ce,be,G)}b=b.sibling}}function Rh(p,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var S=p,M=b,G=M.flags;switch(M.tag){case 22:Rh(S,M),G&2048&&Vv(M.alternate,M);break;case 24:Rh(S,M),G&2048&&zv(M.alternate,M);break;default:Rh(S,M)}b=b.sibling}}var Ih=8192;function lu(p){if(p.subtreeFlags&Ih)for(p=p.child;p!==null;)gA(p),p=p.sibling}function gA(p){switch(p.tag){case 26:lu(p),p.flags&Ih&&p.memoizedState!==null&&c$(Ra,p.memoizedState,p.memoizedProps);break;case 5:lu(p);break;case 3:case 4:var b=Ra;Ra=s0(p.stateNode.containerInfo),lu(p),Ra=b;break;case 22:p.memoizedState===null&&(b=p.alternate,b!==null&&b.memoizedState!==null?(b=Ih,Ih=16777216,lu(p),Ih=b):lu(p));break;default:lu(p)}}function bA(p){var b=p.alternate;if(b!==null&&(p=b.child,p!==null)){b.child=null;do b=p.sibling,p.sibling=null,p=b;while(p!==null)}}function Ph(p){var b=p.deletions;if((p.flags&16)!==0){if(b!==null)for(var S=0;S<b.length;S++){var M=b[S];zn=M,vA(M,p)}bA(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)yA(p),p=p.sibling}function yA(p){switch(p.tag){case 0:case 11:case 15:Ph(p),p.flags&2048&&yo(9,p,p.return);break;case 3:Ph(p);break;case 12:Ph(p);break;case 22:var b=p.stateNode;p.memoizedState!==null&&b._visibility&4&&(p.return===null||p.return.tag!==13)?(b._visibility&=-5,Km(p)):Ph(p);break;default:Ph(p)}}function Km(p){var b=p.deletions;if((p.flags&16)!==0){if(b!==null)for(var S=0;S<b.length;S++){var M=b[S];zn=M,vA(M,p)}bA(p)}for(p=p.child;p!==null;){switch(b=p,b.tag){case 0:case 11:case 15:yo(8,b,b.return),Km(b);break;case 22:S=b.stateNode,S._visibility&4&&(S._visibility&=-5,Km(b));break;default:Km(b)}p=p.sibling}}function vA(p,b){for(;zn!==null;){var S=zn;switch(S.tag){case 0:case 11:case 15:yo(8,S,b);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var M=S.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:_h(S.memoizedState.cache)}if(M=S.child,M!==null)M.return=S,zn=M;else e:for(S=p;zn!==null;){M=zn;var G=M.sibling,X=M.return;if(uA(M),M===S){zn=null;break e}if(G!==null){G.return=X,zn=G;break e}zn=X}}}function _F(p,b,S,M){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(p,b,S,M){return new _F(p,b,S,M)}function qv(p){return p=p.prototype,!(!p||!p.isReactComponent)}function wo(p,b){var S=p.alternate;return S===null?(S=la(p.tag,b,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=b,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&31457280,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,b=p.dependencies,S.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S.refCleanup=p.refCleanup,S}function xA(p,b){p.flags&=31457282;var S=p.alternate;return S===null?(p.childLanes=0,p.lanes=b,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=S.childLanes,p.lanes=S.lanes,p.child=S.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=S.memoizedProps,p.memoizedState=S.memoizedState,p.updateQueue=S.updateQueue,p.type=S.type,b=S.dependencies,p.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),p}function Gm(p,b,S,M,G,X){var ie=0;if(M=p,typeof p=="function")qv(p)&&(ie=1);else if(typeof p=="string")ie=o$(p,S,re.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case l:return Ll(S.children,G,X,b);case o:ie=8,G|=24;break;case u:return p=la(12,S,b,G|2),p.elementType=u,p.lanes=X,p;case y:return p=la(13,S,b,G),p.elementType=y,p.lanes=X,p;case m:return p=la(19,S,b,G),p.elementType=m,p.lanes=X,p;case _:return wA(S,G,X,b);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case f:case d:ie=10;break e;case h:ie=9;break e;case g:ie=11;break e;case x:ie=14;break e;case v:ie=16,M=null;break e}ie=29,S=Error(n(130,p===null?"null":typeof p,"")),M=null}return b=la(ie,S,b,G),b.elementType=p,b.type=M,b.lanes=X,b}function Ll(p,b,S,M){return p=la(7,p,M,b),p.lanes=S,p}function wA(p,b,S,M){p=la(22,p,M,b),p.elementType=_,p.lanes=S;var G={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var X=G._current;if(X===null)throw Error(n(456));if((G._pendingVisibility&2)===0){var ie=lo(X,2);ie!==null&&(G._pendingVisibility|=2,yi(ie,X,2))}},attach:function(){var X=G._current;if(X===null)throw Error(n(456));if((G._pendingVisibility&2)!==0){var ie=lo(X,2);ie!==null&&(G._pendingVisibility&=-3,yi(ie,X,2))}}};return p.stateNode=G,p}function Uv(p,b,S){return p=la(6,p,null,b),p.lanes=S,p}function Hv(p,b,S){return b=la(4,p.children!==null?p.children:[],p.key,b),b.lanes=S,b.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},b}function Ms(p){p.flags|=4}function _A(p,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!sE(b)){if(b=aa.current,b!==null&&((Sr&4194176)===Sr?Qa!==null:(Sr&62914560)!==Sr&&(Sr&536870912)===0||b!==Qa))throw vh=Yy,FS;p.flags|=8192}}function Wm(p,b){b!==null&&(p.flags|=4),p.flags&16384&&(b=p.tag!==22?ur():536870912,p.lanes|=b,uu|=b)}function Dh(p,b){if(!Tr)switch(p.tailMode){case"hidden":b=p.tail;for(var S=null;b!==null;)b.alternate!==null&&(S=b),b=b.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var M=null;S!==null;)S.alternate!==null&&(M=S),S=S.sibling;M===null?b||p.tail===null?p.tail=null:p.tail.sibling=null:M.sibling=null}}function ln(p){var b=p.alternate!==null&&p.alternate.child===p.child,S=0,M=0;if(b)for(var G=p.child;G!==null;)S|=G.lanes|G.childLanes,M|=G.subtreeFlags&31457280,M|=G.flags&31457280,G.return=p,G=G.sibling;else for(G=p.child;G!==null;)S|=G.lanes|G.childLanes,M|=G.subtreeFlags,M|=G.flags,G.return=p,G=G.sibling;return p.subtreeFlags|=M,p.childLanes=S,b}function SF(p,b,S){var M=b.pendingProps;switch(Wy(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(b),null;case 1:return ln(b),null;case 3:return S=b.stateNode,M=null,p!==null&&(M=p.memoizedState.cache),b.memoizedState.cache!==M&&(b.flags|=2048),js(In),ge(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(p===null||p.child===null)&&(mh(b)?Ms(b):p===null||p.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,Ma!==null&&(Jv(Ma),Ma=null))),ln(b),null;case 26:return S=b.memoizedState,p===null?(Ms(b),S!==null?(ln(b),_A(b,S)):(ln(b),b.flags&=-16777217)):S?S!==p.memoizedState?(Ms(b),ln(b),_A(b,S)):(ln(b),b.flags&=-16777217):(p.memoizedProps!==M&&Ms(b),ln(b),b.flags&=-16777217),null;case 27:fe(b),S=ne.current;var G=b.type;if(p!==null&&b.stateNode!=null)p.memoizedProps!==M&&Ms(b);else{if(!M){if(b.stateNode===null)throw Error(n(166));return ln(b),null}p=re.current,mh(b)?BS(b):(p=ZA(G,M,S),b.stateNode=p,Ms(b))}return ln(b),null;case 5:if(fe(b),S=b.type,p!==null&&b.stateNode!=null)p.memoizedProps!==M&&Ms(b);else{if(!M){if(b.stateNode===null)throw Error(n(166));return ln(b),null}if(p=re.current,mh(b))BS(b);else{switch(G=a0(ne.current),p){case 1:p=G.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:p=G.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":p=G.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":p=G.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":p=G.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof M.is=="string"?G.createElement("select",{is:M.is}):G.createElement("select"),M.multiple?p.multiple=!0:M.size&&(p.size=M.size);break;default:p=typeof M.is=="string"?G.createElement(S,{is:M.is}):G.createElement(S)}}p[Ge]=b,p[ft]=M;e:for(G=b.child;G!==null;){if(G.tag===5||G.tag===6)p.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===b)break e;for(;G.sibling===null;){if(G.return===null||G.return===b)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}b.stateNode=p;e:switch(Jn(p,S,M),S){case"button":case"input":case"select":case"textarea":p=!!M.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ms(b)}}return ln(b),b.flags&=-16777217,null;case 6:if(p&&b.stateNode!=null)p.memoizedProps!==M&&Ms(b);else{if(typeof M!="string"&&b.stateNode===null)throw Error(n(166));if(p=ne.current,mh(b)){if(p=b.stateNode,S=b.memoizedProps,M=null,G=bi,G!==null)switch(G.tag){case 27:case 5:M=G.memoizedProps}p[Ge]=b,p=!!(p.nodeValue===S||M!==null&&M.suppressHydrationWarning===!0||KA(p.nodeValue,S)),p||jl(b)}else p=a0(p).createTextNode(M),p[Ge]=b,b.stateNode=p}return ln(b),null;case 13:if(M=b.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(G=mh(b),M!==null&&M.dehydrated!==null){if(p===null){if(!G)throw Error(n(318));if(G=b.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(n(317));G[Ge]=b}else gh(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;ln(b),G=!1}else Ma!==null&&(Jv(Ma),Ma=null),G=!0;if(!G)return b.flags&256?(As(b),b):(As(b),null)}if(As(b),(b.flags&128)!==0)return b.lanes=S,b;if(S=M!==null,p=p!==null&&p.memoizedState!==null,S){M=b.child,G=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(G=M.alternate.memoizedState.cachePool.pool);var X=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(X=M.memoizedState.cachePool.pool),X!==G&&(M.flags|=2048)}return S!==p&&S&&(b.child.flags|=8192),Wm(b,b.updateQueue),ln(b),null;case 4:return ge(),p===null&&u1(b.stateNode.containerInfo),ln(b),null;case 10:return js(b.type),ln(b),null;case 19:if(V(Rn),G=b.memoizedState,G===null)return ln(b),null;if(M=(b.flags&128)!==0,X=G.rendering,X===null)if(M)Dh(G,!1);else{if(pn!==0||p!==null&&(p.flags&128)!==0)for(p=b.child;p!==null;){if(X=Nm(p),X!==null){for(b.flags|=128,Dh(G,!1),p=X.updateQueue,b.updateQueue=p,Wm(b,p),b.subtreeFlags=0,p=S,S=b.child;S!==null;)xA(S,p),S=S.sibling;return Q(Rn,Rn.current&1|2),b.child}p=p.sibling}G.tail!==null&&Re()>Xm&&(b.flags|=128,M=!0,Dh(G,!1),b.lanes=4194304)}else{if(!M)if(p=Nm(X),p!==null){if(b.flags|=128,M=!0,p=p.updateQueue,b.updateQueue=p,Wm(b,p),Dh(G,!0),G.tail===null&&G.tailMode==="hidden"&&!X.alternate&&!Tr)return ln(b),null}else 2*Re()-G.renderingStartTime>Xm&&S!==536870912&&(b.flags|=128,M=!0,Dh(G,!1),b.lanes=4194304);G.isBackwards?(X.sibling=b.child,b.child=X):(p=G.last,p!==null?p.sibling=X:b.child=X,G.last=X)}return G.tail!==null?(b=G.tail,G.rendering=b,G.tail=b.sibling,G.renderingStartTime=Re(),b.sibling=null,p=Rn.current,Q(Rn,M?p&1|2:p&1),b):(ln(b),null);case 22:case 23:return As(b),Zy(),M=b.memoizedState!==null,p!==null?p.memoizedState!==null!==M&&(b.flags|=8192):M&&(b.flags|=8192),M?(S&536870912)!==0&&(b.flags&128)===0&&(ln(b),b.subtreeFlags&6&&(b.flags|=8192)):ln(b),S=b.updateQueue,S!==null&&Wm(b,S.retryQueue),S=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),M=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==S&&(b.flags|=2048),p!==null&&V(Ol),null;case 24:return S=null,p!==null&&(S=p.memoizedState.cache),b.memoizedState.cache!==S&&(b.flags|=2048),js(In),ln(b),null;case 25:return null}throw Error(n(156,b.tag))}function AF(p,b){switch(Wy(b),b.tag){case 1:return p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 3:return js(In),ge(),p=b.flags,(p&65536)!==0&&(p&128)===0?(b.flags=p&-65537|128,b):null;case 26:case 27:case 5:return fe(b),null;case 13:if(As(b),p=b.memoizedState,p!==null&&p.dehydrated!==null){if(b.alternate===null)throw Error(n(340));gh()}return p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 19:return V(Rn),null;case 4:return ge(),null;case 10:return js(b.type),null;case 22:case 23:return As(b),Zy(),p!==null&&V(Ol),p=b.flags,p&65536?(b.flags=p&-65537|128,b):null;case 24:return js(In),null;case 25:return null;default:return null}}function SA(p,b){switch(Wy(b),b.tag){case 3:js(In),ge();break;case 26:case 27:case 5:fe(b);break;case 4:ge();break;case 13:As(b);break;case 19:V(Rn);break;case 10:js(b.type);break;case 22:case 23:As(b),Zy(),p!==null&&V(Ol);break;case 24:js(In)}}var EF={getCacheForType:function(p){var b=ii(In),S=b.data.get(p);return S===void 0&&(S=p(),b.data.set(p,S)),S}},TF=typeof WeakMap=="function"?WeakMap:Map,cn=0,Xr=null,br=null,Sr=0,Yr=0,Vi=null,Rs=!1,cu=!1,Kv=!1,Is=0,pn=0,_o=0,Fl=0,Gv=0,ca=0,uu=0,Bh=null,Ja=null,Wv=!1,Xv=0,Xm=1/0,Ym=null,So=null,Qm=!1,$l=null,Lh=0,Yv=0,Qv=null,Fh=0,Zv=null;function zi(){if((cn&2)!==0&&Sr!==0)return Sr&-Sr;if(B.T!==null){var p=tu;return p!==0?p:s1()}return Pe()}function AA(){ca===0&&(ca=(Sr&536870912)===0||Tr?sr():536870912);var p=aa.current;return p!==null&&(p.flags|=32),ca}function yi(p,b,S){(p===Xr&&Yr===2||p.cancelPendingCommit!==null)&&(fu(p,0),Ps(p,Sr,ca,!1)),or(p,S),((cn&2)===0||p!==Xr)&&(p===Xr&&((cn&2)===0&&(Fl|=S),pn===4&&Ps(p,Sr,ca,!1)),es(p))}function EA(p,b,S){if((cn&6)!==0)throw Error(n(327));var M=!S&&(b&60)===0&&(b&p.expiredLanes)===0||Gt(p,b),G=M?CF(p,b):r1(p,b,!0),X=M;do{if(G===0){cu&&!M&&Ps(p,b,0,!1);break}else if(G===6)Ps(p,b,0,!Rs);else{if(S=p.current.alternate,X&&!kF(S)){G=r1(p,b,!1),X=!1;continue}if(G===2){if(X=b,p.errorRecoveryDisabledLanes&X)var ie=0;else ie=p.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){b=ie;e:{var ce=p;G=Bh;var be=ce.current.memoizedState.isDehydrated;if(be&&(fu(ce,ie).flags|=256),ie=r1(ce,ie,!1),ie!==2){if(Kv&&!be){ce.errorRecoveryDisabledLanes|=X,Fl|=X,G=4;break e}X=Ja,Ja=G,X!==null&&Jv(X)}G=ie}if(X=!1,G!==2)continue}}if(G===1){fu(p,0),Ps(p,b,0,!0);break}e:{switch(M=p,G){case 0:case 1:throw Error(n(345));case 4:if((b&4194176)===b){Ps(M,b,ca,!Rs);break e}break;case 2:Ja=null;break;case 3:case 5:break;default:throw Error(n(329))}if(M.finishedWork=S,M.finishedLanes=b,(b&62914560)===b&&(X=Xv+300-Re(),10<X)){if(Ps(M,b,ca,!Rs),cr(M,0)!==0)break e;M.timeoutHandle=XA(TA.bind(null,M,S,Ja,Ym,Wv,b,ca,Fl,uu,Rs,2,-0,0),X);break e}TA(M,S,Ja,Ym,Wv,b,ca,Fl,uu,Rs,0,-0,0)}}break}while(!0);es(p)}function Jv(p){Ja===null?Ja=p:Ja.push.apply(Ja,p)}function TA(p,b,S,M,G,X,ie,ce,be,Ee,Le,He,Me){var De=b.subtreeFlags;if((De&8192||(De&16785408)===16785408)&&(Hh={stylesheets:null,count:0,unsuspend:l$},gA(b),b=u$(),b!==null)){p.cancelPendingCommit=b(RA.bind(null,p,S,M,G,ie,ce,be,1,He,Me)),Ps(p,X,ie,!Ee);return}RA(p,S,M,G,ie,ce,be,Le,He,Me)}function kF(p){for(var b=p;;){var S=b.tag;if((S===0||S===11||S===15)&&b.flags&16384&&(S=b.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var M=0;M<S.length;M++){var G=S[M],X=G.getSnapshot;G=G.value;try{if(!Li(X(),G))return!1}catch{return!1}}if(S=b.child,b.subtreeFlags&16384&&S!==null)S.return=b,b=S;else{if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Ps(p,b,S,M){b&=~Gv,b&=~Fl,p.suspendedLanes|=b,p.pingedLanes&=~b,M&&(p.warmLanes|=b),M=p.expirationTimes;for(var G=b;0<G;){var X=31-rt(G),ie=1<<X;M[X]=-1,G&=~ie}S!==0&&Dt(p,S,b)}function Zm(){return(cn&6)===0?($h(0),!1):!0}function e1(){if(br!==null){if(Yr===0)var p=br.return;else p=br,ks=Pl=null,sv(p),Jc=null,xh=0,p=br;for(;p!==null;)SA(p.alternate,p),p=p.return;br=null}}function fu(p,b){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;S!==-1&&(p.timeoutHandle=-1,KF(S)),S=p.cancelPendingCommit,S!==null&&(p.cancelPendingCommit=null,S()),e1(),Xr=p,br=S=wo(p.current,null),Sr=b,Yr=0,Vi=null,Rs=!1,cu=Gt(p,b),Kv=!1,uu=ca=Gv=Fl=_o=pn=0,Ja=Bh=null,Wv=!1,(b&8)!==0&&(b|=b&32);var M=p.entangledLanes;if(M!==0)for(p=p.entanglements,M&=b;0<M;){var G=31-rt(M),X=1<<G;b|=p[G],M&=~X}return Is=b,_m(),S}function kA(p,b){hr=null,B.H=Za,b===yh?(b=zS(),Yr=3):b===FS?(b=zS(),Yr=4):Yr=b===$8?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,Vi=b,br===null&&(pn=1,zm(p,ra(b,p.current)))}function jA(){var p=B.H;return B.H=Za,p===null?Za:p}function CA(){var p=B.A;return B.A=EF,p}function t1(){pn=4,Rs||(Sr&4194176)!==Sr&&aa.current!==null||(cu=!0),(_o&134217727)===0&&(Fl&134217727)===0||Xr===null||Ps(Xr,Sr,ca,!1)}function r1(p,b,S){var M=cn;cn|=2;var G=jA(),X=CA();(Xr!==p||Sr!==b)&&(Ym=null,fu(p,b)),b=!1;var ie=pn;e:do try{if(Yr!==0&&br!==null){var ce=br,be=Vi;switch(Yr){case 8:e1(),ie=6;break e;case 3:case 2:case 6:aa.current===null&&(b=!0);var Ee=Yr;if(Yr=0,Vi=null,hu(p,ce,be,Ee),S&&cu){ie=0;break e}break;default:Ee=Yr,Yr=0,Vi=null,hu(p,ce,be,Ee)}}jF(),ie=pn;break}catch(Le){kA(p,Le)}while(!0);return b&&p.shellSuspendCounter++,ks=Pl=null,cn=M,B.H=G,B.A=X,br===null&&(Xr=null,Sr=0,_m()),ie}function jF(){for(;br!==null;)OA(br)}function CF(p,b){var S=cn;cn|=2;var M=jA(),G=CA();Xr!==p||Sr!==b?(Ym=null,Xm=Re()+500,fu(p,b)):cu=Gt(p,b);e:do try{if(Yr!==0&&br!==null){b=br;var X=Vi;t:switch(Yr){case 1:Yr=0,Vi=null,hu(p,b,X,1);break;case 2:if($S(X)){Yr=0,Vi=null,NA(b);break}b=function(){Yr===2&&Xr===p&&(Yr=7),es(p)},X.then(b,b);break e;case 3:Yr=7;break e;case 4:Yr=5;break e;case 7:$S(X)?(Yr=0,Vi=null,NA(b)):(Yr=0,Vi=null,hu(p,b,X,7));break;case 5:var ie=null;switch(br.tag){case 26:ie=br.memoizedState;case 5:case 27:var ce=br;if(!ie||sE(ie)){Yr=0,Vi=null;var be=ce.sibling;if(be!==null)br=be;else{var Ee=ce.return;Ee!==null?(br=Ee,Jm(Ee)):br=null}break t}}Yr=0,Vi=null,hu(p,b,X,5);break;case 6:Yr=0,Vi=null,hu(p,b,X,6);break;case 8:e1(),pn=6;break e;default:throw Error(n(462))}}OF();break}catch(Le){kA(p,Le)}while(!0);return ks=Pl=null,B.H=M,B.A=G,cn=S,br!==null?0:(Xr=null,Sr=0,_m(),pn)}function OF(){for(;br!==null&&!_e();)OA(br)}function OA(p){var b=Z8(p.alternate,p,Is);p.memoizedProps=p.pendingProps,b===null?Jm(p):br=b}function NA(p){var b=p,S=b.alternate;switch(b.tag){case 15:case 0:b=K8(S,b,b.pendingProps,b.type,void 0,Sr);break;case 11:b=K8(S,b,b.pendingProps,b.type.render,b.ref,Sr);break;case 5:sv(b);default:SA(S,b),b=br=xA(b,Is),b=Z8(S,b,Is)}p.memoizedProps=p.pendingProps,b===null?Jm(p):br=b}function hu(p,b,S,M){ks=Pl=null,sv(b),Jc=null,xh=0;var G=b.return;try{if(yF(p,G,b,S,Sr)){pn=1,zm(p,ra(S,p.current)),br=null;return}}catch(X){if(G!==null)throw br=G,X;pn=1,zm(p,ra(S,p.current)),br=null;return}b.flags&32768?(Tr||M===1?p=!0:cu||(Sr&536870912)!==0?p=!1:(Rs=p=!0,(M===2||M===3||M===6)&&(M=aa.current,M!==null&&M.tag===13&&(M.flags|=16384))),MA(b,p)):Jm(b)}function Jm(p){var b=p;do{if((b.flags&32768)!==0){MA(b,Rs);return}p=b.return;var S=SF(b.alternate,b,Is);if(S!==null){br=S;return}if(b=b.sibling,b!==null){br=b;return}br=b=p}while(b!==null);pn===0&&(pn=5)}function MA(p,b){do{var S=AF(p.alternate,p);if(S!==null){S.flags&=32767,br=S;return}if(S=p.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!b&&(p=p.sibling,p!==null)){br=p;return}br=p=S}while(p!==null);pn=6,br=null}function RA(p,b,S,M,G,X,ie,ce,be,Ee){var Le=B.T,He=Z.p;try{Z.p=2,B.T=null,NF(p,b,S,M,He,G,X,ie,ce,be,Ee)}finally{B.T=Le,Z.p=He}}function NF(p,b,S,M,G,X,ie,ce){do du();while($l!==null);if((cn&6)!==0)throw Error(n(327));var be=p.finishedWork;if(M=p.finishedLanes,be===null)return null;if(p.finishedWork=null,p.finishedLanes=0,be===p.current)throw Error(n(177));p.callbackNode=null,p.callbackPriority=0,p.cancelPendingCommit=null;var Ee=be.lanes|be.childLanes;if(Ee|=Hy,vr(p,M,Ee,X,ie,ce),p===Xr&&(br=Xr=null,Sr=0),(be.subtreeFlags&10256)===0&&(be.flags&10256)===0||Qm||(Qm=!0,Yv=Ee,Qv=S,PF(Ye,function(){return du(),null})),S=(be.flags&15990)!==0,(be.subtreeFlags&15990)!==0||S?(S=B.T,B.T=null,X=Z.p,Z.p=2,ie=cn,cn|=4,xF(p,be),dA(be,p),tF(p1,p.containerInfo),f0=!!d1,p1=d1=null,p.current=be,cA(p,be.alternate,be),Ne(),cn=ie,Z.p=X,B.T=S):p.current=be,Qm?(Qm=!1,$l=p,Lh=M):IA(p,Ee),Ee=p.pendingLanes,Ee===0&&(So=null),at(be.stateNode),es(p),b!==null)for(G=p.onRecoverableError,be=0;be<b.length;be++)Ee=b[be],G(Ee.value,{componentStack:Ee.stack});return(Lh&3)!==0&&du(),Ee=p.pendingLanes,(M&4194218)!==0&&(Ee&42)!==0?p===Zv?Fh++:(Fh=0,Zv=p):Fh=0,$h(0),null}function IA(p,b){(p.pooledCacheLanes&=b)===0&&(b=p.pooledCache,b!=null&&(p.pooledCache=null,_h(b)))}function du(){if($l!==null){var p=$l,b=Yv;Yv=0;var S=Te(Lh),M=B.T,G=Z.p;try{if(Z.p=32>S?32:S,B.T=null,$l===null)var X=!1;else{S=Qv,Qv=null;var ie=$l,ce=Lh;if($l=null,Lh=0,(cn&6)!==0)throw Error(n(331));var be=cn;if(cn|=4,yA(ie.current),mA(ie,ie.current,ce,S),cn=be,$h(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ze,ie)}catch{}X=!0}return X}finally{Z.p=G,B.T=M,IA(p,b)}}return!1}function PA(p,b,S){b=ra(S,b),b=xv(p.stateNode,b,2),p=bo(p,b,2),p!==null&&(or(p,2),es(p))}function Hr(p,b,S){if(p.tag===3)PA(p,p,S);else for(;b!==null;){if(b.tag===3){PA(b,p,S);break}else if(b.tag===1){var M=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(So===null||!So.has(M))){p=ra(S,p),S=L8(2),M=bo(b,S,2),M!==null&&(F8(S,M,b,p),or(M,2),es(M));break}}b=b.return}}function n1(p,b,S){var M=p.pingCache;if(M===null){M=p.pingCache=new TF;var G=new Set;M.set(b,G)}else G=M.get(b),G===void 0&&(G=new Set,M.set(b,G));G.has(S)||(Kv=!0,G.add(S),p=MF.bind(null,p,b,S),b.then(p,p))}function MF(p,b,S){var M=p.pingCache;M!==null&&M.delete(b),p.pingedLanes|=p.suspendedLanes&S,p.warmLanes&=~S,Xr===p&&(Sr&S)===S&&(pn===4||pn===3&&(Sr&62914560)===Sr&&300>Re()-Xv?(cn&2)===0&&fu(p,0):Gv|=S,uu===Sr&&(uu=0)),es(p)}function DA(p,b){b===0&&(b=ur()),p=lo(p,b),p!==null&&(or(p,b),es(p))}function RF(p){var b=p.memoizedState,S=0;b!==null&&(S=b.retryLane),DA(p,S)}function IF(p,b){var S=0;switch(p.tag){case 13:var M=p.stateNode,G=p.memoizedState;G!==null&&(S=G.retryLane);break;case 19:M=p.stateNode;break;case 22:M=p.stateNode._retryCache;break;default:throw Error(n(314))}M!==null&&M.delete(b),DA(p,S)}function PF(p,b){return ve(p,b)}var e0=null,pu=null,i1=!1,t0=!1,a1=!1,Vl=0;function es(p){p!==pu&&p.next===null&&(pu===null?e0=pu=p:pu=pu.next=p),t0=!0,i1||(i1=!0,BF(DF))}function $h(p,b){if(!a1&&t0){a1=!0;do for(var S=!1,M=e0;M!==null;){if(p!==0){var G=M.pendingLanes;if(G===0)var X=0;else{var ie=M.suspendedLanes,ce=M.pingedLanes;X=(1<<31-rt(42|p)+1)-1,X&=G&~(ie&~ce),X=X&201326677?X&201326677|1:X?X|2:0}X!==0&&(S=!0,FA(M,X))}else X=Sr,X=cr(M,M===Xr?X:0),(X&3)===0||Gt(M,X)||(S=!0,FA(M,X));M=M.next}while(S);a1=!1}}function DF(){t0=i1=!1;var p=0;Vl!==0&&(HF()&&(p=Vl),Vl=0);for(var b=Re(),S=null,M=e0;M!==null;){var G=M.next,X=BA(M,b);X===0?(M.next=null,S===null?e0=G:S.next=G,G===null&&(pu=S)):(S=M,(p!==0||(X&3)!==0)&&(t0=!0)),M=G}$h(p)}function BA(p,b){for(var S=p.suspendedLanes,M=p.pingedLanes,G=p.expirationTimes,X=p.pendingLanes&-62914561;0<X;){var ie=31-rt(X),ce=1<<ie,be=G[ie];be===-1?((ce&S)===0||(ce&M)!==0)&&(G[ie]=Ot(ce,b)):be<=b&&(p.expiredLanes|=ce),X&=~ce}if(b=Xr,S=Sr,S=cr(p,p===b?S:0),M=p.callbackNode,S===0||p===b&&Yr===2||p.cancelPendingCommit!==null)return M!==null&&M!==null&&xe(M),p.callbackNode=null,p.callbackPriority=0;if((S&3)===0||Gt(p,S)){if(b=S&-S,b===p.callbackPriority)return b;switch(M!==null&&xe(M),Te(S)){case 2:case 8:S=et;break;case 32:S=Ye;break;case 268435456:S=bt;break;default:S=Ye}return M=LA.bind(null,p),S=ve(S,M),p.callbackPriority=b,p.callbackNode=S,b}return M!==null&&M!==null&&xe(M),p.callbackPriority=2,p.callbackNode=null,2}function LA(p,b){var S=p.callbackNode;if(du()&&p.callbackNode!==S)return null;var M=Sr;return M=cr(p,p===Xr?M:0),M===0?null:(EA(p,M,b),BA(p,Re()),p.callbackNode!=null&&p.callbackNode===S?LA.bind(null,p):null)}function FA(p,b){if(du())return null;EA(p,b,!0)}function BF(p){GF(function(){(cn&6)!==0?ve(tt,p):p()})}function s1(){return Vl===0&&(Vl=sr()),Vl}function $A(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:Aa(""+p)}function VA(p,b){var S=b.ownerDocument.createElement("input");return S.name=b.name,S.value=b.value,p.id&&S.setAttribute("form",p.id),b.parentNode.insertBefore(S,b),p=new FormData(p),S.parentNode.removeChild(S),p}function LF(p,b,S,M,G){if(b==="submit"&&S&&S.stateNode===G){var X=$A((G[ft]||null).action),ie=M.submitter;ie&&(b=(b=ie[ft]||null)?$A(b.formAction):ie.getAttribute("formAction"),b!==null&&(X=b,ie=null));var ce=new bl("action","action",null,M,G);p.push({event:ce,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(Vl!==0){var be=ie?VA(G,ie):new FormData(G);mv(S,{pending:!0,data:be,method:G.method,action:X},null,be)}}else typeof X=="function"&&(ce.preventDefault(),be=ie?VA(G,ie):new FormData(G),mv(S,{pending:!0,data:be,method:G.method,action:X},X,be))},currentTarget:G}]})}}for(var o1=0;o1<RS.length;o1++){var l1=RS[o1],FF=l1.toLowerCase(),$F=l1[0].toUpperCase()+l1.slice(1);Na(FF,"on"+$F)}Na(jS,"onAnimationEnd"),Na(CS,"onAnimationIteration"),Na(OS,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(nF,"onTransitionRun"),Na(iF,"onTransitionStart"),Na(aF,"onTransitionCancel"),Na(NS,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vh));function zA(p,b){b=(b&4)!==0;for(var S=0;S<p.length;S++){var M=p[S],G=M.event;M=M.listeners;e:{var X=void 0;if(b)for(var ie=M.length-1;0<=ie;ie--){var ce=M[ie],be=ce.instance,Ee=ce.currentTarget;if(ce=ce.listener,be!==X&&G.isPropagationStopped())break e;X=ce,G.currentTarget=Ee;try{X(G)}catch(Le){Vm(Le)}G.currentTarget=null,X=be}else for(ie=0;ie<M.length;ie++){if(ce=M[ie],be=ce.instance,Ee=ce.currentTarget,ce=ce.listener,be!==X&&G.isPropagationStopped())break e;X=ce,G.currentTarget=Ee;try{X(G)}catch(Le){Vm(Le)}G.currentTarget=null,X=be}}}}function wr(p,b){var S=b[pt];S===void 0&&(S=b[pt]=new Set);var M=p+"__bubble";S.has(M)||(qA(b,p,2,!1),S.add(M))}function c1(p,b,S){var M=0;b&&(M|=4),qA(S,p,M,b)}var r0="_reactListening"+Math.random().toString(36).slice(2);function u1(p){if(!p[r0]){p[r0]=!0,Fe.forEach(function(S){S!=="selectionchange"&&(VF.has(S)||c1(S,!1,p),c1(S,!0,p))});var b=p.nodeType===9?p:p.ownerDocument;b===null||b[r0]||(b[r0]=!0,c1("selectionchange",!1,b))}}function qA(p,b,S,M){switch(hE(b)){case 2:var G=d$;break;case 8:G=p$;break;default:G=S1}S=G.bind(null,b,S,p),G=void 0,!xs||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(G=!0),M?G!==void 0?p.addEventListener(b,S,{capture:!0,passive:G}):p.addEventListener(b,S,!0):G!==void 0?p.addEventListener(b,S,{passive:G}):p.addEventListener(b,S,!1)}function f1(p,b,S,M,G){var X=M;if((b&1)===0&&(b&2)===0&&M!==null)e:for(;;){if(M===null)return;var ie=M.tag;if(ie===3||ie===4){var ce=M.stateNode.containerInfo;if(ce===G||ce.nodeType===8&&ce.parentNode===G)break;if(ie===4)for(ie=M.return;ie!==null;){var be=ie.tag;if((be===3||be===4)&&(be=ie.stateNode.containerInfo,be===G||be.nodeType===8&&be.parentNode===G))return;ie=ie.return}for(;ce!==null;){if(ie=Nr(ce),ie===null)return;if(be=ie.tag,be===5||be===6||be===26||be===27){M=X=ie;continue e}ce=ce.parentNode}}M=M.return}ih(function(){var Ee=X,Le=Ga(S),He=[];e:{var Me=MS.get(p);if(Me!==void 0){var De=bl,Et=p;switch(p){case"keypress":if(ml(S)===0)break e;case"keydown":case"keyup":De=Kc;break;case"focusin":Et="focus",De=qc;break;case"focusout":Et="blur",De=qc;break;case"beforeblur":case"afterblur":De=qc;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=oo;break;case jS:case CS:case OS:De=sh;break;case NS:De=J;break;case"scroll":case"scrollend":De=vl;break;case"wheel":De=ue;break;case"copy":case"cut":case"paste":De=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=ch;break;case"toggle":case"beforetoggle":De=Ie}var Qt=(b&4)!==0,mn=!Qt&&(p==="scroll"||p==="scrollend"),ke=Qt?Me!==null?Me+"Capture":null:Me;Qt=[];for(var Se=Ee,Oe;Se!==null;){var Ve=Se;if(Oe=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Oe===null||ke===null||(Ve=ka(Se,ke),Ve!=null&&Qt.push(zh(Se,Ve,Oe))),mn)break;Se=Se.return}0<Qt.length&&(Me=new De(Me,Et,null,S,Le),He.push({event:Me,listeners:Qt}))}}if((b&7)===0){e:{if(Me=p==="mouseover"||p==="pointerover",De=p==="mouseout"||p==="pointerout",Me&&S!==vs&&(Et=S.relatedTarget||S.fromElement)&&(Nr(Et)||Et[mt]))break e;if((De||Me)&&(Me=Le.window===Le?Le:(Me=Le.ownerDocument)?Me.defaultView||Me.parentWindow:window,De?(Et=S.relatedTarget||S.toElement,De=Ee,Et=Et?Nr(Et):null,Et!==null&&(mn=A(Et),Qt=Et.tag,Et!==mn||Qt!==5&&Qt!==27&&Qt!==6)&&(Et=null)):(De=null,Et=Ee),De!==Et)){if(Qt=_l,Ve="onMouseLeave",ke="onMouseEnter",Se="mouse",(p==="pointerout"||p==="pointerover")&&(Qt=ch,Ve="onPointerLeave",ke="onPointerEnter",Se="pointer"),mn=De==null?Me:Gr(De),Oe=Et==null?Me:Gr(Et),Me=new Qt(Ve,Se+"leave",De,S,Le),Me.target=mn,Me.relatedTarget=Oe,Ve=null,Nr(Le)===Ee&&(Qt=new Qt(ke,Se+"enter",Et,S,Le),Qt.target=Oe,Qt.relatedTarget=mn,Ve=Qt),mn=Ve,De&&Et)t:{for(Qt=De,ke=Et,Se=0,Oe=Qt;Oe;Oe=mu(Oe))Se++;for(Oe=0,Ve=ke;Ve;Ve=mu(Ve))Oe++;for(;0<Se-Oe;)Qt=mu(Qt),Se--;for(;0<Oe-Se;)ke=mu(ke),Oe--;for(;Se--;){if(Qt===ke||ke!==null&&Qt===ke.alternate)break t;Qt=mu(Qt),ke=mu(ke)}Qt=null}else Qt=null;De!==null&&UA(He,Me,De,Qt,!1),Et!==null&&mn!==null&&UA(He,mn,Et,Qt,!0)}}e:{if(Me=Ee?Gr(Ee):window,De=Me.nodeName&&Me.nodeName.toLowerCase(),De==="select"||De==="input"&&Me.type==="file")var gt=bS;else if(mS(Me))if(yS)gt=JL;else{gt=QL;var pr=YL}else De=Me.nodeName,!De||De.toLowerCase()!=="input"||Me.type!=="checkbox"&&Me.type!=="radio"?Ee&&Ii(Ee.elementType)&&(gt=bS):gt=ZL;if(gt&&(gt=gt(p,Ee))){gS(He,gt,S,Le);break e}pr&&pr(p,Me,Ee),p==="focusout"&&Ee&&Me.type==="number"&&Ee.memoizedProps.value!=null&&Ti(Me,"number",Me.value)}switch(pr=Ee?Gr(Ee):window,p){case"focusin":(mS(pr)||pr.contentEditable==="true")&&(Gc=pr,zy=Ee,ph=null);break;case"focusout":ph=zy=Gc=null;break;case"mousedown":qy=!0;break;case"contextmenu":case"mouseup":case"dragend":qy=!1,TS(He,S,Le);break;case"selectionchange":if(rF)break;case"keydown":case"keyup":TS(He,S,Le)}var Nt;if(Yt)e:{switch(p){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Oa?ja(p,S)&&(Vt="onCompositionEnd"):p==="keydown"&&S.keyCode===229&&(Vt="onCompositionStart");Vt&&(xn&&S.locale!=="ko"&&(Oa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Oa&&(Nt=hm()):(ea=Le,Wr="value"in ea?ea.value:ea.textContent,Oa=!0)),pr=n0(Ee,Vt),0<pr.length&&(Vt=new lh(Vt,p,null,S,Le),He.push({event:Vt,listeners:pr}),Nt?Vt.data=Nt:(Nt=Ca(S),Nt!==null&&(Vt.data=Nt)))),(Nt=Pr?uh(p,S):GL(p,S))&&(Vt=n0(Ee,"onBeforeInput"),0<Vt.length&&(pr=new lh("onBeforeInput","beforeinput",null,S,Le),He.push({event:pr,listeners:Vt}),pr.data=Nt)),LF(He,p,Ee,S,Le)}zA(He,b)})}function zh(p,b,S){return{instance:p,listener:b,currentTarget:S}}function n0(p,b){for(var S=b+"Capture",M=[];p!==null;){var G=p,X=G.stateNode;G=G.tag,G!==5&&G!==26&&G!==27||X===null||(G=ka(p,S),G!=null&&M.unshift(zh(p,G,X)),G=ka(p,b),G!=null&&M.push(zh(p,G,X))),p=p.return}return M}function mu(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function UA(p,b,S,M,G){for(var X=b._reactName,ie=[];S!==null&&S!==M;){var ce=S,be=ce.alternate,Ee=ce.stateNode;if(ce=ce.tag,be!==null&&be===M)break;ce!==5&&ce!==26&&ce!==27||Ee===null||(be=Ee,G?(Ee=ka(S,X),Ee!=null&&ie.unshift(zh(S,Ee,be))):G||(Ee=ka(S,X),Ee!=null&&ie.push(zh(S,Ee,be)))),S=S.return}ie.length!==0&&p.push({event:b,listeners:ie})}var zF=/\r\n?/g,qF=/\u0000|\uFFFD/g;function HA(p){return(typeof p=="string"?p:""+p).replace(zF,`
`).replace(qF,"")}function KA(p,b){return b=HA(b),HA(p)===b}function i0(){}function Fr(p,b,S,M,G,X){switch(S){case"children":typeof M=="string"?b==="body"||b==="textarea"&&M===""||an(p,M):(typeof M=="number"||typeof M=="bigint")&&b!=="body"&&an(p,""+M);break;case"className":Xt(p,"class",M);break;case"tabIndex":Xt(p,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(p,S,M);break;case"style":Ka(p,M,X);break;case"data":if(b!=="object"){Xt(p,"data",M);break}case"src":case"href":if(M===""&&(b!=="a"||S!=="href")){p.removeAttribute(S);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){p.removeAttribute(S);break}M=Aa(""+M),p.setAttribute(S,M);break;case"action":case"formAction":if(typeof M=="function"){p.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X=="function"&&(S==="formAction"?(b!=="input"&&Fr(p,b,"name",G.name,G,null),Fr(p,b,"formEncType",G.formEncType,G,null),Fr(p,b,"formMethod",G.formMethod,G,null),Fr(p,b,"formTarget",G.formTarget,G,null)):(Fr(p,b,"encType",G.encType,G,null),Fr(p,b,"method",G.method,G,null),Fr(p,b,"target",G.target,G,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){p.removeAttribute(S);break}M=Aa(""+M),p.setAttribute(S,M);break;case"onClick":M!=null&&(p.onclick=i0);break;case"onScroll":M!=null&&wr("scroll",p);break;case"onScrollEnd":M!=null&&wr("scrollend",p);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(S=M.__html,S!=null){if(G.children!=null)throw Error(n(60));p.innerHTML=S}}break;case"multiple":p.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":p.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){p.removeAttribute("xlink:href");break}S=Aa(""+M),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?p.setAttribute(S,""+M):p.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?p.setAttribute(S,""):p.removeAttribute(S);break;case"capture":case"download":M===!0?p.setAttribute(S,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?p.setAttribute(S,M):p.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?p.setAttribute(S,M):p.removeAttribute(S);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?p.removeAttribute(S):p.setAttribute(S,M);break;case"popover":wr("beforetoggle",p),wr("toggle",p),mr(p,"popover",M);break;case"xlinkActuate":$t(p,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":$t(p,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":$t(p,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":$t(p,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":$t(p,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":$t(p,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":$t(p,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":$t(p,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":$t(p,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":mr(p,"is",M);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=Pi.get(S)||S,mr(p,S,M))}}function h1(p,b,S,M,G,X){switch(S){case"style":Ka(p,M,X);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(S=M.__html,S!=null){if(G.children!=null)throw Error(n(60));p.innerHTML=S}}break;case"children":typeof M=="string"?an(p,M):(typeof M=="number"||typeof M=="bigint")&&an(p,""+M);break;case"onScroll":M!=null&&wr("scroll",p);break;case"onScrollEnd":M!=null&&wr("scrollend",p);break;case"onClick":M!=null&&(p.onclick=i0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qe.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(G=S.endsWith("Capture"),b=S.slice(2,G?S.length-7:void 0),X=p[ft]||null,X=X!=null?X[S]:null,typeof X=="function"&&p.removeEventListener(b,X,G),typeof M=="function")){typeof X!="function"&&X!==null&&(S in p?p[S]=null:p.hasAttribute(S)&&p.removeAttribute(S)),p.addEventListener(b,M,G);break e}S in p?p[S]=M:M===!0?p.setAttribute(S,""):mr(p,S,M)}}}function Jn(p,b,S){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wr("error",p),wr("load",p);var M=!1,G=!1,X;for(X in S)if(S.hasOwnProperty(X)){var ie=S[X];if(ie!=null)switch(X){case"src":M=!0;break;case"srcSet":G=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,b));default:Fr(p,b,X,ie,S,null)}}G&&Fr(p,b,"srcSet",S.srcSet,S,null),M&&Fr(p,b,"src",S.src,S,null);return;case"input":wr("invalid",p);var ce=X=ie=G=null,be=null,Ee=null;for(M in S)if(S.hasOwnProperty(M)){var Le=S[M];if(Le!=null)switch(M){case"name":G=Le;break;case"type":ie=Le;break;case"checked":be=Le;break;case"defaultChecked":Ee=Le;break;case"value":X=Le;break;case"defaultValue":ce=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(n(137,b));break;default:Fr(p,b,M,Le,S,null)}}fr(p,X,ce,be,Ee,ie,G,!1),rr(p);return;case"select":wr("invalid",p),M=ie=X=null;for(G in S)if(S.hasOwnProperty(G)&&(ce=S[G],ce!=null))switch(G){case"value":X=ce;break;case"defaultValue":ie=ce;break;case"multiple":M=ce;default:Fr(p,b,G,ce,S,null)}b=X,S=ie,p.multiple=!!M,b!=null?ri(p,!!M,b,!1):S!=null&&ri(p,!!M,S,!0);return;case"textarea":wr("invalid",p),X=G=M=null;for(ie in S)if(S.hasOwnProperty(ie)&&(ce=S[ie],ce!=null))switch(ie){case"value":M=ce;break;case"defaultValue":G=ce;break;case"children":X=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(91));break;default:Fr(p,b,ie,ce,S,null)}hn(p,M,G,X),rr(p);return;case"option":for(be in S)if(S.hasOwnProperty(be)&&(M=S[be],M!=null))switch(be){case"selected":p.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Fr(p,b,be,M,S,null)}return;case"dialog":wr("cancel",p),wr("close",p);break;case"iframe":case"object":wr("load",p);break;case"video":case"audio":for(M=0;M<Vh.length;M++)wr(Vh[M],p);break;case"image":wr("error",p),wr("load",p);break;case"details":wr("toggle",p);break;case"embed":case"source":case"link":wr("error",p),wr("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in S)if(S.hasOwnProperty(Ee)&&(M=S[Ee],M!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,b));default:Fr(p,b,Ee,M,S,null)}return;default:if(Ii(b)){for(Le in S)S.hasOwnProperty(Le)&&(M=S[Le],M!==void 0&&h1(p,b,Le,M,S,void 0));return}}for(ce in S)S.hasOwnProperty(ce)&&(M=S[ce],M!=null&&Fr(p,b,ce,M,S,null))}function UF(p,b,S,M){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var G=null,X=null,ie=null,ce=null,be=null,Ee=null,Le=null;for(De in S){var He=S[De];if(S.hasOwnProperty(De)&&He!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":be=He;default:M.hasOwnProperty(De)||Fr(p,b,De,null,M,He)}}for(var Me in M){var De=M[Me];if(He=S[Me],M.hasOwnProperty(Me)&&(De!=null||He!=null))switch(Me){case"type":X=De;break;case"name":G=De;break;case"checked":Ee=De;break;case"defaultChecked":Le=De;break;case"value":ie=De;break;case"defaultValue":ce=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,b));break;default:De!==He&&Fr(p,b,Me,De,M,He)}}gr(p,ie,ce,be,Ee,Le,X,G);return;case"select":De=ie=ce=Me=null;for(X in S)if(be=S[X],S.hasOwnProperty(X)&&be!=null)switch(X){case"value":break;case"multiple":De=be;default:M.hasOwnProperty(X)||Fr(p,b,X,null,M,be)}for(G in M)if(X=M[G],be=S[G],M.hasOwnProperty(G)&&(X!=null||be!=null))switch(G){case"value":Me=X;break;case"defaultValue":ce=X;break;case"multiple":ie=X;default:X!==be&&Fr(p,b,G,X,M,be)}b=ce,S=ie,M=De,Me!=null?ri(p,!!S,Me,!1):!!M!=!!S&&(b!=null?ri(p,!!S,b,!0):ri(p,!!S,S?[]:"",!1));return;case"textarea":De=Me=null;for(ce in S)if(G=S[ce],S.hasOwnProperty(ce)&&G!=null&&!M.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Fr(p,b,ce,null,M,G)}for(ie in M)if(G=M[ie],X=S[ie],M.hasOwnProperty(ie)&&(G!=null||X!=null))switch(ie){case"value":Me=G;break;case"defaultValue":De=G;break;case"children":break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:G!==X&&Fr(p,b,ie,G,M,X)}ys(p,Me,De);return;case"option":for(var Et in S)if(Me=S[Et],S.hasOwnProperty(Et)&&Me!=null&&!M.hasOwnProperty(Et))switch(Et){case"selected":p.selected=!1;break;default:Fr(p,b,Et,null,M,Me)}for(be in M)if(Me=M[be],De=S[be],M.hasOwnProperty(be)&&Me!==De&&(Me!=null||De!=null))switch(be){case"selected":p.selected=Me&&typeof Me!="function"&&typeof Me!="symbol";break;default:Fr(p,b,be,Me,M,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in S)Me=S[Qt],S.hasOwnProperty(Qt)&&Me!=null&&!M.hasOwnProperty(Qt)&&Fr(p,b,Qt,null,M,Me);for(Ee in M)if(Me=M[Ee],De=S[Ee],M.hasOwnProperty(Ee)&&Me!==De&&(Me!=null||De!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,b));break;default:Fr(p,b,Ee,Me,M,De)}return;default:if(Ii(b)){for(var mn in S)Me=S[mn],S.hasOwnProperty(mn)&&Me!==void 0&&!M.hasOwnProperty(mn)&&h1(p,b,mn,void 0,M,Me);for(Le in M)Me=M[Le],De=S[Le],!M.hasOwnProperty(Le)||Me===De||Me===void 0&&De===void 0||h1(p,b,Le,Me,M,De);return}}for(var ke in S)Me=S[ke],S.hasOwnProperty(ke)&&Me!=null&&!M.hasOwnProperty(ke)&&Fr(p,b,ke,null,M,Me);for(He in M)Me=M[He],De=S[He],!M.hasOwnProperty(He)||Me===De||Me==null&&De==null||Fr(p,b,He,Me,M,De)}var d1=null,p1=null;function a0(p){return p.nodeType===9?p:p.ownerDocument}function GA(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WA(p,b){if(p===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&b==="foreignObject"?0:p}function m1(p,b){return p==="textarea"||p==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var g1=null;function HF(){var p=window.event;return p&&p.type==="popstate"?p===g1?!1:(g1=p,!0):(g1=null,!1)}var XA=typeof setTimeout=="function"?setTimeout:void 0,KF=typeof clearTimeout=="function"?clearTimeout:void 0,YA=typeof Promise=="function"?Promise:void 0,GF=typeof queueMicrotask=="function"?queueMicrotask:typeof YA<"u"?function(p){return YA.resolve(null).then(p).catch(WF)}:XA;function WF(p){setTimeout(function(){throw p})}function b1(p,b){var S=b,M=0;do{var G=S.nextSibling;if(p.removeChild(S),G&&G.nodeType===8)if(S=G.data,S==="/$"){if(M===0){p.removeChild(G),Yh(b);return}M--}else S!=="$"&&S!=="$?"&&S!=="$!"||M++;S=G}while(S);Yh(b)}function y1(p){var b=p.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var S=b;switch(b=b.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":y1(S),xr(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}p.removeChild(S)}}function XF(p,b,S,M){for(;p.nodeType===1;){var G=S;if(p.nodeName.toLowerCase()!==b.toLowerCase()){if(!M&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(M){if(!p[Or])switch(b){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(X=p.getAttribute("rel"),X==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(X!==G.rel||p.getAttribute("href")!==(G.href==null?null:G.href)||p.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin)||p.getAttribute("title")!==(G.title==null?null:G.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(X=p.getAttribute("src"),(X!==(G.src==null?null:G.src)||p.getAttribute("type")!==(G.type==null?null:G.type)||p.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin))&&X&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(b==="input"&&p.type==="hidden"){var X=G.name==null?null:""+G.name;if(G.type==="hidden"&&p.getAttribute("name")===X)return p}else return p;if(p=Ia(p.nextSibling),p===null)break}return null}function YF(p,b,S){if(b==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!S||(p=Ia(p.nextSibling),p===null))return null;return p}function Ia(p){for(;p!=null;p=p.nextSibling){var b=p.nodeType;if(b===1||b===3)break;if(b===8){if(b=p.data,b==="$"||b==="$!"||b==="$?"||b==="F!"||b==="F")break;if(b==="/$")return null}}return p}function QA(p){p=p.previousSibling;for(var b=0;p;){if(p.nodeType===8){var S=p.data;if(S==="$"||S==="$!"||S==="$?"){if(b===0)return p;b--}else S==="/$"&&b++}p=p.previousSibling}return null}function ZA(p,b,S){switch(b=a0(S),p){case"html":if(p=b.documentElement,!p)throw Error(n(452));return p;case"head":if(p=b.head,!p)throw Error(n(453));return p;case"body":if(p=b.body,!p)throw Error(n(454));return p;default:throw Error(n(451))}}var ua=new Map,JA=new Set;function s0(p){return typeof p.getRootNode=="function"?p.getRootNode():p.ownerDocument}var Ds=Z.d;Z.d={f:QF,r:ZF,D:JF,C:e$,L:t$,m:r$,X:i$,S:n$,M:a$};function QF(){var p=Ds.f(),b=Zm();return p||b}function ZF(p){var b=Mr(p);b!==null&&b.tag===5&&b.type==="form"?T8(b):Ds.r(p)}var gu=typeof document>"u"?null:document;function eE(p,b,S){var M=gu;if(M&&typeof b=="string"&&b){var G=vn(b);G='link[rel="'+p+'"][href="'+G+'"]',typeof S=="string"&&(G+='[crossorigin="'+S+'"]'),JA.has(G)||(JA.add(G),p={rel:p,crossOrigin:S,href:b},M.querySelector(G)===null&&(b=M.createElement("link"),Jn(b,"link",p),Ae(b),M.head.appendChild(b)))}}function JF(p){Ds.D(p),eE("dns-prefetch",p,null)}function e$(p,b){Ds.C(p,b),eE("preconnect",p,b)}function t$(p,b,S){Ds.L(p,b,S);var M=gu;if(M&&p&&b){var G='link[rel="preload"][as="'+vn(b)+'"]';b==="image"&&S&&S.imageSrcSet?(G+='[imagesrcset="'+vn(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(G+='[imagesizes="'+vn(S.imageSizes)+'"]')):G+='[href="'+vn(p)+'"]';var X=G;switch(b){case"style":X=bu(p);break;case"script":X=yu(p)}ua.has(X)||(p=L({rel:"preload",href:b==="image"&&S&&S.imageSrcSet?void 0:p,as:b},S),ua.set(X,p),M.querySelector(G)!==null||b==="style"&&M.querySelector(qh(X))||b==="script"&&M.querySelector(Uh(X))||(b=M.createElement("link"),Jn(b,"link",p),Ae(b),M.head.appendChild(b)))}}function r$(p,b){Ds.m(p,b);var S=gu;if(S&&p){var M=b&&typeof b.as=="string"?b.as:"script",G='link[rel="modulepreload"][as="'+vn(M)+'"][href="'+vn(p)+'"]',X=G;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=yu(p)}if(!ua.has(X)&&(p=L({rel:"modulepreload",href:p},b),ua.set(X,p),S.querySelector(G)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(Uh(X)))return}M=S.createElement("link"),Jn(M,"link",p),Ae(M),S.head.appendChild(M)}}}function n$(p,b,S){Ds.S(p,b,S);var M=gu;if(M&&p){var G=de(M).hoistableStyles,X=bu(p);b=b||"default";var ie=G.get(X);if(!ie){var ce={loading:0,preload:null};if(ie=M.querySelector(qh(X)))ce.loading=5;else{p=L({rel:"stylesheet",href:p,"data-precedence":b},S),(S=ua.get(X))&&v1(p,S);var be=ie=M.createElement("link");Ae(be),Jn(be,"link",p),be._p=new Promise(function(Ee,Le){be.onload=Ee,be.onerror=Le}),be.addEventListener("load",function(){ce.loading|=1}),be.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,o0(ie,b,M)}ie={type:"stylesheet",instance:ie,count:1,state:ce},G.set(X,ie)}}}function i$(p,b){Ds.X(p,b);var S=gu;if(S&&p){var M=de(S).hoistableScripts,G=yu(p),X=M.get(G);X||(X=S.querySelector(Uh(G)),X||(p=L({src:p,async:!0},b),(b=ua.get(G))&&x1(p,b),X=S.createElement("script"),Ae(X),Jn(X,"link",p),S.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},M.set(G,X))}}function a$(p,b){Ds.M(p,b);var S=gu;if(S&&p){var M=de(S).hoistableScripts,G=yu(p),X=M.get(G);X||(X=S.querySelector(Uh(G)),X||(p=L({src:p,async:!0,type:"module"},b),(b=ua.get(G))&&x1(p,b),X=S.createElement("script"),Ae(X),Jn(X,"link",p),S.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},M.set(G,X))}}function tE(p,b,S,M){var G=(G=ne.current)?s0(G):null;if(!G)throw Error(n(446));switch(p){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(b=bu(S.href),S=de(G).hoistableStyles,M=S.get(b),M||(M={type:"style",instance:null,count:0,state:null},S.set(b,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){p=bu(S.href);var X=de(G).hoistableStyles,ie=X.get(p);if(ie||(G=G.ownerDocument||G,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},X.set(p,ie),(X=G.querySelector(qh(p)))&&!X._p&&(ie.instance=X,ie.state.loading=5),ua.has(p)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},ua.set(p,S),X||s$(G,p,S,ie.state))),b&&M===null)throw Error(n(528,""));return ie}if(b&&M!==null)throw Error(n(529,""));return null;case"script":return b=S.async,S=S.src,typeof S=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=yu(S),S=de(G).hoistableScripts,M=S.get(b),M||(M={type:"script",instance:null,count:0,state:null},S.set(b,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,p))}}function bu(p){return'href="'+vn(p)+'"'}function qh(p){return'link[rel="stylesheet"]['+p+"]"}function rE(p){return L({},p,{"data-precedence":p.precedence,precedence:null})}function s$(p,b,S,M){p.querySelector('link[rel="preload"][as="style"]['+b+"]")?M.loading=1:(b=p.createElement("link"),M.preload=b,b.addEventListener("load",function(){return M.loading|=1}),b.addEventListener("error",function(){return M.loading|=2}),Jn(b,"link",S),Ae(b),p.head.appendChild(b))}function yu(p){return'[src="'+vn(p)+'"]'}function Uh(p){return"script[async]"+p}function nE(p,b,S){if(b.count++,b.instance===null)switch(b.type){case"style":var M=p.querySelector('style[data-href~="'+vn(S.href)+'"]');if(M)return b.instance=M,Ae(M),M;var G=L({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return M=(p.ownerDocument||p).createElement("style"),Ae(M),Jn(M,"style",G),o0(M,S.precedence,p),b.instance=M;case"stylesheet":G=bu(S.href);var X=p.querySelector(qh(G));if(X)return b.state.loading|=4,b.instance=X,Ae(X),X;M=rE(S),(G=ua.get(G))&&v1(M,G),X=(p.ownerDocument||p).createElement("link"),Ae(X);var ie=X;return ie._p=new Promise(function(ce,be){ie.onload=ce,ie.onerror=be}),Jn(X,"link",M),b.state.loading|=4,o0(X,S.precedence,p),b.instance=X;case"script":return X=yu(S.src),(G=p.querySelector(Uh(X)))?(b.instance=G,Ae(G),G):(M=S,(G=ua.get(X))&&(M=L({},S),x1(M,G)),p=p.ownerDocument||p,G=p.createElement("script"),Ae(G),Jn(G,"link",M),p.head.appendChild(G),b.instance=G);case"void":return null;default:throw Error(n(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(M=b.instance,b.state.loading|=4,o0(M,S.precedence,p));return b.instance}function o0(p,b,S){for(var M=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),G=M.length?M[M.length-1]:null,X=G,ie=0;ie<M.length;ie++){var ce=M[ie];if(ce.dataset.precedence===b)X=ce;else if(X!==G)break}X?X.parentNode.insertBefore(p,X.nextSibling):(b=S.nodeType===9?S.head:S,b.insertBefore(p,b.firstChild))}function v1(p,b){p.crossOrigin==null&&(p.crossOrigin=b.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=b.referrerPolicy),p.title==null&&(p.title=b.title)}function x1(p,b){p.crossOrigin==null&&(p.crossOrigin=b.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=b.referrerPolicy),p.integrity==null&&(p.integrity=b.integrity)}var l0=null;function iE(p,b,S){if(l0===null){var M=new Map,G=l0=new Map;G.set(S,M)}else G=l0,M=G.get(S),M||(M=new Map,G.set(S,M));if(M.has(p))return M;for(M.set(p,null),S=S.getElementsByTagName(p),G=0;G<S.length;G++){var X=S[G];if(!(X[Or]||X[Ge]||p==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=X.getAttribute(b)||"";ie=p+ie;var ce=M.get(ie);ce?ce.push(X):M.set(ie,[X])}}return M}function aE(p,b,S){p=p.ownerDocument||p,p.head.insertBefore(S,b==="title"?p.querySelector("head > title"):null)}function o$(p,b,S){if(S===1||b.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;switch(b.rel){case"stylesheet":return p=b.disabled,typeof b.precedence=="string"&&p==null;default:return!0}case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function sE(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}var Hh=null;function l$(){}function c$(p,b,S){if(Hh===null)throw Error(n(475));var M=Hh;if(b.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var G=bu(S.href),X=p.querySelector(qh(G));if(X){p=X._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(M.count++,M=c0.bind(M),p.then(M,M)),b.state.loading|=4,b.instance=X,Ae(X);return}X=p.ownerDocument||p,S=rE(S),(G=ua.get(G))&&v1(S,G),X=X.createElement("link"),Ae(X);var ie=X;ie._p=new Promise(function(ce,be){ie.onload=ce,ie.onerror=be}),Jn(X,"link",S),b.instance=X}M.stylesheets===null&&(M.stylesheets=new Map),M.stylesheets.set(b,p),(p=b.state.preload)&&(b.state.loading&3)===0&&(M.count++,b=c0.bind(M),p.addEventListener("load",b),p.addEventListener("error",b))}}function u$(){if(Hh===null)throw Error(n(475));var p=Hh;return p.stylesheets&&p.count===0&&w1(p,p.stylesheets),0<p.count?function(b){var S=setTimeout(function(){if(p.stylesheets&&w1(p,p.stylesheets),p.unsuspend){var M=p.unsuspend;p.unsuspend=null,M()}},6e4);return p.unsuspend=b,function(){p.unsuspend=null,clearTimeout(S)}}:null}function c0(){if(this.count--,this.count===0){if(this.stylesheets)w1(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var u0=null;function w1(p,b){p.stylesheets=null,p.unsuspend!==null&&(p.count++,u0=new Map,b.forEach(f$,p),u0=null,c0.call(p))}function f$(p,b){if(!(b.state.loading&4)){var S=u0.get(p);if(S)var M=S.get(null);else{S=new Map,u0.set(p,S);for(var G=p.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<G.length;X++){var ie=G[X];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(S.set(ie.dataset.precedence,ie),M=ie)}M&&S.set(null,M)}G=b.instance,ie=G.getAttribute("data-precedence"),X=S.get(ie)||M,X===M&&S.set(null,G),S.set(ie,G),this.count++,M=c0.bind(this),G.addEventListener("load",M),G.addEventListener("error",M),X?X.parentNode.insertBefore(G,X.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(G,p.firstChild)),b.state.loading|=4}}var Kh={$$typeof:d,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function h$(p,b,S,M,G,X,ie,ce){this.tag=1,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=M,this.onUncaughtError=G,this.onCaughtError=X,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function oE(p,b,S,M,G,X,ie,ce,be,Ee,Le,He){return p=new h$(p,b,S,ie,ce,be,Ee,He),b=1,X===!0&&(b|=24),X=la(3,null,null,b),p.current=X,X.stateNode=p,b=Jy(),b.refCount++,p.pooledCache=b,b.refCount++,X.memoizedState={element:M,isDehydrated:S,cache:b},Rv(X),p}function lE(p){return p?(p=Yc,p):Yc}function cE(p,b,S,M,G,X){G=lE(G),M.context===null?M.context=G:M.pendingContext=G,M=go(b),M.payload={element:S},X=X===void 0?null:X,X!==null&&(M.callback=X),S=bo(p,M,b),S!==null&&(yi(S,p,b),Ch(S,p,b))}function uE(p,b){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<b?S:b}}function _1(p,b){uE(p,b),(p=p.alternate)&&uE(p,b)}function fE(p){if(p.tag===13){var b=lo(p,67108864);b!==null&&yi(b,p,67108864),_1(p,67108864)}}var f0=!0;function d$(p,b,S,M){var G=B.T;B.T=null;var X=Z.p;try{Z.p=2,S1(p,b,S,M)}finally{Z.p=X,B.T=G}}function p$(p,b,S,M){var G=B.T;B.T=null;var X=Z.p;try{Z.p=8,S1(p,b,S,M)}finally{Z.p=X,B.T=G}}function S1(p,b,S,M){if(f0){var G=A1(M);if(G===null)f1(p,b,M,h0,S),dE(p,M);else if(g$(G,p,b,S,M))M.stopPropagation();else if(dE(p,M),b&4&&-1<m$.indexOf(p)){for(;G!==null;){var X=Mr(G);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var ie=jt(X.pendingLanes);if(ie!==0){var ce=X;for(ce.pendingLanes|=2,ce.entangledLanes|=2;ie;){var be=1<<31-rt(ie);ce.entanglements[1]|=be,ie&=~be}es(X),(cn&6)===0&&(Xm=Re()+500,$h(0))}}break;case 13:ce=lo(X,2),ce!==null&&yi(ce,X,2),Zm(),_1(X,2)}if(X=A1(M),X===null&&f1(p,b,M,h0,S),X===G)break;G=X}G!==null&&M.stopPropagation()}else f1(p,b,M,null,S)}}function A1(p){return p=Ga(p),E1(p)}var h0=null;function E1(p){if(h0=null,p=Nr(p),p!==null){var b=A(p);if(b===null)p=null;else{var S=b.tag;if(S===13){if(p=j(b),p!==null)return p;p=null}else if(S===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;p=null}else b!==p&&(p=null)}}return h0=p,null}function hE(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($e()){case tt:return 2;case et:return 8;case Ye:case wt:return 32;case bt:return 268435456;default:return 32}default:return 32}}var T1=!1,Ao=null,Eo=null,To=null,Gh=new Map,Wh=new Map,ko=[],m$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(p,b){switch(p){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Gh.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wh.delete(b.pointerId)}}function Xh(p,b,S,M,G,X){return p===null||p.nativeEvent!==X?(p={blockedOn:b,domEventName:S,eventSystemFlags:M,nativeEvent:X,targetContainers:[G]},b!==null&&(b=Mr(b),b!==null&&fE(b)),p):(p.eventSystemFlags|=M,b=p.targetContainers,G!==null&&b.indexOf(G)===-1&&b.push(G),p)}function g$(p,b,S,M,G){switch(b){case"focusin":return Ao=Xh(Ao,p,b,S,M,G),!0;case"dragenter":return Eo=Xh(Eo,p,b,S,M,G),!0;case"mouseover":return To=Xh(To,p,b,S,M,G),!0;case"pointerover":var X=G.pointerId;return Gh.set(X,Xh(Gh.get(X)||null,p,b,S,M,G)),!0;case"gotpointercapture":return X=G.pointerId,Wh.set(X,Xh(Wh.get(X)||null,p,b,S,M,G)),!0}return!1}function pE(p){var b=Nr(p.target);if(b!==null){var S=A(b);if(S!==null){if(b=S.tag,b===13){if(b=j(S),b!==null){p.blockedOn=b,Je(p.priority,function(){if(S.tag===13){var M=zi(),G=lo(S,M);G!==null&&yi(G,S,M),_1(S,M)}});return}}else if(b===3&&S.stateNode.current.memoizedState.isDehydrated){p.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}p.blockedOn=null}function d0(p){if(p.blockedOn!==null)return!1;for(var b=p.targetContainers;0<b.length;){var S=A1(p.nativeEvent);if(S===null){S=p.nativeEvent;var M=new S.constructor(S.type,S);vs=M,S.target.dispatchEvent(M),vs=null}else return b=Mr(S),b!==null&&fE(b),p.blockedOn=S,!1;b.shift()}return!0}function mE(p,b,S){d0(p)&&S.delete(b)}function b$(){T1=!1,Ao!==null&&d0(Ao)&&(Ao=null),Eo!==null&&d0(Eo)&&(Eo=null),To!==null&&d0(To)&&(To=null),Gh.forEach(mE),Wh.forEach(mE)}function p0(p,b){p.blockedOn===b&&(p.blockedOn=null,T1||(T1=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b$)))}var m0=null;function gE(p){m0!==p&&(m0=p,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){m0===p&&(m0=null);for(var b=0;b<p.length;b+=3){var S=p[b],M=p[b+1],G=p[b+2];if(typeof M!="function"){if(E1(M||S)===null)continue;break}var X=Mr(S);X!==null&&(p.splice(b,3),b-=3,mv(X,{pending:!0,data:G,method:S.method,action:M},M,G))}}))}function Yh(p){function b(be){return p0(be,p)}Ao!==null&&p0(Ao,p),Eo!==null&&p0(Eo,p),To!==null&&p0(To,p),Gh.forEach(b),Wh.forEach(b);for(var S=0;S<ko.length;S++){var M=ko[S];M.blockedOn===p&&(M.blockedOn=null)}for(;0<ko.length&&(S=ko[0],S.blockedOn===null);)pE(S),S.blockedOn===null&&ko.shift();if(S=(p.ownerDocument||p).$$reactFormReplay,S!=null)for(M=0;M<S.length;M+=3){var G=S[M],X=S[M+1],ie=G[ft]||null;if(typeof X=="function")ie||gE(S);else if(ie){var ce=null;if(X&&X.hasAttribute("formAction")){if(G=X,ie=X[ft]||null)ce=ie.formAction;else if(E1(G)!==null)continue}else ce=ie.action;typeof ce=="function"?S[M+1]=ce:(S.splice(M,3),M-=3),gE(S)}}}function k1(p){this._internalRoot=p}g0.prototype.render=k1.prototype.render=function(p){var b=this._internalRoot;if(b===null)throw Error(n(409));var S=b.current,M=zi();cE(S,M,p,b,null,null)},g0.prototype.unmount=k1.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var b=p.containerInfo;p.tag===0&&du(),cE(p.current,2,null,p,null,null),Zm(),b[mt]=null}};function g0(p){this._internalRoot=p}g0.prototype.unstable_scheduleHydration=function(p){if(p){var b=Pe();p={blockedOn:null,target:p,priority:b};for(var S=0;S<ko.length&&b!==0&&b<ko[S].priority;S++);ko.splice(S,0,p),S===0&&pE(p)}};var bE=e.version;if(bE!=="19.0.0")throw Error(n(527,bE,"19.0.0"));Z.findDOMNode=function(p){var b=p._reactInternals;if(b===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=q(b),p=p!==null?H(p):null,p=p===null?null:p.stateNode,p};var y$={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:Nr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var b0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b0.isDisabled&&b0.supportsFiber)try{Ze=b0.inject(y$),Ue=b0}catch{}}return Zh.createRoot=function(p,b){if(!i(p))throw Error(n(299));var S=!1,M="",G=I8,X=P8,ie=D8,ce=null;return b!=null&&(b.unstable_strictMode===!0&&(S=!0),b.identifierPrefix!==void 0&&(M=b.identifierPrefix),b.onUncaughtError!==void 0&&(G=b.onUncaughtError),b.onCaughtError!==void 0&&(X=b.onCaughtError),b.onRecoverableError!==void 0&&(ie=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(ce=b.unstable_transitionCallbacks)),b=oE(p,1,!1,null,null,S,M,G,X,ie,ce,null),p[mt]=b.current,u1(p.nodeType===8?p.parentNode:p),new k1(b)},Zh.hydrateRoot=function(p,b,S){if(!i(p))throw Error(n(299));var M=!1,G="",X=I8,ie=P8,ce=D8,be=null,Ee=null;return S!=null&&(S.unstable_strictMode===!0&&(M=!0),S.identifierPrefix!==void 0&&(G=S.identifierPrefix),S.onUncaughtError!==void 0&&(X=S.onUncaughtError),S.onCaughtError!==void 0&&(ie=S.onCaughtError),S.onRecoverableError!==void 0&&(ce=S.onRecoverableError),S.unstable_transitionCallbacks!==void 0&&(be=S.unstable_transitionCallbacks),S.formState!==void 0&&(Ee=S.formState)),b=oE(p,1,!0,b,S??null,M,G,X,ie,ce,be,Ee),b.context=lE(null),S=b.current,M=zi(),G=go(M),G.callback=null,bo(S,G,M),b.current.lanes=M,or(b,M),es(b),p[mt]=b.current,u1(p),new g0(b)},Zh.version="19.0.0",Zh}var kE;function j$(){if(kE)return O1.exports;kE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),O1.exports=k$(),O1.exports}var C$=j$();const O$=Cr(C$);var Tt=(r=>(r.PRODUCTION="production",r.KPI="analytics",r.OEE="efficiency",r.QUALITY="quality",r.PLANNING="planning",r.DELIVERY="delivery",r.ADMIN="admin",r))(Tt||{});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bM=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...c},l)=>ye.createElement("svg",{ref:l,...M$,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:bM("lucide",i),...c},[...s.map(([o,u])=>ye.createElement(o,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(r,e)=>{const t=ye.forwardRef(({className:n,...i},a)=>ye.createElement(R$,{ref:a,iconNode:e,className:bM(`lucide-${N$(r)}`,n),...i}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=it("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=it("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=it("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=it("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=it("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=it("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=it("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=it("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=it("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=it("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=it("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=it("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=it("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=it("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=it("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=it("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=it("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=it("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=it("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=it("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=it("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=it("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=it("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=it("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=it("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=it("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=it("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=it("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=it("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=it("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=it("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=it("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=it("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=it("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=it("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=it("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=it("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=it("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=it("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=it("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=it("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=it("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=it("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=it("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=it("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=it("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=it("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=it("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=it("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=it("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=it("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=it("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=it("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=it("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=it("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=it("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=it("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=it("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=it("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=it("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=it("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=it("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=it("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zl=({icon:r,label:e,active:t,isOpen:n,onClick:i,color:a})=>T.jsxs("button",{onClick:i,className:`group relative flex items-center w-full p-2.5 rounded-xl transition-all duration-300 ${n?"":"justify-center"}`,children:[t&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute inset-0 rounded-xl bg-amber-500/10 dark:bg-amber-500/20"}),T.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-amber-500 to-transparent animate-slide-right"}),T.jsx("div",{className:"absolute bottom-0 right-0 w-full h-[1px] bg-gradient-to-r from-transparent via-amber-500 to-transparent animate-slide-left"})]}),T.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-amber-500 rounded-r-full shadow-[0_0_10px_rgba(245,158,11,0.6)]"})]}),T.jsxs("div",{className:`relative z-10 flex items-center ${t?a:"text-slate-500 dark:text-slate-400 group-hover:text-slate-800 dark:group-hover:text-slate-200"}`,children:[T.jsx("span",{className:`transition-transform duration-300 ${t?"scale-110 drop-shadow-[0_0_8px_rgba(245,158,11,0.5)]":"group-hover:scale-105"}`,children:r}),n&&T.jsx("span",{className:`ml-3 text-xs font-bold tracking-wide transition-colors ${t?"text-slate-800 dark:text-white":""}`,children:e})]}),!n&&T.jsx("span",{className:"absolute left-14 z-50 px-2 py-1 bg-slate-800 text-white text-[10px] font-bold rounded opacity-0 -translate-x-2 pointer-events-none group-hover:opacity-100 group-hover:translate-x-0 transition-all shadow-xl whitespace-nowrap",children:e})]}),bV=({activeTab:r,setActiveTab:e,isSidebarOpen:t,setIsSidebarOpen:n,isDarkMode:i,setIsDarkMode:a,onOpenSyncModal:s,cloudStatus:c,localStatus:l,isCloudEnabled:o})=>T.jsxs("aside",{className:`relative flex h-full flex-col border-r border-slate-200 dark:border-slate-800 bg-white dark:bg-[#0B1121] transition-all duration-300 ease-in-out ${t?"w-64":"w-[70px]"} z-50 shadow-2xl`,children:[T.jsx("button",{onClick:()=>n(u=>!u),className:"absolute -right-3 top-6 z-50 rounded-full text-white p-1 shadow-lg hover:scale-110 transition-transform ring-4 ring-[#FAFAFA] dark:ring-[#020617] bg-indigo-600",children:t?T.jsx(z$,{size:14}):T.jsx(q$,{size:14})}),T.jsx("div",{className:"flex h-[60px] items-center justify-center border-b border-slate-100 dark:border-slate-800/60 mb-2 shrink-0",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`flex items-center justify-center rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 text-white shadow-lg shadow-indigo-500/30 transition-all duration-300 ${t?"h-9 w-9":"h-8 w-8"}`,children:T.jsx(xM,{size:t?18:16})}),t&&T.jsxs("div",{className:"flex flex-col animate-fade-in origin-left",children:[T.jsx("span",{className:"text-base font-black tracking-tight leading-none text-slate-800 dark:text-white",children:"FMJ PRO"}),T.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-[0.2em] mt-0.5",children:"Control Panel"})]})]})}),T.jsxs("nav",{className:"flex-1 overflow-y-auto px-2 py-4 space-y-1.5 scrollbar-none",children:[T.jsx("style",{children:".scrollbar-none::-webkit-scrollbar { display: none; } .scrollbar-none { -ms-overflow-style: none; scrollbar-width: none; }"}),T.jsx(zl,{icon:T.jsx(Wp,{size:18}),label:"Production",active:r===Tt.PRODUCTION,isOpen:t,onClick:()=>e(Tt.PRODUCTION),color:"text-amber-500"}),T.jsx(zl,{icon:T.jsx(Rc,{size:18}),label:"KPI Metrics",active:r===Tt.KPI,isOpen:t,onClick:()=>e(Tt.KPI),color:"text-indigo-500"}),T.jsx(zl,{icon:T.jsx(Ua,{size:18}),label:"OEE Analysis",active:r===Tt.OEE,isOpen:t,onClick:()=>e(Tt.OEE),color:"text-purple-500"}),T.jsx(zl,{icon:T.jsx(f5,{size:18}),label:"Quality",active:r===Tt.QUALITY,isOpen:t,onClick:()=>e(Tt.QUALITY),color:"text-emerald-500"}),T.jsx(zl,{icon:T.jsx(jb,{size:18}),label:"Planning",active:r===Tt.PLANNING,isOpen:t,onClick:()=>e(Tt.PLANNING),color:"text-cyan-500"}),T.jsx(zl,{icon:T.jsx(Nb,{size:18}),label:"Delivery",active:r===Tt.DELIVERY,isOpen:t,onClick:()=>e(Tt.DELIVERY),color:"text-orange-500"}),T.jsx("div",{className:"my-3 border-t border-slate-100 dark:border-slate-800/50 mx-2 opacity-50 shrink-0"}),T.jsx(zl,{icon:T.jsx(v5,{size:18}),label:"Admin",active:r===Tt.ADMIN,isOpen:t,onClick:()=>e(Tt.ADMIN),color:"text-rose-500"})]}),T.jsxs("div",{className:"p-3 border-t border-slate-100 dark:border-slate-800 bg-slate-50/30 dark:bg-slate-900/30 space-y-2 shrink-0",children:[T.jsx("button",{onClick:s,className:"w-full relative group overflow-hidden rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900/50 transition-all duration-200 active:scale-95",children:T.jsxs("div",{className:`flex items-center gap-2 p-2 ${t?"":"justify-center flex-col gap-1"}`,children:[T.jsxs("div",{className:`relative p-1.5 rounded-lg ${l==="success"?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:[T.jsx(p5,{size:14}),T.jsx("div",{className:`absolute -top-0.5 -right-0.5 w-2 h-2 rounded-full border-2 border-white dark:border-slate-900 ${l==="success"?"bg-emerald-500":"bg-rose-500"}`})]}),T.jsxs("div",{className:`relative p-1.5 rounded-lg ${o?c==="success"?"bg-sky-500/10 text-sky-500":c==="syncing"?"bg-amber-500/10 text-amber-500":"bg-rose-500/10 text-rose-500":"bg-slate-500/10 text-slate-400"}`,children:[c==="syncing"?T.jsx(b5,{className:"animate-spin",size:14}):o?T.jsx(i3,{size:14}):T.jsx(n3,{size:14}),o&&T.jsx("div",{className:`absolute -top-0.5 -right-0.5 w-2 h-2 rounded-full border-2 border-white dark:border-slate-900 ${c==="success"?"bg-sky-500":c==="syncing"?"bg-amber-500":"bg-rose-500"}`})]}),t&&T.jsxs("div",{className:"text-left flex-1 min-w-0 ml-1",children:[T.jsx("div",{className:"text-[9px] font-black uppercase tracking-wider text-slate-400",children:"System Status"}),T.jsx("div",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-300 truncate",children:o?c==="success"?"Fully Synced":c==="syncing"?"Syncing...":"Offline":"Local Only"})]})]})}),T.jsxs("button",{onClick:()=>a(u=>!u),className:`w-full flex items-center gap-3 p-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all active:scale-95 ${t?"":"justify-center"}`,children:[T.jsx("div",{className:"p-1.5 rounded-lg bg-slate-100 dark:bg-slate-900 text-slate-600 dark:text-amber-400",children:i?T.jsx(m5,{size:14}):T.jsx(y5,{size:14})}),t&&T.jsxs("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:[i?"Dark":"Light"," Mode"]})]})]})]}),yV=()=>{const[r,e]=ye.useState(new Date);ye.useEffect(()=>{const i=setInterval(()=>e(new Date),1e3);return()=>clearInterval(i)},[]);const t=r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),n=r.toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short",year:"numeric"});return T.jsxs("div",{className:"flex items-center gap-3 px-3 py-1.5 bg-slate-50/80 dark:bg-slate-900/60 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm backdrop-blur-sm group hover:border-amber-500/30 transition-colors",children:[T.jsx("div",{className:"p-1.5 bg-gradient-to-br from-amber-400 to-amber-600 rounded-lg shadow-md shadow-amber-500/20 group-hover:shadow-amber-500/40 transition-shadow",children:T.jsx(Gp,{className:"w-3.5 h-3.5 text-white"})}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-0.5",children:n}),T.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-amber-400 tabular-nums leading-tight tracking-wide",children:t})]})]})},vV=({activeTab:r})=>{const e=n=>{switch(n){case Tt.PRODUCTION:return"text-amber-500";case Tt.KPI:return"text-indigo-500";case Tt.OEE:return"text-purple-500";case Tt.QUALITY:return"text-emerald-500";case Tt.PLANNING:return"text-cyan-500";case Tt.DELIVERY:return"text-orange-500";case Tt.ADMIN:return"text-rose-500";default:return"text-slate-500"}},t={[Tt.PRODUCTION]:"Production Log",[Tt.KPI]:"KPI Dashboard",[Tt.OEE]:"OEE Analytics",[Tt.QUALITY]:"Quality Control",[Tt.PLANNING]:"Production Planning",[Tt.DELIVERY]:"Delivery Schedule",[Tt.ADMIN]:"System Admin"}[r];return T.jsxs("header",{className:"h-16 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-[#0F172A]/80 backdrop-blur-xl flex items-center justify-between px-6 z-40 sticky top-0 shadow-sm shrink-0",children:[T.jsx("div",{className:"flex items-center gap-4",children:T.jsx("div",{children:T.jsxs("h1",{className:`text-base font-black dark:text-white uppercase tracking-tight flex items-center gap-2 ${e(r)}`,children:[r===Tt.QUALITY&&T.jsx(f5,{className:"w-5 h-5"}),r===Tt.PRODUCTION&&T.jsx(Wp,{className:"w-5 h-5"}),r===Tt.KPI&&T.jsx(Rc,{className:"w-5 h-5"}),r===Tt.OEE&&T.jsx(Ua,{className:"w-5 h-5"}),r===Tt.PLANNING&&T.jsx(jb,{className:"w-5 h-5"}),r===Tt.DELIVERY&&T.jsx(Nb,{className:"w-5 h-5"}),r===Tt.ADMIN&&T.jsx(v5,{className:"w-5 h-5"}),t]})})}),T.jsx("div",{className:"flex items-center gap-4",children:T.jsx(yV,{})})]})},AM=({isOpen:r,onClose:e,isCloudEnabled:t,toggleCloudSync:n,cloudStatus:i,localStatus:a,lastSyncTime:s,adminConfig:c})=>{const l=ye.useRef(null),o=()=>{try{const h={adminConfig:c};for(let m=0;m<localStorage.length;m++){const x=localStorage.key(m);if(x&&x.startsWith("fmj_data_")){const v=JSON.parse(localStorage.getItem(x)||"{}");Object.assign(h,v)}}const d=new Blob([JSON.stringify(h,null,2)],{type:"application/json"}),g=URL.createObjectURL(d),y=document.createElement("a");y.href=g,y.download="fmj_backup_full.json",document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g)}catch{alert("Export failed.")}},u=()=>{var h;return(h=l.current)==null?void 0:h.click()},f=h=>{var y;const d=(y=h.target.files)==null?void 0:y[0];if(!d)return;const g=new FileReader;g.onload=m=>{var x;try{const v=JSON.parse((x=m.target)==null?void 0:x.result);if(window.confirm("Restore? This will overwrite local data.")){Object.keys(localStorage).forEach(k=>{(k.startsWith("fmj_data_")||k==="fmj_settings")&&localStorage.removeItem(k)}),v.adminConfig&&localStorage.setItem("fmj_settings",JSON.stringify(v.adminConfig));const _={};Object.keys(v).forEach(k=>{if(k==="adminConfig")return;const N=k.match(/^(\d{4}-\d{2})/);N&&(_[N[1]]||(_[N[1]]={}),_[N[1]][k]=v[k])}),Object.keys(_).forEach(k=>localStorage.setItem(`fmj_data_${k}`,JSON.stringify(_[k]))),window.location.reload()}}catch{alert("Invalid file.")}},g.readAsText(d),h.target.value=""};return r?T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white dark:bg-[#0B1121] w-full max-w-sm rounded-[2rem] shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden ring-1 ring-white/10 scale-100 animate-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800/60 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/30",children:[T.jsx("div",{children:T.jsx("h3",{className:"text-base font-black dark:text-white uppercase tracking-tight",children:"System Status"})}),T.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 text-slate-500 transition-colors",children:T.jsx(zf,{size:18})})]}),T.jsxs("div",{className:"p-6 space-y-5",children:[T.jsxs("div",{className:"p-4 rounded-3xl bg-slate-50 dark:bg-[#151b2e] border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`p-3 rounded-2xl ${t?"bg-sky-500/10 text-sky-500":"bg-slate-500/10 text-slate-400"}`,children:t?T.jsx(i3,{size:24}):T.jsx(n3,{size:24})}),T.jsxs("div",{children:[T.jsx("div",{className:"text-xs font-black uppercase text-slate-600 dark:text-slate-300 tracking-wider",children:"Cloud Sync"}),T.jsx("div",{className:"text-[10px] font-bold text-slate-400 mt-0.5",children:t?"Auto-Backup Enabled":"Local Only"})]})]}),T.jsx("button",{onClick:()=>n(!t),className:"transition-transform active:scale-95 focus:outline-none",children:t?T.jsx(dV,{size:40,className:"text-sky-500 drop-shadow-md"}):T.jsx(hV,{size:40,className:"text-slate-500"})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsxs("div",{className:"p-4 rounded-3xl bg-slate-50 dark:bg-[#151b2e] border border-slate-100 dark:border-slate-800 flex flex-col items-center text-center shadow-sm",children:[T.jsx("div",{className:`p-3 rounded-full mb-3 ${a==="success"?"bg-emerald-500/10 text-emerald-500":"bg-rose-500/10 text-rose-500"}`,children:a==="success"?T.jsx(yM,{size:24}):T.jsx(jE,{size:24})}),T.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500 tracking-wider",children:"Local Storage"}),T.jsx("span",{className:`text-xs font-bold mt-1 ${a==="success"?"text-emerald-500":"text-rose-500"}`,children:a==="success"?"Saved":"Error"})]}),T.jsxs("div",{className:"p-4 rounded-3xl bg-slate-50 dark:bg-[#151b2e] border border-slate-100 dark:border-slate-800 flex flex-col items-center text-center shadow-sm opacity-90",children:[T.jsx("div",{className:`p-3 rounded-full mb-3 ${t?i==="success"?"bg-sky-500/10 text-sky-500":i==="syncing"?"bg-amber-500/10 text-amber-500":"bg-rose-500/10 text-rose-500":"bg-slate-200 dark:bg-slate-800 text-slate-400"}`,children:t?i==="syncing"?T.jsx(b5,{className:"animate-spin",size:24}):i==="success"?T.jsx(i3,{size:24}):T.jsx(jE,{size:24}):T.jsx(n3,{size:24})}),T.jsx("span",{className:"text-[10px] font-black uppercase text-slate-500 tracking-wider",children:"Cloud Status"}),T.jsx("span",{className:`text-xs font-bold mt-1 ${t?i==="success"?"text-sky-500":i==="syncing"?"text-amber-500":"text-rose-500":"text-slate-400"}`,children:t?i==="success"?"Synced":i==="syncing"?"Syncing...":"Offline":"Disabled"})]})]}),t&&T.jsxs("div",{className:"text-center text-[10px] font-bold text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800/40 py-2 rounded-xl border border-slate-200 dark:border-slate-800/50",children:["Last Cloud Sync: ",T.jsx("span",{className:"text-slate-700 dark:text-slate-200 ml-1",children:s||"Pending..."})]}),T.jsxs("div",{className:"pt-2 grid grid-cols-2 gap-3",children:[T.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center gap-1.5 p-4 rounded-3xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all active:scale-95 group shadow-sm hover:shadow-md",children:[T.jsx(Cb,{className:"w-5 h-5 text-emerald-500 mb-1 group-hover:scale-110 transition-transform"}),T.jsx("span",{className:"text-[10px] font-black text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Backup"})]}),T.jsxs("button",{onClick:u,className:"flex flex-col items-center justify-center gap-1.5 p-4 rounded-3xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all active:scale-95 group shadow-sm hover:shadow-md",children:[T.jsx(o3,{className:"w-5 h-5 text-amber-500 mb-1 group-hover:scale-110 transition-transform"}),T.jsx("span",{className:"text-[10px] font-black text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Restore"})]}),T.jsx("input",{type:"file",ref:l,onChange:f,accept:".json",className:"hidden"})]})]})]})}):null},xV=()=>{};var OE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},wV=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],s=r[t++],c=r[t++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=r[t++],s=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},TM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],s=i+1<r.length,c=s?r[i+1]:0,l=i+2<r.length,o=l?r[i+2]:0,u=a>>2,f=(a&3)<<4|c>>4;let h=(c&15)<<2|o>>6,d=o&63;l||(d=64,s||(h=64)),n.push(t[u],t[f],t[h],t[d])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(EM(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wV(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const o=i<r.length?t[r.charAt(i)]:64;++i;const f=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||c==null||o==null||f==null)throw new _V;const h=a<<2|c>>4;if(n.push(h),o!==64){const d=c<<4&240|o>>2;if(n.push(d),f!==64){const g=o<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SV=function(r){const e=EM(r);return TM.encodeByteArray(e,!0)},kM=function(r){return SV(r).replace(/\./g,"")},AV=function(r){try{return TM.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=()=>jM().__FIREBASE_DEFAULTS__,TV=()=>{if(typeof process>"u"||typeof OE>"u")return;const r=OE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kV=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AV(r[1]);return e&&JSON.parse(e)},CM=()=>{try{return xV()||EV()||TV()||kV()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jV=()=>{var r;return(r=CM())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OV(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NM(){var e;const r=(e=CM())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MM(){return!NM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RM(){return!NM()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function IM(){try{return typeof indexedDB=="object"}catch{return!1}}function NV(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="FirebaseError";class qf extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=MV,Object.setPrototypeOf(this,qf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PM.prototype.create)}}class PM{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?RV(a,n):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new qf(i,c,n)}}function RV(r,e){return r.replace(IV,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const IV=/\{\$([^}]+)}/g;function ag(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],s=e[i];if(NE(a)&&NE(s)){if(!ag(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function NE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(r){return r&&r._delegate?r._delegate:r}class Gd{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new CV;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BV(e))try{this.getOrInitializeService({instanceIdentifier:Wl})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Wl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wl){return this.instances.has(e)}getOptions(e=Wl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&s.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:DV(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Wl){return this.component?this.component.multipleInstances?e:Wl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DV(r){return r===Wl?void 0:r}function BV(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Er||(Er={}));const FV={debug:Er.DEBUG,verbose:Er.VERBOSE,info:Er.INFO,warn:Er.WARN,error:Er.ERROR,silent:Er.SILENT},$V=Er.INFO,VV={[Er.DEBUG]:"log",[Er.VERBOSE]:"log",[Er.INFO]:"info",[Er.WARN]:"warn",[Er.ERROR]:"error"},zV=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=VV[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class DM{constructor(e){this.name=e,this._logLevel=$V,this._logHandler=zV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Er.DEBUG,...e),this._logHandler(this,Er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Er.VERBOSE,...e),this._logHandler(this,Er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Er.INFO,...e),this._logHandler(this,Er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Er.WARN,...e),this._logHandler(this,Er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Er.ERROR,...e),this._logHandler(this,Er.ERROR,...e)}}const qV=(r,e)=>e.some(t=>r instanceof t);let ME,RE;function UV(){return ME||(ME=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HV(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BM=new WeakMap,l3=new WeakMap,LM=new WeakMap,I1=new WeakMap,x5=new WeakMap;function KV(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",s)},a=()=>{t(Ho(r.result)),i()},s=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&BM.set(t,r)}).catch(()=>{}),x5.set(e,r),e}function GV(r){if(l3.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",s),r.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",s),r.addEventListener("abort",s)});l3.set(r,e)}let c3={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return l3.get(r);if(e==="objectStoreNames")return r.objectStoreNames||LM.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ho(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WV(r){c3=r(c3)}function XV(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(P1(this),e,...t);return LM.set(n,e.sort?e.sort():[e]),Ho(n)}:HV().includes(r)?function(...e){return r.apply(P1(this),e),Ho(BM.get(this))}:function(...e){return Ho(r.apply(P1(this),e))}}function YV(r){return typeof r=="function"?XV(r):(r instanceof IDBTransaction&&GV(r),qV(r,UV())?new Proxy(r,c3):r)}function Ho(r){if(r instanceof IDBRequest)return KV(r);if(I1.has(r))return I1.get(r);const e=YV(r);return e!==r&&(I1.set(r,e),x5.set(e,r)),e}const P1=r=>x5.get(r);function QV(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(r,e),c=Ho(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ho(s.result),l.oldVersion,l.newVersion,Ho(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",o=>i(o.oldVersion,o.newVersion,o))}).catch(()=>{}),c}const ZV=["get","getKey","getAll","getAllKeys","count"],JV=["put","add","delete","clear"],D1=new Map;function IE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(D1.get(e))return D1.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=JV.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ZV.includes(t)))return;const a=async function(s,...c){const l=this.transaction(s,i?"readwrite":"readonly");let o=l.store;return n&&(o=o.index(c.shift())),(await Promise.all([o[t](...c),i&&l.done]))[0]};return D1.set(e,a),a}WV(r=>({...r,get:(e,t,n)=>IE(e,t)||r.get(e,t,n),has:(e,t)=>!!IE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tz(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function tz(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u3="@firebase/app",PE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new DM("@firebase/app"),rz="@firebase/app-compat",nz="@firebase/analytics-compat",iz="@firebase/analytics",az="@firebase/app-check-compat",sz="@firebase/app-check",oz="@firebase/auth",lz="@firebase/auth-compat",cz="@firebase/database",uz="@firebase/data-connect",fz="@firebase/database-compat",hz="@firebase/functions",dz="@firebase/functions-compat",pz="@firebase/installations",mz="@firebase/installations-compat",gz="@firebase/messaging",bz="@firebase/messaging-compat",yz="@firebase/performance",vz="@firebase/performance-compat",xz="@firebase/remote-config",wz="@firebase/remote-config-compat",_z="@firebase/storage",Sz="@firebase/storage-compat",Az="@firebase/firestore",Ez="@firebase/ai",Tz="@firebase/firestore-compat",kz="firebase",jz="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="[DEFAULT]",Oz={[u3]:"fire-core",[rz]:"fire-core-compat",[iz]:"fire-analytics",[nz]:"fire-analytics-compat",[sz]:"fire-app-check",[az]:"fire-app-check-compat",[oz]:"fire-auth",[lz]:"fire-auth-compat",[cz]:"fire-rtdb",[uz]:"fire-data-connect",[fz]:"fire-rtdb-compat",[hz]:"fire-fn",[dz]:"fire-fn-compat",[pz]:"fire-iid",[mz]:"fire-iid-compat",[gz]:"fire-fcm",[bz]:"fire-fcm-compat",[yz]:"fire-perf",[vz]:"fire-perf-compat",[xz]:"fire-rc",[wz]:"fire-rc-compat",[_z]:"fire-gcs",[Sz]:"fire-gcs-compat",[Az]:"fire-fst",[Tz]:"fire-fst-compat",[Ez]:"fire-vertex","fire-js":"fire-js",[kz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new Map,Nz=new Map,h3=new Map;function DE(r,e){try{r.container.addComponent(e)}catch(t){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function sg(r){const e=r.name;if(h3.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;h3.set(e,r);for(const t of f3.values())DE(t,r);for(const t of Nz.values())DE(t,r);return!0}function Mz(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Rz(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uc=new PM("app","Firebase",Iz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=jz;function Bz(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Cz,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw uc.create("bad-app-name",{appName:String(i)});if(t||(t=jV()),!t)throw uc.create("no-options");const a=f3.get(i);if(a){if(ag(t,a.options)&&ag(n,a.config))return a;throw uc.create("duplicate-app",{appName:i})}const s=new LV(i);for(const l of h3.values())s.addComponent(l);const c=new Pz(t,n,s);return f3.set(i,c),c}function qu(r,e,t){let n=Oz[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(s.join(" "));return}sg(new Gd(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="firebase-heartbeat-database",Fz=1,Wd="firebase-heartbeat-store";let B1=null;function FM(){return B1||(B1=QV(Lz,Fz,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wd)}catch(t){console.warn(t)}}}}).catch(r=>{throw uc.create("idb-open",{originalErrorMessage:r.message})})),B1}async function $z(r){try{const t=(await FM()).transaction(Wd),n=await t.objectStore(Wd).get($M(r));return await t.done,n}catch(e){if(e instanceof qf)Ks.warn(e.message);else{const t=uc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(t.message)}}}async function BE(r,e){try{const n=(await FM()).transaction(Wd,"readwrite");await n.objectStore(Wd).put(e,$M(r)),await n.done}catch(t){if(t instanceof qf)Ks.warn(t.message);else{const n=uc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ks.warn(n.message)}}}function $M(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=1024,zz=30;class qz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Hz(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=LE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>zz){const s=Kz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ks.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=LE(),{heartbeatsToSend:n,unsentEntries:i}=Uz(this._heartbeatsCache.heartbeats),a=kM(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ks.warn(t),""}}}function LE(){return new Date().toISOString().substring(0,10)}function Uz(r,e=Vz){const t=[];let n=r.slice();for(const i of r){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),FE(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Hz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IM()?NV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $z(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function FE(r){return kM(JSON.stringify({version:2,heartbeats:r})).length}function Kz(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(r){sg(new Gd("platform-logger",e=>new ez(e),"PRIVATE")),sg(new Gd("heartbeat",e=>new qz(e),"PRIVATE")),qu(u3,PE,r),qu(u3,PE,"esm2020"),qu("fire-js","")}Gz("");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ko,VM;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function B(){}B.prototype=I.prototype,D.F=I.prototype,D.prototype=new B,D.prototype.constructor=D,D.D=function(L,z,$){for(var O=Array(arguments.length-2),F=2;F<arguments.length;F++)O[F-2]=arguments[F];return I.prototype[z].apply(L,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,B){B||(B=0);const L=Array(16);if(typeof I=="string")for(var z=0;z<16;++z)L[z]=I.charCodeAt(B++)|I.charCodeAt(B++)<<8|I.charCodeAt(B++)<<16|I.charCodeAt(B++)<<24;else for(z=0;z<16;++z)L[z]=I[B++]|I[B++]<<8|I[B++]<<16|I[B++]<<24;I=D.g[0],B=D.g[1],z=D.g[2];let $=D.g[3],O;O=I+($^B&(z^$))+L[0]+3614090360&4294967295,I=B+(O<<7&4294967295|O>>>25),O=$+(z^I&(B^z))+L[1]+3905402710&4294967295,$=I+(O<<12&4294967295|O>>>20),O=z+(B^$&(I^B))+L[2]+606105819&4294967295,z=$+(O<<17&4294967295|O>>>15),O=B+(I^z&($^I))+L[3]+3250441966&4294967295,B=z+(O<<22&4294967295|O>>>10),O=I+($^B&(z^$))+L[4]+4118548399&4294967295,I=B+(O<<7&4294967295|O>>>25),O=$+(z^I&(B^z))+L[5]+1200080426&4294967295,$=I+(O<<12&4294967295|O>>>20),O=z+(B^$&(I^B))+L[6]+2821735955&4294967295,z=$+(O<<17&4294967295|O>>>15),O=B+(I^z&($^I))+L[7]+4249261313&4294967295,B=z+(O<<22&4294967295|O>>>10),O=I+($^B&(z^$))+L[8]+1770035416&4294967295,I=B+(O<<7&4294967295|O>>>25),O=$+(z^I&(B^z))+L[9]+2336552879&4294967295,$=I+(O<<12&4294967295|O>>>20),O=z+(B^$&(I^B))+L[10]+4294925233&4294967295,z=$+(O<<17&4294967295|O>>>15),O=B+(I^z&($^I))+L[11]+2304563134&4294967295,B=z+(O<<22&4294967295|O>>>10),O=I+($^B&(z^$))+L[12]+1804603682&4294967295,I=B+(O<<7&4294967295|O>>>25),O=$+(z^I&(B^z))+L[13]+4254626195&4294967295,$=I+(O<<12&4294967295|O>>>20),O=z+(B^$&(I^B))+L[14]+2792965006&4294967295,z=$+(O<<17&4294967295|O>>>15),O=B+(I^z&($^I))+L[15]+1236535329&4294967295,B=z+(O<<22&4294967295|O>>>10),O=I+(z^$&(B^z))+L[1]+4129170786&4294967295,I=B+(O<<5&4294967295|O>>>27),O=$+(B^z&(I^B))+L[6]+3225465664&4294967295,$=I+(O<<9&4294967295|O>>>23),O=z+(I^B&($^I))+L[11]+643717713&4294967295,z=$+(O<<14&4294967295|O>>>18),O=B+($^I&(z^$))+L[0]+3921069994&4294967295,B=z+(O<<20&4294967295|O>>>12),O=I+(z^$&(B^z))+L[5]+3593408605&4294967295,I=B+(O<<5&4294967295|O>>>27),O=$+(B^z&(I^B))+L[10]+38016083&4294967295,$=I+(O<<9&4294967295|O>>>23),O=z+(I^B&($^I))+L[15]+3634488961&4294967295,z=$+(O<<14&4294967295|O>>>18),O=B+($^I&(z^$))+L[4]+3889429448&4294967295,B=z+(O<<20&4294967295|O>>>12),O=I+(z^$&(B^z))+L[9]+568446438&4294967295,I=B+(O<<5&4294967295|O>>>27),O=$+(B^z&(I^B))+L[14]+3275163606&4294967295,$=I+(O<<9&4294967295|O>>>23),O=z+(I^B&($^I))+L[3]+4107603335&4294967295,z=$+(O<<14&4294967295|O>>>18),O=B+($^I&(z^$))+L[8]+1163531501&4294967295,B=z+(O<<20&4294967295|O>>>12),O=I+(z^$&(B^z))+L[13]+2850285829&4294967295,I=B+(O<<5&4294967295|O>>>27),O=$+(B^z&(I^B))+L[2]+4243563512&4294967295,$=I+(O<<9&4294967295|O>>>23),O=z+(I^B&($^I))+L[7]+1735328473&4294967295,z=$+(O<<14&4294967295|O>>>18),O=B+($^I&(z^$))+L[12]+2368359562&4294967295,B=z+(O<<20&4294967295|O>>>12),O=I+(B^z^$)+L[5]+4294588738&4294967295,I=B+(O<<4&4294967295|O>>>28),O=$+(I^B^z)+L[8]+2272392833&4294967295,$=I+(O<<11&4294967295|O>>>21),O=z+($^I^B)+L[11]+1839030562&4294967295,z=$+(O<<16&4294967295|O>>>16),O=B+(z^$^I)+L[14]+4259657740&4294967295,B=z+(O<<23&4294967295|O>>>9),O=I+(B^z^$)+L[1]+2763975236&4294967295,I=B+(O<<4&4294967295|O>>>28),O=$+(I^B^z)+L[4]+1272893353&4294967295,$=I+(O<<11&4294967295|O>>>21),O=z+($^I^B)+L[7]+4139469664&4294967295,z=$+(O<<16&4294967295|O>>>16),O=B+(z^$^I)+L[10]+3200236656&4294967295,B=z+(O<<23&4294967295|O>>>9),O=I+(B^z^$)+L[13]+681279174&4294967295,I=B+(O<<4&4294967295|O>>>28),O=$+(I^B^z)+L[0]+3936430074&4294967295,$=I+(O<<11&4294967295|O>>>21),O=z+($^I^B)+L[3]+3572445317&4294967295,z=$+(O<<16&4294967295|O>>>16),O=B+(z^$^I)+L[6]+76029189&4294967295,B=z+(O<<23&4294967295|O>>>9),O=I+(B^z^$)+L[9]+3654602809&4294967295,I=B+(O<<4&4294967295|O>>>28),O=$+(I^B^z)+L[12]+3873151461&4294967295,$=I+(O<<11&4294967295|O>>>21),O=z+($^I^B)+L[15]+530742520&4294967295,z=$+(O<<16&4294967295|O>>>16),O=B+(z^$^I)+L[2]+3299628645&4294967295,B=z+(O<<23&4294967295|O>>>9),O=I+(z^(B|~$))+L[0]+4096336452&4294967295,I=B+(O<<6&4294967295|O>>>26),O=$+(B^(I|~z))+L[7]+1126891415&4294967295,$=I+(O<<10&4294967295|O>>>22),O=z+(I^($|~B))+L[14]+2878612391&4294967295,z=$+(O<<15&4294967295|O>>>17),O=B+($^(z|~I))+L[5]+4237533241&4294967295,B=z+(O<<21&4294967295|O>>>11),O=I+(z^(B|~$))+L[12]+1700485571&4294967295,I=B+(O<<6&4294967295|O>>>26),O=$+(B^(I|~z))+L[3]+2399980690&4294967295,$=I+(O<<10&4294967295|O>>>22),O=z+(I^($|~B))+L[10]+4293915773&4294967295,z=$+(O<<15&4294967295|O>>>17),O=B+($^(z|~I))+L[1]+2240044497&4294967295,B=z+(O<<21&4294967295|O>>>11),O=I+(z^(B|~$))+L[8]+1873313359&4294967295,I=B+(O<<6&4294967295|O>>>26),O=$+(B^(I|~z))+L[15]+4264355552&4294967295,$=I+(O<<10&4294967295|O>>>22),O=z+(I^($|~B))+L[6]+2734768916&4294967295,z=$+(O<<15&4294967295|O>>>17),O=B+($^(z|~I))+L[13]+1309151649&4294967295,B=z+(O<<21&4294967295|O>>>11),O=I+(z^(B|~$))+L[4]+4149444226&4294967295,I=B+(O<<6&4294967295|O>>>26),O=$+(B^(I|~z))+L[11]+3174756917&4294967295,$=I+(O<<10&4294967295|O>>>22),O=z+(I^($|~B))+L[2]+718787259&4294967295,z=$+(O<<15&4294967295|O>>>17),O=B+($^(z|~I))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+$&4294967295}n.prototype.v=function(D,I){I===void 0&&(I=D.length);const B=I-this.blockSize,L=this.C;let z=this.h,$=0;for(;$<I;){if(z==0)for(;$<=B;)i(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<I;)if(L[z++]=D.charCodeAt($++),z==this.blockSize){i(this,L),z=0;break}}else for(;$<I;)if(L[z++]=D[$++],z==this.blockSize){i(this,L),z=0;break}}this.h=z,this.o+=I},n.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var B=D.length-8;B<D.length;++B)D[B]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,B=0;B<4;++B)for(let L=0;L<32;L+=8)D[I++]=this.g[B]>>>L&255;return D};function a(D,I){var B=c;return Object.prototype.hasOwnProperty.call(B,D)?B[D]:B[D]=I(D)}function s(D,I){this.h=I;const B=[];let L=!0;for(let z=D.length-1;z>=0;z--){const $=D[z]|0;L&&$==I||(B[z]=$,L=!1)}this.g=B}var c={};function l(D){return-128<=D&&D<128?a(D,function(I){return new s([I|0],I<0?-1:0)}):new s([D|0],D<0?-1:0)}function o(D){if(isNaN(D)||!isFinite(D))return f;if(D<0)return m(o(-D));const I=[];let B=1;for(let L=0;D>=B;L++)I[L]=D/B|0,B*=4294967296;return new s(I,0)}function u(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return m(u(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=o(Math.pow(I,8));let L=f;for(let $=0;$<D.length;$+=8){var z=Math.min(8,D.length-$);const O=parseInt(D.substring($,$+z),I);z<8?(z=o(Math.pow(I,z)),L=L.j(z).add(o(O))):(L=L.j(B),L=L.add(o(O)))}return L}var f=l(0),h=l(1),d=l(16777216);r=s.prototype,r.m=function(){if(y(this))return-m(this).m();let D=0,I=1;for(let B=0;B<this.g.length;B++){const L=this.i(B);D+=(L>=0?L:4294967296+L)*I,I*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(g(this))return"0";if(y(this))return"-"+m(this).toString(D);const I=o(Math.pow(D,6));var B=this;let L="";for(;;){const z=k(B,I).g;B=x(B,z.j(I));let $=((B.g.length>0?B.g[0]:B.h)>>>0).toString(D);if(B=z,g(B))return $+L;for(;$.length<6;)$="0"+$;L=$+L}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function g(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function y(D){return D.h==-1}r.l=function(D){return D=x(this,D),y(D)?-1:g(D)?0:1};function m(D){const I=D.g.length,B=[];for(let L=0;L<I;L++)B[L]=~D.g[L];return new s(B,~D.h).add(h)}r.abs=function(){return y(this)?m(this):this},r.add=function(D){const I=Math.max(this.g.length,D.g.length),B=[];let L=0;for(let z=0;z<=I;z++){let $=L+(this.i(z)&65535)+(D.i(z)&65535),O=($>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);L=O>>>16,$&=65535,O&=65535,B[z]=O<<16|$}return new s(B,B[B.length-1]&-2147483648?-1:0)};function x(D,I){return D.add(m(I))}r.j=function(D){if(g(this)||g(D))return f;if(y(this))return y(D)?m(this).j(m(D)):m(m(this).j(D));if(y(D))return m(this.j(m(D)));if(this.l(d)<0&&D.l(d)<0)return o(this.m()*D.m());const I=this.g.length+D.g.length,B=[];for(var L=0;L<2*I;L++)B[L]=0;for(L=0;L<this.g.length;L++)for(let z=0;z<D.g.length;z++){const $=this.i(L)>>>16,O=this.i(L)&65535,F=D.i(z)>>>16,C=D.i(z)&65535;B[2*L+2*z]+=O*C,v(B,2*L+2*z),B[2*L+2*z+1]+=$*C,v(B,2*L+2*z+1),B[2*L+2*z+1]+=O*F,v(B,2*L+2*z+1),B[2*L+2*z+2]+=$*F,v(B,2*L+2*z+2)}for(D=0;D<I;D++)B[D]=B[2*D+1]<<16|B[2*D];for(D=I;D<2*I;D++)B[D]=0;return new s(B,0)};function v(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function _(D,I){this.g=D,this.h=I}function k(D,I){if(g(I))throw Error("division by zero");if(g(D))return new _(f,f);if(y(D))return I=k(m(D),I),new _(m(I.g),m(I.h));if(y(I))return I=k(D,m(I)),new _(m(I.g),I.h);if(D.g.length>30){if(y(D)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var B=h,L=I;L.l(D)<=0;)B=N(B),L=N(L);var z=P(B,1),$=P(L,1);for(L=P(L,2),B=P(B,2);!g(L);){var O=$.add(L);O.l(D)<=0&&(z=z.add(B),$=O),L=P(L,1),B=P(B,1)}return I=x(D,z.j(I)),new _(z,I)}for(z=f;D.l(I)>=0;){for(B=Math.max(1,Math.floor(D.m()/I.m())),L=Math.ceil(Math.log(B)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),$=o(B),O=$.j(I);y(O)||O.l(D)>0;)B-=L,$=o(B),O=$.j(I);g($)&&($=h),z=z.add($),D=x(D,O)}return new _(z,D)}r.B=function(D){return k(this,D).h},r.and=function(D){const I=Math.max(this.g.length,D.g.length),B=[];for(let L=0;L<I;L++)B[L]=this.i(L)&D.i(L);return new s(B,this.h&D.h)},r.or=function(D){const I=Math.max(this.g.length,D.g.length),B=[];for(let L=0;L<I;L++)B[L]=this.i(L)|D.i(L);return new s(B,this.h|D.h)},r.xor=function(D){const I=Math.max(this.g.length,D.g.length),B=[];for(let L=0;L<I;L++)B[L]=this.i(L)^D.i(L);return new s(B,this.h^D.h)};function N(D){const I=D.g.length+1,B=[];for(let L=0;L<I;L++)B[L]=D.i(L)<<1|D.i(L-1)>>>31;return new s(B,D.h)}function P(D,I){const B=I>>5;I%=32;const L=D.g.length-B,z=[];for(let $=0;$<L;$++)z[$]=I>0?D.i($+B)>>>I|D.i($+B+1)<<32-I:D.i($+B);return new s(z,D.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,VM=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=o,s.fromString=u,Ko=s}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zM,gd,qM,V0,d3,UM,HM,KM;(function(){var r,e=Object.defineProperty;function t(U){U=[typeof globalThis=="object"&&globalThis,U,typeof window=="object"&&window,typeof self=="object"&&self,typeof y0=="object"&&y0];for(var J=0;J<U.length;++J){var ae=U[J];if(ae&&ae.Math==Math)return ae}throw Error("Cannot find global object")}var n=t(this);function i(U,J){if(J)e:{var ae=n;U=U.split(".");for(var ue=0;ue<U.length-1;ue++){var Ce=U[ue];if(!(Ce in ae))break e;ae=ae[Ce]}U=U[U.length-1],ue=ae[U],J=J(ue),J!=ue&&J!=null&&e(ae,U,{configurable:!0,writable:!0,value:J})}}i("Symbol.dispose",function(U){return U||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(U){return U||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(U){return U||function(J){var ae=[],ue;for(ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&ae.push([ue,J[ue]]);return ae}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function c(U){var J=typeof U;return J=="object"&&U!=null||J=="function"}function l(U,J,ae){return U.call.apply(U.bind,arguments)}function o(U,J,ae){return o=l,o.apply(null,arguments)}function u(U,J){var ae=Array.prototype.slice.call(arguments,1);return function(){var ue=ae.slice();return ue.push.apply(ue,arguments),U.apply(this,ue)}}function f(U,J){function ae(){}ae.prototype=J.prototype,U.Z=J.prototype,U.prototype=new ae,U.prototype.constructor=U,U.Ob=function(ue,Ce,Ie){for(var nt=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)nt[Yt-2]=arguments[Yt];return J.prototype[Ce].apply(ue,nt)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?U=>U&&AsyncContext.Snapshot.wrap(U):U=>U;function d(U){const J=U.length;if(J>0){const ae=Array(J);for(let ue=0;ue<J;ue++)ae[ue]=U[ue];return ae}return[]}function g(U,J){for(let ue=1;ue<arguments.length;ue++){const Ce=arguments[ue];var ae=typeof Ce;if(ae=ae!="object"?ae:Ce?Array.isArray(Ce)?"array":ae:"null",ae=="array"||ae=="object"&&typeof Ce.length=="number"){ae=U.length||0;const Ie=Ce.length||0;U.length=ae+Ie;for(let nt=0;nt<Ie;nt++)U[ae+nt]=Ce[nt]}else U.push(Ce)}}class y{constructor(J,ae){this.i=J,this.j=ae,this.h=0,this.g=null}get(){let J;return this.h>0?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function m(U){s.setTimeout(()=>{throw U},0)}function x(){var U=D;let J=null;return U.g&&(J=U.g,U.g=U.g.next,U.g||(U.h=null),J.next=null),J}class v{constructor(){this.h=this.g=null}add(J,ae){const ue=_.get();ue.set(J,ae),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var _=new y(()=>new k,U=>U.reset());class k{constructor(){this.next=this.g=this.h=null}set(J,ae){this.h=J,this.g=ae,this.next=null}reset(){this.next=this.g=this.h=null}}let N,P=!1,D=new v,I=()=>{const U=Promise.resolve(void 0);N=()=>{U.then(B)}};function B(){for(var U;U=x();){try{U.h.call(U.g)}catch(ae){m(ae)}var J=_;J.j(U),J.h<100&&(J.h++,U.next=J.g,J.g=U)}P=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(U,J){this.type=U,this.g=this.target=J,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var U=!1,J=Object.defineProperty({},"passive",{get:function(){U=!0}});try{const ae=()=>{};s.addEventListener("test",ae,J),s.removeEventListener("test",ae,J)}catch{}return U})();function O(U){return/^[\s\xa0]*$/.test(U)}function F(U,J){z.call(this,U?U.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,U&&this.init(U,J)}f(F,z),F.prototype.init=function(U,J){const ae=this.type=U.type,ue=U.changedTouches&&U.changedTouches.length?U.changedTouches[0]:null;this.target=U.target||U.srcElement,this.g=J,J=U.relatedTarget,J||(ae=="mouseover"?J=U.fromElement:ae=="mouseout"&&(J=U.toElement)),this.relatedTarget=J,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0),this.button=U.button,this.key=U.key||"",this.ctrlKey=U.ctrlKey,this.altKey=U.altKey,this.shiftKey=U.shiftKey,this.metaKey=U.metaKey,this.pointerId=U.pointerId||0,this.pointerType=U.pointerType,this.state=U.state,this.i=U,U.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const U=this.i;U.preventDefault?U.preventDefault():U.returnValue=!1};var C="closure_listenable_"+(Math.random()*1e6|0),w=0;function E(U,J,ae,ue,Ce){this.listener=U,this.proxy=null,this.src=J,this.type=ae,this.capture=!!ue,this.ha=Ce,this.key=++w,this.da=this.fa=!1}function A(U){U.da=!0,U.listener=null,U.proxy=null,U.src=null,U.ha=null}function j(U,J,ae){for(const ue in U)J.call(ae,U[ue],ue,U)}function R(U,J){for(const ae in U)J.call(void 0,U[ae],ae,U)}function q(U){const J={};for(const ae in U)J[ae]=U[ae];return J}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(U,J){let ae,ue;for(let Ce=1;Ce<arguments.length;Ce++){ue=arguments[Ce];for(ae in ue)U[ae]=ue[ae];for(let Ie=0;Ie<H.length;Ie++)ae=H[Ie],Object.prototype.hasOwnProperty.call(ue,ae)&&(U[ae]=ue[ae])}}function Z(U){this.src=U,this.g={},this.h=0}Z.prototype.add=function(U,J,ae,ue,Ce){const Ie=U.toString();U=this.g[Ie],U||(U=this.g[Ie]=[],this.h++);const nt=W(U,J,ue,Ce);return nt>-1?(J=U[nt],ae||(J.fa=!1)):(J=new E(J,this.src,Ie,!!ue,Ce),J.fa=ae,U.push(J)),J};function te(U,J){const ae=J.type;if(ae in U.g){var ue=U.g[ae],Ce=Array.prototype.indexOf.call(ue,J,void 0),Ie;(Ie=Ce>=0)&&Array.prototype.splice.call(ue,Ce,1),Ie&&(A(J),U.g[ae].length==0&&(delete U.g[ae],U.h--))}}function W(U,J,ae,ue){for(let Ce=0;Ce<U.length;++Ce){const Ie=U[Ce];if(!Ie.da&&Ie.listener==J&&Ie.capture==!!ae&&Ie.ha==ue)return Ce}return-1}var ee="closure_lm_"+(Math.random()*1e6|0),K={};function V(U,J,ae,ue,Ce){if(Array.isArray(J)){for(let Ie=0;Ie<J.length;Ie++)V(U,J[Ie],ae,ue,Ce);return null}return ae=fe(ae),U&&U[C]?U.J(J,ae,c(ue)?!!ue.capture:!1,Ce):Q(U,J,ae,!1,ue,Ce)}function Q(U,J,ae,ue,Ce,Ie){if(!J)throw Error("Invalid event type");const nt=c(Ce)?!!Ce.capture:!!Ce;let Yt=ge(U);if(Yt||(U[ee]=Yt=new Z(U)),ae=Yt.add(J,ae,ue,nt,Ie),ae.proxy)return ae;if(ue=re(),ae.proxy=ue,ue.src=U,ue.listener=ae,U.addEventListener)$||(Ce=nt),Ce===void 0&&(Ce=!1),U.addEventListener(J.toString(),ue,Ce);else if(U.attachEvent)U.attachEvent(le(J.toString()),ue);else if(U.addListener&&U.removeListener)U.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return ae}function re(){function U(ae){return J.call(U.src,U.listener,ae)}const J=me;return U}function oe(U,J,ae,ue,Ce){if(Array.isArray(J))for(var Ie=0;Ie<J.length;Ie++)oe(U,J[Ie],ae,ue,Ce);else ue=c(ue)?!!ue.capture:!!ue,ae=fe(ae),U&&U[C]?(U=U.i,Ie=String(J).toString(),Ie in U.g&&(J=U.g[Ie],ae=W(J,ae,ue,Ce),ae>-1&&(A(J[ae]),Array.prototype.splice.call(J,ae,1),J.length==0&&(delete U.g[Ie],U.h--)))):U&&(U=ge(U))&&(J=U.g[J.toString()],U=-1,J&&(U=W(J,ae,ue,Ce)),(ae=U>-1?J[U]:null)&&ne(ae))}function ne(U){if(typeof U!="number"&&U&&!U.da){var J=U.src;if(J&&J[C])te(J.i,U);else{var ae=U.type,ue=U.proxy;J.removeEventListener?J.removeEventListener(ae,ue,U.capture):J.detachEvent?J.detachEvent(le(ae),ue):J.addListener&&J.removeListener&&J.removeListener(ue),(ae=ge(J))?(te(ae,U),ae.h==0&&(ae.src=null,J[ee]=null)):A(U)}}}function le(U){return U in K?K[U]:K[U]="on"+U}function me(U,J){if(U.da)U=!0;else{J=new F(J,this);const ae=U.listener,ue=U.ha||U.src;U.fa&&ne(U),U=ae.call(ue,J)}return U}function ge(U){return U=U[ee],U instanceof Z?U:null}var se="__closure_events_fn_"+(Math.random()*1e9>>>0);function fe(U){return typeof U=="function"?U:(U[se]||(U[se]=function(J){return U.handleEvent(J)}),U[se])}function he(){L.call(this),this.i=new Z(this),this.M=this,this.G=null}f(he,L),he.prototype[C]=!0,he.prototype.removeEventListener=function(U,J,ae,ue){oe(this,U,J,ae,ue)};function ve(U,J){var ae,ue=U.G;if(ue)for(ae=[];ue;ue=ue.G)ae.push(ue);if(U=U.M,ue=J.type||J,typeof J=="string")J=new z(J,U);else if(J instanceof z)J.target=J.target||U;else{var Ce=J;J=new z(ue,U),Y(J,Ce)}Ce=!0;let Ie,nt;if(ae)for(nt=ae.length-1;nt>=0;nt--)Ie=J.g=ae[nt],Ce=xe(Ie,ue,!0,J)&&Ce;if(Ie=J.g=U,Ce=xe(Ie,ue,!0,J)&&Ce,Ce=xe(Ie,ue,!1,J)&&Ce,ae)for(nt=0;nt<ae.length;nt++)Ie=J.g=ae[nt],Ce=xe(Ie,ue,!1,J)&&Ce}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var U=this.i;for(const J in U.g){const ae=U.g[J];for(let ue=0;ue<ae.length;ue++)A(ae[ue]);delete U.g[J],U.h--}}this.G=null},he.prototype.J=function(U,J,ae,ue){return this.i.add(String(U),J,!1,ae,ue)},he.prototype.K=function(U,J,ae,ue){return this.i.add(String(U),J,!0,ae,ue)};function xe(U,J,ae,ue){if(J=U.i.g[String(J)],!J)return!0;J=J.concat();let Ce=!0;for(let Ie=0;Ie<J.length;++Ie){const nt=J[Ie];if(nt&&!nt.da&&nt.capture==ae){const Yt=nt.listener,tn=nt.ha||nt.src;nt.fa&&te(U.i,nt),Ce=Yt.call(tn,ue)!==!1&&Ce}}return Ce&&!ue.defaultPrevented}function _e(U,J){if(typeof U!="function")if(U&&typeof U.handleEvent=="function")U=o(U.handleEvent,U);else throw Error("Invalid listener argument");return Number(J)>2147483647?-1:s.setTimeout(U,J||0)}function Ne(U){U.g=_e(()=>{U.g=null,U.i&&(U.i=!1,Ne(U))},U.l);const J=U.h;U.h=null,U.m.apply(null,J)}class Re extends L{constructor(J,ae){super(),this.m=J,this.l=ae,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $e(U){L.call(this),this.h=U,this.g={}}f($e,L);var tt=[];function et(U){j(U.g,function(J,ae){this.g.hasOwnProperty(ae)&&ne(J)},U),U.g={}}$e.prototype.N=function(){$e.Z.N.call(this),et(this)},$e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=s.JSON.stringify,wt=s.JSON.parse,bt=class{stringify(U){return s.JSON.stringify(U,void 0)}parse(U){return s.JSON.parse(U,void 0)}};function yt(){}function _t(){}var Ze={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){z.call(this,"d")}f(Ue,z);function at(){z.call(this,"c")}f(at,z);var st={},rt=null;function Wt(){return rt=rt||new he}st.Ia="serverreachability";function yr(U){z.call(this,st.Ia,U)}f(yr,z);function vt(U){const J=Wt();ve(J,new yr(J))}st.STAT_EVENT="statevent";function ir(U,J){z.call(this,st.STAT_EVENT,U),this.stat=J}f(ir,z);function At(U){const J=Wt();ve(J,new ir(J,U))}st.Ja="timingevent";function jt(U,J){z.call(this,st.Ja,U),this.size=J}f(jt,z);function cr(U,J){if(typeof U!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){U()},J)}function Gt(){this.g=!0}Gt.prototype.ua=function(){this.g=!1};function Ot(U,J,ae,ue,Ce,Ie){U.info(function(){if(U.g)if(Ie){var nt="",Yt=Ie.split("&");for(let Pr=0;Pr<Yt.length;Pr++){var tn=Yt[Pr].split("=");if(tn.length>1){const xn=tn[0];tn=tn[1];const Bi=xn.split("_");nt=Bi.length>=2&&Bi[1]=="type"?nt+(xn+"="+tn+"&"):nt+(xn+"=redacted&")}}}else nt=null;else nt=Ie;return"XMLHTTP REQ ("+ue+") [attempt "+Ce+"]: "+J+`
`+ae+`
`+nt})}function sr(U,J,ae,ue,Ce,Ie,nt){U.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Ce+"]: "+J+`
`+ae+`
`+Ie+" "+nt})}function ur(U,J,ae,ue){U.info(function(){return"XMLHTTP TEXT ("+J+"): "+or(U,ae)+(ue?" "+ue:"")})}function Mt(U,J){U.info(function(){return"TIMEOUT: "+J})}Gt.prototype.info=function(){};function or(U,J){if(!U.g)return J;if(!J)return null;try{const Ie=JSON.parse(J);if(Ie){for(U=0;U<Ie.length;U++)if(Array.isArray(Ie[U])){var ae=Ie[U];if(!(ae.length<2)){var ue=ae[1];if(Array.isArray(ue)&&!(ue.length<1)){var Ce=ue[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(let nt=1;nt<ue.length;nt++)ue[nt]=""}}}}return Ye(Ie)}catch{return J}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},we;function Te(){}f(Te,yt),Te.prototype.g=function(){return new XMLHttpRequest},we=new Te;function Pe(U){return encodeURIComponent(String(U))}function Je(U){var J=1;U=U.split(":");const ae=[];for(;J>0&&U.length;)ae.push(U.shift()),J--;return U.length&&ae.push(U.join(":")),ae}function ct(U,J,ae,ue){this.j=U,this.i=J,this.l=ae,this.S=ue||1,this.V=new $e(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var ft={},mt={};function pt(U,J,ae){U.M=1,U.A=mi($t(J)),U.u=ae,U.R=!0,Bt(U,null)}function Bt(U,J){U.F=Date.now(),xr(U),U.B=$t(U.A);var ae=U.B,ue=U.S;Array.isArray(ue)||(ue=[String(ue)]),Ii(ae.i,"t",ue),U.C=0,ae=U.j.L,U.h=new Ge,U.g=Hc(U.j,ae?J:null,!U.u),U.P>0&&(U.O=new Re(o(U.Y,U,U.g),U.P)),J=U.V,ae=U.g,ue=U.ba;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(tt[0]=Ce.toString()),Ce=tt);for(let Ie=0;Ie<Ce.length;Ie++){const nt=V(ae,Ce[Ie],ue||J.handleEvent,!1,J.h||J);if(!nt)break;J.g[nt.key]=nt}J=U.J?q(U.J):{},U.u?(U.v||(U.v="POST"),J["Content-Type"]="application/x-www-form-urlencoded",U.g.ea(U.B,U.v,U.u,J)):(U.v="GET",U.g.ea(U.B,U.v,null,J)),vt(),Ot(U.i,U.v,U.B,U.l,U.S,U.u)}ct.prototype.ba=function(U){U=U.target;const J=this.O;J&&ni(U)==3?J.j():this.Y(U)},ct.prototype.Y=function(U){try{if(U==this.g)e:{const Yt=ni(this.g),tn=this.g.ya(),Pr=this.g.ca();if(!(Yt<3)&&(Yt!=3||this.g&&(this.h.h||this.g.la()||bl(this.g)))){this.K||Yt!=4||tn==7||(tn==8||Pr<=0?vt(3):vt(2)),Mr(this);var J=this.g.ca();this.X=J;var ae=Pt(this);if(this.o=J==200,sr(this.i,this.v,this.B,this.l,this.S,Yt,J),this.o){if(this.U&&!this.L){t:{if(this.g){var ue,Ce=this.g;if((ue=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(ue)){var Ie=ue;break t}}Ie=null}if(U=Ie)ur(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ae(this,U);else{this.o=!1,this.m=3,At(12),de(this),Gr(this);break e}}if(this.R){U=!0;let xn;for(;!this.K&&this.C<ae.length;)if(xn=Or(this,ae),xn==mt){Yt==4&&(this.m=4,At(14),U=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==ft){this.m=4,At(15),ur(this.i,this.l,ae,"[Invalid Chunk]"),U=!1;break}else ur(this.i,this.l,xn,null),Ae(this,xn);if(Ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||ae.length!=0||this.h.h||(this.m=1,At(16),U=!1),this.o=this.o&&U,!U)ur(this.i,this.l,ae,"[Invalid Chunked Response]"),de(this),Gr(this);else if(ae.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),oh(nt),nt.P=!0,At(11))}}else ur(this.i,this.l,ae,null),Ae(this,ae);Yt==4&&de(this),this.o&&!this.K&&(Yt==4?lh(this.j,this):(this.o=!1,xr(this)))}else yl(this.g),J==400&&ae.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),de(this),Gr(this)}}}catch{}finally{}};function Pt(U){if(!Ut(U))return U.g.la();const J=bl(U.g);if(J==="")return"";let ae="";const ue=J.length,Ce=ni(U.g)==4;if(!U.h.i){if(typeof TextDecoder>"u")return de(U),Gr(U),"";U.h.i=new s.TextDecoder}for(let Ie=0;Ie<ue;Ie++)U.h.h=!0,ae+=U.h.i.decode(J[Ie],{stream:!(Ce&&Ie==ue-1)});return J.length=0,U.h.g+=ae,U.C=0,U.h.g}function Ut(U){return U.g?U.v=="GET"&&U.M!=2&&U.j.Aa:!1}function Or(U,J){var ae=U.C,ue=J.indexOf(`
`,ae);return ue==-1?mt:(ae=Number(J.substring(ae,ue)),isNaN(ae)?ft:(ue+=1,ue+ae>J.length?mt:(J=J.slice(ue,ue+ae),U.C=ue+ae,J)))}ct.prototype.cancel=function(){this.K=!0,de(this)};function xr(U){U.T=Date.now()+U.H,Nr(U,U.H)}function Nr(U,J){if(U.D!=null)throw Error("WatchDog timer not null");U.D=cr(o(U.aa,U),J)}function Mr(U){U.D&&(s.clearTimeout(U.D),U.D=null)}ct.prototype.aa=function(){this.D=null;const U=Date.now();U-this.T>=0?(Mt(this.i,this.B),this.M!=2&&(vt(),At(17)),de(this),this.m=2,Gr(this)):Nr(this,this.T-U)};function Gr(U){U.j.I==0||U.K||lh(U.j,U)}function de(U){Mr(U);var J=U.O;J&&typeof J.dispose=="function"&&J.dispose(),U.O=null,et(U.V),U.g&&(J=U.g,U.g=null,J.abort(),J.dispose())}function Ae(U,J){try{var ae=U.j;if(ae.I!=0&&(ae.g==U||Xe(ae.h,U))){if(!U.L&&Xe(ae.h,U)&&ae.I==3){try{var ue=ae.Ba.g.parse(J)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Ce=ue;if(Ce[0]==0){e:if(!ae.v){if(ae.g)if(ae.g.F+3e3<U.F)Uc(ae),Wa(ae);else break e;sh(ae),At(18)}}else ae.xa=Ce[1],0<ae.xa-ae.K&&Ce[2]<37500&&ae.F&&ae.A==0&&!ae.C&&(ae.C=cr(o(ae.Va,ae),6e3));We(ae.h)<=1&&ae.ta&&(ae.ta=void 0)}else ws(ae,11)}else if((U.L||ae.g==U)&&Uc(ae),!O(J))for(Ce=ae.Ba.g.parse(J),J=0;J<Ce.length;J++){let Pr=Ce[J];const xn=Pr[0];if(!(xn<=ae.K))if(ae.K=xn,Pr=Pr[1],ae.I==2)if(Pr[0]=="c"){ae.M=Pr[1],ae.ba=Pr[2];const Bi=Pr[3];Bi!=null&&(ae.ka=Bi,ae.j.info("VER="+ae.ka));const Xa=Pr[4];Xa!=null&&(ae.za=Xa,ae.j.info("SVER="+ae.za));const ja=Pr[5];ja!=null&&typeof ja=="number"&&ja>0&&(ue=1.5*ja,ae.O=ue,ae.j.info("backChannelRequestTimeoutMs_="+ue)),ue=ae;const Ca=U.g;if(Ca){const Oa=Ca.g?Ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var Ie=ue.h;Ie.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(er(Ie,Ie.h),Ie.h=null))}if(ue.G){const uh=Ca.g?Ca.g.getResponseHeader("X-HTTP-Session-Id"):null;uh&&(ue.wa=uh,rr(ue.J,ue.G,uh))}}ae.I=3,ae.l&&ae.l.ra(),ae.aa&&(ae.T=Date.now()-U.F,ae.j.info("Handshake RTT: "+ae.T+"ms")),ue=ae;var nt=U;if(ue.na=ym(ue,ue.L?ue.ba:null,ue.W),nt.L){qt(ue.h,nt);var Yt=nt,tn=ue.O;tn&&(Yt.H=tn),Yt.D&&(Mr(Yt),xr(Yt)),ue.g=nt}else pm(ue);ae.i.length>0&&_l(ae)}else Pr[0]!="stop"&&Pr[0]!="close"||ws(ae,7);else ae.I==3&&(Pr[0]=="stop"||Pr[0]=="close"?Pr[0]=="stop"?ws(ae,7):xl(ae):Pr[0]!="noop"&&ae.l&&ae.l.qa(Pr),ae.A=0)}}vt(4)}catch{}}var Fe=class{constructor(U,J){this.g=U,this.map=J}};function qe(U){this.l=U||10,s.PerformanceNavigationTiming?(U=s.performance.getEntriesByType("navigation"),U=U.length>0&&(U[0].nextHopProtocol=="hq"||U[0].nextHopProtocol=="h2")):U=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=U?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lt(U){return U.h?!0:U.g?U.g.size>=U.j:!1}function We(U){return U.h?1:U.g?U.g.size:0}function Xe(U,J){return U.h?U.h==J:U.g?U.g.has(J):!1}function er(U,J){U.g?U.g.add(J):U.h=J}function qt(U,J){U.h&&U.h==J?U.h=null:U.g&&U.g.has(J)&&U.g.delete(J)}qe.prototype.cancel=function(){if(this.i=Ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const U of this.g.values())U.cancel();this.g.clear()}};function Ht(U){if(U.h!=null)return U.i.concat(U.h.G);if(U.g!=null&&U.g.size!==0){let J=U.i;for(const ae of U.g.values())J=J.concat(ae.G);return J}return d(U.i)}var Ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(U,J){if(U){U=U.split("&");for(let ae=0;ae<U.length;ae++){const ue=U[ae].indexOf("=");let Ce,Ie=null;ue>=0?(Ce=U[ae].substring(0,ue),Ie=U[ae].substring(ue+1)):Ce=U[ae],J(Ce,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Xt(U){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let J;U instanceof Xt?(this.l=U.l,tr(this,U.j),this.o=U.o,this.g=U.g,Ur(this,U.u),this.h=U.h,yn(this,Pi(U.i)),this.m=U.m):U&&(J=String(U).match(Ct))?(this.l=!1,tr(this,J[1]||"",!0),this.o=Yn(J[2]||""),this.g=Yn(J[3]||"",!0),Ur(this,J[4]),this.h=Yn(J[5]||"",!0),yn(this,J[6]||"",!0),this.m=Yn(J[7]||"")):(this.l=!1,this.i=new hn(null,this.l))}Xt.prototype.toString=function(){const U=[];var J=this.j;J&&U.push(Ei(J,gr,!0),":");var ae=this.g;return(ae||J=="file")&&(U.push("//"),(J=this.o)&&U.push(Ei(J,gr,!0),"@"),U.push(Pe(ae).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ae=this.u,ae!=null&&U.push(":",String(ae))),(ae=this.h)&&(this.g&&ae.charAt(0)!="/"&&U.push("/"),U.push(Ei(ae,ae.charAt(0)=="/"?Ti:fr,!0))),(ae=this.i.toString())&&U.push("?",ae),(ae=this.m)&&U.push("#",Ei(ae,ys)),U.join("")},Xt.prototype.resolve=function(U){const J=$t(this);let ae=!!U.j;ae?tr(J,U.j):ae=!!U.o,ae?J.o=U.o:ae=!!U.g,ae?J.g=U.g:ae=U.u!=null;var ue=U.h;if(ae)Ur(J,U.u);else if(ae=!!U.h){if(ue.charAt(0)!="/")if(this.g&&!this.h)ue="/"+ue;else{var Ce=J.h.lastIndexOf("/");Ce!=-1&&(ue=J.h.slice(0,Ce+1)+ue)}if(Ce=ue,Ce==".."||Ce==".")ue="";else if(Ce.indexOf("./")!=-1||Ce.indexOf("/.")!=-1){ue=Ce.lastIndexOf("/",0)==0,Ce=Ce.split("/");const Ie=[];for(let nt=0;nt<Ce.length;){const Yt=Ce[nt++];Yt=="."?ue&&nt==Ce.length&&Ie.push(""):Yt==".."?((Ie.length>1||Ie.length==1&&Ie[0]!="")&&Ie.pop(),ue&&nt==Ce.length&&Ie.push("")):(Ie.push(Yt),ue=!0)}ue=Ie.join("/")}else ue=Ce}return ae?J.h=ue:ae=U.i.toString()!=="",ae?yn(J,Pi(U.i)):ae=!!U.m,ae&&(J.m=U.m),J};function $t(U){return new Xt(U)}function tr(U,J,ae){U.j=ae?Yn(J,!0):J,U.j&&(U.j=U.j.replace(/:$/,""))}function Ur(U,J){if(J){if(J=Number(J),isNaN(J)||J<0)throw Error("Bad port number "+J);U.u=J}else U.u=null}function yn(U,J,ae){J instanceof hn?(U.i=J,Aa(U.i,U.l)):(ae||(J=Ei(J,ri)),U.i=new hn(J,U.l))}function rr(U,J,ae){U.i.set(J,ae)}function mi(U){return rr(U,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),U}function Yn(U,J){return U?J?decodeURI(U.replace(/%25/g,"%2525")):decodeURIComponent(U):""}function Ei(U,J,ae){return typeof U=="string"?(U=encodeURI(U).replace(J,vn),ae&&(U=U.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U):null}function vn(U){return U=U.charCodeAt(0),"%"+(U>>4&15).toString(16)+(U&15).toString(16)}var gr=/[#\/\?@]/g,fr=/[#\?:]/g,Ti=/[#\?]/g,ri=/[#\?@]/g,ys=/#/g;function hn(U,J){this.h=this.g=null,this.i=U||null,this.j=!!J}function an(U){U.g||(U.g=new Map,U.h=0,U.i&&mr(U.i,function(J,ae){U.add(decodeURIComponent(J.replace(/\+/g," ")),ae)}))}r=hn.prototype,r.add=function(U,J){an(this),this.i=null,U=Sa(this,U);let ae=this.g.get(U);return ae||this.g.set(U,ae=[]),ae.push(J),this.h+=1,this};function Ri(U,J){an(U),J=Sa(U,J),U.g.has(J)&&(U.i=null,U.h-=U.g.get(J).length,U.g.delete(J))}function _a(U,J){return an(U),J=Sa(U,J),U.g.has(J)}r.forEach=function(U,J){an(this),this.g.forEach(function(ae,ue){ae.forEach(function(Ce){U.call(J,Ce,ue,this)},this)},this)};function Ka(U,J){an(U);let ae=[];if(typeof J=="string")_a(U,J)&&(ae=ae.concat(U.g.get(Sa(U,J))));else for(U=Array.from(U.g.values()),J=0;J<U.length;J++)ae=ae.concat(U[J]);return ae}r.set=function(U,J){return an(this),this.i=null,U=Sa(this,U),_a(this,U)&&(this.h-=this.g.get(U).length),this.g.set(U,[J]),this.h+=1,this},r.get=function(U,J){return U?(U=Ka(this,U),U.length>0?String(U[0]):J):J};function Ii(U,J,ae){Ri(U,J),ae.length>0&&(U.i=null,U.g.set(Sa(U,J),d(ae)),U.h+=ae.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const U=[],J=Array.from(this.g.keys());for(let ue=0;ue<J.length;ue++){var ae=J[ue];const Ce=Pe(ae);ae=Ka(this,ae);for(let Ie=0;Ie<ae.length;Ie++){let nt=Ce;ae[Ie]!==""&&(nt+="="+Pe(ae[Ie])),U.push(nt)}}return this.i=U.join("&")};function Pi(U){const J=new hn;return J.i=U.i,U.g&&(J.g=new Map(U.g),J.h=U.h),J}function Sa(U,J){return J=String(J),U.j&&(J=J.toLowerCase()),J}function Aa(U,J){J&&!U.j&&(an(U),U.i=null,U.g.forEach(function(ae,ue){const Ce=ue.toLowerCase();ue!=Ce&&(Ri(this,ue),Ii(this,Ce,ae))},U)),U.j=J}function vs(U,J){const ae=new Gt;if(s.Image){const ue=new Image;ue.onload=u(An,ae,"TestLoadImage: loaded",!0,J,ue),ue.onerror=u(An,ae,"TestLoadImage: error",!1,J,ue),ue.onabort=u(An,ae,"TestLoadImage: abort",!1,J,ue),ue.ontimeout=u(An,ae,"TestLoadImage: timeout",!1,J,ue),s.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=U}else J(!1)}function Ga(U,J){const ae=new Gt,ue=new AbortController,Ce=setTimeout(()=>{ue.abort(),An(ae,"TestPingServer: timeout",!1,J)},1e4);fetch(U,{signal:ue.signal}).then(Ie=>{clearTimeout(Ce),Ie.ok?An(ae,"TestPingServer: ok",!0,J):An(ae,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(Ce),An(ae,"TestPingServer: error",!1,J)})}function An(U,J,ae,ue,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),ue(ae)}catch{}}function Ea(){this.g=new bt}function Ta(U){this.i=U.Sb||null,this.h=U.ab||!1}f(Ta,yt),Ta.prototype.g=function(){return new Di(this.i,this.h)};function Di(U,J){he.call(this),this.H=U,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Di,he),r=Di.prototype,r.open=function(U,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=U,this.D=J,this.readyState=1,xs(this)},r.send=function(U){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const J={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};U&&(J.body=U),(this.H||s).fetch(new Request(this.D,J)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},r.Pa=function(U){if(this.g&&(this.l=U,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=U.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")U.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in U){if(this.j=U.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ih(this)}else U.text().then(this.Oa.bind(this),this.ga.bind(this))};function ih(U){U.j.read().then(U.Ma.bind(U)).catch(U.ga.bind(U))}r.Ma=function(U){if(this.g){if(this.o&&U.value)this.response.push(U.value);else if(!this.o){var J=U.value?U.value:new Uint8Array(0);(J=this.B.decode(J,{stream:!U.done}))&&(this.response=this.responseText+=J)}U.done?ka(this):xs(this),this.readyState==3&&ih(this)}},r.Oa=function(U){this.g&&(this.response=this.responseText=U,ka(this))},r.Na=function(U){this.g&&(this.response=U,ka(this))},r.ga=function(){this.g&&ka(this)};function ka(U){U.readyState=4,U.l=null,U.j=null,U.B=null,xs(U)}r.setRequestHeader=function(U,J){this.A.append(U,J)},r.getResponseHeader=function(U){return this.h&&this.h.get(U.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const U=[],J=this.h.entries();for(var ae=J.next();!ae.done;)ae=ae.value,U.push(ae[0]+": "+ae[1]),ae=J.next();return U.join(`\r
`)};function xs(U){U.onreadystatechange&&U.onreadystatechange.call(U)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(U){this.m=U?"include":"same-origin"}});function so(U){let J="";return j(U,function(ae,ue){J+=ue,J+=":",J+=ae,J+=`\r
`}),J}function ea(U,J,ae){e:{for(ue in ae){var ue=!1;break e}ue=!0}ue||(ae=so(ae),typeof U=="string"?ae!=null&&Pe(ae):rr(U,J,ae))}function Wr(U){he.call(this),this.headers=new Map,this.L=U||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Wr,he);var Vc=/^https?$/i,hm=["POST","PUT"];r=Wr.prototype,r.Fa=function(U){this.H=U},r.ea=function(U,J,ae,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+U);J=J?J.toUpperCase():"GET",this.D=U,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():we.g(),this.g.onreadystatechange=h(o(this.Ca,this));try{this.B=!0,this.g.open(J,String(U),!0),this.B=!1}catch(Ie){ml(this,Ie);return}if(U=ae||"",ae=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Ce in ue)ae.set(Ce,ue[Ce]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const Ie of ue.keys())ae.set(Ie,ue.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(ae.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Ce=s.FormData&&U instanceof s.FormData,!(Array.prototype.indexOf.call(hm,J,void 0)>=0)||ue||Ce||ae.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,nt]of ae)this.g.setRequestHeader(Ie,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(U),this.v=!1}catch(Ie){ml(this,Ie)}};function ml(U,J){U.h=!1,U.g&&(U.j=!0,U.g.abort(),U.j=!1),U.l=J,U.o=5,gl(U),Mn(U)}function gl(U){U.A||(U.A=!0,ve(U,"complete"),ve(U,"error"))}r.abort=function(U){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=U||7,ve(this,"complete"),ve(this,"abort"),Mn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),Wr.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ah(this):this.Xa())},r.Xa=function(){ah(this)};function ah(U){if(U.h&&typeof a<"u"){if(U.v&&ni(U)==4)setTimeout(U.Ca.bind(U),0);else if(ve(U,"readystatechange"),ni(U)==4){U.h=!1;try{const Ie=U.ca();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var ae;if(!(ae=J)){var ue;if(ue=Ie===0){let nt=String(U.D).match(Ct)[1]||null;!nt&&s.self&&s.self.location&&(nt=s.self.location.protocol.slice(0,-1)),ue=!Vc.test(nt?nt.toLowerCase():"")}ae=ue}if(ae)ve(U,"complete"),ve(U,"success");else{U.o=6;try{var Ce=ni(U)>2?U.g.statusText:""}catch{Ce=""}U.l=Ce+" ["+U.ca()+"]",gl(U)}}finally{Mn(U)}}}}function Mn(U,J){if(U.g){U.m&&(clearTimeout(U.m),U.m=null);const ae=U.g;U.g=null,J||ve(U,"ready");try{ae.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(U){return U.g?U.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(U){if(this.g){var J=this.g.responseText;return U&&J.indexOf(U)==0&&(J=J.substring(U.length)),wt(J)}};function bl(U){try{if(!U.g)return null;if("response"in U.g)return U.g.response;switch(U.F){case"":case"text":return U.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in U.g)return U.g.mozResponseArrayBuffer}return null}catch{return null}}function yl(U){const J={};U=(U.g&&ni(U)>=2&&U.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<U.length;ue++){if(O(U[ue]))continue;var ae=Je(U[ue]);const Ce=ae[0];if(ae=ae[1],typeof ae!="string")continue;ae=ae.trim();const Ie=J[Ce]||[];J[Ce]=Ie,Ie.push(ae)}R(J,function(ue){return ue.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vl(U,J,ae){return ae&&ae.internalChannelParams&&ae.internalChannelParams[U]||J}function zc(U){this.za=0,this.i=[],this.j=new Gt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vl("failFast",!1,U),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vl("baseRetryDelayMs",5e3,U),this.Za=vl("retryDelaySeedMs",1e4,U),this.Ta=vl("forwardChannelMaxRetries",2,U),this.va=vl("forwardChannelRequestTimeoutMs",2e4,U),this.ma=U&&U.xmlHttpFactory||void 0,this.Ua=U&&U.Rb||void 0,this.Aa=U&&U.useFetchStreams||!1,this.O=void 0,this.L=U&&U.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(U&&U.concurrentRequestLimit),this.Ba=new Ea,this.S=U&&U.fastHandshake||!1,this.R=U&&U.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=U&&U.Pb||!1,U&&U.ua&&this.j.ua(),U&&U.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&U&&U.detectBufferingProxy||!1,this.ia=void 0,U&&U.longPollingTimeout&&U.longPollingTimeout>0&&(this.ia=U.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=zc.prototype,r.ka=8,r.I=1,r.connect=function(U,J,ae,ue){At(0),this.W=U,this.H=J||{},ae&&ue!==void 0&&(this.H.OSID=ae,this.H.OAID=ue),this.F=this.X,this.J=ym(this,null,this.W),_l(this)};function xl(U){if(wl(U),U.I==3){var J=U.V++,ae=$t(U.J);if(rr(ae,"SID",U.M),rr(ae,"RID",J),rr(ae,"TYPE","terminate"),Sl(U,ae),J=new ct(U,U.j,J),J.M=2,J.A=mi($t(ae)),ae=!1,s.navigator&&s.navigator.sendBeacon)try{ae=s.navigator.sendBeacon(J.A.toString(),"")}catch{}!ae&&s.Image&&(new Image().src=J.A,ae=!0),ae||(J.g=Hc(J.j,null),J.g.ea(J.A)),J.F=Date.now(),xr(J)}bm(U)}function Wa(U){U.g&&(oh(U),U.g.cancel(),U.g=null)}function wl(U){Wa(U),U.v&&(s.clearTimeout(U.v),U.v=null),Uc(U),U.h.cancel(),U.m&&(typeof U.m=="number"&&s.clearTimeout(U.m),U.m=null)}function _l(U){if(!lt(U.h)&&!U.m){U.m=!0;var J=U.Ea;N||I(),P||(N(),P=!0),D.add(J,U),U.D=0}}function Ly(U,J){return We(U.h)>=U.h.j-(U.m?1:0)?!1:U.m?(U.i=J.G.concat(U.i),!0):U.I==1||U.I==2||U.D>=(U.Sa?0:U.Ta)?!1:(U.m=cr(o(U.Ea,U,J),gm(U,U.D)),U.D++,!0)}r.Ea=function(U){if(this.m)if(this.m=null,this.I==1){if(!U){this.V=Math.floor(Math.random()*1e5),U=this.V++;const Ce=new ct(this,this.j,U);let Ie=this.o;if(this.U&&(Ie?(Ie=q(Ie),Y(Ie,this.U)):Ie=this.U),this.u!==null||this.R||(Ce.J=Ie,Ie=null),this.S)e:{for(var J=0,ae=0;ae<this.i.length;ae++){t:{var ue=this.i[ae];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(J+=ue,J>4096){J=ae;break e}if(J===4096||ae===this.i.length-1){J=ae+1;break e}}J=1e3}else J=1e3;J=qc(this,Ce,J),ae=$t(this.J),rr(ae,"RID",U),rr(ae,"CVER",22),this.G&&rr(ae,"X-HTTP-Session-Id",this.G),Sl(this,ae),Ie&&(this.R?J="headers="+Pe(so(Ie))+"&"+J:this.u&&ea(ae,this.u,Ie)),er(this.h,Ce),this.Ra&&rr(ae,"TYPE","init"),this.S?(rr(ae,"$req",J),rr(ae,"SID","null"),Ce.U=!0,pt(Ce,ae,null)):pt(Ce,ae,J),this.I=2}}else this.I==3&&(U?dm(this,U):this.i.length==0||lt(this.h)||dm(this))};function dm(U,J){var ae;J?ae=J.l:ae=U.V++;const ue=$t(U.J);rr(ue,"SID",U.M),rr(ue,"RID",ae),rr(ue,"AID",U.K),Sl(U,ue),U.u&&U.o&&ea(ue,U.u,U.o),ae=new ct(U,U.j,ae,U.D+1),U.u===null&&(ae.J=U.o),J&&(U.i=J.G.concat(U.i)),J=qc(U,ae,1e3),ae.H=Math.round(U.va*.5)+Math.round(U.va*.5*Math.random()),er(U.h,ae),pt(ae,ue,J)}function Sl(U,J){U.H&&j(U.H,function(ae,ue){rr(J,ue,ae)}),U.l&&j({},function(ae,ue){rr(J,ue,ae)})}function qc(U,J,ae){ae=Math.min(U.i.length,ae);const ue=U.l?o(U.l.Ka,U.l,U):null;e:{var Ce=U.i;let Yt=-1;for(;;){const tn=["count="+ae];Yt==-1?ae>0?(Yt=Ce[0].g,tn.push("ofs="+Yt)):Yt=0:tn.push("ofs="+Yt);let Pr=!0;for(let xn=0;xn<ae;xn++){var Ie=Ce[xn].g;const Bi=Ce[xn].map;if(Ie-=Yt,Ie<0)Yt=Math.max(0,Ce[xn].g-100),Pr=!1;else try{Ie="req"+Ie+"_"||"";try{var nt=Bi instanceof Map?Bi:Object.entries(Bi);for(const[Xa,ja]of nt){let Ca=ja;c(ja)&&(Ca=Ye(ja)),tn.push(Ie+Xa+"="+encodeURIComponent(Ca))}}catch(Xa){throw tn.push(Ie+"type="+encodeURIComponent("_badmap")),Xa}}catch{ue&&ue(Bi)}}if(Pr){nt=tn.join("&");break e}}nt=void 0}return U=U.i.splice(0,ae),J.G=U,nt}function pm(U){if(!U.g&&!U.v){U.Y=1;var J=U.Da;N||I(),P||(N(),P=!0),D.add(J,U),U.A=0}}function sh(U){return U.g||U.v||U.A>=3?!1:(U.Y++,U.v=cr(o(U.Da,U),gm(U,U.A)),U.A++,!0)}r.Da=function(){if(this.v=null,mm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var U=4*this.T;this.j.info("BP detection timer enabled: "+U),this.B=cr(o(this.Wa,this),U)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Wa(this),mm(this))};function oh(U){U.B!=null&&(s.clearTimeout(U.B),U.B=null)}function mm(U){U.g=new ct(U,U.j,"rpc",U.Y),U.u===null&&(U.g.J=U.o),U.g.P=0;var J=$t(U.na);rr(J,"RID","rpc"),rr(J,"SID",U.M),rr(J,"AID",U.K),rr(J,"CI",U.F?"0":"1"),!U.F&&U.ia&&rr(J,"TO",U.ia),rr(J,"TYPE","xmlhttp"),Sl(U,J),U.u&&U.o&&ea(J,U.u,U.o),U.O&&(U.g.H=U.O);var ae=U.g;U=U.ba,ae.M=1,ae.A=mi($t(J)),ae.u=null,ae.R=!0,Bt(ae,U)}r.Va=function(){this.C!=null&&(this.C=null,Wa(this),sh(this),At(19))};function Uc(U){U.C!=null&&(s.clearTimeout(U.C),U.C=null)}function lh(U,J){var ae=null;if(U.g==J){Uc(U),oh(U),U.g=null;var ue=2}else if(Xe(U.h,J))ae=J.G,qt(U.h,J),ue=1;else return;if(U.I!=0){if(J.o)if(ue==1){ae=J.u?J.u.length:0,J=Date.now()-J.F;var Ce=U.D;ue=Wt(),ve(ue,new jt(ue,ae)),_l(U)}else pm(U);else if(Ce=J.m,Ce==3||Ce==0&&J.X>0||!(ue==1&&Ly(U,J)||ue==2&&sh(U)))switch(ae&&ae.length>0&&(J=U.h,J.i=J.i.concat(ae)),Ce){case 1:ws(U,5);break;case 4:ws(U,10);break;case 3:ws(U,6);break;default:ws(U,2)}}}function gm(U,J){let ae=U.Qa+Math.floor(Math.random()*U.Za);return U.isActive()||(ae*=2),ae*J}function ws(U,J){if(U.j.info("Error code "+J),J==2){var ae=o(U.bb,U),ue=U.Ua;const Ce=!ue;ue=new Xt(ue||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||tr(ue,"https"),mi(ue),Ce?vs(ue.toString(),ae):Ga(ue.toString(),ae)}else At(2);U.I=0,U.l&&U.l.pa(J),bm(U),wl(U)}r.bb=function(U){U?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function bm(U){if(U.I=0,U.ja=[],U.l){const J=Ht(U.h);(J.length!=0||U.i.length!=0)&&(g(U.ja,J),g(U.ja,U.i),U.h.i.length=0,d(U.i),U.i.length=0),U.l.oa()}}function ym(U,J,ae){var ue=ae instanceof Xt?$t(ae):new Xt(ae);if(ue.g!="")J&&(ue.g=J+"."+ue.g),Ur(ue,ue.u);else{var Ce=s.location;ue=Ce.protocol,J=J?J+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;const Ie=new Xt(null);ue&&tr(Ie,ue),J&&(Ie.g=J),Ce&&Ur(Ie,Ce),ae&&(Ie.h=ae),ue=Ie}return ae=U.G,J=U.wa,ae&&J&&rr(ue,ae,J),rr(ue,"VER",U.ka),Sl(U,ue),ue}function Hc(U,J,ae){if(J&&!U.L)throw Error("Can't create secondary domain capable XhrIo object.");return J=U.Aa&&!U.ma?new Wr(new Ta({ab:ae})):new Wr(U.ma),J.Fa(U.L),J}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}r=vm.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Kc(){}Kc.prototype.g=function(U,J){return new gi(U,J)};function gi(U,J){he.call(this),this.g=new zc(J),this.l=U,this.h=J&&J.messageUrlParams||null,U=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(U?U["X-Client-Protocol"]="webchannel":U={"X-Client-Protocol":"webchannel"}),this.g.o=U,U=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(U?U["X-WebChannel-Content-Type"]=J.messageContentType:U={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.sa&&(U?U["X-WebChannel-Client-Profile"]=J.sa:U={"X-WebChannel-Client-Profile":J.sa}),this.g.U=U,(U=J&&J.Qb)&&!O(U)&&(this.g.u=U),this.A=J&&J.supportsCrossDomainXhr||!1,this.v=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!O(J)&&(this.g.G=J,U=this.h,U!==null&&J in U&&(U=this.h,J in U&&delete U[J])),this.j=new oo(this)}f(gi,he),gi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gi.prototype.close=function(){xl(this.g)},gi.prototype.o=function(U){var J=this.g;if(typeof U=="string"){var ae={};ae.__data__=U,U=ae}else this.v&&(ae={},ae.__data__=Ye(U),U=ae);J.i.push(new Fe(J.Ya++,U)),J.I==3&&_l(J)},gi.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,gi.Z.N.call(this)};function ch(U){Ue.call(this),U.__headers__&&(this.headers=U.__headers__,this.statusCode=U.__status__,delete U.__headers__,delete U.__status__);var J=U.__sm__;if(J){e:{for(const ae in J){U=ae;break e}U=void 0}(this.i=U)&&(U=this.i,J=J!==null&&U in J?J[U]:void 0),this.data=J}else this.data=U}f(ch,Ue);function xm(){at.call(this),this.status=1}f(xm,at);function oo(U){this.g=U}f(oo,vm),oo.prototype.ra=function(){ve(this.g,"a")},oo.prototype.qa=function(U){ve(this.g,new ch(U))},oo.prototype.pa=function(U){ve(this.g,new xm)},oo.prototype.oa=function(){ve(this.g,"b")},Kc.prototype.createWebChannel=Kc.prototype.g,gi.prototype.send=gi.prototype.o,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,KM=function(){return new Kc},HM=function(){return Wt()},UM=st,d3={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,V0=vr,Dt.COMPLETE="complete",qM=Dt,_t.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",he.prototype.listen=he.prototype.J,gd=_t,Wr.prototype.listenOnce=Wr.prototype.K,Wr.prototype.getLastError=Wr.prototype.Ha,Wr.prototype.getLastErrorCode=Wr.prototype.ya,Wr.prototype.getStatus=Wr.prototype.ca,Wr.prototype.getResponseJson=Wr.prototype.La,Wr.prototype.getResponseText=Wr.prototype.la,Wr.prototype.send=Wr.prototype.ea,Wr.prototype.setWithCredentials=Wr.prototype.Fa,zM=Wr}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",zE="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new DM("@firebase/firestore");function Nu(){return vc.logLevel}function Ke(r,...e){if(vc.logLevel<=Er.DEBUG){const t=e.map(w5);vc.debug(`Firestore (${Uf}): ${r}`,...t)}}function _n(r,...e){if(vc.logLevel<=Er.ERROR){const t=e.map(w5);vc.error(`Firestore (${Uf}): ${r}`,...t)}}function Xd(r,...e){if(vc.logLevel<=Er.WARN){const t=e.map(w5);vc.warn(`Firestore (${Uf}): ${r}`,...t)}}function w5(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,GM(r,n,t)}function GM(r,e,t){let n=`FIRESTORE (${Uf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw _n(n),new Error(n)}function kt(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||GM(e,i,n)}function xt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends qf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ci.UNAUTHENTICATED)))}shutdown(){}}class Yz{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let a=new Go;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Go,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const l=a;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},c=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Go)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(kt(typeof n.accessToken=="string",31837,{l:n}),new Wz(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new ci(e)}}class Qz{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zz{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Qz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ci.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rz(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(kt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=eq(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function Kt(r,e){return r<e?-1:r>e?1:0}function p3(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),a=e.charAt(n);if(i!==a)return L1(i)===L1(a)?Kt(i,a):L1(i)?1:-1}return Kt(r.length,e.length)}const tq=55296,rq=57343;function L1(r){const e=r.charCodeAt(0);return e>=tq&&e<=rq}function Xu(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}function WM(r){return r+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__name__";class rs{constructor(e,t,n){t===void 0?t=0:t>e.length&&ht(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&ht(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=rs.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Kt(e.length,t.length)}static compareSegments(e,t){const n=rs.isNumericId(e),i=rs.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?rs.extractNumericId(e).compare(rs.extractNumericId(t)):p3(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ko.fromString(e.substring(4,e.length-2))}}class zr extends rs{construct(e,t,n){return new zr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ut(ze.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new zr(t)}static emptyPath(){return new zr([])}}const nq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends rs{construct(e,t,n){return new fn(e,t,n)}static isValidIdentifier(e){return nq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UE}static keyField(){return new fn([UE])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ut(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ut(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ut(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(n+=c,i++):(a(),i++)}if(a(),s)throw new ut(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(zr.fromString(e))}static fromName(e){return new ot(zr.fromString(e).popFirst(5))}static empty(){return new ot(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new zr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(r,e,t){if(!t)throw new ut(ze.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function aq(r,e,t,n){if(e===!0&&n===!0)throw new ut(ze.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function HE(r){if(!ot.isDocumentKey(r))throw new ut(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function XM(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function S5(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ht(12329,{type:typeof r})}function fc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=S5(r);throw new ut(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r,e){const t={typeString:r};return e&&(t.value=e),t}function Yp(r,e){if(!XM(r))throw new ut(ze.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const s=r[n];if(i&&typeof s!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new ut(ze.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=-62135596800,GE=1e6;class Dr{static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*GE);return new Dr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<KE)throw new ut(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yp(e,Dr._jsonSchema))return new Dr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dr._jsonSchemaVersion="firestore/timestamp/1.0",Dr._jsonSchema={type:On("string",Dr._jsonSchemaVersion),seconds:On("number"),nanoseconds:On("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new Dr(0,0))}static max(){return new It(new Dr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;class og{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function m3(r){return r.fields.find((e=>e.kind===2))}function Xl(r){return r.fields.filter((e=>e.kind!==2))}og.UNKNOWN_ID=-1;class z0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yd(0,Qi.min())}}function YM(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=It.fromTimestamp(n===1e9?new Dr(t+1,0):new Dr(t,n));return new Qi(i,ot.empty(),e)}function QM(r){return new Qi(r.readTime,r.key,Yu)}class Qi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Qi(It.min(),ot.empty(),Yu)}static max(){return new Qi(It.max(),ot.empty(),Yu)}}function A5(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ot.comparator(r.documentKey,e.documentKey),t!==0?t:Kt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(r){if(r.code!==ze.FAILED_PRECONDITION||r.message!==ZM)throw r;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new je(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof je?t:je.resolve(t)}catch(t){return je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):je.reject(t)}static resolve(e){return new je(((t,n)=>{t(e)}))}static reject(e){return new je(((t,n)=>{n(e)}))}static waitFor(e){return new je(((t,n)=>{let i=0,a=0,s=!1;e.forEach((c=>{++i,c.next((()=>{++a,s&&a===i&&t()}),(l=>n(l)))})),s=!0,a===i&&t()}))}static or(e){let t=je.resolve(!1);for(const n of e)t=t.next((i=>i?je.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,a)=>{n.push(t.call(this,i,a))})),this.waitFor(n)}static mapArray(e,t){return new je(((n,i)=>{const a=e.length,s=new Array(a);let c=0;for(let l=0;l<a;l++){const o=l;t(e[o]).next((u=>{s[o]=u,++c,c===a&&n(s)}),(u=>i(u)))}}))}static doWhile(e,t){return new je(((n,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):n()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="SimpleDb";class Mb{static open(e,t,n,i){try{return new Mb(t,e.transaction(i,n))}catch(a){throw new Ed(t,a)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Go,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ed(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const i=E5(n.target.error);this.S.reject(new Ed(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Ke(Ki,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oq(t)}}class Wo{static delete(e){return Ke(Ki,"Removing database:",e),Jl(jM().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!IM())return!1;if(Wo.F())return!0;const e=ig(),t=Wo.M(e),n=0<t&&t<10,i=eR(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,Wo.M(ig())===12.2&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Ke(Ki,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;t(s)},i.onblocked=()=>{n(new Ed(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?n(new ut(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new ut(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new Ed(e,s))},i.onupgradeneeded=a=>{Ke(Ki,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.N.k(s,i.transaction,a.oldVersion,this.version).next((()=>{Ke(Ki,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const a=t==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const c=Mb.open(this.db,e,a?"readonly":"readwrite",n),l=i(c).next((o=>(c.C(),o))).catch((o=>(c.abort(o),je.reject(o)))).toPromise();return l.catch((()=>{})),await c.D,l}catch(c){const l=c,o=l.name!=="FirebaseError"&&s<3;if(Ke(Ki,"Transaction failed with error:",l.message,"Retrying:",o),this.close(),!o)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class sq{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Jl(this.U.delete())}}class Ed extends ut{constructor(e,t){super(ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ol(r){return r.name==="IndexedDbTransactionError"}class oq{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(Ke(Ki,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ke(Ki,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Jl(n)}add(e){return Ke(Ki,"ADD",this.store.name,e,e),Jl(this.store.add(e))}get(e){return Jl(this.store.get(e)).next((t=>(t===void 0&&(t=null),Ke(Ki,"GET",this.store.name,e,t),t)))}delete(e){return Ke(Ki,"DELETE",this.store.name,e),Jl(this.store.delete(e))}count(){return Ke(Ki,"COUNT",this.store.name),Jl(this.store.count())}J(e,t){const n=this.options(e,t),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(n.range);return new je(((s,c)=>{a.onerror=l=>{c(l.target.error)},a.onsuccess=l=>{s(l.target.result)}}))}{const a=this.cursor(n),s=[];return this.H(a,((c,l)=>{s.push(l)})).next((()=>s))}}Y(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new je(((i,a)=>{n.onerror=s=>{a(s.target.error)},n.onsuccess=s=>{i(s.target.result)}}))}Z(e,t){Ke(Ki,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const i=this.cursor(n);return this.H(i,((a,s,c)=>c.delete()))}ee(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.H(i,t)}te(e){const t=this.cursor({});return new je(((n,i)=>{t.onerror=a=>{const s=E5(a.target.error);i(s)},t.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((c=>{c?s.continue():n()})):n()}}))}H(e,t){const n=[];return new je(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const c=s.target.result;if(!c)return void i();const l=new sq(c),o=t(c.primaryKey,c.value,l);if(o instanceof je){const u=o.catch((f=>(l.done(),je.reject(f))));n.push(u)}l.isDone?i():l.G===null?c.continue():c.continue(l.G)}})).next((()=>je.waitFor(n)))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jl(r){return new je(((e,t)=>{r.onsuccess=n=>{const i=n.target.result;e(i)},r.onerror=n=>{const i=E5(n.target.error);t(i)}}))}let WE=!1;function E5(r){const e=Wo.M(ig());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const n=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WE||(WE=!0,setTimeout((()=>{throw n}),0)),n}}return r}const Td="IndexBackfiller";class lq{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Ke(Td,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();Ke(Td,`Documents written: ${t}`)}catch(t){ol(t)?Ke(Td,"Ignoring IndexedDB error during index backfill: ",t):await sl(t)}await this.re(6e4)}))}}class cq{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const n=new Set;let i=t,a=!0;return je.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!n.has(s))return Ke(Td,`Processing collection: ${s}`),this.oe(e,s,i).next((c=>{i-=c,n.add(s)}));a=!1})))).next((()=>t-i))}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this._e(i,a))).next((c=>(Ke(Td,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>s.size))}))))}_e(e,t){let n=e;return t.changes.forEach(((i,a)=>{const s=QM(a);A5(s,n)>0&&(n=s)})),new Qi(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ji.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function Rb(r){return r==null}function Qd(r){return r===0&&1/r==-1/0}function tR(r){return typeof r=="number"&&Number.isInteger(r)&&!Qd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="";function pi(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=XE(e)),e=uq(r.get(t),e);return XE(e)}function uq(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case lg:t+="";break;default:t+=a}}return t}function XE(r){return r+lg+""}function is(r){const e=r.length;if(kt(e>=2,64408,{path:r}),e===2)return kt(r.charAt(0)===lg&&r.charAt(1)==="",56145,{path:r}),zr.emptyPath();const t=e-2,n=[];let i="";for(let a=0;a<e;){const s=r.indexOf(lg,a);switch((s<0||s>t)&&ht(50515,{path:r}),r.charAt(s+1)){case"":const c=r.substring(a,s);let l;i.length===0?l=c:(i+=c,l=i,i=""),n.push(l);break;case"":i+=r.substring(a,s),i+="\0";break;case"":i+=r.substring(a,s+1);break;default:ht(61167,{path:r})}a=s+2}return new zr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="remoteDocuments",Qp="owner",vu="owner",Zd="mutationQueues",fq="userId",Ba="mutations",YE="batchId",ic="userMutationsIndex",QE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r,e){return[r,pi(e)]}function rR(r,e,t){return[r,pi(e),t]}const hq={},Qu="documentMutations",cg="remoteDocumentsV14",dq=["prefixPath","collectionGroup","readTime","documentId"],U0="documentKeyIndex",pq=["prefixPath","collectionGroup","documentId"],nR="collectionGroupIndex",mq=["collectionGroup","readTime","prefixPath","documentId"],Jd="remoteDocumentGlobal",g3="remoteDocumentGlobalKey",Zu="targets",iR="queryTargetsIndex",gq=["canonicalId","targetId"],Ju="targetDocuments",bq=["targetId","path"],T5="documentTargetsIndex",yq=["path","targetId"],ug="targetGlobalKey",dc="targetGlobal",ep="collectionParents",vq=["collectionId","parent"],ef="clientMetadata",xq="clientId",Ib="bundles",wq="bundleId",Pb="namedQueries",_q="name",k5="indexConfiguration",Sq="indexId",b3="collectionGroupIndex",Aq="collectionGroup",kd="indexState",Eq=["indexId","uid"],aR="sequenceNumberIndex",Tq=["uid","sequenceNumber"],jd="indexEntries",kq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sR="documentKeyIndex",jq=["indexId","uid","orderedDocumentKey"],Db="documentOverlays",Cq=["userId","collectionPath","documentId"],y3="collectionPathOverlayIndex",Oq=["userId","collectionPath","largestBatchId"],oR="collectionGroupOverlayIndex",Nq=["userId","collectionGroup","largestBatchId"],j5="globals",Mq="name",lR=[Zd,Ba,Qu,Yl,Zu,Qp,dc,Ju,ef,Jd,ep,Ib,Pb],Rq=[...lR,Db],cR=[Zd,Ba,Qu,cg,Zu,Qp,dc,Ju,ef,Jd,ep,Ib,Pb,Db],uR=cR,C5=[...uR,k5,kd,jd],Iq=C5,fR=[...C5,j5],Pq=fR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3 extends JM{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Fn(r,e){const t=xt(r);return Wo.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ll(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function hR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t){this.comparator=e,this.root=t||ti.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new v0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new v0(this.root,e,this.comparator,!1)}getReverseIterator(){return new v0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new v0(this.root,e,this.comparator,!0)}}class v0{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??ti.RED,this.left=i??ti.EMPTY,this.right=a??ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new ti(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ti.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1;ti.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new ti(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JE(this.data.getIterator())}getIteratorFrom(e){return new JE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class JE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xu(r){return r.hasNext()?r.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ci([])}unionWith(e){let t=new Br(fn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ci(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dR("Invalid base64 string: "+a):a}})(e);return new Sn(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const Dq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(r){if(kt(!!r,39018),typeof r=="string"){let e=0;const t=Dq.exec(r);if(kt(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:sn(r.seconds),nanos:sn(r.nanos)}}function sn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Sn.fromBase64String(r):Sn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="server_timestamp",mR="__type__",gR="__previous_value__",bR="__local_write_time__";function O5(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[mR])==null?void 0:n.stringValue)===pR}function Bb(r){const e=r.mapValue.fields[gR];return O5(e)?Bb(e):e}function tp(r){const e=Gs(r.mapValue.fields[bR].timestampValue);return new Dr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,t,n,i,a,s,c,l,o,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=o,this.isUsingEmulator=u}}const fg="(default)";class xc{constructor(e,t){this.projectId=e,this.database=t||fg}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===fg}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="__type__",yR="__max__",Vo={mapValue:{fields:{__type__:{stringValue:yR}}}},M5="__vector__",tf="value",H0={nullValue:"NULL_VALUE"};function Zo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?O5(r)?4:vR(r)?9007199254740991:Lb(r)?10:11:ht(28295,{value:r})}function ds(r,e){if(r===e)return!0;const t=Zo(r);if(t!==Zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tp(r).isEqual(tp(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Gs(i.timestampValue),c=Gs(a.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,a){return Ws(i.bytesValue).isEqual(Ws(a.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,a){return sn(i.geoPointValue.latitude)===sn(a.geoPointValue.latitude)&&sn(i.geoPointValue.longitude)===sn(a.geoPointValue.longitude)})(r,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return sn(i.integerValue)===sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=sn(i.doubleValue),c=sn(a.doubleValue);return s===c?Qd(s)===Qd(c):isNaN(s)&&isNaN(c)}return!1})(r,e);case 9:return Xu(r.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},c=a.mapValue.fields||{};if(ZE(s)!==ZE(c))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!ds(s[l],c[l])))return!1;return!0})(r,e);default:return ht(52216,{left:r})}}function rp(r,e){return(r.values||[]).find((t=>ds(t,e)))!==void 0}function Jo(r,e){if(r===e)return 0;const t=Zo(r),n=Zo(e);if(t!==n)return Kt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(r.booleanValue,e.booleanValue);case 2:return(function(a,s){const c=sn(a.integerValue||a.doubleValue),l=sn(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(r,e);case 3:return eT(r.timestampValue,e.timestampValue);case 4:return eT(tp(r),tp(e));case 5:return p3(r.stringValue,e.stringValue);case 6:return(function(a,s){const c=Ws(a),l=Ws(s);return c.compareTo(l)})(r.bytesValue,e.bytesValue);case 7:return(function(a,s){const c=a.split("/"),l=s.split("/");for(let o=0;o<c.length&&o<l.length;o++){const u=Kt(c[o],l[o]);if(u!==0)return u}return Kt(c.length,l.length)})(r.referenceValue,e.referenceValue);case 8:return(function(a,s){const c=Kt(sn(a.latitude),sn(s.latitude));return c!==0?c:Kt(sn(a.longitude),sn(s.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return tT(r.arrayValue,e.arrayValue);case 10:return(function(a,s){var h,d,g,y;const c=a.fields||{},l=s.fields||{},o=(h=c[tf])==null?void 0:h.arrayValue,u=(d=l[tf])==null?void 0:d.arrayValue,f=Kt(((g=o==null?void 0:o.values)==null?void 0:g.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return f!==0?f:tT(o,u)})(r.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Vo.mapValue&&s===Vo.mapValue)return 0;if(a===Vo.mapValue)return 1;if(s===Vo.mapValue)return-1;const c=a.fields||{},l=Object.keys(c),o=s.fields||{},u=Object.keys(o);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=p3(l[f],u[f]);if(h!==0)return h;const d=Jo(c[l[f]],o[u[f]]);if(d!==0)return d}return Kt(l.length,u.length)})(r.mapValue,e.mapValue);default:throw ht(23264,{he:t})}}function eT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Kt(r,e);const t=Gs(r),n=Gs(e),i=Kt(t.seconds,n.seconds);return i!==0?i:Kt(t.nanos,n.nanos)}function tT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=Jo(t[i],n[i]);if(a)return a}return Kt(t.length,n.length)}function rf(r){return x3(r)}function x3(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Gs(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ws(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ot.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=x3(a);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${x3(t.fields[s])}`;return i+"}"})(r.mapValue):ht(61005,{value:r})}function K0(r){switch(Zo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bb(r);return e?16+K0(e):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+K0(a)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return ll(n.fields,((a,s)=>{i+=a.length+K0(s)})),i})(r.mapValue);default:throw ht(13486,{value:r})}}function R5(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function w3(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function rT(r){return!!r&&"nullValue"in r}function nT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function G0(r){return!!r&&"mapValue"in r}function Lb(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[N5])==null?void 0:n.stringValue)===M5}function Cd(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ll(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Cd(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cd(r.arrayValue.values[t]);return e}return{...r}}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}const xR={mapValue:{fields:{[N5]:{stringValue:M5},[tf]:{arrayValue:{}}}}};function Lq(r){return"nullValue"in r?H0:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?R5(xc.empty(),ot.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Lb(r)?xR:{mapValue:{}}:ht(35942,{value:r})}function Fq(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?R5(xc.empty(),ot.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?xR:"mapValue"in r?Lb(r)?{mapValue:{}}:Vo:ht(61959,{value:r})}function iT(r,e){const t=Jo(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function aT(r,e){const t=Jo(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!G0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(t)}setAll(e){let t=fn.emptyPath(),n={},i=[];e.forEach(((s,c)=>{if(!t.isImmediateParentOf(c)){const l=this.getFieldsMap(t);this.applyChanges(l,n,i),n={},i=[],t=c.popLast()}s?n[c.lastSegment()]=Cd(s):i.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());G0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];G0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){ll(t,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new hi(Cd(this.value))}}function wR(r){const e=[];return ll(r.fields,((t,n)=>{const i=new fn([t]);if(G0(n)){const a=wR(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t,n,i,a,s,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=c}static newInvalidDocument(e){return new bn(e,0,It.min(),It.min(),It.min(),hi.empty(),0)}static newFoundDocument(e,t,n,i){return new bn(e,1,t,It.min(),n,i,0)}static newNoDocument(e,t){return new bn(e,2,t,It.min(),It.min(),hi.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,It.min(),It.min(),hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.position=e,this.inclusive=t}}function sT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],s=r.position[i];if(a.field.isKeyField()?n=ot.comparator(ot.fromName(s.referenceValue),t.key):n=Jo(s,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function oT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ds(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t="asc"){this.field=e,this.dir=t}}function $q(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{}class _r extends _R{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Vq(e,t,n):t==="array-contains"?new Uq(e,n):t==="in"?new jR(e,n):t==="not-in"?new Hq(e,n):t==="array-contains-any"?new Kq(e,n):new _r(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new zq(e,n):new qq(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&Zo(this.value)===Zo(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends _R{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qr(e,t)}matches(e){return af(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function af(r){return r.op==="and"}function _3(r){return r.op==="or"}function I5(r){return SR(r)&&af(r)}function SR(r){for(const e of r.filters)if(e instanceof qr)return!1;return!0}function S3(r){if(r instanceof _r)return r.field.canonicalString()+r.op.toString()+rf(r.value);if(I5(r))return r.filters.map((e=>S3(e))).join(",");{const e=r.filters.map((t=>S3(t))).join(",");return`${r.op}(${e})`}}function AR(r,e){return r instanceof _r?(function(n,i){return i instanceof _r&&n.op===i.op&&n.field.isEqual(i.field)&&ds(n.value,i.value)})(r,e):r instanceof qr?(function(n,i){return i instanceof qr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,c)=>a&&AR(s,i.filters[c])),!0):!1})(r,e):void ht(19439)}function ER(r,e){const t=r.filters.concat(e);return qr.create(t,r.op)}function TR(r){return r instanceof _r?(function(t){return`${t.field.canonicalString()} ${t.op} ${rf(t.value)}`})(r):r instanceof qr?(function(t){return t.op.toString()+" {"+t.getFilters().map(TR).join(" ,")+"}"})(r):"Filter"}class Vq extends _r{constructor(e,t,n){super(e,t,n),this.key=ot.fromName(n.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class zq extends _r{constructor(e,t){super(e,"in",t),this.keys=kR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qq extends _r{constructor(e,t){super(e,"not-in",t),this.keys=kR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kR(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>ot.fromName(n.referenceValue)))}class Uq extends _r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return np(t)&&rp(t.arrayValue,this.value)}}class jR extends _r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rp(this.value.arrayValue,t)}}class Hq extends _r{constructor(e,t){super(e,"not-in",t)}matches(e){if(rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rp(this.value.arrayValue,t)}}class Kq extends _r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!np(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>rp(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,t=null,n=[],i=[],a=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=c,this.Te=null}}function A3(r,e=null,t=[],n=[],i=null,a=null,s=null){return new Gq(r,e,t,n,i,a,s)}function wc(r){const e=xt(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>S3(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Rb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>rf(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>rf(n))).join(",")),e.Te=t}return e.Te}function Zp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!$q(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!AR(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!oT(r.startAt,e.startAt)&&oT(r.endAt,e.endAt)}function dg(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function pg(r,e){return r.filters.filter((t=>t instanceof _r&&t.field.isEqual(e)))}function lT(r,e,t){let n=H0,i=!0;for(const a of pg(r,e)){let s=H0,c=!0;switch(a.op){case"<":case"<=":s=Lq(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,c=!1;break;case"!=":case"not-in":s=H0}iT({value:n,inclusive:i},{value:s,inclusive:c})<0&&(n=s,i=c)}if(t!==null){for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(e)){const s=t.position[a];iT({value:n,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(n=s,i=t.inclusive);break}}return{value:n,inclusive:i}}function cT(r,e,t){let n=Vo,i=!0;for(const a of pg(r,e)){let s=Vo,c=!0;switch(a.op){case">=":case">":s=Fq(a.value),c=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,c=!1;break;case"!=":case"not-in":s=Vo}aT({value:n,inclusive:i},{value:s,inclusive:c})>0&&(n=s,i=c)}if(t!==null){for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(e)){const s=t.position[a];aT({value:n,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(n=s,i=t.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t=null,n=[],i=[],a=null,s="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CR(r,e,t,n,i,a,s,c){return new Fb(r,e,t,n,i,a,s,c)}function $b(r){return new Fb(r)}function uT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Wq(r){return r.collectionGroup!==null}function Od(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Br(fn.comparator);return s.filters.forEach((l=>{l.getFlattenedFilters().forEach((o=>{o.isInequality()&&(c=c.add(o.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new hg(a,n))})),t.has(fn.keyField().canonicalString())||e.Ie.push(new hg(fn.keyField(),n))}return e.Ie}function Xi(r){const e=xt(r);return e.Ee||(e.Ee=Xq(e,Od(r))),e.Ee}function Xq(r,e){if(r.limitType==="F")return A3(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new hg(i.field,a)}));const t=r.endAt?new nf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new nf(r.startAt.position,r.startAt.inclusive):null;return A3(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function E3(r,e,t){return new Fb(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Vb(r,e){return Zp(Xi(r),Xi(e))&&r.limitType===e.limitType}function OR(r){return`${wc(Xi(r))}|lt:${r.limitType}`}function Mu(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>TR(i))).join(", ")}]`),Rb(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>rf(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>rf(i))).join(",")),`Target(${n})`})(Xi(r))}; limitType=${r.limitType})`}function Jp(r,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ot.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(r,e)&&(function(n,i){for(const a of Od(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(s,c,l){const o=sT(s,c,l);return s.inclusive?o<=0:o<0})(n.startAt,Od(n),i)||n.endAt&&!(function(s,c,l){const o=sT(s,c,l);return s.inclusive?o>=0:o>0})(n.endAt,Od(n),i))})(r,e)}function NR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function MR(r){return(e,t)=>{let n=!1;for(const i of Od(r)){const a=Yq(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Yq(r,e,t){const n=r.field.isKeyField()?ot.comparator(e.key,t.key):(function(a,s,c){const l=s.data.field(a),o=c.data.field(a);return l!==null&&o!==null?Jo(l,o):ht(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ht(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,((t,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return hR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=new en(ot.comparator);function Wi(){return Qq}const RR=new en(ot.comparator);function bd(...r){let e=RR;for(const t of r)e=e.insert(t.key,t);return e}function IR(r){let e=RR;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function as(){return Nd()}function PR(){return Nd()}function Nd(){return new Js((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Zq=new en(ot.comparator),Jq=new Br(ot.comparator);function dr(...r){let e=Jq;for(const t of r)e=e.add(t);return e}const eU=new Br(Kt);function P5(){return eU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function DR(r){return{integerValue:""+r}}function tU(r,e){return tR(e)?DR(e):D5(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this._=void 0}}function rU(r,e,t){return r instanceof ip?(function(i,a){const s={fields:{[mR]:{stringValue:pR},[bR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&O5(a)&&(a=Bb(a)),a&&(s.fields[gR]=a),{mapValue:s}})(t,e):r instanceof sf?LR(r,e):r instanceof of?FR(r,e):(function(i,a){const s=BR(i,a),c=fT(s)+fT(i.Ae);return w3(s)&&w3(i.Ae)?DR(c):D5(i.serializer,c)})(r,e)}function nU(r,e,t){return r instanceof sf?LR(r,e):r instanceof of?FR(r,e):t}function BR(r,e){return r instanceof ap?(function(n){return w3(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class ip extends zb{}class sf extends zb{constructor(e){super(),this.elements=e}}function LR(r,e){const t=$R(e);for(const n of r.elements)t.some((i=>ds(i,n)))||t.push(n);return{arrayValue:{values:t}}}class of extends zb{constructor(e){super(),this.elements=e}}function FR(r,e){let t=$R(e);for(const n of r.elements)t=t.filter((i=>!ds(i,n)));return{arrayValue:{values:t}}}class ap extends zb{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fT(r){return sn(r.integerValue||r.doubleValue)}function $R(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,t){this.field=e,this.transform=t}}function aU(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof sf&&i instanceof sf||n instanceof of&&i instanceof of?Xu(n.elements,i.elements,ds):n instanceof ap&&i instanceof ap?ds(n.Ae,i.Ae):n instanceof ip&&i instanceof ip})(r.transform,e.transform)}class sU{constructor(e,t){this.version=e,this.transformResults=t}}class Oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W0(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qb{}function VR(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new B5(r.key,Oi.none()):new Hf(r.key,r.data,Oi.none());{const t=r.data,n=hi.empty();let i=new Br(fn.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new eo(r.key,n,new Ci(i.toArray()),Oi.none())}}function oU(r,e,t){r instanceof Hf?(function(i,a,s){const c=i.value.clone(),l=dT(i.fieldTransforms,a,s.transformResults);c.setAll(l),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(r,e,t):r instanceof eo?(function(i,a,s){if(!W0(i.precondition,a))return void a.convertToUnknownDocument(s.version);const c=dT(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(zR(i)),l.setAll(c),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(r,e,t):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Md(r,e,t,n){return r instanceof Hf?(function(a,s,c,l){if(!W0(a.precondition,s))return c;const o=a.value.clone(),u=pT(a.fieldTransforms,l,s);return o.setAll(u),s.convertToFoundDocument(s.version,o).setHasLocalMutations(),null})(r,e,t,n):r instanceof eo?(function(a,s,c,l){if(!W0(a.precondition,s))return c;const o=pT(a.fieldTransforms,l,s),u=s.data;return u.setAll(zR(a)),u.setAll(o),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((f=>f.field)))})(r,e,t,n):(function(a,s,c){return W0(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(r,e,t)}function lU(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=BR(n.transform,i||null);a!=null&&(t===null&&(t=hi.empty()),t.set(n.field,a))}return t||null}function hT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Xu(n,i,((a,s)=>aU(a,s)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Hf extends qb{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends qb{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zR(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function dT(r,e,t){const n=new Map;kt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const a=r[i],s=a.transform,c=e.data.field(a.field);n.set(a.field,nU(s,c,t[i]))}return n}function pT(r,e,t){const n=new Map;for(const i of r){const a=i.transform,s=t.data.field(i.field);n.set(i.field,rU(a,s,e))}return n}class B5 extends qb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends qb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oU(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Md(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Md(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=PR();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let c=this.applyToLocalView(s,a.mutatedFields);c=t.has(i.key)?null:c;const l=VR(s,c);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(It.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),dr())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,((t,n)=>hT(t,n)))&&Xu(this.baseMutations,e.baseMutations,((t,n)=>hT(t,n)))}}class F5{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){kt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return Zq})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new F5(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,Ar;function uU(r){switch(r){case ze.OK:return ht(64938);case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0;default:return ht(15467,{code:r})}}function UR(r){if(r===void 0)return _n("GRPC error has no .code"),ze.UNKNOWN;switch(r){case jn.OK:return ze.OK;case jn.CANCELLED:return ze.CANCELLED;case jn.UNKNOWN:return ze.UNKNOWN;case jn.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case jn.INTERNAL:return ze.INTERNAL;case jn.UNAVAILABLE:return ze.UNAVAILABLE;case jn.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case jn.NOT_FOUND:return ze.NOT_FOUND;case jn.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case jn.ABORTED:return ze.ABORTED;case jn.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case jn.DATA_LOSS:return ze.DATA_LOSS;default:return ht(39323,{code:r})}}(Ar=jn||(jn={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new Ko([4294967295,4294967295],0);function mT(r){const e=fU().encode(r),t=new VM;return t.update(e),new Uint8Array(t.digest())}function gT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ko([t,n],0),new Ko([i,a],0)]}class V5{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new yd(`Invalid padding: ${t}`);if(n<0)throw new yd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new yd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new yd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ko.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Ko.fromNumber(n)));return i.compare(hU)===1&&(i=new Ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=mT(e),[n,i]=gT(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new V5(a,i,t);return n.forEach((c=>s.insert(c))),s}insert(e){if(this.ge===0)return;const t=mT(e),[n,i]=gT(t);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new em(It.min(),i,new en(Kt),Wi(),dr())}}class tm{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tm(n,t,dr(),dr(),dr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class HR{constructor(e,t){this.targetId=e,this.Ce=t}}class KR{constructor(e,t,n=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class bT{constructor(){this.ve=0,this.Fe=yT(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dr(),t=dr(),n=dr();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:ht(38017,{changeType:a})}})),new tm(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=yT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=x0(),this.He=x0(),this.Ye=new en(Kt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(dg(a))if(n===0){const s=new ot(a.path);this.et(t,s,bn.newNoDocument(s,It.min()))}else kt(n===1,20013,{expectedCount:n});else{const s=this._t(t);if(s!==n){const c=this.ut(e),l=c?this.ct(c,e,s):1;if(l!==0){this.it(t);const o=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,o)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let s,c;try{s=Ws(n).toUint8Array()}catch(l){if(l instanceof dR)return Xd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new V5(s,i,a)}catch(l){return Xd(l instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),c=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,s)=>{const c=this.ot(s);if(c){if(a.current&&dg(c.target)){const l=new ot(c.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,bn.newNoDocument(l,e))}a.Be&&(t.set(s,a.ke()),a.qe())}}));let n=dr();this.He.forEach(((a,s)=>{let c=!0;s.forEachWhile((l=>{const o=this.ot(l);return!o||o.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new em(e,t,this.Ye,this.je,n);return this.je=Wi(),this.Je=x0(),this.He=x0(),this.Ye=new en(Kt),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new bT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Br(Kt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Br(Kt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function x0(){return new en(ot.comparator)}function yT(){return new en(ot.comparator)}const pU={asc:"ASCENDING",desc:"DESCENDING"},mU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gU={and:"AND",or:"OR"};class bU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function T3(r,e){return r.useProto3Json||Rb(e)?e:{value:e}}function lf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GR(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yU(r,e){return lf(r,e.toTimestamp())}function Si(r){return kt(!!r,49232),It.fromTimestamp((function(t){const n=Gs(t);return new Dr(n.seconds,n.nanos)})(r))}function z5(r,e){return k3(r,e).canonicalString()}function k3(r,e){const t=(function(i){return new zr(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function WR(r){const e=zr.fromString(r);return kt(nI(e),10190,{key:e.toString()}),e}function mg(r,e){return z5(r.databaseId,e.path)}function pc(r,e){const t=WR(e);if(t.get(1)!==r.databaseId.projectId)throw new ut(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ut(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ot(QR(t))}function XR(r,e){return z5(r.databaseId,e)}function YR(r){const e=WR(r);return e.length===4?zr.emptyPath():QR(e)}function j3(r){return new zr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QR(r){return kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vT(r,e,t){return{name:mg(r,e),fields:t.value.mapValue.fields}}function vU(r,e,t){const n=pc(r,e.name),i=Si(e.updateTime),a=e.createTime?Si(e.createTime):It.min(),s=new hi({mapValue:{fields:e.fields}}),c=bn.newFoundDocument(n,i,a,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function xU(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:ht(39313,{state:o})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(o,u){return o.useProto3Json?(kt(u===void 0||typeof u=="string",58123),Sn.fromBase64String(u||"")):(kt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Sn.fromUint8Array(u||new Uint8Array))})(r,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(o){const u=o.code===void 0?ze.UNKNOWN:UR(o.code);return new ut(u,o.message||"")})(s);t=new KR(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=pc(r,n.document.name),a=Si(n.document.updateTime),s=n.document.createTime?Si(n.document.createTime):It.min(),c=new hi({mapValue:{fields:n.document.fields}}),l=bn.newFoundDocument(i,a,s,c),o=n.targetIds||[],u=n.removedTargetIds||[];t=new X0(o,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=pc(r,n.document),a=n.readTime?Si(n.readTime):It.min(),s=bn.newNoDocument(i,a),c=n.removedTargetIds||[];t=new X0([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=pc(r,n.document),a=n.removedTargetIds||[];t=new X0([],a,i,null)}else{if(!("filter"in e))return ht(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new cU(i,a),c=n.targetId;t=new HR(c,s)}}return t}function gg(r,e){let t;if(e instanceof Hf)t={update:vT(r,e.key,e.value)};else if(e instanceof B5)t={delete:mg(r,e.key)};else if(e instanceof eo)t={update:vT(r,e.key,e.data),updateMask:TU(e.fieldMask)};else{if(!(e instanceof qR))return ht(16599,{Vt:e.type});t={verify:mg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const c=s.transform;if(c instanceof ip)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof of)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ap)return{fieldPath:s.field.canonicalString(),increment:c.Ae};throw ht(20930,{transform:s.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:yU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ht(27497)})(r,e.precondition)),t}function C3(r,e){const t=e.currentDocument?(function(a){return a.updateTime!==void 0?Oi.updateTime(Si(a.updateTime)):a.exists!==void 0?Oi.exists(a.exists):Oi.none()})(e.currentDocument):Oi.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(s,c){let l=null;if("setToServerValue"in c)kt(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),l=new ip;else if("appendMissingElements"in c){const u=c.appendMissingElements.values||[];l=new sf(u)}else if("removeAllFromArray"in c){const u=c.removeAllFromArray.values||[];l=new of(u)}else"increment"in c?l=new ap(s,c.increment):ht(16584,{proto:c});const o=fn.fromServerFormat(c.fieldPath);return new iU(o,l)})(r,i))):[];if(e.update){e.update.name;const i=pc(r,e.update.name),a=new hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(l){const o=l.fieldPaths||[];return new Ci(o.map((u=>fn.fromServerFormat(u))))})(e.updateMask);return new eo(i,a,s,t,n)}return new Hf(i,a,t,n)}if(e.delete){const i=pc(r,e.delete);return new B5(i,t)}if(e.verify){const i=pc(r,e.verify);return new qR(i,t)}return ht(1463,{proto:e})}function wU(r,e){return r&&r.length>0?(kt(e!==void 0,14353),r.map((t=>(function(i,a){let s=i.updateTime?Si(i.updateTime):Si(a);return s.isEqual(It.min())&&(s=Si(a)),new sU(s,i.transformResults||[])})(t,e)))):[]}function ZR(r,e){return{documents:[XR(r,e.path)]}}function JR(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=XR(r,i);const a=(function(o){if(o.length!==0)return rI(qr.create(o,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const s=(function(o){if(o.length!==0)return o.map((u=>(function(h){return{field:Ru(h.field),direction:SU(h.dir)}})(u)))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=T3(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(o){return{before:o.inclusive,values:o.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(o){return{before:!o.inclusive,values:o.position}})(e.endAt)),{ft:t,parent:i}}function eI(r){let e=YR(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){kt(n===1,65062);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];t.where&&(a=(function(f){const h=tI(f);return h instanceof qr&&I5(h)?h.getFilters():[h]})(t.where));let s=[];t.orderBy&&(s=(function(f){return f.map((h=>(function(g){return new hg(Iu(g.field),(function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(g.direction))})(h)))})(t.orderBy));let c=null;t.limit&&(c=(function(f){let h;return h=typeof f=="object"?f.value:f,Rb(h)?null:h})(t.limit));let l=null;t.startAt&&(l=(function(f){const h=!!f.before,d=f.values||[];return new nf(d,h)})(t.startAt));let o=null;return t.endAt&&(o=(function(f){const h=!f.before,d=f.values||[];return new nf(d,h)})(t.endAt)),CR(e,i,s,a,c,"F",l,o)}function _U(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tI(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Iu(t.unaryFilter.field);return _r.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(t.unaryFilter.field);return _r.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Iu(t.unaryFilter.field);return _r.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Iu(t.unaryFilter.field);return _r.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(r):r.fieldFilter!==void 0?(function(t){return _r.create(Iu(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return qr.create(t.compositeFilter.filters.map((n=>tI(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(t.compositeFilter.op))})(r):ht(30097,{filter:r})}function SU(r){return pU[r]}function AU(r){return mU[r]}function EU(r){return gU[r]}function Ru(r){return{fieldPath:r.canonicalString()}}function Iu(r){return fn.fromServerFormat(r.fieldPath)}function rI(r){return r instanceof _r?(function(t){if(t.op==="=="){if(nT(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NAN"}};if(rT(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nT(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NOT_NAN"}};if(rT(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(t.field),op:AU(t.op),value:t.value}}})(r):r instanceof qr?(function(t){const n=t.getFilters().map((i=>rI(i)));return n.length===1?n[0]:{compositeFilter:{op:EU(t.op),filters:n}}})(r):ht(54877,{filter:r})}function TU(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nI(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t,n,i,a=It.min(),s=It.min(),c=Sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.yt=e}}function kU(r,e){let t;if(e.document)t=vU(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ot.fromSegments(e.noDocument.path),i=Sc(e.noDocument.readTime);t=bn.newNoDocument(n,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht(56709);{const n=ot.fromSegments(e.unknownDocument.path),i=Sc(e.unknownDocument.version);t=bn.newUnknownDocument(n,i)}}return e.readTime&&t.setReadTime((function(i){const a=new Dr(i[0],i[1]);return It.fromTimestamp(a)})(e.readTime)),t}function xT(r,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(a,s){return{name:mg(a,s.key),fields:s.data.value.mapValue.fields,updateTime:lf(a,s.version.toTimestamp()),createTime:lf(a,s.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:_c(e.version)};else{if(!e.isUnknownDocument())return ht(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:_c(e.version)}}return n}function bg(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function _c(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sc(r){const e=new Dr(r.seconds,r.nanoseconds);return It.fromTimestamp(e)}function ec(r,e){const t=(e.baseMutations||[]).map((a=>C3(r.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];s.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map((a=>C3(r.yt,a))),i=Dr.fromMillis(e.localWriteTimeMs);return new L5(e.batchId,i,t,n)}function vd(r){const e=Sc(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?Sc(r.lastLimboFreeSnapshotVersion):It.min();let n;return n=(function(a){return a.documents!==void 0})(r.query)?(function(a){const s=a.documents.length;return kt(s===1,1966,{count:s}),Xi($b(YR(a.documents[0])))})(r.query):(function(a){return Xi(eI(a))})(r.query),new $s(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Sn.fromBase64String(r.resumeToken))}function aI(r,e){const t=_c(e.snapshotVersion),n=_c(e.lastLimboFreeSnapshotVersion);let i;i=dg(e.target)?ZR(r.yt,e.target):JR(r.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function sI(r){const e=eI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?E3(e,e.limit,"L"):e}function F1(r,e){return new $5(e.largestBatchId,C3(r.yt,e.overlayMutation))}function wT(r,e){const t=e.path.lastSegment();return[r,pi(e.path.popLast()),t]}function _T(r,e,t,n){return{indexId:r,uid:e,sequenceNumber:t,readTime:_c(n.readTime),documentKey:pi(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{getBundleMetadata(e,t){return ST(e).get(t).next((n=>{if(n)return(function(a){return{id:a.bundleId,createTime:Sc(a.createTime),version:a.version}})(n)}))}saveBundleMetadata(e,t){return ST(e).put((function(i){return{bundleId:i.id,createTime:_c(Si(i.createTime)),version:i.version}})(t))}getNamedQuery(e,t){return AT(e).get(t).next((n=>{if(n)return(function(a){return{name:a.name,query:sI(a.bundledQuery),readTime:Sc(a.readTime)}})(n)}))}saveNamedQuery(e,t){return AT(e).put((function(i){return{name:i.name,readTime:_c(Si(i.readTime)),bundledQuery:i.bundledQuery}})(t))}}function ST(r){return Fn(r,Ib)}function AT(r){return Fn(r,Pb)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new Ub(e,n)}getOverlay(e,t){return Jh(e).get(wT(this.userId,t)).next((n=>n?F1(this.serializer,n):null))}getOverlays(e,t){const n=as();return je.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,t,n){const i=[];return n.forEach(((a,s)=>{const c=new $5(t,s);i.push(this.St(e,c))})),je.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((s=>i.add(pi(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const c=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);a.push(Jh(e).Z(y3,c))})),je.waitFor(a)}getOverlaysForCollection(e,t,n){const i=as(),a=pi(t),s=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Jh(e).J(y3,s).next((c=>{for(const l of c){const o=F1(this.serializer,l);i.set(o.getKey(),o)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const a=as();let s;const c=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jh(e).ee({index:oR,range:c},((l,o,u)=>{const f=F1(this.serializer,o);a.size()<i||f.largestBatchId===s?(a.set(f.getKey(),f),s=f.largestBatchId):u.done()})).next((()=>a))}St(e,t){return Jh(e).put((function(i,a,s){const[c,l,o]=wT(a,s.mutation.key);return{userId:a,collectionPath:l,documentId:o,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:gg(i.yt,s.mutation)}})(this.serializer,this.userId,t))}}function Jh(r){return Fn(r,Db)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{bt(e){return Fn(e,j5)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const n=t==null?void 0:t.value;return n?Sn.fromUint8Array(n):Sn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(sn(e.integerValue));else if("doubleValue"in e){const n=sn(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Qd(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),typeof n=="string"&&(n=Gs(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ws(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?vR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Lb(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ht(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const i of Object.keys(n))this.Ot(i,t),this.Ct(n[i],t)}kt(e,t){var s,c;const n=e.fields||{};this.Ft(t,53);const i=tf,a=((c=(s=n[i].arrayValue)==null?void 0:s.values)==null?void 0:c.length)||0;this.Ft(t,15),t.Mt(sn(a)),this.Ot(i,t),this.Ct(n[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const i of n)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ot.fromName(e).path.forEach((n=>{this.Ft(t,60),this.Ut(n,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}tc.Kt=new tc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=255;function OU(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function ET(r){const e=64-(function(n){let i=0;for(let a=0;a<8;++a){const s=OU(255&n[a]);if(i+=s,s!==8)break}return i})(r);return Math.ceil(e/8)}class NU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Gt(n);else if(n<2048)this.Gt(960|n>>>6),this.Gt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|n>>>12),this.Gt(128|63&n>>>6),this.Gt(128|63&n);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),n=ET(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),n=ET(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(wu),this.sn(255)}_n(){this.an(wu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===wu?(this.sn(wu),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===wu?(this.an(wu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class MU{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class RU{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ed{constructor(){this.cn=new NU,this.ln=new MU(this.cn),this.hn=new RU(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t,n,i){this.Tn=e,this.In=t,this.En=n,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new rc(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:Y0(this.En),directionalValue:Y0(this.dn),orderedDocumentKey:Y0(t),documentKey:n.path.toArray()}}Vn(e,t,n){const i=this.Rn(e,t,n);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Co(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=TT(r.En,e.En),t!==0?t:(t=TT(r.dn,e.dn),t!==0?t:ot.comparator(r.In,e.In)))}function TT(r,e){for(let t=0;t<r.length&&t<e.length;++t){const n=r[t]-e[t];if(n!==0)return n}return r.length-e.length}function Y0(r){return RM()?(function(t){let n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return n})(r):r}function kT(r){return typeof r!="string"?r:(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(r)}class jT{constructor(e){this.mn=new Br(((t,n)=>fn.comparator(t.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const n=t;n.isInequality()?this.mn=this.mn.add(n):this.gn.push(n)}}get pn(){return this.mn.size>1}yn(e){if(kt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=m3(e);if(t!==void 0&&!this.wn(t))return!1;const n=Xl(e);let i=new Set,a=0,s=0;for(;a<n.length&&this.wn(n[a]);++a)i=i.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const l=n[a];if(!this.Sn(c,l)||!this.bn(this.fn[s++],l))return!1}++a}for(;a<n.length;++a){const c=n[a];if(s>=this.fn.length||!this.bn(this.fn[s++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new Br(fn.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new z0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new z0(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new z0(n.field,n.dir==="asc"?0:1)));return new og(og.UNKNOWN_ID,this.collectionId,t,Yd.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(r){var t,n;if(kt(r instanceof _r||r instanceof qr,20012),r instanceof _r){if(r instanceof jR){const i=((n=(t=r.value.arrayValue)==null?void 0:t.values)==null?void 0:n.map((a=>_r.create(r.field,"==",a))))||[];return qr.create(i,"or")}return r}const e=r.filters.map((i=>oI(i)));return qr.create(e,r.op)}function IU(r){if(r.getFilters().length===0)return[];const e=M3(oI(r));return kt(lI(e),7391),O3(e)||N3(e)?[e]:e.getFilters()}function O3(r){return r instanceof _r}function N3(r){return r instanceof qr&&I5(r)}function lI(r){return O3(r)||N3(r)||(function(t){if(t instanceof qr&&_3(t)){for(const n of t.getFilters())if(!O3(n)&&!N3(n))return!1;return!0}return!1})(r)}function M3(r){if(kt(r instanceof _r||r instanceof qr,34018),r instanceof _r)return r;if(r.filters.length===1)return M3(r.filters[0]);const e=r.filters.map((n=>M3(n)));let t=qr.create(e,r.op);return t=yg(t),lI(t)?t:(kt(t instanceof qr,64498),kt(af(t),40251),kt(t.filters.length>1,57927),t.filters.reduce(((n,i)=>q5(n,i))))}function q5(r,e){let t;return kt(r instanceof _r||r instanceof qr,38388),kt(e instanceof _r||e instanceof qr,25473),t=r instanceof _r?e instanceof _r?(function(i,a){return qr.create([i,a],"and")})(r,e):CT(r,e):e instanceof _r?CT(e,r):(function(i,a){if(kt(i.filters.length>0&&a.filters.length>0,48005),af(i)&&af(a))return ER(i,a.getFilters());const s=_3(i)?i:a,c=_3(i)?a:i,l=s.filters.map((o=>q5(o,c)));return qr.create(l,"or")})(r,e),yg(t)}function CT(r,e){if(af(e))return ER(e,r.getFilters());{const t=e.filters.map((n=>q5(r,n)));return qr.create(t,"or")}}function yg(r){if(kt(r instanceof _r||r instanceof qr,11850),r instanceof _r)return r;const e=r.getFilters();if(e.length===1)return yg(e[0]);if(SR(r))return r;const t=e.map((i=>yg(i))),n=[];return t.forEach((i=>{i instanceof _r?n.push(i):i instanceof qr&&(i.op===r.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:qr.create(n,r.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.Cn=new U5}addToCollectionParentIndex(e,t){return this.Cn.add(t),je.resolve()}getCollectionParents(e,t){return je.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return je.resolve()}deleteFieldIndex(e,t){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,t){return je.resolve()}getDocumentsMatchingTarget(e,t){return je.resolve(null)}getIndexType(e,t){return je.resolve(0)}getFieldIndexes(e,t){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,t){return je.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,t){return je.resolve(Qi.min())}updateCollectionGroup(e,t,n){return je.resolve()}updateIndexEntries(e,t){return je.resolve()}}class U5{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Br(zr.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Br(zr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="IndexedDbIndexManager",w0=new Uint8Array(0);class DU{constructor(e,t){this.databaseId=t,this.vn=new U5,this.Fn=new Js((n=>wc(n)),((n,i)=>Zp(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const a={collectionId:n,parent:pi(i)};return NT(e).put(a)}return je.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[WM(t),""],!1,!0);return NT(e).J(i).next((a=>{for(const s of a){if(s.collectionId!==t)break;n.push(is(s.parent))}return n}))}addFieldIndex(e,t){const n=td(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(t);delete i.indexId;const a=n.add(i);if(t.indexState){const s=Su(e);return a.next((c=>{s.put(_T(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}deleteFieldIndex(e,t){const n=td(e),i=Su(e),a=_u(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=td(e),n=_u(e),i=Su(e);return t.Z().next((()=>n.Z())).next((()=>i.Z()))}createTargetIndexes(e,t){return je.forEach(this.Mn(t),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const a=new jT(n).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,t){const n=_u(e);let i=!0;const a=new Map;return je.forEach(this.Mn(t),(s=>this.xn(e,s).next((c=>{i&&(i=!!c),a.set(s,c)})))).next((()=>{if(i){let s=dr();const c=[];return je.forEach(a,((l,o)=>{Ke(OT,`Using index ${(function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map((k=>`${k.fieldPath}:${k.kind}`)).join(",")}`})(l)} to execute ${wc(t)}`);const u=(function(_,k){const N=m3(k);if(N===void 0)return null;for(const P of pg(_,N.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null})(o,l),f=(function(_,k){const N=new Map;for(const P of Xl(k))for(const D of pg(_,P.fieldPath))switch(D.op){case"==":case"in":N.set(P.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return N.set(P.fieldPath.canonicalString(),D.value),Array.from(N.values())}return null})(o,l),h=(function(_,k){const N=[];let P=!0;for(const D of Xl(k)){const I=D.kind===0?lT(_,D.fieldPath,_.startAt):cT(_,D.fieldPath,_.startAt);N.push(I.value),P&&(P=I.inclusive)}return new nf(N,P)})(o,l),d=(function(_,k){const N=[];let P=!0;for(const D of Xl(k)){const I=D.kind===0?cT(_,D.fieldPath,_.endAt):lT(_,D.fieldPath,_.endAt);N.push(I.value),P&&(P=I.inclusive)}return new nf(N,P)})(o,l),g=this.On(l,o,h),y=this.On(l,o,d),m=this.Nn(l,o,f),x=this.Bn(l.indexId,u,g,h.inclusive,y,d.inclusive,m);return je.forEach(x,(v=>n.Y(v,t.limit).next((_=>{_.forEach((k=>{const N=ot.fromSegments(k.documentKey);s.has(N)||(s=s.add(N),c.push(N))}))}))))})).next((()=>c))}return je.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=IU(qr.create(e.filters,"and")).map((n=>A3(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,n,i,a,s,c){const l=(t!=null?t.length:1)*Math.max(n.length,a.length),o=l/(t!=null?t.length:1),u=[];for(let f=0;f<l;++f){const h=t?this.Ln(t[f/o]):w0,d=this.kn(e,h,n[f%o],i),g=this.qn(e,h,a[f%o],s),y=c.map((m=>this.kn(e,h,m,!0)));u.push(...this.createRange(d,g,y))}return u}kn(e,t,n,i){const a=new rc(e,ot.empty(),t,n);return i?a:a.An()}qn(e,t,n,i){const a=new rc(e,ot.empty(),t,n);return i?a.An():a}xn(e,t){const n=new jT(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const c of a)n.yn(c)&&(!s||c.fields.length>s.fields.length)&&(s=c);return s}))}getIndexType(e,t){let n=2;const i=this.Mn(t);return je.forEach(i,(a=>this.xn(e,a).next((s=>{s?n!==0&&s.fields.length<(function(l){let o=new Br(fn.comparator),u=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:o=o.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(o=o.add(f.field));return o.size+(u?1:0)})(a)&&(n=1):n=0})))).next((()=>(function(s){return s.limit!==null})(t)&&i.length>1&&n===2?1:n))}Qn(e,t){const n=new ed;for(const i of Xl(e)){const a=t.data.field(i.fieldPath);if(a==null)return null;const s=n.Pn(i.kind);tc.Kt.Dt(a,s)}return n.un()}Ln(e){const t=new ed;return tc.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new ed;return tc.Kt.Dt(R5(this.databaseId,t),n.Pn((function(a){const s=Xl(a);return s.length===0?0:s[s.length-1].kind})(e))),n.un()}Nn(e,t,n){if(n===null)return[];let i=[];i.push(new ed);let a=0;for(const s of Xl(e)){const c=n[a++];for(const l of i)if(this.Un(t,s.fieldPath)&&np(c))i=this.Kn(i,s,c);else{const o=l.Pn(s.kind);tc.Kt.Dt(c,o)}}return this.Wn(i)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const i=[...e],a=[];for(const s of n.arrayValue.values||[])for(const c of i){const l=new ed;l.seed(c.un()),tc.Kt.Dt(s,l.Pn(t.kind)),a.push(l)}return a}Un(e,t){return!!e.filters.find((n=>n instanceof _r&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,t){const n=td(e),i=Su(e);return(t?n.J(b3,IDBKeyRange.bound(t,t)):n.J()).next((a=>{const s=[];return je.forEach(a,(c=>i.get([c.indexId,this.uid]).next((l=>{s.push((function(u,f){const h=f?new Yd(f.sequenceNumber,new Qi(Sc(f.readTime),new ot(is(f.documentKey)),f.largestBatchId)):Yd.empty(),d=u.fields.map((([g,y])=>new z0(fn.fromServerFormat(g),y)));return new og(u.indexId,u.collectionGroup,d,h)})(c,l))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Kt(n.collectionGroup,i.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=td(e),a=Su(e);return this.Gn(e).next((s=>i.J(b3,IDBKeyRange.bound(t,t)).next((c=>je.forEach(c,(l=>a.put(_T(l.indexId,this.uid,s,n))))))))}updateIndexEntries(e,t){const n=new Map;return je.forEach(t,((i,a)=>{const s=n.get(i.collectionGroup);return(s?je.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(n.set(i.collectionGroup,c),je.forEach(c,(l=>this.zn(e,i,l).next((o=>{const u=this.jn(a,l);return o.isEqual(u)?je.resolve():this.Jn(e,a,l,o,u)})))))))}))}Hn(e,t,n,i){return _u(e).put(i.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,i){return _u(e).delete(i.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const i=_u(e);let a=new Br(Co);return i.ee({index:sR,range:IDBKeyRange.only([n.indexId,this.uid,Y0(this.$n(n,t))])},((s,c)=>{a=a.add(new rc(n.indexId,t,kT(c.arrayValue),kT(c.directionalValue)))})).next((()=>a))}jn(e,t){let n=new Br(Co);const i=this.Qn(t,e);if(i==null)return n;const a=m3(t);if(a!=null){const s=e.data.field(a.fieldPath);if(np(s))for(const c of s.arrayValue.values||[])n=n.add(new rc(t.indexId,e.key,this.Ln(c),i))}else n=n.add(new rc(t.indexId,e.key,w0,i));return n}Jn(e,t,n,i,a){Ke(OT,"Updating index entries for document '%s'",t.key);const s=[];return(function(l,o,u,f,h){const d=l.getIterator(),g=o.getIterator();let y=xu(d),m=xu(g);for(;y||m;){let x=!1,v=!1;if(y&&m){const _=u(y,m);_<0?v=!0:_>0&&(x=!0)}else y!=null?v=!0:x=!0;x?(f(m),m=xu(g)):v?(h(y),y=xu(d)):(y=xu(d),m=xu(g))}})(i,a,Co,(c=>{s.push(this.Hn(e,t,n,c))}),(c=>{s.push(this.Yn(e,t,n,c))})),je.waitFor(s)}Gn(e){let t=1;return Su(e).ee({index:aR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,a)=>{a.done(),t=i.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((s,c)=>Co(s,c))).filter(((s,c,l)=>!c||Co(s,l[c-1])!==0));const i=[];i.push(e);for(const s of n){const c=Co(s,e),l=Co(s,t);if(c===0)i[0]=e.An();else if(c>0&&l<0)i.push(s),i.push(s.An());else if(l>0)break}i.push(t);const a=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const c=i[s].Vn(this.uid,w0,ot.empty()),l=i[s+1].Vn(this.uid,w0,ot.empty());a.push(IDBKeyRange.bound(c,l))}return a}Zn(e,t){return Co(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(MT)}getMinOffset(e,t){return je.mapArray(this.Mn(t),(n=>this.xn(e,n).next((i=>i||ht(44426))))).next(MT)}}function NT(r){return Fn(r,ep)}function _u(r){return Fn(r,jd)}function td(r){return Fn(r,k5)}function Su(r){return Fn(r,kd)}function MT(r){kt(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<r.length;n++){const i=r[n].indexState.offset;A5(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Qi(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cI=41943040;class ui{static withCacheSize(e){return new ui(e,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r,e,t){const n=r.store(Ba),i=r.store(Qu),a=[],s=IDBKeyRange.only(t.batchId);let c=0;const l=n.ee({range:s},((u,f,h)=>(c++,h.delete())));a.push(l.next((()=>{kt(c===1,47070,{batchId:t.batchId})})));const o=[];for(const u of t.mutations){const f=rR(e,u.key.path,t.batchId);a.push(i.delete(f)),o.push(u.key)}return je.waitFor(a).next((()=>o))}function vg(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ht(14731);e=r.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui.DEFAULT_COLLECTION_PERCENTILE=10,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ui.DEFAULT=new ui(cI,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ui.DISABLED=new ui(-1,0,0);class Hb{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Xn={}}static wt(e,t,n,i){kt(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new Hb(a,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).ee({index:ic,range:n},((i,a,s)=>{t=!1,s.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const a=Pu(e),s=Oo(e);return s.add({}).next((c=>{kt(typeof c=="number",49019);const l=new L5(c,t,n,i),o=(function(d,g,y){const m=y.baseMutations.map((v=>gg(d.yt,v))),x=y.mutations.map((v=>gg(d.yt,v)));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:m,mutations:x}})(this.serializer,this.userId,l),u=[];let f=new Br(((h,d)=>Kt(h.canonicalString(),d.canonicalString())));for(const h of i){const d=rR(this.userId,h.key.path,c);f=f.add(h.key.path.popLast()),u.push(s.put(o)),u.push(a.put(d,hq))}return f.forEach((h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))})),e.addOnCommittedListener((()=>{this.Xn[c]=l.keys()})),je.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,t){return Oo(e).get(t).next((n=>n?(kt(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),ec(this.serializer,n)):null))}er(e,t){return this.Xn[t]?je.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((n=>{if(n){const i=n.keys();return this.Xn[t]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return Oo(e).ee({index:ic,range:i},((s,c,l)=>{c.userId===this.userId&&(kt(c.batchId>=n,47524,{tr:n}),a=ec(this.serializer,c)),l.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=hc;return Oo(e).ee({index:ic,range:t,reverse:!0},((i,a,s)=>{n=a.batchId,s.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,hc],[this.userId,Number.POSITIVE_INFINITY]);return Oo(e).J(ic,t).next((n=>n.map((i=>ec(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=q0(this.userId,t.path),i=IDBKeyRange.lowerBound(n),a=[];return Pu(e).ee({range:i},((s,c,l)=>{const[o,u,f]=s,h=is(u);if(o===this.userId&&t.path.isEqual(h))return Oo(e).get(f).next((d=>{if(!d)throw ht(61480,{nr:s,batchId:f});kt(d.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:d.userId,batchId:f}),a.push(ec(this.serializer,d))}));l.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Br(Kt);const i=[];return t.forEach((a=>{const s=q0(this.userId,a.path),c=IDBKeyRange.lowerBound(s),l=Pu(e).ee({range:c},((o,u,f)=>{const[h,d,g]=o,y=is(d);h===this.userId&&a.path.isEqual(y)?n=n.add(g):f.done()}));i.push(l)})),je.waitFor(i).next((()=>this.rr(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,a=q0(this.userId,n),s=IDBKeyRange.lowerBound(a);let c=new Br(Kt);return Pu(e).ee({range:s},((l,o,u)=>{const[f,h,d]=l,g=is(h);f===this.userId&&n.isPrefixOf(g)?g.length===i&&(c=c.add(d)):u.done()})).next((()=>this.rr(e,c)))}rr(e,t){const n=[],i=[];return t.forEach((a=>{i.push(Oo(e).get(a).next((s=>{if(s===null)throw ht(35274,{batchId:a});kt(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:a}),n.push(ec(this.serializer,s))})))})),je.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return uI(e.le,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),je.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return je.resolve();const n=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return Pu(e).ee({range:n},((a,s,c)=>{if(a[0]===this.userId){const l=is(a[1]);i.push(l)}else c.done()})).next((()=>{kt(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,t){return fI(e,this.userId,t)}_r(e){return hI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:hc,lastStreamToken:""}))}}function fI(r,e,t){const n=q0(e,t.path),i=n[1],a=IDBKeyRange.lowerBound(n);let s=!1;return Pu(r).ee({range:a,X:!0},((c,l,o)=>{const[u,f,h]=c;u===e&&f===i&&(s=!0),o.done()})).next((()=>s))}function Oo(r){return Fn(r,Ba)}function Pu(r){return Fn(r,Qu)}function hI(r){return Fn(r,Zd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ac(0)}static cr(){return new Ac(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const n=new Ac(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>It.fromTimestamp(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.lr(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Au(e).delete(t.targetId))).next((()=>this.lr(e))).next((n=>(kt(n.targetCount>0,8065),n.targetCount-=1,this.hr(e,n))))}removeTargets(e,t,n){let i=0;const a=[];return Au(e).ee(((s,c)=>{const l=vd(c);l.sequenceNumber<=t&&n.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))})).next((()=>je.waitFor(a))).next((()=>i))}forEachTarget(e,t){return Au(e).ee(((n,i)=>{const a=vd(i);t(a)}))}lr(e){return IT(e).get(ug).next((t=>(kt(t!==null,2888),t)))}hr(e,t){return IT(e).put(ug,t)}Pr(e,t){return Au(e).put(aI(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const n=wc(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return Au(e).ee({range:i,index:iR},((s,c,l)=>{const o=vd(c);Zp(t,o.target)&&(a=o,l.done())})).next((()=>a))}addMatchingKeys(e,t,n){const i=[],a=Fo(e);return t.forEach((s=>{const c=pi(s.path);i.push(a.put({targetId:n,path:c})),i.push(this.referenceDelegate.addReference(e,n,s))})),je.waitFor(i)}removeMatchingKeys(e,t,n){const i=Fo(e);return je.forEach(t,(a=>{const s=pi(a.path);return je.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(e,n,a)])}))}removeMatchingKeysForTargetId(e,t){const n=Fo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fo(e);let a=dr();return i.ee({range:n,X:!0},((s,c,l)=>{const o=is(s[1]),u=new ot(o);a=a.add(u)})).next((()=>a))}containsKey(e,t){const n=pi(t.path),i=IDBKeyRange.bound([n],[WM(n)],!1,!0);let a=0;return Fo(e).ee({index:T5,X:!0,range:i},(([s,c],l,o)=>{s!==0&&(a++,o.done())})).next((()=>a>0))}At(e,t){return Au(e).get(t).next((n=>n?vd(n):null))}}function Au(r){return Fn(r,Zu)}function IT(r){return Fn(r,dc)}function Fo(r){return Fn(r,Ju)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="LruGarbageCollector",dI=1048576;function DT([r,e],[t,n]){const i=Kt(r,t);return i===0?Kt(e,n):i}class LU{constructor(e){this.Ir=e,this.buffer=new Br(DT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();DT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ke(PT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ol(t)?Ke(PT,"Ignoring IndexedDB error during garbage collection: ",t):await sl(t)}await this.Vr(3e5)}))}}class FU{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return je.resolve(ji.ce);const n=new LU(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(RT)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,a,s,c,l,o;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(n=f,c=Date.now(),this.removeTargets(e,n,t)))).next((f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((f=>(o=Date.now(),Nu()<=Er.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${a} targets in `+(l-c)+`ms
	Removed ${f} documents in `+(o-l)+`ms
Total Duration: ${o-u}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f}))))}}function mI(r,e){return new FU(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,t){this.db=e,this.garbageCollector=mI(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((n,i)=>t(i)))}addReference(e,t,n){return _0(e,n)}removeReference(e,t,n){return _0(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return _0(e,t)}br(e,t){return(function(i,a){let s=!1;return hI(i).te((c=>fI(i,c,a).next((l=>(l&&(s=!0),je.resolve(!l)))))).next((()=>s))})(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((s,c)=>{if(c<=t){const l=this.br(e,s).next((o=>{if(!o)return a++,n.getEntry(e,s).next((()=>(n.removeEntry(s,It.min()),Fo(e).delete((function(f){return[0,pi(f.path)]})(s)))))}));i.push(l)}})).next((()=>je.waitFor(i))).next((()=>n.apply(e))).next((()=>a))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return _0(e,t)}Sr(e,t){const n=Fo(e);let i,a=ji.ce;return n.ee({index:T5},(([s,c],{path:l,sequenceNumber:o})=>{s===0?(a!==ji.ce&&t(new ot(is(i)),a),a=o,i=l):a=ji.ce})).next((()=>{a!==ji.ce&&t(new ot(is(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _0(r,e){return Fo(r).put((function(n,i){return{targetId:0,path:pi(n.path),sequenceNumber:i}})(e,r.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.changes=new Js((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?je.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ql(e).put(n)}removeEntry(e,t,n){return ql(e).delete((function(a,s){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],bg(s),c[c.length-1]]})(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Dr(e,n))))}getEntry(e,t){let n=bn.newInvalidDocument(t);return ql(e).ee({index:U0,range:IDBKeyRange.only(rd(t))},((i,a)=>{n=this.Cr(t,a)})).next((()=>n))}vr(e,t){let n={size:0,document:bn.newInvalidDocument(t)};return ql(e).ee({index:U0,range:IDBKeyRange.only(rd(t))},((i,a)=>{n={document:this.Cr(t,a),size:vg(a)}})).next((()=>n))}getEntries(e,t){let n=Wi();return this.Fr(e,t,((i,a)=>{const s=this.Cr(i,a);n=n.insert(i,s)})).next((()=>n))}Mr(e,t){let n=Wi(),i=new en(ot.comparator);return this.Fr(e,t,((a,s)=>{const c=this.Cr(a,s);n=n.insert(a,c),i=i.insert(a,vg(s))})).next((()=>({documents:n,Or:i})))}Fr(e,t,n){if(t.isEmpty())return je.resolve();let i=new Br(FT);t.forEach((l=>i=i.add(l)));const a=IDBKeyRange.bound(rd(i.first()),rd(i.last())),s=i.getIterator();let c=s.getNext();return ql(e).ee({index:U0,range:a},((l,o,u)=>{const f=ot.fromSegments([...o.prefixPath,o.collectionGroup,o.documentId]);for(;c&&FT(c,f)<0;)n(c,null),c=s.getNext();c&&c.isEqual(f)&&(n(c,o),c=s.hasNext()?s.getNext():null),c?u.j(rd(c)):u.done()})).next((()=>{for(;c;)n(c,null),c=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,i,a){const s=t.path,c=[s.popLast().toArray(),s.lastSegment(),bg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ql(e).J(IDBKeyRange.bound(c,l,!0)).next((o=>{a==null||a.incrementDocumentReadCount(o.length);let u=Wi();for(const f of o){const h=this.Cr(ot.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(Jp(t,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u}))}getAllFromCollectionGroup(e,t,n,i){let a=Wi();const s=LT(t,n),c=LT(t,Qi.max());return ql(e).ee({index:nR,range:IDBKeyRange.bound(s,c,!0)},((l,o,u)=>{const f=this.Cr(ot.fromSegments(o.prefixPath.concat(o.collectionGroup,o.documentId)),o);a=a.insert(f.key,f),a.size===i&&u.done()})).next((()=>a))}newChangeBuffer(e){return new zU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return BT(e).get(g3).next((t=>(kt(!!t,20021),t)))}Dr(e,t){return BT(e).put(g3,t)}Cr(e,t){if(t){const n=kU(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(It.min())))return n}return bn.newInvalidDocument(e)}}function bI(r){return new VU(r)}class zU extends gI{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Js((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const t=[];let n=0,i=new Br(((a,s)=>Kt(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const c=this.Br.get(a);if(t.push(this.Nr.removeEntry(e,a,c.readTime)),s.isValidDocument()){const l=xT(this.Nr.serializer,s);i=i.add(a.path.popLast());const o=vg(l);n+=o-c.size,t.push(this.Nr.addEntry(e,a,l))}else if(n-=c.size,this.trackRemovals){const l=xT(this.Nr.serializer,s.convertToNoDocument(It.min()));t.push(this.Nr.addEntry(e,a,l))}})),i.forEach((a=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),t.push(this.Nr.updateMetadata(e,n)),je.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((n=>(this.Br.set(t,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:n,Or:i})=>(i.forEach(((a,s)=>{this.Br.set(a,{size:s,readTime:n.get(a).readTime})})),n)))}}function BT(r){return Fn(r,Jd)}function ql(r){return Fn(r,cg)}function rd(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LT(r,e){const t=e.documentKey.path.toArray();return[r,bg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function FT(r,e){const t=r.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<n.length-2;++a)if(i=Kt(t[a],n[a]),i)return i;return i=Kt(t.length,n.length),i||(i=Kt(t[t.length-2],n[n.length-2]),i||Kt(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Md(n.mutation,i,Ci.empty(),Dr.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,dr()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=dr()){const i=as();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((a=>{let s=bd();return a.forEach(((c,l)=>{s=s.insert(c,l.overlayedDocument)})),s}))))}getOverlayedDocuments(e,t){const n=as();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,dr())))}populateOverlays(e,t,n){const i=[];return n.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,c)=>{t.set(s,c)}))}))}computeViews(e,t,n,i){let a=Wi();const s=Nd(),c=(function(){return Nd()})();return t.forEach(((l,o)=>{const u=n.get(o.key);i.has(o.key)&&(u===void 0||u.mutation instanceof eo)?a=a.insert(o.key,o):u!==void 0?(s.set(o.key,u.mutation.getFieldMask()),Md(u.mutation,o,u.mutation.getFieldMask(),Dr.now())):s.set(o.key,Ci.empty())})),this.recalculateAndSaveOverlays(e,a).next((l=>(l.forEach(((o,u)=>s.set(o,u))),t.forEach(((o,u)=>c.set(o,new qU(u,s.get(o)??null)))),c)))}recalculateAndSaveOverlays(e,t){const n=Nd();let i=new en(((s,c)=>s-c)),a=dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((s=>{for(const c of s)c.keys().forEach((l=>{const o=t.get(l);if(o===null)return;let u=n.get(l)||Ci.empty();u=c.applyToLocalView(o,u),n.set(l,u);const f=(i.get(c.batchId)||dr()).add(l);i=i.insert(c.batchId,f)}))})).next((()=>{const s=[],c=i.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),o=l.key,u=l.value,f=PR();u.forEach((h=>{if(!a.has(h)){const d=VR(t.get(h),n.get(h));d!==null&&f.set(h,d),a=a.add(h)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,f))}return je.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wq(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):je.resolve(as());let c=Yu,l=a;return s.next((o=>je.forEach(o,((u,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),a.get(u)?je.resolve():this.remoteDocumentCache.getEntry(e,u).next((h=>{l=l.insert(u,h)}))))).next((()=>this.populateOverlays(e,o,a))).next((()=>this.computeViews(e,l,o,dr()))).next((u=>({batchId:c,changes:IR(u)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next((n=>{let i=bd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let s=bd();return this.indexManager.getCollectionParents(e,a).next((c=>je.forEach(c,(l=>{const o=(function(f,h){return new Fb(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(t,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,i).next((u=>{u.forEach(((f,h)=>{s=s.insert(f,h)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i)))).next((s=>{a.forEach(((l,o)=>{const u=o.getKey();s.get(u)===null&&(s=s.insert(u,bn.newInvalidDocument(u)))}));let c=bd();return s.forEach(((l,o)=>{const u=a.get(l);u!==void 0&&Md(u.mutation,o,Ci.empty(),Dr.now()),Jp(t,o)&&(c=c.insert(l,o))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return je.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Si(i.createTime)}})(t)),je.resolve()}getNamedQuery(e,t){return je.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:sI(i.bundledQuery),readTime:Si(i.readTime)}})(t)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.overlays=new en(ot.comparator),this.qr=new Map}getOverlay(e,t){return je.resolve(this.overlays.get(t))}getOverlays(e,t){const n=as();return je.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,a)=>{this.St(e,t,a)})),je.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),je.resolve()}getOverlaysForCollection(e,t,n){const i=as(),a=t.length+1,s=new ot(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){const l=c.getNext().value,o=l.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return je.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new en(((o,u)=>o-u));const s=this.overlays.getIterator();for(;s.hasNext();){const o=s.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){let u=a.get(o.largestBatchId);u===null&&(u=as(),a=a.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}const c=as(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((o,u)=>c.set(o,u))),!(c.size()>=i)););return je.resolve(c)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new $5(t,n));let a=this.qr.get(t);a===void 0&&(a=dr(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.Qr=new Br(Un.$r),this.Ur=new Br(Un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Un(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new Un(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new ot(new zr([])),n=new Un(t,e),i=new Un(t,e+1),a=[];return this.Ur.forEachInRange([n,i],(s=>{this.Gr(s),a.push(s.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ot(new zr([])),n=new Un(t,e),i=new Un(t,e+1);let a=dr();return this.Ur.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const t=new Un(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Un{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ot.comparator(e.key,t.key)||Kt(e.Yr,t.Yr)}static Kr(e,t){return Kt(e.Yr,t.Yr)||ot.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Br(Un.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new L5(a,t,n,i);this.mutationQueue.push(s);for(const c of i)this.Zr=this.Zr.add(new Un(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return je.resolve(s)}lookupMutationBatch(e,t){return je.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),a=i<0?0:i;return je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?hc:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Un(t,0),i=new Un(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(s=>{const c=this.Xr(s.Yr);a.push(c)})),je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Br(Kt);return t.forEach((i=>{const a=new Un(i,0),s=new Un(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],(c=>{n=n.add(c.Yr)}))})),je.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;ot.isDocumentKey(a)||(a=a.child(""));const s=new Un(new ot(a),0);let c=new Br(Kt);return this.Zr.forEachWhile((l=>{const o=l.key.path;return!!n.isPrefixOf(o)&&(o.length===i&&(c=c.add(l.Yr)),!0)}),s),je.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){kt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return je.forEach(t.mutations,(i=>{const a=new Un(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new Un(t,0),i=this.Zr.firstAfterOrEqual(n);return je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.ri=e,this.docs=(function(){return new en(ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return je.resolve(n?n.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let n=Wi();return t.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():bn.newInvalidDocument(i))})),je.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=Wi();const s=t.path,c=new ot(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:o,value:{document:u}}=l.getNext();if(!s.isPrefixOf(o.path))break;o.path.length>s.length+1||A5(QM(u),n)<=0||(i.has(u.key)||Jp(t,u))&&(a=a.insert(u.key,u.mutableCopy()))}return je.resolve(a)}getAllFromCollectionGroup(e,t,n,i){ht(9500)}ii(e,t){return je.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new XU(this)}getSize(e){return je.resolve(this.size)}}class XU extends gI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),je.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.persistence=e,this.si=new Js((t=>wc(t)),Zp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new H5,this.targetCount=0,this.ai=Ac.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),je.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ac(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,je.resolve()}updateTargetData(e,t){return this.Pr(t),je.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.si.forEach(((s,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),je.waitFor(a).next((()=>i))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return je.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),je.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),je.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),je.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return je.resolve(n)}containsKey(e,t){return je.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,t){this.ui={},this.overlays={},this.ci=new ji(0),this.li=!1,this.li=!0,this.hi=new KU,this.referenceDelegate=e(this),this.Pi=new YU(this),this.indexManager=new PU,this.remoteDocumentCache=(function(i){return new WU(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new iI(t),this.Ii=new UU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new GU(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ke("MemoryPersistence","Starting transaction:",e);const i=new QU(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return je.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class QU extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class Kb{constructor(e){this.persistence=e,this.Ri=new H5,this.Vi=null}static mi(e){return new Kb(e)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),je.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),je.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),je.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(n=>{const i=ot.fromPath(n);return this.gi(e,i).next((a=>{a||t.removeEntry(i,It.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return je.or([()=>je.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class xg{constructor(e,t){this.persistence=e,this.pi=new Js((n=>pi(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=mI(this,t)}static mi(e,t){return new xg(e,t)}Ei(){}di(e){return je.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return je.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?je.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,t).next((c=>{c||(n++,a.removeEntry(s,It.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=K0(e.data.value)),t}br(e,t,n){return je.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return je.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.serializer=e}k(e,t,n,i){const a=new Mb("createOrUpgrade",t);n<1&&i>=1&&((function(l){l.createObjectStore(Qp)})(e),(function(l){l.createObjectStore(Zd,{keyPath:fq}),l.createObjectStore(Ba,{keyPath:YE,autoIncrement:!0}).createIndex(ic,QE,{unique:!0}),l.createObjectStore(Qu)})(e),$T(e),(function(l){l.createObjectStore(Yl)})(e));let s=je.resolve();return n<3&&i>=3&&(n!==0&&((function(l){l.deleteObjectStore(Ju),l.deleteObjectStore(Zu),l.deleteObjectStore(dc)})(e),$T(e)),s=s.next((()=>(function(l){const o=l.store(dc),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return o.put(ug,u)})(a)))),n<4&&i>=4&&(n!==0&&(s=s.next((()=>(function(l,o){return o.store(Ba).J().next((f=>{l.deleteObjectStore(Ba),l.createObjectStore(Ba,{keyPath:YE,autoIncrement:!0}).createIndex(ic,QE,{unique:!0});const h=o.store(Ba),d=f.map((g=>h.put(g)));return je.waitFor(d)}))})(e,a)))),s=s.next((()=>{(function(l){l.createObjectStore(ef,{keyPath:xq})})(e)}))),n<5&&i>=5&&(s=s.next((()=>this.yi(a)))),n<6&&i>=6&&(s=s.next((()=>((function(l){l.createObjectStore(Jd)})(e),this.wi(a))))),n<7&&i>=7&&(s=s.next((()=>this.Si(a)))),n<8&&i>=8&&(s=s.next((()=>this.bi(e,a)))),n<9&&i>=9&&(s=s.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(s=s.next((()=>this.Di(a)))),n<11&&i>=11&&(s=s.next((()=>{(function(l){l.createObjectStore(Ib,{keyPath:wq})})(e),(function(l){l.createObjectStore(Pb,{keyPath:_q})})(e)}))),n<12&&i>=12&&(s=s.next((()=>{(function(l){const o=l.createObjectStore(Db,{keyPath:Cq});o.createIndex(y3,Oq,{unique:!1}),o.createIndex(oR,Nq,{unique:!1})})(e)}))),n<13&&i>=13&&(s=s.next((()=>(function(l){const o=l.createObjectStore(cg,{keyPath:dq});o.createIndex(U0,pq),o.createIndex(nR,mq)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(Yl)))),n<14&&i>=14&&(s=s.next((()=>this.Fi(e,a)))),n<15&&i>=15&&(s=s.next((()=>(function(l){l.createObjectStore(k5,{keyPath:Sq,autoIncrement:!0}).createIndex(b3,Aq,{unique:!1}),l.createObjectStore(kd,{keyPath:Eq}).createIndex(aR,Tq,{unique:!1}),l.createObjectStore(jd,{keyPath:kq}).createIndex(sR,jq,{unique:!1})})(e)))),n<16&&i>=16&&(s=s.next((()=>{t.objectStore(kd).clear()})).next((()=>{t.objectStore(jd).clear()}))),n<17&&i>=17&&(s=s.next((()=>{(function(l){l.createObjectStore(j5,{keyPath:Mq})})(e)}))),n<18&&i>=18&&RM()&&(s=s.next((()=>{t.objectStore(kd).clear()})).next((()=>{t.objectStore(jd).clear()}))),s}wi(e){let t=0;return e.store(Yl).ee(((n,i)=>{t+=vg(i)})).next((()=>{const n={byteSize:t};return e.store(Jd).put(g3,n)}))}yi(e){const t=e.store(Zd),n=e.store(Ba);return t.J().next((i=>je.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,hc],[a.userId,a.lastAcknowledgedBatchId]);return n.J(ic,s).next((c=>je.forEach(c,(l=>{kt(l.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const o=ec(this.serializer,l);return uI(e,a.userId,o).next((()=>{}))}))))}))))}Si(e){const t=e.store(Ju),n=e.store(Yl);return e.store(dc).get(ug).next((i=>{const a=[];return n.ee(((s,c)=>{const l=new zr(s),o=(function(f){return[0,pi(f)]})(l);a.push(t.get(o).next((u=>u?je.resolve():(f=>t.put({targetId:0,path:pi(f),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>je.waitFor(a)))}))}bi(e,t){e.createObjectStore(ep,{keyPath:vq});const n=t.store(ep),i=new U5,a=s=>{if(i.add(s)){const c=s.lastSegment(),l=s.popLast();return n.put({collectionId:c,parent:pi(l)})}};return t.store(Yl).ee({X:!0},((s,c)=>{const l=new zr(s);return a(l.popLast())})).next((()=>t.store(Qu).ee({X:!0},(([s,c,l],o)=>{const u=is(c);return a(u.popLast())}))))}Di(e){const t=e.store(Zu);return t.ee(((n,i)=>{const a=vd(i),s=aI(this.serializer,a);return t.put(s)}))}Ci(e,t){const n=t.store(Yl),i=[];return n.ee(((a,s)=>{const c=t.store(cg),l=(function(f){return f.document?new ot(zr.fromString(f.document.name).popFirst(5)):f.noDocument?ot.fromSegments(f.noDocument.path):f.unknownDocument?ot.fromSegments(f.unknownDocument.path):ht(36783)})(s).path.toArray(),o={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(c.put(o))})).next((()=>je.waitFor(i)))}Fi(e,t){const n=t.store(Ba),i=bI(this.serializer),a=new K5(Kb.mi,this.serializer.yt);return n.J().next((s=>{const c=new Map;return s.forEach((l=>{let o=c.get(l.userId)??dr();ec(this.serializer,l).keys().forEach((u=>o=o.add(u))),c.set(l.userId,o)})),je.forEach(c,((l,o)=>{const u=new ci(o),f=Ub.wt(this.serializer,u),h=a.getIndexManager(u),d=Hb.wt(u,this.serializer,h,a.referenceDelegate);return new yI(i,d,f,h).recalculateAndSaveOverlaysForDocumentKeys(new v3(t,ji.ce),l).next()}))}))}}function $T(r){r.createObjectStore(Ju,{keyPath:bq}).createIndex(T5,yq,{unique:!0}),r.createObjectStore(Zu,{keyPath:"targetId"}).createIndex(iR,gq,{unique:!0}),r.createObjectStore(dc)}const No="IndexedDbPersistence",$1=18e5,V1=5e3,z1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",JU="main";class G5{constructor(e,t,n,i,a,s,c,l,o,u,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=a,this.window=s,this.document=c,this.xi=o,this.Oi=u,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=h=>Promise.resolve(),!G5.v())throw new ut(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $U(this,i),this.$i=t+JU,this.serializer=new iI(l),this.Ui=new Wo(this.$i,this.Ni,new ZU(this.serializer)),this.hi=new CU,this.Pi=new BU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bI(this.serializer),this.Ii=new jU,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,u===!1&&_n(No,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(ze.FAILED_PRECONDITION,z1);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new ji(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>S0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ol(e))return Ke(No,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke(No,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return nd(e).get(vu).next((t=>je.resolve(this.es(t))))}ts(e){return S0(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,$1)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const n=Fn(t,ef);return n.J().next((i=>{const a=this.ss(i,$1),s=i.filter((c=>a.indexOf(c)===-1));return je.forEach(s,(c=>n.delete(c.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?je.resolve(!0):nd(e).get(vu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,V1)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ut(ze.FAILED_PRECONDITION,z1);return!1}}return!(!this.networkEnabled||!this.inForeground)||S0(e).J().next((n=>this.ss(n,V1).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||s&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&Ke(No,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Qp,ef],(e=>{const t=new v3(e,ji.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((n=>this.rs(n.updateTimeMs,t)&&!this.us(n.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>S0(e).J().next((t=>this.ss(t,$1).map((n=>n.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Hb.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new DU(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ub.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ke(No,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",a=(function(l){return l===18?Pq:l===17?fR:l===16?Iq:l===15?C5:l===14?uR:l===13?cR:l===12?Rq:l===11?lR:void ht(60245)})(this.Ni);let s;return this.Ui.runTransaction(e,i,a,(c=>(s=new v3(c,this.ci?this.ci.next():ji.ce),t==="readwrite-primary"?this.Hi(s).next((l=>!!l||this.Yi(s))).next((l=>{if(!l)throw _n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ut(ze.FAILED_PRECONDITION,ZM);return n(s)})).next((l=>this.Xi(s).next((()=>l)))):this.Is(s).next((()=>n(s)))))).then((c=>(s.raiseOnCommittedEvent(),c)))}Is(e){return nd(e).get(vu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,V1)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ut(ze.FAILED_PRECONDITION,z1)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nd(e).put(vu,t)}static v(){return Wo.v()}Zi(e){const t=nd(e);return t.get(vu).next((n=>this.es(n)?(Ke(No,"Releasing primary lease."),t.delete(vu)):je.resolve()))}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(_n(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;MM()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const n=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return Ke(No,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return _n(No,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){_n("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nd(r){return Fn(r,Qp)}function S0(r){return Fn(r,ef)}function vI(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=dr(),i=dr();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new W5(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MM()?8:eR(ig())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ys(e,t).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ws(e,t,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new eH;return this.Ss(e,t,s).next((c=>{if(a.result=c,this.Vs)return this.bs(e,t,s,c.size)}))})).next((()=>a.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(Nu()<=Er.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",Mu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(Nu()<=Er.DEBUG&&Ke("QueryEngine","Query:",Mu(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Nu()<=Er.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",Mu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(t))):je.resolve())}ys(e,t){if(uT(t))return je.resolve(null);let n=Xi(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=E3(t,null,"F"),n=Xi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=dr(...a);return this.ps.getDocuments(e,s).next((c=>this.indexManager.getMinOffset(e,n).next((l=>{const o=this.Ds(t,c);return this.Cs(t,o,s,l.readTime)?this.ys(e,E3(t,null,"F")):this.vs(e,o,t,l)}))))})))))}ws(e,t,n,i){return uT(t)||i.isEqual(It.min())?je.resolve(null):this.ps.getDocuments(e,n).next((a=>{const s=this.Ds(t,a);return this.Cs(t,s,n,i)?je.resolve(null):(Nu()<=Er.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mu(t)),this.vs(e,s,t,YM(i,Yu)).next((c=>c)))}))}Ds(e,t){let n=new Br(MR(e));return t.forEach(((i,a)=>{Jp(e,a)&&(n=n.add(a))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,n){return Nu()<=Er.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Mu(t)),this.ps.getDocumentsMatchingQuery(e,t,Qi.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(t.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="LocalStore",tH=3e8;class rH{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new en(Kt),this.xs=new Js((a=>wc(a)),Zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function wI(r,e,t,n){return new rH(r,e,t,n)}async function _I(r,e){const t=xt(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],c=[];let l=dr();for(const o of i){s.push(o.batchId);for(const u of o.mutations)l=l.add(u.key)}for(const o of a){c.push(o.batchId);for(const u of o.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(n,l).next((o=>({Ls:o,removedBatchIds:s,addedBatchIds:c})))}))}))}function nH(r,e){const t=xt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,l,o,u){const f=o.batch,h=f.keys();let d=je.resolve();return h.forEach((g=>{d=d.next((()=>u.getEntry(l,g))).next((y=>{const m=o.docVersions.get(g);kt(m!==null,48541),y.version.compareTo(m)<0&&(f.applyToRemoteDocument(y,o),y.isValidDocument()&&(y.setReadTime(o.commitVersion),u.addEntry(y)))}))})),d.next((()=>c.mutationQueue.removeMutationBatch(l,f)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let l=dr();for(let o=0;o<c.mutationResults.length;++o)c.mutationResults[o].transformResults.length>0&&(l=l.add(c.batch.mutations[o].key));return l})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function SI(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function iH(r,e){const t=xt(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((u,f)=>{const h=i.get(f);if(!h)return;c.push(t.Pi.removeMatchingKeys(a,u.removedDocuments,f).next((()=>t.Pi.addMatchingKeys(a,u.addedDocuments,f))));let d=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?d=d.withResumeToken(Sn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),i=i.insert(f,d),(function(y,m,x){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=tH?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(h,d,u)&&c.push(t.Pi.updateTargetData(a,d))}));let l=Wi(),o=dr();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,u))})),c.push(aH(a,s,e.documentUpdates).next((u=>{l=u.ks,o=u.qs}))),!n.isEqual(It.min())){const u=t.Pi.getLastRemoteSnapshotVersion(a).next((f=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));c.push(u)}return je.waitFor(c).next((()=>s.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,l,o))).next((()=>l))})).then((a=>(t.Ms=i,a)))}function aH(r,e,t){let n=dr(),i=dr();return t.forEach((a=>n=n.add(a))),e.getEntries(r,n).next((a=>{let s=Wi();return t.forEach(((c,l)=>{const o=a.get(c);l.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(c,l.readTime),s=s.insert(c,l)):!o.isValidDocument()||l.version.compareTo(o.version)>0||l.version.compareTo(o.version)===0&&o.hasPendingWrites?(e.addEntry(l),s=s.insert(c,l)):Ke(X5,"Ignoring outdated watch update for ",c,". Current version:",o.version," Watch version:",l.version)})),{ks:s,qs:i}}))}function sH(r,e){const t=xt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=hc),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function wg(r,e){const t=xt(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((a=>a?(i=a,je.resolve(i)):t.Pi.allocateTargetId(n).next((s=>(i=new $s(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function cf(r,e,t){const n=xt(r),i=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ol(s))throw s;Ke(X5,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function R3(r,e,t){const n=xt(r);let i=It.min(),a=dr();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(l,o,u){const f=xt(l),h=f.xs.get(u);return h!==void 0?je.resolve(f.Ms.get(h)):f.Pi.getTargetData(o,u)})(n,s,Xi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,c.targetId).next((l=>{a=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(s,e,t?i:It.min(),t?a:dr()))).next((c=>(TI(n,NR(e),c),{documents:c,Qs:a})))))}function AI(r,e){const t=xt(r),n=xt(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",(a=>n.At(a,e).next((s=>s?s.target:null))))}function EI(r,e){const t=xt(r),n=t.Os.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",(i=>t.Ns.getAllFromCollectionGroup(i,e,YM(n,Yu),Number.MAX_SAFE_INTEGER))).then((i=>(TI(t,e,i),i)))}function TI(r,e,t){let n=r.Os.get(e)||It.min();t.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),r.Os.set(e,n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firestore_clients";function VT(r,e){return`${kI}_${r}_${e}`}const jI="firestore_mutations";function zT(r,e,t){let n=`${jI}_${r}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}const CI="firestore_targets";function q1(r,e){return`${CI}_${r}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="SharedClientState";class _g{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static Ws(e,t,n){const i=JSON.parse(n);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new ut(i.error.code,i.error.message))),s?new _g(e,t,i.state,a):(_n(ns,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rd{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ws(e,t){const n=JSON.parse(t);let i,a=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return a&&n.error&&(a=typeof n.error.message=="string"&&typeof n.error.code=="string",a&&(i=new ut(n.error.code,n.error.message))),a?new Rd(e,n.state,i):(_n(ns,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const n=JSON.parse(t);let i=typeof n=="object"&&n.activeTargetIds instanceof Array,a=P5();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=tR(n.activeTargetIds[s]),a=a.add(n.activeTargetIds[s]);return i?new Sg(e,a):(_n(ns,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Y5{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Y5(t.clientId,t.onlineState):(_n(ns,`Failed to parse online state: ${e}`),null)}}class I3{constructor(){this.activeTargetIds=P5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U1{constructor(e,t,n,i,a){this.window=e,this.Mi=t,this.persistenceKey=n,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new en(Kt),this.started=!1,this.Xs=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=VT(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new I3),this.ro=new RegExp(`^${kI}_${s}_([^_]*)$`),this.io=new RegExp(`^${jI}_${s}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${CI}_${s}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const n of e){if(n===this.Js)continue;const i=this.getItem(VT(this.persistenceKey,n));if(i){const a=Sg.Ws(n,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const n=this.uo(t);n&&this.co(n)}for(const n of this.Xs)this.Ys(n);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,n){this.ho(e,t,n),this.Po(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(q1(this.persistenceKey,e));if(i){const a=Rd.Ws(e,i);a&&(n=a.state)}}return t&&this.To.zs(e),this.ao(),n}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(q1(this.persistenceKey,e))}updateQueryState(e,t,n){this.Io(e,t,n)}handleUserChange(e,t,n){t.forEach((i=>{this.Po(i)})),this.currentUser=e,n.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke(ns,"READ",e,t),t}setItem(e,t){Ke(ns,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke(ns,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(Ke(ns,"EVENT",t.key,t.newValue),t.key===this.eo)return void _n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const n=this.Ro(t.key);return this.Vo(n,null)}{const n=this.mo(t.key,t.newValue);if(n)return this.Vo(n.clientId,n)}}else if(this.io.test(t.key)){if(t.newValue!==null){const n=this.fo(t.key,t.newValue);if(n)return this.po(n)}}else if(this.so.test(t.key)){if(t.newValue!==null){const n=this.yo(t.key,t.newValue);if(n)return this.wo(n)}}else if(t.key===this.oo){if(t.newValue!==null){const n=this.uo(t.newValue);if(n)return this.co(n)}}else if(t.key===this.no){const n=(function(a){let s=ji.ce;if(a!=null)try{const c=JSON.parse(a);kt(typeof c=="number",30636,{So:a}),s=c}catch(c){_n(ns,"Failed to read sequence number from WebStorage",c)}return s})(t.newValue);n!==ji.ce&&this.sequenceNumberHandler(n)}else if(t.key===this._o){const n=this.bo(t.newValue);await Promise.all(n.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,n){const i=new _g(this.currentUser,e,t,n),a=zT(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const t=zT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,n){const i=q1(this.persistenceKey,e),a=new Rd(e,t,n);this.setItem(i,a.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const n=this.Ro(e);return Sg.Ws(n,t)}fo(e,t){const n=this.io.exec(e),i=Number(n[1]),a=n[2]!==void 0?n[2]:null;return _g.Ws(new ci(a),i,t)}yo(e,t){const n=this.so.exec(e),i=Number(n[1]);return Rd.Ws(i,t)}uo(e){return Y5.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);Ke(ns,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const n=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(n),s=[],c=[];return a.forEach((l=>{i.has(l)||s.push(l)})),i.forEach((l=>{a.has(l)||c.push(l)})),this.syncEngine.Fo(s,c).then((()=>{this.Zs=n}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=P5();return e.forEach(((n,i)=>{t=t.unionWith(i.activeTargetIds)})),t}}class OI{constructor(){this.Mo=new I3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new I3,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="ConnectivityMonitor";class UT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ke(qT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ke(qT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A0=null;function P3(){return A0===null?A0=(function(){return 268435456+Math.round(2147483648*Math.random())})():A0++,"0x"+A0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="RestConnection",lH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===fg?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,a){const s=P3(),c=this.zo(e,t.toUriEncodedString());Ke(H1,`Sending RPC '${e}' ${s}:`,c,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:o}=new URL(c),u=OM(o);return this.Jo(e,c,l,n,u).then((f=>(Ke(H1,`Received RPC '${e}' ${s}: `,f),f)),(f=>{throw Xd(H1,`RPC '${e}' ${s} failed with error: `,f,"url: ",c,"request:",n),f}))}Ho(e,t,n,i,a,s){return this.Go(e,t,n,i,a)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const n=lH[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="WebChannelConnection";class fH extends cH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const s=P3();return new Promise(((c,l)=>{const o=new zM;o.setWithCredentials(!0),o.listenOnce(qM.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case V0.NO_ERROR:const f=o.getResponseJson();Ke(si,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),c(f);break;case V0.TIMEOUT:Ke(si,`RPC '${e}' ${s} timed out`),l(new ut(ze.DEADLINE_EXCEEDED,"Request time out"));break;case V0.HTTP_ERROR:const h=o.getStatus();if(Ke(si,`RPC '${e}' ${s} failed with status:`,h,"response text:",o.getResponseText()),h>0){let d=o.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const y=(function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(v)>=0?v:ze.UNKNOWN})(g.status);l(new ut(y,g.message))}else l(new ut(ze.UNKNOWN,"Server responded with status "+o.getStatus()))}else l(new ut(ze.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Ke(si,`RPC '${e}' ${s} completed.`)}}));const u=JSON.stringify(i);Ke(si,`RPC '${e}' ${s} sending request:`,i),o.send(t,"POST",u,n,15)}))}T_(e,t,n){const i=P3(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KM(),c=HM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(l.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const u=a.join("");Ke(si,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,d=!1;const g=new uH({Yo:m=>{d?Ke(si,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(Ke(si,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ke(si,`RPC '${e}' stream ${i} sending:`,m),f.send(m))},Zo:()=>f.close()}),y=(m,x,v)=>{m.listen(x,(_=>{try{v(_)}catch(k){setTimeout((()=>{throw k}),0)}}))};return y(f,gd.EventType.OPEN,(()=>{d||(Ke(si,`RPC '${e}' stream ${i} transport opened.`),g.o_())})),y(f,gd.EventType.CLOSE,(()=>{d||(d=!0,Ke(si,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(f))})),y(f,gd.EventType.ERROR,(m=>{d||(d=!0,Xd(si,`RPC '${e}' stream ${i} transport errored. Name:`,m.name,"Message:",m.message),g.a_(new ut(ze.UNAVAILABLE,"The operation could not be completed")))})),y(f,gd.EventType.MESSAGE,(m=>{var x;if(!d){const v=m.data[0];kt(!!v,16349);const _=v,k=(_==null?void 0:_.error)||((x=_[0])==null?void 0:x.error);if(k){Ke(si,`RPC '${e}' stream ${i} received error:`,k);const N=k.status;let P=(function(B){const L=jn[B];if(L!==void 0)return UR(L)})(N),D=k.message;P===void 0&&(P=ze.INTERNAL,D="Unknown error status: "+N+" with message "+k.message),d=!0,g.a_(new ut(P,D)),f.close()}else Ke(si,`RPC '${e}' stream ${i} received:`,v),g.u_(v)}})),y(c,UM.STAT_EVENT,(m=>{m.stat===d3.PROXY?Ke(si,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===d3.NOPROXY&&Ke(si,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{g.__()}),0),g}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof window<"u"?window:null}function Q0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r){return new bU(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="PersistentStream";class RI{constructor(e,t,n,i,a,s,c,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ze.RESOURCE_EXHAUSTED?(_n(t.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new ut(ze.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ke(HT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ke(HT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hH extends RI{constructor(e,t,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=xU(this.serializer,e),n=(function(a){if(!("targetChange"in a))return It.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?Si(s.readTime):It.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=j3(this.serializer),t.addTarget=(function(a,s){let c;const l=s.target;if(c=dg(l)?{documents:ZR(a,l)}:{query:JR(a,l).ft},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=GR(a,s.resumeToken);const o=T3(a,s.expectedCount);o!==null&&(c.expectedCount=o)}else if(s.snapshotVersion.compareTo(It.min())>0){c.readTime=lf(a,s.snapshotVersion.toTimestamp());const o=T3(a,s.expectedCount);o!==null&&(c.expectedCount=o)}return c})(this.serializer,e);const n=_U(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=j3(this.serializer),t.removeTarget=e,this.q_(t)}}class dH extends RI{constructor(e,t,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=wU(e.writeResults,e.commitTime),n=Si(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=j3(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>gg(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{}class mH extends pH{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ut(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Go(e,k3(t,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ut(ze.UNKNOWN,a.toString())}))}Ho(e,t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Ho(e,k3(t,n),i,s,c,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(ze.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_n(t),this.aa=!1):Ke("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="RemoteStore";class bH{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((s=>{n.enqueueAndForget((async()=>{Ic(this)&&(Ke(Ec,"Restarting streams for network reachability change."),await(async function(l){const o=xt(l);o.Ea.add(4),await rm(o),o.Ra.set("Unknown"),o.Ea.delete(4),await Wb(o)})(this))}))})),this.Ra=new gH(n,i)}}async function Wb(r){if(Ic(r))for(const e of r.da)await e(!0)}async function rm(r){for(const e of r.da)await e(!1)}function Xb(r,e){const t=xt(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),J5(t)?Z5(t):Gf(t).O_()&&Q5(t,e))}function uf(r,e){const t=xt(r),n=Gf(t);t.Ia.delete(e),n.O_()&&II(t,e),t.Ia.size===0&&(n.O_()?n.L_():Ic(t)&&t.Ra.set("Unknown"))}function Q5(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gf(r).Y_(e)}function II(r,e){r.Va.Ue(e),Gf(r).Z_(e)}function Z5(r){r.Va=new dU({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Gf(r).start(),r.Ra.ua()}function J5(r){return Ic(r)&&!Gf(r).x_()&&r.Ia.size>0}function Ic(r){return xt(r).Ea.size===0}function PI(r){r.Va=void 0}async function yH(r){r.Ra.set("Online")}async function vH(r){r.Ia.forEach(((e,t)=>{Q5(r,e)}))}async function xH(r,e){PI(r),J5(r)?(r.Ra.ha(e),Z5(r)):r.Ra.set("Unknown")}async function wH(r,e,t){if(r.Ra.set("Online"),e instanceof KR&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ia.delete(c),i.Va.removeTarget(c))})(r,e)}catch(n){Ke(Ec,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ag(r,n)}else if(e instanceof X0?r.Va.Ze(e):e instanceof HR?r.Va.st(e):r.Va.tt(e),!t.isEqual(It.min()))try{const n=await SI(r.localStore);t.compareTo(n)>=0&&await(function(a,s){const c=a.Va.Tt(s);return c.targetChanges.forEach(((l,o)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(o);u&&a.Ia.set(o,u.withResumeToken(l.resumeToken,s))}})),c.targetMismatches.forEach(((l,o)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(Sn.EMPTY_BYTE_STRING,u.snapshotVersion)),II(a,l);const f=new $s(u.target,l,o,u.sequenceNumber);Q5(a,f)})),a.remoteSyncer.applyRemoteEvent(c)})(r,t)}catch(n){Ke(Ec,"Failed to raise snapshot:",n),await Ag(r,n)}}async function Ag(r,e,t){if(!ol(e))throw e;r.Ea.add(1),await rm(r),r.Ra.set("Offline"),t||(t=()=>SI(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ke(Ec,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Wb(r)}))}function DI(r,e){return e().catch((t=>Ag(r,t,e)))}async function Kf(r){const e=xt(r),t=el(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hc;for(;_H(e);)try{const i=await sH(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,SH(e,i)}catch(i){await Ag(e,i)}BI(e)&&LI(e)}function _H(r){return Ic(r)&&r.Ta.length<10}function SH(r,e){r.Ta.push(e);const t=el(r);t.O_()&&t.X_&&t.ea(e.mutations)}function BI(r){return Ic(r)&&!el(r).x_()&&r.Ta.length>0}function LI(r){el(r).start()}async function AH(r){el(r).ra()}async function EH(r){const e=el(r);for(const t of r.Ta)e.ea(t.mutations)}async function TH(r,e,t){const n=r.Ta.shift(),i=F5.from(n,e,t);await DI(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await Kf(r)}async function kH(r,e){e&&el(r).X_&&await(async function(n,i){if((function(s){return uU(s)&&s!==ze.ABORTED})(i.code)){const a=n.Ta.shift();el(n).B_(),await DI(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Kf(n)}})(r,e),BI(r)&&LI(r)}async function KT(r,e){const t=xt(r);t.asyncQueue.verifyOperationInProgress(),Ke(Ec,"RemoteStore received new credentials");const n=Ic(t);t.Ea.add(3),await rm(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wb(t)}async function D3(r,e){const t=xt(r);e?(t.Ea.delete(2),await Wb(t)):e||(t.Ea.add(2),await rm(t),t.Ra.set("Unknown"))}function Gf(r){return r.ma||(r.ma=(function(t,n,i){const a=xt(t);return a.sa(),new hH(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:yH.bind(null,r),t_:vH.bind(null,r),r_:xH.bind(null,r),H_:wH.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),J5(r)?Z5(r):r.Ra.set("Unknown")):(await r.ma.stop(),PI(r))}))),r.ma}function el(r){return r.fa||(r.fa=(function(t,n,i){const a=xt(t);return a.sa(),new dH(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:AH.bind(null,r),r_:kH.bind(null,r),ta:EH.bind(null,r),na:TH.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Kf(r)):(await r.fa.stop(),r.Ta.length>0&&(Ke(Ec,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const s=Date.now()+n,c=new e6(e,t,s,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t6(r,e){if(_n("AsyncQueue",`${e}: ${r}`),ol(r))return new ut(ze.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{static emptySet(e){return new Uu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ot.comparator(t.key,n.key):(t,n)=>ot.comparator(t.key,n.key),this.keyedMap=bd(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Uu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.ga=new en(ot.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ht(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ff{constructor(e,t,n,i,a,s,c,l,o){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=o}static fromInitialDocuments(e,t,n,i,a){const s=[];return t.forEach((c=>{s.push({type:0,doc:c})})),new ff(e,t,Uu.emptySet(t),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CH{constructor(){this.queries=WT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=xt(t),a=i.queries;i.queries=WT(),a.forEach(((s,c)=>{for(const l of c.Sa)l.onError(n)}))})(this,new ut(ze.ABORTED,"Firestore shutting down"))}}function WT(){return new Js((r=>OR(r)),Vb)}async function OH(r,e){const t=xt(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new jH,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const c=t6(s,`Initialization of query '${Mu(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&r6(t)}async function NH(r,e){const t=xt(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function MH(r,e){const t=xt(r);let n=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const c of s.Sa)c.Fa(i)&&(n=!0);s.wa=i}}n&&r6(t)}function RH(r,e,t){const n=xt(r),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);n.queries.delete(e)}function r6(r){r.Ca.forEach((e=>{e.next()}))}var B3,XT;(XT=B3||(B3={})).Ma="default",XT.Cache="cache";class IH{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ff(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==B3.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.key=e}}class $I{constructor(e){this.key=e}}class PH{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dr(),this.mutatedKeys=dr(),this.eu=MR(e),this.tu=new Uu(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new GT,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,o=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,f)=>{const h=i.get(u),d=Jp(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;h&&d?h.data.isEqual(d.data)?g!==y&&(n.track({type:3,doc:d}),m=!0):this.su(h,d)||(n.track({type:2,doc:d}),m=!0,(l&&this.eu(d,l)>0||o&&this.eu(d,o)<0)&&(c=!0)):!h&&d?(n.track({type:0,doc:d}),m=!0):h&&!d&&(n.track({type:1,doc:h}),m=!0,(l||o)&&(c=!0)),m&&(d?(s=s.add(d),a=y?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((u,f)=>(function(d,g){const y=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:m})}};return y(d)-y(g)})(u.type,f.type)||this.eu(u.doc,f.doc))),this.ou(n),i=i??!1;const c=t&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,o=l!==this.Za;return this.Za=l,s.length!==0||o?{snapshot:new ff(this.query,e.tu,a,s,e.mutatedKeys,l===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new $I(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new FI(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=dr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ff.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wf="SyncEngine";class DH{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class BH{constructor(e){this.key=e,this.hu=!1}}class LH{constructor(e,t,n,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Js((c=>OR(c)),Vb),this.Iu=new Map,this.Eu=new Set,this.du=new en(ot.comparator),this.Au=new Map,this.Ru=new H5,this.Vu={},this.mu=new Map,this.fu=Ac.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FH(r,e,t=!0){const n=Yb(r);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await VI(n,e,t,!0),i}async function $H(r,e){const t=Yb(r);await VI(t,e,!0,!1)}async function VI(r,e,t,n){const i=await wg(r.localStore,Xi(e)),a=i.targetId,s=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await n6(r,e,a,s==="current",i.resumeToken)),r.isPrimaryClient&&t&&Xb(r.remoteStore,i),c}async function n6(r,e,t,n,i){r.pu=(f,h,d)=>(async function(y,m,x,v){let _=m.view.ru(x);_.Cs&&(_=await R3(y.localStore,m.query,!1).then((({documents:D})=>m.view.ru(D,_))));const k=v&&v.targetChanges.get(m.targetId),N=v&&v.targetMismatches.get(m.targetId)!=null,P=m.view.applyChanges(_,y.isPrimaryClient,k,N);return L3(y,m.targetId,P.au),P.snapshot})(r,f,h,d);const a=await R3(r.localStore,e,!0),s=new PH(e,a.Qs),c=s.ru(a.documents),l=tm.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),o=s.applyChanges(c,r.isPrimaryClient,l);L3(r,t,o.au);const u=new DH(e,t,s);return r.Tu.set(e,u),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),o.snapshot}async function VH(r,e,t){const n=xt(r),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!Vb(s,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await cf(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&uf(n.remoteStore,i.targetId),hf(n,i.targetId)})).catch(sl)):(hf(n,i.targetId),await cf(n.localStore,i.targetId,!0))}async function zH(r,e){const t=xt(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),uf(t.remoteStore,n.targetId))}async function qH(r,e,t){const n=o6(r);try{const i=await(function(s,c){const l=xt(s),o=Dr.now(),u=c.reduce(((d,g)=>d.add(g.key)),dr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let g=Wi(),y=dr();return l.Ns.getEntries(d,u).next((m=>{g=m,g.forEach(((x,v)=>{v.isValidDocument()||(y=y.add(x))}))})).next((()=>l.localDocuments.getOverlayedDocuments(d,g))).next((m=>{f=m;const x=[];for(const v of c){const _=lU(v,f.get(v.key).overlayedDocument);_!=null&&x.push(new eo(v.key,_,wR(_.value.mapValue),Oi.exists(!0)))}return l.mutationQueue.addMutationBatch(d,o,x,c)})).next((m=>{h=m;const x=m.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(d,m.batchId,x)}))})).then((()=>({batchId:h.batchId,changes:IR(f)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,c,l){let o=s.Vu[s.currentUser.toKey()];o||(o=new en(Kt)),o=o.insert(c,l),s.Vu[s.currentUser.toKey()]=o})(n,i.batchId,t),await cl(n,i.changes),await Kf(n.remoteStore)}catch(i){const a=t6(i,"Failed to persist write");t.reject(a)}}async function zI(r,e){const t=xt(r);try{const n=await iH(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=t.Au.get(a);s&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?kt(s.hu,14607):i.removedDocuments.size>0&&(kt(s.hu,42227),s.hu=!1))})),await cl(t,n,e)}catch(n){await sl(n)}}function YT(r,e,t){const n=xt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((a,s)=>{const c=s.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(s,c){const l=xt(s);l.onlineState=c;let o=!1;l.queries.forEach(((u,f)=>{for(const h of f.Sa)h.va(c)&&(o=!0)})),o&&r6(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function UH(r,e,t){const n=xt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new en(ot.comparator);s=s.insert(a,bn.newNoDocument(a,It.min()));const c=dr().add(a),l=new em(It.min(),new Map,new en(Kt),s,c);await zI(n,l),n.du=n.du.remove(a),n.Au.delete(e),s6(n)}else await cf(n.localStore,e,!1).then((()=>hf(n,e,t))).catch(sl)}async function HH(r,e){const t=xt(r),n=e.batch.batchId;try{const i=await nH(t.localStore,e);a6(t,n,null),i6(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await cl(t,i)}catch(i){await sl(i)}}async function KH(r,e,t){const n=xt(r);try{const i=await(function(s,c){const l=xt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",(o=>{let u;return l.mutationQueue.lookupMutationBatch(o,c).next((f=>(kt(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(o,f)))).next((()=>l.mutationQueue.performConsistencyCheck(o))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(o,u,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u))).next((()=>l.localDocuments.getDocuments(o,u)))}))})(n.localStore,e);a6(n,e,t),i6(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await cl(n,i)}catch(i){await sl(i)}}function i6(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function a6(r,e,t){const n=xt(r);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function hf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||qI(r,n)}))}function qI(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(uf(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),s6(r))}function L3(r,e,t){for(const n of t)n instanceof FI?(r.Ru.addReference(n.key,e),GH(r,n)):n instanceof $I?(Ke(Wf,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||qI(r,n.key)):ht(19791,{wu:n})}function GH(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Ke(Wf,"New document in limbo: "+t),r.Eu.add(n),s6(r))}function s6(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ot(zr.fromString(e)),n=r.fu.next();r.Au.set(n,new BH(t)),r.du=r.du.insert(t,n),Xb(r.remoteStore,new $s(Xi($b(t.path)),n,"TargetPurposeLimboResolution",ji.ce))}}async function cl(r,e,t){const n=xt(r),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,l)=>{s.push(n.pu(l,e,t).then((o=>{var u;if((o||t)&&n.isPrimaryClient){const f=o?!o.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(o){i.push(o);const f=W5.As(l.targetId,o);a.push(f)}})))})),await Promise.all(s),n.Pu.H_(i),await(async function(l,o){const u=xt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>je.forEach(o,(h=>je.forEach(h.Es,(d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d))).next((()=>je.forEach(h.ds,(d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))))))}catch(f){if(!ol(f))throw f;Ke(X5,"Failed to update sequence numbers: "+f)}for(const f of o){const h=f.targetId;if(!f.fromCache){const d=u.Ms.get(h),g=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(g);u.Ms=u.Ms.insert(h,y)}}})(n.localStore,a))}async function WH(r,e){const t=xt(r);if(!t.currentUser.isEqual(e)){Ke(Wf,"User change. New user:",e.toKey());const n=await _I(t.localStore,e);t.currentUser=e,(function(a,s){a.mu.forEach((c=>{c.forEach((l=>{l.reject(new ut(ze.CANCELLED,s))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await cl(t,n.Ls)}}function XH(r,e){const t=xt(r),n=t.Au.get(e);if(n&&n.hu)return dr().add(n.key);{let i=dr();const a=t.Iu.get(e);if(!a)return i;for(const s of a){const c=t.Tu.get(s);i=i.unionWith(c.view.nu)}return i}}async function YH(r,e){const t=xt(r),n=await R3(t.localStore,e.query,!0),i=e.view.cu(n);return t.isPrimaryClient&&L3(t,e.targetId,i.au),i}async function QH(r,e){const t=xt(r);return EI(t.localStore,e).then((n=>cl(t,n)))}async function ZH(r,e,t,n){const i=xt(r),a=await(function(c,l){const o=xt(c),u=xt(o.mutationQueue);return o.persistence.runTransaction("Lookup mutation documents","readonly",(f=>u.er(f,l).next((h=>h?o.localDocuments.getDocuments(f,h):je.resolve(null)))))})(i.localStore,e);a!==null?(t==="pending"?await Kf(i.remoteStore):t==="acknowledged"||t==="rejected"?(a6(i,e,n||null),i6(i,e),(function(c,l){xt(xt(c).mutationQueue).ir(l)})(i.localStore,e)):ht(6720,"Unknown batchState",{Su:t}),await cl(i,a)):Ke(Wf,"Cannot apply mutation batch with id: "+e)}async function JH(r,e){const t=xt(r);if(Yb(t),o6(t),e===!0&&t.gu!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),i=await QT(t,n.toArray());t.gu=!0,await D3(t.remoteStore,!0);for(const a of i)Xb(t.remoteStore,a)}else if(e===!1&&t.gu!==!1){const n=[];let i=Promise.resolve();t.Iu.forEach(((a,s)=>{t.sharedClientState.isLocalQueryTarget(s)?n.push(s):i=i.then((()=>(hf(t,s),cf(t.localStore,s,!0)))),uf(t.remoteStore,s)})),await i,await QT(t,n),(function(s){const c=xt(s);c.Au.forEach(((l,o)=>{uf(c.remoteStore,o)})),c.Ru.Jr(),c.Au=new Map,c.du=new en(ot.comparator)})(t),t.gu=!1,await D3(t.remoteStore,!1)}}async function QT(r,e,t){const n=xt(r),i=[],a=[];for(const s of e){let c;const l=n.Iu.get(s);if(l&&l.length!==0){c=await wg(n.localStore,Xi(l[0]));for(const o of l){const u=n.Tu.get(o),f=await YH(n,u);f.snapshot&&a.push(f.snapshot)}}else{const o=await AI(n.localStore,s);c=await wg(n.localStore,o),await n6(n,UI(o),s,!1,c.resumeToken)}i.push(c)}return n.Pu.H_(a),i}function UI(r){return CR(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function eK(r){return(function(t){return xt(xt(t).persistence).Ts()})(xt(r).localStore)}async function tK(r,e,t,n){const i=xt(r);if(i.gu)return void Ke(Wf,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const s=await EI(i.localStore,NR(a[0])),c=em.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Sn.EMPTY_BYTE_STRING);await cl(i,s,c);break}case"rejected":await cf(i.localStore,e,!0),hf(i,e,n);break;default:ht(64155,t)}}async function rK(r,e,t){const n=Yb(r);if(n.gu){for(const i of e){if(n.Iu.has(i)&&n.sharedClientState.isActiveQueryTarget(i)){Ke(Wf,"Adding an already active target "+i);continue}const a=await AI(n.localStore,i),s=await wg(n.localStore,a);await n6(n,UI(a),s.targetId,!1,s.resumeToken),Xb(n.remoteStore,s)}for(const i of t)n.Iu.has(i)&&await cf(n.localStore,i,!1).then((()=>{uf(n.remoteStore,i),hf(n,i)})).catch(sl)}}function Yb(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UH.bind(null,e),e.Pu.H_=MH.bind(null,e.eventManager),e.Pu.yu=RH.bind(null,e.eventManager),e}function o6(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KH.bind(null,e),e}class sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wI(this.persistence,new xI,e.initialUser,this.serializer)}Cu(e){return new K5(Kb.mi,this.serializer)}Du(e){return new OI}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sp.provider={build:()=>new sp};class nK extends sp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){kt(this.persistence.referenceDelegate instanceof xg,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new pI(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new K5((n=>xg.mi(n,t)),this.serializer)}}class HI extends sp{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await o6(this.xu.syncEngine),await Kf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return wI(this.persistence,new xI,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new pI(n,e.asyncQueue,t)}Mu(e,t){const n=new cq(t,this.persistence);return new lq(e.asyncQueue,n)}Cu(e){const t=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new G5(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NI(),Q0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new OI}}class iK extends HI{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof U1&&(this.sharedClientState.syncEngine={Co:ZH.bind(null,t),vo:tK.bind(null,t),Fo:rK.bind(null,t),Ts:eK.bind(null,t),Do:QH.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async n=>{await JH(this.xu.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Du(e){const t=NI();if(!U1.v(t))throw new ut(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=vI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new U1(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=WH.bind(null,this.syncEngine),await D3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CH})()}createDatastore(e){const t=Gb(e.databaseInfo.databaseId),n=(function(a){return new fH(a)})(e.databaseInfo);return(function(a,s,c,l){return new mH(a,s,c,l)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,a,s,c){return new bH(n,i,a,s,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>YT(this.syncEngine,t,0)),(function(){return UT.v()?new UT:new oH})())}createSyncEngine(e,t){return(function(i,a,s,c,l,o,u){const f=new LH(i,a,s,c,l,o);return u&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const a=xt(i);Ke(Ec,"RemoteStore shutting down."),a.Ea.add(5),await rm(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="FirestoreClient";class sK{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ci.UNAUTHENTICATED,this.clientId=_5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{Ke(tl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(Ke(tl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=t6(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function K1(r,e){r.asyncQueue.verifyOperationInProgress(),Ke(tl,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await _I(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ZT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await oK(r);Ke(tl,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>KT(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>KT(e.remoteStore,i))),r._onlineComponents=e}async function oK(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ke(tl,"Using user provided OfflineComponentProvider");try{await K1(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ze.FAILED_PRECONDITION||i.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Xd("Error using user provided cache. Falling back to memory cache: "+t),await K1(r,new sp)}}else Ke(tl,"Using default OfflineComponentProvider"),await K1(r,new nK(void 0));return r._offlineComponents}async function KI(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ke(tl,"Using user provided OnlineComponentProvider"),await ZT(r,r._uninitializedComponentsProvider._online)):(Ke(tl,"Using default OnlineComponentProvider"),await ZT(r,new op))),r._onlineComponents}function lK(r){return KI(r).then((e=>e.syncEngine))}async function JT(r){const e=await KI(r),t=e.eventManager;return t.onListen=FH.bind(null,e.syncEngine),t.onUnlisten=VH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$H.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zH.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK="firestore.googleapis.com",tk=!0;class rk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cK,this.ssl=tk}else this.host=e.host,this.ssl=e.ssl??tk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dI)throw new ut(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ut(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ut(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ut(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WI{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Xz;switch(n.type){case"firstParty":return new Zz(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ut(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=ek.get(t);n&&(Ke("ComponentProvider","Removing Datastore"),ek.delete(t),n.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qb(this.firestore,e,this._query)}}class Bn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}toJSON(){return{type:Bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Yp(t,Bn._jsonSchema))return new Bn(e,n||null,new ot(zr.fromString(t.referencePath)))}}Bn._jsonSchemaVersion="firestore/documentReference/1.0",Bn._jsonSchema={type:On("string",Bn._jsonSchemaVersion),referencePath:On("string")};class lp extends Qb{constructor(e,t,n){super(e,t,$b(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new ot(e))}withConverter(e){return new lp(this.firestore,e,this._path)}}function Io(r,e,...t){if(r=Qo(r),arguments.length===1&&(e=_5.newId()),iq("doc","path",e),r instanceof WI){const n=zr.fromString(e,...t);return HE(n),new Bn(r,null,new ot(n))}{if(!(r instanceof Bn||r instanceof lp))throw new ut(ze.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(zr.fromString(e,...t));return HE(n),new Bn(r.firestore,r instanceof lp?r.converter:null,new ot(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="AsyncQueue";class ik{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MI(this,"async_queue_retry"),this._c=()=>{const n=Q0();n&&Ke(nk,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Q0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Q0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Go;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;Ke(nk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,_n("INTERNAL UNHANDLED ERROR: ",ak(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=e6.createAndSchedule(this,e,t,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ht(47125,{Pc:ak(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ak(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(r,["next","error","complete"])}class cp extends WI{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new ik,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ik(e),this._firestoreClient=void 0,await e}}}function uK(r,e,t){t||(t=fg);const n=Mz(r,"firestore");if(n.isInitialized(t)){const i=n.getImmediate({identifier:t}),a=n.getOptions(t);if(ag(a,e))return i;throw new ut(ze.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ut(ze.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dI)throw new ut(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&OM(e.host)&&OV(e.host),n.initialize({options:e,instanceIdentifier:t})}function XI(r){if(r._terminated)throw new ut(ze.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fK(r),r._firestoreClient}function fK(r){var n,i,a;const e=r._freezeSettings(),t=(function(c,l,o,u){return new Bq(c,l,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GI(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new sK(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(Sn.fromBase64String(e))}catch(t){throw new ut(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ga(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ga._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yp(e,ga._jsonSchema))return ga.fromBase64String(e.bytes)}}ga._jsonSchemaVersion="firestore/bytes/1.0",ga._jsonSchema={type:On("string",ga._jsonSchemaVersion),bytes:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ut(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(Yp(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:On("string",ls._jsonSchemaVersion),latitude:On("number"),longitude:On("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yp(e,cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cs(e.vectorValues);throw new ut(ze.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:On("string",cs._jsonSchemaVersion),vectorValues:On("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=/^__.*__$/;class dK{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hf(e,this.data,t,this.fieldTransforms)}}class YI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QI(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:r})}}class c6{constructor(e,t,n,i,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new c6({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QI(this.Ac)&&hK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pK{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gb(e)}Cc(e,t,n,i=!1){return new c6({Ac:e,methodName:t,Dc:n,path:fn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZI(r){const e=r._freezeSettings(),t=Gb(r._databaseId);return new pK(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mK(r,e,t,n,i,a={}){const s=r.Cc(a.merge||a.mergeFields?2:0,e,t,i);u6("Data must be an object, but it was:",s,n);const c=JI(n,s);let l,o;if(a.merge)l=new Ci(s.fieldMask),o=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const h=F3(e,f,t);if(!s.contains(h))throw new ut(ze.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tP(u,h)||u.push(h)}l=new Ci(u),o=s.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,o=s.fieldTransforms;return new dK(new hi(c),l,o)}class nm extends l6{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nm}}function gK(r,e,t,n){const i=r.Cc(1,e,t);u6("Data must be an object, but it was:",i,n);const a=[],s=hi.empty();ll(n,((l,o)=>{const u=f6(e,l,t);o=Qo(o);const f=i.yc(u);if(o instanceof nm)a.push(u);else{const h=Jb(o,f);h!=null&&(a.push(u),s.set(u,h))}}));const c=new Ci(a);return new YI(s,c,i.fieldTransforms)}function bK(r,e,t,n,i,a){const s=r.Cc(1,e,t),c=[F3(e,n,t)],l=[i];if(a.length%2!=0)throw new ut(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)c.push(F3(e,a[h])),l.push(a[h+1]);const o=[],u=hi.empty();for(let h=c.length-1;h>=0;--h)if(!tP(o,c[h])){const d=c[h];let g=l[h];g=Qo(g);const y=s.yc(d);if(g instanceof nm)o.push(d);else{const m=Jb(g,y);m!=null&&(o.push(d),u.set(d,m))}}const f=new Ci(o);return new YI(u,f,s.fieldTransforms)}function Jb(r,e){if(eP(r=Qo(r)))return u6("Unsupported field value:",e,r),JI(r,e);if(r instanceof l6)return(function(n,i){if(!QI(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const c of n){let l=Jb(c,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}})(r,e)}return(function(n,i){if((n=Qo(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Dr.fromDate(n);return{timestampValue:lf(i.serializer,a)}}if(n instanceof Dr){const a=new Dr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lf(i.serializer,a)}}if(n instanceof ls)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ga)return{bytesValue:GR(i.serializer,n._byteString)};if(n instanceof Bn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:z5(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof cs)return(function(s,c){return{mapValue:{fields:{[N5]:{stringValue:M5},[tf]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw c.Sc("VectorValues must only contain numeric values.");return D5(c.serializer,o)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${S5(n)}`)})(r,e)}function JI(r,e){const t={};return hR(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(r,((n,i)=>{const a=Jb(i,e.mc(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function eP(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dr||r instanceof ls||r instanceof ga||r instanceof Bn||r instanceof l6||r instanceof cs)}function u6(r,e,t){if(!eP(t)||!XM(t)){const n=S5(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function F3(r,e,t){if((e=Qo(e))instanceof Zb)return e._internalPath;if(typeof e=="string")return f6(r,e);throw Eg("Field path arguments must be of type string or ",r,!1,void 0,t)}const yK=new RegExp("[~\\*/\\[\\]]");function f6(r,e,t){if(e.search(yK)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Zb(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Eg(r,e,t,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new ut(ze.INVALID_ARGUMENT,c+r+l)}function tP(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class vK extends rP{data(){return super.data()}}function nP(r,e){return typeof e=="string"?f6(r,e):e instanceof Zb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wK{convertValue(e,t="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ll(e,((i,a)=>{n[i]=this.convertValue(a,t)})),n}convertVectorValue(e){var n,i,a;const t=(a=(i=(n=e.fields)==null?void 0:n[tf].arrayValue)==null?void 0:i.values)==null?void 0:a.map((s=>sn(s.doubleValue)));return new cs(t)}convertGeoPoint(e){return new ls(sn(e.latitude),sn(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bb(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tp(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=zr.fromString(e);kt(nI(n),9688,{name:e});const i=new xc(n.get(1),n.get(3)),a=new ot(n.popFirst(5));return i.isEqual(t)||_n(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class xd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mc extends rP{constructor(e,t,n,i,a,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(nP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(ze.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=mc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}mc._jsonSchemaVersion="firestore/documentSnapshot/1.0",mc._jsonSchema={type:On("string",mc._jsonSchemaVersion),bundleSource:On("string","DocumentSnapshot"),bundleName:On("string"),bundle:On("string")};class Z0 extends mc{data(e={}){return super.data(e)}}class Hu{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Z0(this._firestore,this._userDataWriter,n.key,n,new xd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ut(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((c=>{const l=new Z0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const l=new Z0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let o=-1,u=-1;return c.type!==0&&(o=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),u=s.indexOf(c.doc.key)),{type:SK(c.type),doc:l,oldIndex:o,newIndex:u}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(ze.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SK(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:r})}}Hu._jsonSchemaVersion="firestore/querySnapshot/1.0",Hu._jsonSchema={type:On("string",Hu._jsonSchemaVersion),bundleSource:On("string","QuerySnapshot"),bundleName:On("string"),bundle:On("string")};class iP extends wK{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function ok(r,e,t){r=fc(r,Bn);const n=fc(r.firestore,cp),i=_K(r.converter,e,t);return aP(n,[mK(ZI(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Oi.none())])}function Du(r,e,t,...n){r=fc(r,Bn);const i=fc(r.firestore,cp),a=ZI(i);let s;return s=typeof(e=Qo(e))=="string"||e instanceof Zb?bK(a,"updateDoc",r._key,e,t,n):gK(a,"updateDoc",r._key,e),aP(i,[s.toMutation(r._key,Oi.exists(!0))])}function lk(r,...e){var l,o,u;r=Qo(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||sk(e[n])||(t=e[n++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(sk(e[n])){const f=e[n];e[n]=(l=f.next)==null?void 0:l.bind(f),e[n+1]=(o=f.error)==null?void 0:o.bind(f),e[n+2]=(u=f.complete)==null?void 0:u.bind(f)}let a,s,c;if(r instanceof Bn)s=fc(r.firestore,cp),c=$b(r._key.path),a={next:f=>{e[n]&&e[n](AK(s,r,f))},error:e[n+1],complete:e[n+2]};else{const f=fc(r,Qb);s=fc(f.firestore,cp),c=f._query;const h=new iP(s);a={next:d=>{e[n]&&e[n](new Hu(s,h,f,d))},error:e[n+1],complete:e[n+2]},xK(r._query)}return(function(h,d,g,y){const m=new aK(y),x=new IH(d,m,g);return h.asyncQueue.enqueueAndForget((async()=>OH(await JT(h),x))),()=>{m.Nu(),h.asyncQueue.enqueueAndForget((async()=>NH(await JT(h),x)))}})(XI(s),c,i,a)}function aP(r,e){return(function(n,i){const a=new Go;return n.asyncQueue.enqueueAndForget((async()=>qH(await lK(n),i,a))),a.promise})(XI(r),e)}function AK(r,e,t){const n=t.docs.get(e._key),i=new iP(r);return new mc(r,i,e._key,n,new xd(t.hasPendingWrites,t.fromCache),e.converter)}class EK{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=CK(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function TK(r){return new EK(r)}class kK{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=op.provider,this._offlineComponentProvider={build:t=>new HI(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class jK{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=op.provider,this._offlineComponentProvider={build:t=>new iK(t,e==null?void 0:e.cacheSizeBytes)}}}function CK(r){return new kK(r==null?void 0:r.forceOwnership)}function OK(){return new jK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return new nm("deleteField")}(function(e,t=!0){(function(i){Uf=i})(Dz),sg(new Gd("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),c=new cp(new Yz(n.getProvider("auth-internal")),new Jz(s,n.getProvider("app-check-internal")),(function(o,u){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ut(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(o.options.projectId,u)})(s,i),s);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),qu(VE,zE,e),qu(VE,zE,"esm2020")})();var NK="firebase",MK="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qu(NK,MK,"app");const RK={apiKey:"AIzaSyDd7hEcGiWBfikLEMB0Yz-7_Bjg8L_85ys",authDomain:"fmjpro.firebaseapp.com",projectId:"fmjpro",storageBucket:"fmjpro.firebasestorage.app",messagingSenderId:"785425990688",appId:"1:785425990688:web:b68623cf44a58e58552845",measurementId:"G-L05648FYR8"},IK=Bz(RK),Po=uK(IK,{localCache:TK({tabManager:OK()})}),G1=1,PK=30,fa={checkAndMigrate:()=>{try{const r=parseInt(localStorage.getItem("fmj_db_version")||"0");if(r!==G1)return console.log(`System Update Detected! (v${r} -> v${G1})`),console.log("Cleaning up old local data to prevent conflicts..."),Object.keys(localStorage).forEach(e=>{e.startsWith("fmj_")&&localStorage.removeItem(e)}),localStorage.setItem("fmj_db_version",G1.toString()),localStorage.setItem("fmj_cloud_enabled","true"),!0}catch(r){console.error("Migration Check Failed",r)}return!1},loadMonth:r=>{try{const e=localStorage.getItem(`fmj_data_${r}`);return e?JSON.parse(e):{}}catch{return{}}},saveMonth:(r,e)=>{try{localStorage.setItem(`fmj_data_${r}`,JSON.stringify(e))}catch(t){console.error("Storage Full?",t)}},loadSettings:()=>{try{const r=localStorage.getItem("fmj_settings");return r?JSON.parse(r):{productionItems:[],breakdownCategories:[],shiftTeams:[]}}catch{return{productionItems:[],breakdownCategories:[],shiftTeams:[]}}},saveSettings:r=>{localStorage.setItem("fmj_settings",JSON.stringify(r))}},oP=r=>{const e=ye.useMemo(()=>r.substring(0,7),[r]),t=ye.useMemo(()=>{const P=new Date(r);return P.setMonth(P.getMonth()-1),P.toISOString().substring(0,7)},[r]),[n,i]=ye.useState({}),[a,s]=ye.useState({productionItems:[],breakdownCategories:[],shiftTeams:[]}),[c,l]=ye.useState(()=>localStorage.getItem("fmj_cloud_enabled")!=="false"),[o,u]=ye.useState("syncing"),[f,h]=ye.useState("success"),[d,g]=ye.useState(null);ye.useEffect(()=>{const P=fa.checkAndMigrate();s(fa.loadSettings());const D=fa.loadMonth(e),I=fa.loadMonth(t),B={},L={...I,...D};Object.keys(L).forEach(z=>{L[z].deleted||(B[z]=L[z])}),i(B),P&&console.log("Local database rebuilt successfully.")},[e,t]);const y=ye.useCallback((P,D,I)=>{if(!P.exists())return;const B=P.data().entries||{},L=P.data().last_sync;D==="settings"?s(z=>{var F;const $=((F=B.adminConfig)==null?void 0:F.lastModified)||0,O=z.lastModified||0;if($>O)return fa.saveSettings(B.adminConfig),B.adminConfig;if(O>$){const C=Io(Po,"production_data","settings");Du(C,{"entries.adminConfig":z,last_sync:new Date().toISOString()}).catch(()=>{})}return z}):D==="data"&&I&&i(z=>{const $=fa.loadMonth(I);let O=!1,F=!1;const C={},w={},E={...$},A=Date.now(),j=PK*24*60*60*1e3;if(Object.keys(B).forEach(R=>{const q=B[R],H=$[R];if(q.deleted&&A-q.lastModified>j){delete E[R],w[`entries.${R}`]=sP(),O=!0,F=!0;return}const Y=q.lastModified||0,Z=(H==null?void 0:H.lastModified)||0;Y>Z?(E[R]=q,O=!0):Z>Y&&(C[`entries.${R}`]=H)}),Object.keys($).forEach(R=>{B[R]||($[R].deleted&&A-$[R].lastModified>j?(delete E[R],O=!0):C[`entries.${R}`]=$[R])}),O&&fa.saveMonth(I,E),Object.keys(C).length>0&&c){const R=Io(Po,"production_data",I);Du(R,{...C,last_sync:new Date().toISOString()}).catch(async q=>{if(q.code==="not-found"){const H={entries:{},last_sync:new Date().toISOString()};Object.keys(C).forEach(Y=>H.entries[Y.replace("entries.","")]=C[Y]),await ok(R,H,{merge:!0})}})}if(F&&c){const R=Io(Po,"production_data",I);Du(R,w).catch(q=>console.error("Auto purge failed",q))}if(I===e||I===t){h("success"),L&&g(new Date(L).toLocaleString()),u("success");const R={...z};return Object.keys(E).forEach(q=>{E[q].deleted?delete R[q]:R[q]=E[q]}),R}return z})},[e,t,c]);ye.useEffect(()=>{if(c)return lk(Io(Po,"production_data","settings"),P=>y(P,"settings"))},[c,y]),ye.useEffect(()=>{if(!c){u("disabled");return}return u("syncing"),lk(Io(Po,"production_data",e),P=>y(P,"data",e),()=>u("error"))},[e,c,y]);const m=ye.useCallback(async(P,D)=>{const I={...D,lastModified:Date.now(),deleted:!1};if(P==="adminConfig")s(I),fa.saveSettings(I);else{i($=>({...$,[P]:I}));const B=P.match(/^(\d{4}-\d{2})/),L=B?B[1]:e,z=fa.loadMonth(L);z[P]=I,fa.saveMonth(L,z)}if(h("success"),c)try{u("syncing");const B=new Date().toISOString(),L=P==="adminConfig"?"settings":P.match(/^(\d{4}-\d{2})/)?P.substring(0,7):e,z=Io(Po,"production_data",L),$=P==="adminConfig"?"adminConfig":P;await Du(z,{[`entries.${$}`]:I,last_sync:B}).catch(async O=>{O.code==="not-found"&&await ok(z,{entries:{[$]:I},last_sync:B},{merge:!0})}),u("success"),g(new Date(B).toLocaleString())}catch(B){console.error(B),u("error")}},[c,e]),x=ye.useCallback(async P=>{const D={deleted:!0,lastModified:Date.now()};i(z=>{const $={...z};return delete $[P],$});const I=P.match(/^(\d{4}-\d{2})/),B=I?I[1]:e,L=fa.loadMonth(B);if(L[P]=D,fa.saveMonth(B,L),c)try{const z=new Date().toISOString(),$=P.match(/^(\d{4}-\d{2})/)?P.substring(0,7):e,O=Io(Po,"production_data",$);await Du(O,{[`entries.${P}`]:D,last_sync:z}),g(new Date(z).toLocaleString())}catch(z){console.error("Delete sync failed",z)}},[c,e]),v=P=>{l(P),localStorage.setItem("fmj_cloud_enabled",String(P)),P||u("disabled")},_=P=>m("adminConfig",P),k=(P,D)=>m(P,D);return{combinedData:ye.useMemo(()=>({...n,adminConfig:a}),[n,a]),adminConfig:a,updateDayData:k,updateAdminConfig:_,deleteDayData:x,isCloudEnabled:c,toggleCloudSync:v,cloudStatus:o,localStatus:f,lastSyncTime:d}},DK=({entryDate:r,setEntryDate:e,activeShift:t,setActiveShift:n,displaySup:i,handleSupervisorChange:a,showSwapNotice:s,handleSwapNow:c})=>T.jsx("div",{className:"bg-slate-50/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 py-1.5 px-4 w-full flex justify-center transition-colors duration-300",children:T.jsxs("div",{className:"flex flex-wrap items-center gap-3 md:gap-6",children:[T.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-300 dark:border-slate-600 shadow-sm hover:border-indigo-400 transition-colors",children:[T.jsx(Mc,{className:"w-3.5 h-3.5 text-indigo-500"}),T.jsx("input",{type:"date",value:r,onChange:l=>e(l.target.value),className:"bg-transparent font-bold text-slate-700 dark:text-slate-200 outline-none uppercase text-[10px] md:text-xs w-24 cursor-pointer dark:[color-scheme:dark]"})]}),T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none",children:T.jsx(pV,{className:`w-3.5 h-3.5 ${t==="day"?"text-amber-500":"text-indigo-500"}`})}),T.jsxs("select",{value:i,onChange:l=>a(l.target.value),className:"pl-7 pr-6 py-1 h-full text-[10px] md:text-xs font-bold uppercase rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 shadow-sm focus:border-indigo-500 outline-none appearance-none cursor-pointer min-w-[100px]",children:[T.jsx("option",{value:"Shift-A",children:"Shift-A"}),T.jsx("option",{value:"Shift-B",children:"Shift-B"})]}),T.jsx(qa,{className:"absolute right-1 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400 pointer-events-none"})]}),T.jsxs("div",{className:"flex bg-slate-200 dark:bg-slate-950 p-0.5 rounded-lg shadow-inner",children:[T.jsxs("button",{onClick:()=>n("day"),className:`px-3 py-1 rounded-md text-[10px] font-black uppercase tracking-wide flex items-center gap-1.5 transition-all ${t==="day"?"bg-amber-500 text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[T.jsx(y5,{className:"w-3 h-3"})," Day"]}),T.jsxs("button",{onClick:()=>n("night"),className:`px-3 py-1 rounded-md text-[10px] font-black uppercase tracking-wide flex items-center gap-1.5 transition-all ${t==="night"?"bg-indigo-600 text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}`,children:[T.jsx(m5,{className:"w-3 h-3"})," Night"]})]}),s&&T.jsxs("button",{onClick:c,className:"px-3 py-1 bg-rose-500 hover:bg-rose-600 text-white rounded-lg text-[9px] font-black uppercase flex items-center gap-1 shadow-md animate-pulse",children:[T.jsx(nV,{className:"w-3 h-3"})," Swap"]})]})});function E0(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var W1={exports:{}};/*! ExcelJS 19-10-2023 */var ck;function BK(){return ck||(ck=1,(function(r,e){(function(t){r.exports=t()})((function(){return(function t(n,i,a){function s(o,u){if(!i[o]){if(!n[o]){var f=typeof E0=="function"&&E0;if(!u&&f)return f(o,!0);if(c)return c(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[o]={exports:{}};n[o][0].call(d.exports,(function(g){return s(n[o][1][g]||g)}),d,d.exports,t,n,i,a)}return i[o].exports}for(var c=typeof E0=="function"&&E0,l=0;l<a.length;l++)s(a[l]);return s})({1:[function(t,n,i){const a=t("fs"),s=t("fast-csv"),c=t("dayjs/plugin/customParseFormat"),l=t("dayjs/plugin/utc"),o=t("dayjs").extend(c).extend(l),u=t("../utils/stream-buf"),{fs:{exists:f}}=t("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,g){if(g=g||{},!await f(d))throw new Error("File not found: "+d);const y=a.createReadStream(d),m=await this.read(y,g);return y.close(),m}read(d,g){return g=g||{},new Promise((y,m)=>{const x=this.workbook.addWorksheet(g.sheetName),v=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],_=g.map||function(N){if(N==="")return null;const P=Number(N);if(!Number.isNaN(P)&&P!==1/0)return P;const D=v.reduce((B,L)=>{if(B)return B;const z=o(N,L,!0);return z.isValid()?z:null},null);if(D)return new Date(D.valueOf());const I=h[N];return I!==void 0?I:N},k=s.parse(g.parserOptions).on("data",N=>{x.addRow(N.map(_))}).on("end",()=>{k.emit("worksheet",x)});k.on("worksheet",y).on("error",m),d.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,g){return new Promise((y,m)=>{g=g||{};const x=this.workbook.getWorksheet(g.sheetName||g.sheetId),v=s.format(g.formatterOptions);d.on("finish",()=>{y()}),v.on("error",m),v.pipe(d);const{dateFormat:_,dateUTC:k}=g,N=g.map||(I=>{if(I){if(I.text||I.hyperlink)return I.hyperlink||I.text||"";if(I.formula||I.result)return I.result||"";if(I instanceof Date)return _?k?o.utc(I).format(_):o(I).format(_):k?o.utc(I).format():o(I).format();if(I.error)return I.error;if(typeof I=="object")return JSON.stringify(I)}return I}),P=g.includeEmptyRows===void 0||g.includeEmptyRows;let D=1;x&&x.eachRow((I,B)=>{if(P)for(;D++<B-1;)v.write([]);const{values:L}=I;L.shift(),v.write(L.map(N)),D=B}),v.end()})}writeFile(d,g){const y={encoding:(g=g||{}).encoding||"utf8"},m=a.createWriteStream(d,y);return this.write(m,g)}async writeBuffer(d){const g=new u;return await this.write(g,d),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,n,i){const a=t("../utils/col-cache");class s{constructor(l,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,o)if(typeof o=="string"){const f=a.decodeAddress(o);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof s||l==null?l:new s(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(t,n,i){const a=t("../utils/col-cache"),s=t("../utils/under-dash"),c=t("./enums"),{slideFormula:l}=t("../utils/shared-formula"),o=t("./note");class u{constructor(d,g,y){if(!d||!g)throw new Error("A Cell needs a Row");this._row=d,this._column=g,a.validateAddress(y),this._address=y,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,g,y){const m=d&&d.numFmt||g&&g.numFmt;m&&(y.numFmt=m);const x=d&&d.font||g&&g.font;x&&(y.font=x);const v=d&&d.alignment||g&&g.alignment;v&&(y.alignment=v);const _=d&&d.border||g&&g.border;_&&(y.border=_);const k=d&&d.fill||g&&g.fill;k&&(y.fill=k);const N=d&&d.protection||g&&g.protection;return N&&(y.protection=N),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,g){this._value.release(),this._value=f.create(u.Types.Merge,this,d),g||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new o(d)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),d.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=f.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=o.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}u.Types=c.ValueType;const f={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},g=y=>{const m=h[y];m&&(d[y]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?c.ValueType.Null:h instanceof String||typeof h=="string"?c.ValueType.String:typeof h=="number"?c.ValueType.Number:h instanceof Date?c.ValueType.Date:h.text&&h.hyperlink?c.ValueType.Hyperlink:h.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&l(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,g){const y=this.types[h];if(!y)throw new Error("Could not create Value of type "+h);return new y(d,g)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,n,i){const a=t("../utils/under-dash"),s=t("./enums"),c=t("../utils/col-cache");class l{constructor(u,f,h){this._worksheet=u,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&a.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const h=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(d,g)=>{f(d.getCell(h),g)})}get values(){const u=[];return this.eachCell((f,h)=>{f&&f.type!==s.ValueType.Null&&(u[h]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((d,g)=>{this._worksheet.getCell(g+h,f).value=d})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(h=>{h[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let h=null;return u&&u.forEach((d,g)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=g+1:(h={min:g+1,max:g+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(u,f){const h=[];let d=1,g=0;for(f=(f=f||[]).sort((function(y,m){return y.min-m.min}));g<f.length;){const y=f[g++];for(;d<y.min;)h.push(new l(u,d++));for(;d<=y.max;)h.push(new l(u,d++,y))}return h.length?h:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,n,i){n.exports=class{constructor(a){this.model=a||{}}add(a,s){return this.model[a]=s}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(t,n,i){const a=t("../utils/under-dash"),s=t("../utils/col-cache"),c=t("../utils/cell-matrix"),l=t("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new c)}add(u,f){const h=s.decodeEx(u);this.addEx(h,f)}addEx(u,f){const h=this.getMatrix(f);if(u.top)for(let d=u.left;d<=u.right;d++)for(let g=u.top;g<=u.bottom;g++){const y={sheetName:u.sheetName,address:s.n2l(d)+g,row:g,col:d};h.addCellEx(y)}else h.addCellEx(u)}remove(u,f){const h=s.decodeEx(u);this.removeEx(h,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){a.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){a.each(this.matrixMap,(f,h)=>{f.forEach(d=>{u(h,d)})})}getNames(u){return this.getNamesEx(s.decodeEx(u))}getNamesEx(u){return a.map(this.matrixMap,(f,h)=>f.findCellEx(u)&&h).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:h}=f,d=new l(f.row,f.col,f.row,f.col,h);let g,y;function m(v,_){const k=u.findCellAt(h,v,f.col);return!(!k||!k.mark)&&(d[_]=v,k.mark=!1,!0)}for(y=f.row-1;m(y,"top");y--);for(y=f.row+1;m(y,"bottom");y++);function x(v,_){const k=[];for(y=d.top;y<=d.bottom;y++){const N=u.findCellAt(h,y,v);if(!N||!N.mark)return!1;k.push(N)}d[_]=v;for(let N=0;N<k.length;N++)k[N].mark=!1;return!0}for(g=f.col-1;x(g,"left");g--);for(g=f.col+1;x(g,"right");g++);return d}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(h=>{h.mark=!0}),{name:u,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(h,d,g)=>{h&&(h.row===d&&h.col===g||(h.row=d,h.col=g,h.address=s.n2l(g)+d))})}spliceRows(u,f,h,d){a.each(this.matrixMap,g=>{g.spliceRows(u,f,h,d),this.normaliseMatrix(g,u)})}spliceColumns(u,f,h,d){a.each(this.matrixMap,g=>{g.spliceColumns(u,f,h,d),this.normaliseMatrix(g,u)})}get model(){return a.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(h=>{const d=f[h.name]=new c;h.ranges.forEach(g=>{o.test(g.split("!").pop()||"")&&d.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,n,i){const a=t("../utils/col-cache"),s=t("./anchor");n.exports=class{constructor(c,l){this.worksheet=c,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:l,imageId:o,range:u,hyperlinks:f}=c;if(this.type=l,this.imageId=o,l==="image")if(typeof u=="string"){const h=a.decode(u);this.range={tl:new s(this.worksheet,{col:h.left,row:h.top},-1),br:new s(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,u.tl,0),br:u.br&&new s(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,n,i){const a=t("../utils/under-dash");class s{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return a.deepMerge({},s.DEFAULT_CONFIGS,l)}set model(l){const{note:o}=l,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(l){const o=new s;return o.model=l,o}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(t,n,i){const a=t("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(l,o,u,f,h){if(arguments.length<4){const d=a.decodeAddress(l),g=a.decodeAddress(o);this.model={top:Math.min(d.row,g.row),left:Math.min(d.col,g.col),bottom:Math.max(d.row,g.row),right:Math.max(d.col,g.col),sheetName:u},this.setTLBR(d.row,d.col,g.row,g.col,h)}else this.model={top:Math.min(l,u),left:Math.min(o,f),bottom:Math.max(l,u),right:Math.max(o,f),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const o=l[0];if(o instanceof s)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=a.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,o,u,f){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(l){if(l){const{dimensions:o,number:u}=l;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(l){const o=a.decodeEx(l);this.expand(o.row,o.col,o.row,o.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const o=a.decodeEx(l);return this.containsEx(o)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)l(a.encodeAddress(u,o),u,o)}}n.exports=s},{"../utils/col-cache":19}],11:[function(t,n,i){const a=t("../utils/under-dash"),s=t("./enums"),c=t("../utils/col-cache"),l=t("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const f=this._worksheet.getColumn(o.col);u=new l(this,f,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:c.l2n(o)}return this._cells[o-1]||this.getCellEx({address:c.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const f=o+u;for(var h=arguments.length,d=new Array(h>2?h-2:0),g=2;g<h;g++)d[g-2]=arguments[g];const y=d.length-u,m=this._cells.length;let x,v,_;if(y<0)for(x=o+d.length;x<=m;x++)_=this._cells[x-1],v=this._cells[x-y-1],v?(_=this.getCell(x),_.value=v.value,_.style=v.style,_._comment=v._comment):_&&(_.value=null,_.style={},_._comment=void 0);else if(y>0)for(x=m;x>=f;x--)v=this._cells[x-1],v?(_=this.getCell(x+y),_.value=v.value,_.style=v.style,_._comment=v._comment):this._cells[x+y-1]=void 0;for(x=0;x<d.length;x++)_=this.getCell(o+x),_.value=d[x],_.style={},_._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)u(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==s.ValueType.Null&&u(f,h+1)})}addPageBreak(o,u){const f=this._worksheet,h=Math.max(0,o-1)||0,d=Math.max(0,u-1)||16838,g={id:this._number,max:d,man:1};h&&(g.min=h),f.rowBreaks.push(g)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==s.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{o[f]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[f])})}get hasValues(){return a.some(this._cells,o=>o&&o.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(f=>{f&&f.type!==s.ValueType.Null&&((!o||o>f.col)&&(o=f.col),u<f.col&&(u=f.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(f=>{f&&(f[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,f=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!u||u>h.col)&&(u=h.col),f<h.col&&(f=h.col),o.push(d))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(f=>{switch(f.type){case l.Types.Merge:break;default:{let h;if(f.address)h=c.decodeAddress(f.address);else if(u){const{row:d}=u,g=u.col+1;h={row:d,col:g,address:c.encodeAddress(d,g),$col$row:`$${c.n2l(g)}$${d}`}}u=h,this.getCellEx(h).model=f;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,n,i){const a=t("../utils/col-cache");class s{constructor(l,o,u){this.table=l,this.column=o,this.index=u}_set(l,o){this.table.cacheState(),this.column[l]=o}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(c,l){this.worksheet=c,l&&(this.table=l,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,l=(y,m,x)=>{y[m]===void 0&&(y[m]=x)};l(c,"headerRow",!0),l(c,"totalsRow",!1),l(c,"style",{}),l(c.style,"theme","TableStyleMedium2"),l(c.style,"showFirstColumn",!1),l(c.style,"showLastColumn",!1),l(c.style,"showRowStripes",!1),l(c.style,"showColumnStripes",!1);const o=(y,m)=>{if(!y)throw new Error(m)};o(c.ref,"Table must have ref"),o(c.columns,"Table must have column definitions"),o(c.rows,"Table must have row definitions"),c.tl=a.decodeAddress(c.ref);const{row:u,col:f}=c.tl;o(u>0,"Table must be on valid row"),o(f>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:g}=this;c.autoFilterRef=a.encode(u,f,u+d-1,f+h-1),c.tableRef=a.encode(u,f,u+g-1,f+h-1),c.columns.forEach((y,m)=>{o(y.name,`Column ${m} must have a name`),m===0?l(y,"totalsRowLabel","Total"):(l(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const c=(d,g)=>{g&&Object.keys(g).forEach(y=>{d[y]=g[y]})},{worksheet:l,table:o}=this,{row:u,col:f}=o.tl;let h=0;if(o.headerRow){const d=l.getRow(u+h++);o.columns.forEach((g,y)=>{const{style:m,name:x}=g,v=d.getCell(f+y);v.value=x,c(v,m)})}if(o.rows.forEach(d=>{const g=l.getRow(u+h++);d.forEach((y,m)=>{const x=g.getCell(f+m);x.value=y,c(x,o.columns[m].style)})}),o.totalsRow){const d=l.getRow(u+h++);o.columns.forEach((g,y)=>{const m=d.getCell(f+y);if(y===0)m.value=g.totalsRowLabel;else{const x=this.getFormula(g);m.value=x?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(m,g.style)})}}load(c){const{table:l}=this,{row:o,col:u}=l.tl;let f=0;if(l.headerRow){const h=c.getRow(o+f++);l.columns.forEach((d,g)=>{h.getCell(u+g).value=d.name})}if(l.rows.forEach(h=>{const d=c.getRow(o+f++);h.forEach((g,y)=>{d.getCell(u+y).value=g})}),l.totalsRow){const h=c.getRow(o+f++);l.columns.forEach((d,g)=>{const y=h.getCell(u+g);g===0?y.value=d.totalsRowLabel:this.getFormula(d)&&(y.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)o.getCell(c.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=0;u<this._cache.width;u++)o.getCell(c.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const o=this.worksheet.getRow(c.row+l);for(let u=this.width;u<this._cache.width;u++)o.getCell(c.col+u).value=null}}this.store()}addRow(c,l){this.cacheState(),l===void 0?this.table.rows.push(c):this.table.rows.splice(l,0,c)}removeRows(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,l)}getColumn(c){const l=this.table.columns[c];return new s(this,l,c)}addColumn(c,l,o){this.cacheState(),o===void 0?(this.table.columns.push(c),this.table.rows.forEach((u,f)=>{u.push(l[f])})):(this.table.columns.splice(o,0,c),this.table.rows.forEach((u,f)=>{u.splice(o,0,l[f])}))}removeColumns(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,l),this.table.rows.forEach(o=>{o.splice(c,l)})}_assign(c,l,o){this.cacheState(),c[l]=o}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(t,n,i){const a=t("./worksheet"),s=t("./defined-names"),c=t("../xlsx/xlsx"),l=t("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),d=Object.assign({},u,{id:f,name:o,orderNo:h+1,workbook:this}),g=new a(d);return this._worksheets[f]=g,g}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:f,name:h,state:d}=u,g=o.sheets&&o.sheets.findIndex(y=>y.id===f);(this._worksheets[f]=new a({id:f,name:h,orderNo:g,state:d,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,n,i){const a=t("../utils/under-dash"),s=t("../utils/col-cache"),c=t("./range"),l=t("./row"),o=t("./column"),u=t("./enums"),f=t("./image"),h=t("./table"),d=t("./data-validations"),g=t("../utils/encryptor"),{copyStyle:y}=t("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new d,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(x=>x&&x.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(x=>{if(x){const v=x.dimensions;v&&m.expand(x.number,v.min,x.number,v.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((_,k)=>{const N=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(_,N)},0);let x=1;const v=this._columns=[];m.forEach(_=>{const k=new o(this,x++,!1);v.push(k),k.defn=_})}getColumnKey(m){return this._keys[m]}setColumnKey(m,x){this._keys[m]=x}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){a.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const x=this._keys[m];if(x)return x;m=s.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let x=this._columns.length+1;for(;x<=m;)this._columns.push(new o(this,x++))}return this._columns[m-1]}spliceColumns(m,x){const v=this._rows.length;for(var _=arguments.length,k=new Array(_>2?_-2:0),N=2;N<_;N++)k[N-2]=arguments[N];if(k.length>0)for(let B=0;B<v;B++){const L=[m,x];k.forEach($=>{L.push($[B]||null)});const z=this.getRow(B+1);z.splice.apply(z,L)}else this._rows.forEach(B=>{B&&B.splice(m,x)});const P=k.length-x,D=m+x,I=this._columns.length;if(P<0)for(let B=m+k.length;B<=I;B++)this.getColumn(B).defn=this.getColumn(B-P).defn;else if(P>0)for(let B=I;B>=D;B--)this.getColumn(B+P).defn=this.getColumn(B).defn;for(let B=m;B<m+k.length;B++)this.getColumn(B).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,x,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(x=>{m=Math.max(m,x.cellCount)}),m}get actualColumnCount(){const m=[];let x=0;return this.eachRow(v=>{v.eachCell(_=>{let{col:k}=_;m[k]||(m[k]=!0,x++)})}),x}_commitRow(){}get _lastRowNumber(){const m=this._rows;let x=m.length;for(;x>0&&m[x-1]===void 0;)x--;return x}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,x){return this._rows.slice(m-1,m-1+x)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let x=this._rows[m-1];return x||(x=this._rows[m-1]=new l(this,m)),x}getRows(m,x){if(x<1)return;const v=[];for(let _=m;_<m+x;_++)v.push(this.getRow(_));return v}addRow(m){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,_=this.getRow(v);return _.values=m,this._setStyleOption(v,x[0]==="i"?x:"n"),_}addRows(m){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return m.forEach(_=>{v.push(this.addRow(_,x))}),v}insertRow(m,x){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,x),this._setStyleOption(m,v),this.getRow(m)}insertRows(m,x){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...x),v!=="n")for(let _=0;_<x.length;_++)v[0]==="o"&&this.findRow(x.length+m+_)!==void 0?this._copyStyle(x.length+m+_,m+_,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+_,v[1]==="+");return this.getRows(m,x.length)}_setStyleOption(m){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";x[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,x[1]==="+"):x[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,x[1]==="+")}_copyStyle(m,x){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const _=this.getRow(m),k=this.getRow(x);k.style=y(_.style),_.eachCell({includeEmpty:v},(N,P)=>{k.getCell(P).style=y(N.style)}),k.height=_.height}duplicateRow(m,x){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const _=this._rows[m-1],k=new Array(x).fill(_.values);this.spliceRows(m+1,v?0:x,...k);for(let N=0;N<x;N++){const P=this._rows[m+N];P.style=_.style,P.height=_.height,_.eachCell({includeEmpty:!0},(D,I)=>{P.getCell(I).style=D.style})}}spliceRows(m,x){const v=m+x;for(var _=arguments.length,k=new Array(_>2?_-2:0),N=2;N<_;N++)k[N-2]=arguments[N];const P=k.length,D=P-x,I=this._rows.length;let B,L;if(D<0)for(m===I&&(this._rows[I-1]=void 0),B=v;B<=I;B++)if(L=this._rows[B-1],L){const z=this.getRow(B+D);z.values=L.values,z.style=L.style,z.height=L.height,L.eachCell({includeEmpty:!0},($,O)=>{z.getCell(O).style=$.style}),this._rows[B-1]=void 0}else this._rows[B+D-1]=void 0;else if(D>0)for(B=I;B>=v;B--)if(L=this._rows[B-1],L){const z=this.getRow(B+D);z.values=L.values,z.style=L.style,z.height=L.height,L.eachCell({includeEmpty:!0},($,O)=>{if(z.getCell(O).style=$.style,$._value.constructor.name==="MergeValue"){const F=this.getRow($._row._number+P).getCell(O),C=$._value._master,w=this.getRow(C._row._number+P).getCell(C._column._number);F.merge(w)}})}else this._rows[B+D-1]=void 0;for(B=0;B<P;B++){const z=this.getRow(m+B);z.style={},z.values=k[B]}this.workbook.definedNames.spliceRows(this.name,m,x,P)}eachRow(m,x){if(x||(x=m,m=void 0),m&&m.includeEmpty){const v=this._rows.length;for(let _=1;_<=v;_++)x(this.getRow(_),_)}else this._rows.forEach(v=>{v&&v.hasValues&&x(v,v.number)})}getSheetValues(){const m=[];return this._rows.forEach(x=>{x&&(m[x.number]=x.values)}),m}findCell(m,x){const v=s.getAddress(m,x),_=this._rows[v.row-1];return _?_.findCell(v.col):void 0}getCell(m,x){const v=s.getAddress(m,x);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var m=arguments.length,x=new Array(m),v=0;v<m;v++)x[v]=arguments[v];const _=new c(x);this._mergeCellsInternal(_)}mergeCellsWithoutStyle(){for(var m=arguments.length,x=new Array(m),v=0;v<m;v++)x[v]=arguments[v];const _=new c(x);this._mergeCellsInternal(_,!0)}_mergeCellsInternal(m,x){a.each(this._merges,_=>{if(_.intersects(m))throw new Error("Cannot merge already merged cells")});const v=this.getCell(m.top,m.left);for(let _=m.top;_<=m.bottom;_++)for(let k=m.left;k<=m.right;k++)(_>m.top||k>m.left)&&this.getCell(_,k).merge(v,x);this._merges[v.address]=m}_unMergeMaster(m){const x=this._merges[m.address];if(x){for(let v=x.top;v<=x.bottom;v++)for(let _=x.left;_<=x.right;_++)this.getCell(v,_).unmerge();delete this._merges[m.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,x=new Array(m),v=0;v<m;v++)x[v]=arguments[v];const _=new c(x);for(let k=_.top;k<=_.bottom;k++)for(let N=_.left;N<=_.right;N++){const P=this.findCell(k,N);P&&(P.type===u.ValueType.Merge?this._unMergeMaster(P.master):this._merges[P.address]&&this._unMergeMaster(P))}}fillFormula(m,x,v){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=s.decode(m),{top:N,left:P,bottom:D,right:I}=k,B=I-P+1,L=s.encodeAddress(N,P),z=_==="shared";let $;$=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(F,C)=>v[F-N][C-P]:(F,C)=>v[(F-N)*B+(C-P)]:()=>{};let O=!0;for(let F=N;F<=D;F++)for(let C=P;C<=I;C++)O?(this.getCell(F,C).value={shareType:_,formula:x,ref:m,result:$(F,C)},O=!1):this.getCell(F,C).value=z?{sharedFormula:L,result:$(F,C)}:$(F,C)}addImage(m,x){const v={type:"image",imageId:m,range:x};this._media.push(new f(this,v))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const x={type:"background",imageId:m};this._media.push(new f(this,x))}getBackgroundImageId(){const m=this._media.find(x=>x.type==="background");return m&&m.imageId}protect(m,x){return new Promise(v=>{this.sheetProtection={sheet:!0},x&&"spinCount"in x&&(x.spinCount=Number.isFinite(x.spinCount)?Math.round(Math.max(0,x.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=x&&"spinCount"in x?x.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),x&&(this.sheetProtection=Object.assign(this.sheetProtection,x),!m&&"spinCount"in x&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(m){const x=new h(this,m);return this.tables[m.name]=x,x}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(_=>_.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(_=>_.model),conditionalFormattings:this.conditionalFormattings};m.cols=o.toModel(this.columns);const x=m.rows=[],v=m.dimensions=new c;return this._rows.forEach(_=>{const k=_&&_.model;k&&(v.expand(k.number,k.min,k.number,k.max),x.push(k))}),m.merges=[],a.each(this._merges,_=>{m.merges.push(_.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(x=>{const v=new l(this,x.number);this._rows[v.number-1]=v,v.model=x})}_parseMergeCells(m){a.each(m.mergeCells,x=>{this.mergeCellsWithoutStyle(x)})}set model(m){this.name=m.name,this._columns=o.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new d(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(x=>new f(this,x)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((x,v)=>{const _=new h;return _.model=v,x[v.name]=_,x},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,n,i){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const a={Workbook:t("./doc/workbook")},s=t("./doc/enums");Object.keys(s).forEach(c=>{a[c]=s[c]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,n,i){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(s){return typeof s=="string"?s:a?a.decode(s):s.toString()}},{}],17:[function(t,n,i){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=t("buffer");i.stringToBuffer=function(c){return typeof c!="string"?c:a?s.from(a.encode(c).buffer):s.from(c)}},{buffer:220}],18:[function(t,n,i){const a=t("./under-dash"),s=t("./col-cache");n.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(s.decodeEx(c))}getCell(c){return this.findCellEx(s.decodeEx(c),!0)}findCell(c){return this.findCellEx(s.decodeEx(c),!1)}findCellAt(c,l,o){const u=this.sheets[c],f=u&&u[l];return f&&f[o]}addCellEx(c){if(c.top)for(let l=c.top;l<=c.bottom;l++)for(let o=c.left;o<=c.right;o++)this.getCellAt(c.sheetName,l,o);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,l){const o=this.findSheet(c,l),u=this.findSheetRow(o,c,l);return this.findRowCell(u,c,l)}getCellAt(c,l,o){const u=this.sheets[c]||(this.sheets[c]=[]),f=u[l]||(u[l]=[]);return f[o]||(f[o]={sheetName:c,address:s.n2l(o)+l,row:l,col:o})}removeCellEx(c){const l=this.findSheet(c);if(!l)return;const o=this.findSheetRow(l,c);o&&delete o[c.col]}forEachInSheet(c,l){const o=this.sheets[c];o&&o.forEach((u,f)=>{u&&u.forEach((h,d)=>{h&&l(h,f,d)})})}forEach(c){a.each(this.sheets,(l,o)=>{this.forEachInSheet(o,c)})}map(c){const l=[];return this.forEach(o=>{l.push(c(o))}),l}findSheet(c,l){const o=c.sheetName;return this.sheets[o]?this.sheets[o]:l?this.sheets[o]=[]:void 0}findSheetRow(c,l,o){const{row:u}=l;return c&&c[u]?c[u]:o?c[u]=[]:void 0}findRowCell(c,l,o){const{col:u}=l;return c&&c[u]?c[u]:o?c[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(c,l,o,u){const f=this.sheets[c];if(f){const h=[];for(let d=0;d<u;d++)h.push([]);f.splice(l,o,...h)}}spliceColumns(c,l,o,u){const f=this.sheets[c];if(f){const h=[];for(let d=0;d<u;d++)h.push(null);a.each(f,d=>{d.splice(l,o,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,n,i){const a=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let l,o,u,f,h,d=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;d<=26;)l=this._dictionary[d-1],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(d=27;d<=702;)o=d-27,u=o%26,f=Math.floor(o/26),l=this._dictionary[f]+this._dictionary[u],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(d=703;d<=16384;)o=d-703,u=o%26,f=Math.floor(o/26)%26,h=Math.floor(o/676),l=this._dictionary[h]+this._dictionary[f]+this._dictionary[u],this._n2l[d]=l,this._l2n[l]=d,d++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!a.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const l=c.length<5&&this._hash[c];if(l)return l;let o=!1,u="",f=0,h=!1,d="",g=0;for(let m,x=0;x<c.length;x++)if(m=c.charCodeAt(x),!h&&m>=65&&m<=90)o=!0,u+=c[x],f=26*f+m-64;else if(m>=48&&m<=57)h=!0,d+=c[x],g=10*g+m-48;else if(h&&o&&m!==36)break;if(o){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;h||(g=void 0);const y={address:c=u+d,col:f,row:g,$col$row:`$${u}$${d}`};return f<=100&&g<=100&&(this._hash[c]=y,this._hash[y.$col$row]=y),y},getAddress(c,l){if(l){const o=this.n2l(l)+c;return this.decodeAddress(o)}return this.decodeAddress(c)},decode(c){const l=c.split(":");if(l.length===2){const o=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),f={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(c)},decodeEx(c){const l=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=l[1]||l[2],u=l[3],f=u.split(":");if(f.length>1){let d=this.decodeAddress(f[0]),g=this.decodeAddress(f[1]);const y=Math.min(d.row,g.row),m=Math.min(d.col,g.col),x=Math.max(d.row,g.row),v=Math.max(d.col,g.col);return d=this.n2l(m)+y,g=this.n2l(v)+x,{top:y,left:m,bottom:x,right:v,sheetName:o,tl:{address:d,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:o},br:{address:g,col:v,row:x,$col$row:`$${this.n2l(v)}$${x}`,sheetName:o},dimensions:`${d}:${g}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const h=this.decodeAddress(u);return o?{sheetName:o,...h}:h},encodeAddress:(c,l)=>s.n2l(l)+c,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,l){const[o,u,,f,h]=c,[d,g]=l;return d>=o&&d<=f&&g>=u&&g<=h}};n.exports=s},{}],20:[function(t,n,i){const a=(c,l)=>({...c,...l.reduce((o,u)=>(c[u]&&(o[u]={...c[u]}),o),{})}),s=function(c,l,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[o]&&(l[o]=a(c[o],u))};i.copyStyle=c=>{if(!c)return c;if(l=c,Object.keys(l).length===0)return{};var l;const o={...c};return s(c,o,"font",["color"]),s(c,o,"alignment"),s(c,o,"protection"),c.border&&(s(c,o,"border"),s(c.border,o.border,"top",["color"]),s(c.border,o.border,"left",["color"]),s(c.border,o.border,"bottom",["color"]),s(c.border,o.border,"right",["color"]),s(c.border,o.border,"diagonal",["color"])),c.fill&&(s(c,o,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(o.fill.stops=c.fill.stops.map(u=>a(u,["color"])))),o}},{}],21:[function(t,n,i){(function(a){(function(){const s=t("crypto"),c={hash(l){const o=s.createHash(l);for(var u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return o.update(a.concat(f)),o.digest()},convertPasswordToHash(l,o,u,f){if(o=o.toLowerCase(),s.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const h=a.from(l,"utf16le");let d=this.hash(o,a.from(u,"base64"),h);for(let g=0;g<f;g++){const y=a.alloc(4);y.writeUInt32LE(g,0),d=this.hash(o,d,y)}return d.toString("base64")},randomBytes:l=>s.randomBytes(l)};n.exports=c}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,n,i){const{SaxesParser:a}=t("saxes"),{PassThrough:s}=t("readable-stream"),{bufferToString:c}=t("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new s));const o=new a;let u;o.on("error",h=>{u=h});let f=[];o.on("opentag",h=>f.push({eventType:"opentag",value:h})),o.on("text",h=>f.push({eventType:"text",value:h})),o.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of l){if(o.write(c(h)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,n,i){const a=t("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,o,u){const f=a.decode(o),h=a.decode(u);return l.replace(s,(d,g,y,m,x)=>{if(x)return d;const v=c.exec(m);if(v){const _=v[1],k=v[2].toUpperCase(),N=v[3],P=v[4];if(k.length>3||k.length===3&&k>"XFD")return d;let D=a.l2n(k),I=parseInt(P,10);return _||(D+=h.col-f.col),N||(I+=h.row-f.row),(g||"")+(_||"")+a.n2l(D)+(N||"")+I}return d})}}},{"./col-cache":19}],24:[function(t,n,i){(function(a,s){(function(){const c=t("readable-stream"),l=t("./utils"),o=t("./string-buf");class u{constructor(m,x){this._data=m,this._encoding=x}get length(){return this.toBuffer().length}copy(m,x,v,_){return this.toBuffer().copy(m,x,v,_)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,x,v,_){return this._data._buf.copy(m,x,v,_)}toBuffer(){return this._data.toBuffer()}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,x,v,_){this._data.copy(m,x,v,_)}toBuffer(){return this._data}}class d{constructor(m){this.size=m,this.buffer=s.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let x;return m===0?null:m===void 0||m>=this.length?(x=this.toBuffer(),this.iRead=this.iWrite,x):(x=s.alloc(m),this.buffer.copy(x,0,this.iRead,m),this.iRead+=m,x)}write(m,x,v){const _=Math.min(v,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,x,x+_),this.iWrite+=_,_}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new d(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(m){return new Promise(x=>{m.write(y.toBuffer(),()=>{x()})})})))},_writeToBuffers(y){let m=0;const x=y.length;for(;m<x;)m+=this._getWritableBuffer().write(y,m,x-m)},async write(y,m,x){let v;if(m instanceof Function&&(x=m,m="utf8"),x=x||l.nop,y instanceof o)v=new f(y);else if(y instanceof s)v=new h(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),a.nextTick(x)):(await this._pipe(v),x());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,x){const v=_=>{_?x(_):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};y?this.write(y,m,v):v()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const x=this.buffers[0],v=x.read(y);y-=v.length,m.push(v),x.eod&&x.full&&this.buffers.shift()}return s.concat(m)}return m=this.buffers.map(x=>x.toBuffer()).filter(Boolean),this.buffers=[],s.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=g}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,n,i){(function(a){(function(){n.exports=class{constructor(s){this._buf=a.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let c=2*this._buf.length;for(;c<s;)c*=2;const l=a.alloc(c);this._buf.copy(l,0),this._buf=l}addText(s){this._buffer=void 0;let c=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+s.length),c=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=c}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,n,i){const{toString:a}=Object.prototype,s=/["&<>]/,c={each:function(l,o){l&&(Array.isArray(l)?l.forEach(o):Object.keys(l).forEach(u=>{o(l[u],u)}))},some:function(l,o){return!!l&&(Array.isArray(l)?l.some(o):Object.keys(l).some(u=>o(l[u],u)))},every:function(l,o){return!l||(Array.isArray(l)?l.every(o):Object.keys(l).every(u=>o(l[u],u)))},map:function(l,o){return l?Array.isArray(l)?l.map(o):Object.keys(l).map(u=>o(l[u],u)):[]},keyBy:(l,o)=>l.reduce((u,f)=>(u[f[o]]=f,u),{}),isEqual:function(l,o){const u=typeof l,f=typeof o,h=Array.isArray(l),d=Array.isArray(o);let g;if(u!==f)return!1;switch(typeof l){case"object":if(h||d)return!(!h||!d)&&l.length===o.length&&l.every((y,m)=>{const x=o[m];return c.isEqual(y,x)});if(l===null||o===null)return l===o;if(g=Object.keys(l),Object.keys(o).length!==g.length)return!1;for(const y of g)if(!o.hasOwnProperty(y))return!1;return c.every(l,(y,m)=>{const x=o[m];return c.isEqual(y,x)});default:return l===o}},escapeHtml(l){const o=s.exec(l);if(!o)return l;let u="",f="",h=0,d=o.index;for(;d<l.length;d++){switch(l.charAt(d)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==d&&(u+=l.substring(h,d)),h=d+1,u+=f}return h!==d?u+l.substring(h,d):u},strcmp:(l,o)=>l<o?-1:l>o?1:0,isUndefined:l=>a.call(l)==="[object Undefined]",isObject:l=>a.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:o}=arguments;let u,f,h;function d(g,y){u=l[y],h=Array.isArray(g),c.isObject(g)||h?(h?(h=!1,f=u&&Array.isArray(u)?u:[]):f=u&&c.isObject(u)?u:{},l[y]=c.deepMerge(f,g)):c.isUndefined(g)||(l[y]=g)}for(let g=0;g<o;g++)c.each(arguments[g],d);return l}};n.exports=c},{}],27:[function(t,n,i){(function(a,s){(function(){const c=t("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(f=>{a.setImmediate?s(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,h,d){u.super_=f,d||(d=h,h=null),h&&Object.keys(h).forEach(y=>{Object.defineProperty(u,y,Object.getOwnPropertyDescriptor(h,y))});const g={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(d,y)}),u.prototype=Object.create(f.prototype,g)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const h=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=o.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=l.exec(u);if(!f)return u;let h="",d="",g=0,y=f.index;for(;y<u.length;y++){const m=u.charCodeAt(y);switch(m){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){d="";break}continue}g!==y&&(h+=u.substring(g,y)),g=y+1,d&&(h+=d)}return g!==y?h+u.substring(g,y):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{c.access(u,c.constants.F_OK,h=>{f(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,n,i){const a=t("./under-dash"),s=t("./utils");function c(u,f,h){u.push(` ${f}="${s.xmlEncode(h.toString())}"`)}function l(u,f){if(f){const h=[];a.each(f,(d,g)=>{d!==void 0&&c(h,g,d)}),u.push(h.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),l(h,f),h.push(`?>
`)}openNode(f,h){const d=this.tos,g=this._xml;d&&this.open&&g.push(">"),this._stack.push(f),g.push("<"),g.push(f),l(g,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&c(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(s.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,d){this.openNode(f,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(t,n,i){(function(a){(function(){const s=t("events"),c=t("jszip"),l=t("./stream-buf"),{stringToBuffer:o}=t("./browser-buffer-encode");class u extends s.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new c,this.stream=new l}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(a.browser&&typeof h=="string"&&(h=o(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,n,i){const a=t("../../utils/parse-sax"),s=t("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof c?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:f,value:h}of u)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(o){return this.parse(a(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new s;return this.render(u,o),u.xml}static toAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return u}else if(f||o!==u)return o.toString()}static toStringAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,f)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return u}else if(f||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,f)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(o,u,f)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,n,i){const a=t("../base-xform"),s=t("../../../utils/col-cache");function c(o){try{return s.decodeEx(o),!0}catch{return!1}}function l(o){const u=[];let f=!1,h="";return o.split(",").forEach(d=>{if(!d)return;const g=(d.match(/'/g)||[]).length;if(!g)return void(f?h+=d+",":c(d)&&u.push(d));const y=g%2==0;!f&&y&&c(d)?u.push(d):f&&!y?(f=!1,c(h+d)&&u.push(h+d),h=""):(f=!0,h+=d+",")}),u}n.exports=class extends a{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,n,i){const a=t("../../../utils/utils"),s=t("../base-xform");n.exports=class extends s{render(c,l){c.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:a.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,c){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,c){s.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,c){const l={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(l.visibility=c.visibility),s.leafNode("workbookView",l)}parseOpen(s){if(s.name==="workbookView"){const c=this.model={},l=function(u,f,h){const d=f!==void 0?c[u]=f:h;d!==void 0&&(c[u]=d)},o=function(u,f,h){const d=f!==void 0?c[u]=parseInt(f,10):h;d!==void 0&&(c[u]=d)};return o("x",s.attributes.xWindow,0),o("y",s.attributes.yWindow,0),o("width",s.attributes.windowWidth,25e3),o("height",s.attributes.windowHeight,1e4),l("visibility",s.attributes.visibility,"visible"),o("activeTab",s.attributes.activeTab,void 0),o("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),c=t("../../../utils/xml-stream"),l=t("../base-xform"),o=t("../static-xform"),u=t("../list-xform"),f=t("./defined-name-xform"),h=t("./sheet-xform"),d=t("./workbook-view-xform"),g=t("./workbook-properties-xform"),y=t("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new y}}prepare(v){v.sheets=v.worksheets;const _=[];let k=0;v.sheets.forEach(N=>{if(N.pageSetup&&N.pageSetup.printArea&&N.pageSetup.printArea.split("&&").forEach(P=>{const D=P.split(":"),I={name:"_xlnm.Print_Area",ranges:[`'${N.name}'!$${D[0]}:$${D[1]}`],localSheetId:k};_.push(I)}),N.pageSetup&&(N.pageSetup.printTitlesRow||N.pageSetup.printTitlesColumn)){const P=[];if(N.pageSetup.printTitlesColumn){const I=N.pageSetup.printTitlesColumn.split(":");P.push(`'${N.name}'!$${I[0]}:$${I[1]}`)}if(N.pageSetup.printTitlesRow){const I=N.pageSetup.printTitlesRow.split(":");P.push(`'${N.name}'!$${I[0]}:$${I[1]}`)}const D={name:"_xlnm.Print_Titles",ranges:P,localSheetId:k};_.push(D)}k++}),_.length&&(v.definedNames=v.definedNames.concat(_)),(v.media||[]).forEach((N,P)=>{N.name=N.type+(P+1)})}render(v,_){v.openXml(c.StdDocAttributes),v.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,_.properties),this.map.bookViews.render(v,_.views),this.map.sheets.render(v,_.sheets),this.map.definedNames.render(v,_.definedNames),this.map.calcPr.render(v,_.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const _=(v.workbookRels||[]).reduce((I,B)=>(I[B.Id]=B,I),{}),k=[];let N,P=0;(v.sheets||[]).forEach(I=>{const B=_[I.rId];B&&(N=v.worksheetHash["xl/"+B.Target.replace(/^(\s|\/xl\/)+/,"")],N&&(N.name=I.name,N.id=I.id,N.state=I.state,k[P++]=N))});const D=[];a.each(v.definedNames,I=>{if(I.name==="_xlnm.Print_Area"){if(N=k[I.localSheetId],N){N.pageSetup||(N.pageSetup={});const B=s.decodeEx(I.ranges[0]);N.pageSetup.printArea=N.pageSetup.printArea?`${N.pageSetup.printArea}&&${B.dimensions}`:B.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(N=k[I.localSheetId],N){N.pageSetup||(N.pageSetup={});const B=I.ranges.join(","),L=/\$/g,z=/\$\d+:\$\d+/,$=B.match(z);if($&&$.length){const C=$[0];N.pageSetup.printTitlesRow=C.replace(L,"")}const O=/\$[A-Z]+:\$[A-Z]+/,F=B.match(O);if(F&&F.length){const C=F[0];N.pageSetup.printTitlesColumn=C.replace(L,"")}}}else D.push(I)}),v.definedNames=D,v.media.forEach((I,B)=>{I.index=B})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,n,i){const a=t("../strings/rich-text-xform"),s=t("../../../utils/utils"),c=t("../base-xform"),l=n.exports=function(o){this.model=o};s.inherits(l,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(o,f)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../../../utils/utils"),c=t("../base-xform"),l=t("./comment-xform"),o=n.exports=function(){this.map={comment:new l}};s.inherits(o,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(a.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,c,l){(c===l[2]||this.tag==="x:SizeWithCells"&&c===l[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(s){const c=Math.floor(s.left),l=Math.floor(68*(s.left-c)),o=Math.floor(s.top),u=Math.floor(18*(s.top-o)),f=Math.floor(s.right),h=Math.floor(68*(s.right-f)),d=Math.floor(s.bottom);return[c,l,o,u,f,h,d,Math.floor(18*(s.bottom-d))]}getDefaultRect(s){const c=s.col,l=Math.max(s.row-2,0);return[c,6,l,14,c+2,2,l+4,16]}render(s,c){const l=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);s.leafNode("x:Anchor",null,l.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,n,i){const a=t("../base-xform"),s=t("./vml-anchor-xform"),c=t("./style/vml-protection-xform"),l=t("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:h,editAs:d}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,o),this.map["x:SizeWithCells"].render(u,d,o),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=o[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),c=t("./vml-shape-xform");class l extends s{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(u,f){u.openXml(a.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((h,d)=>{this.map["v:shape"].render(u,h,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,f){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,n,i){const a=t("../base-xform"),s=t("./vml-textbox-xform"),c=t("./vml-client-data-xform");class l extends a{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new c}}get tag(){return"v:shape"}render(u,f,h){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(f,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(s,c,l){return`${parseFloat(s)*c.toFixed(2)}${l}`}reverseConversionUnit(s){return(s||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(s,c){const l={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:o}=c.note&&c.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(l.inset=o)}s.openNode("v:textbox",l),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,n,i){const a=t("./base-xform");n.exports=class extends a{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,c){this.model[s]=c.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,c){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,c.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,c){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(l=>{s.leafNode("vt:lpstr",void 0,l.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),c=t("../simple/string-xform"),l=t("./app-heading-pairs-xform"),o=t("./app-titles-of-parts-xform");class u extends s{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new o}}render(h,d){h.openXml(a.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform");class c extends s{render(o,u){o.openXml(a.StdDocAttributes),o.openNode("Types",c.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;f[d]||(f[d]=!0,o.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;o.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{o.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{o.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:d}=h;o.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),c=t("../simple/date-xform"),l=t("../simple/string-xform"),o=t("../simple/integer-xform");class u extends s{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,d){h.openXml(a.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{render(s,c){s.leafNode("Relationship",c)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),c=t("./relationship-xform");class l extends s{constructor(){super(),this.map={Relationship:new c}}render(u,f){f=f||this._values,u.openXml(a.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,c){if(s&&s.rId){const l=c.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const o=l[1],u=c.mediaIndex[o];return c.media[u]}}}}},{"../base-xform":32}],57:[function(t,n,i){const a=t("../base-xform"),s=t("./blip-xform");n.exports=class extends a{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(c,l){c.openNode(this.tag),this.map["a:blip"].render(c,l),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"a:blip"}render(s,c){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,n,i){const a=t("../base-xform"),s=t("./hlink-click-xform"),c=t("./ext-lst-xform");n.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(l,o){l.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(l,o),this.map["a:extLst"].render(l,o),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,n,i){const a=t("../base-xform"),s=t("../simple/integer-xform");n.exports=class extends a{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(c,l){c.openNode(this.tag),this.map["xdr:col"].render(c,l.nativeCol),this.map["xdr:colOff"].render(c,l.nativeColOff),this.map["xdr:row"].render(c,l.nativeRow),this.map["xdr:rowOff"].render(c,l.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,n,i){const a=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),c=t("../base-xform"),l=t("./two-cell-anchor-xform"),o=t("./one-cell-anchor-xform");class u extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new o}}prepare(h){h.anchors.forEach((d,g)=>{d.anchorType=(function(y){return(typeof y.range=="string"?a.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:g})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(s.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(g=>{this.map[g.anchorType].render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,d):this.map["xdr:oneCellAnchor"].reconcile(g,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,c){s.openNode(this.tag);const l=Math.floor(9525*c.width),o=Math.floor(9525*c.height);s.addAttribute("cx",l),s.addAttribute("cy",o),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"a:hlinkClick"}render(s,c){c.hyperlinks&&c.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,n,i){const a=t("../base-xform"),s=t("./c-nv-pr-xform"),c=t("./c-nv-pic-pr-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(l,o){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,o),this.map["xdr:cNvPicPr"].render(l,o),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,n,i){const a=t("./base-cell-anchor-xform"),s=t("../static-xform"),c=t("./cell-position-xform"),l=t("./ext-xform"),o=t("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,n,i){const a=t("../base-xform"),s=t("../static-xform"),c=t("./blip-fill-xform"),l=t("./nv-pic-pr-xform"),o=t("./sp-pr");n.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new c,"xdr:spPr":new s(o)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,n,i){const a=t("./base-cell-anchor-xform"),s=t("../static-xform"),c=t("./cell-position-xform"),l=t("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,n,i){const a=t("./base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,c){const{childXform:l}=this;s&&s.forEach((o,u)=>{c.index=u,l.prepare(o,c)})}render(s,c){if(this.always||c&&c.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,c&&c.length||0);const{childXform:l}=this;(c||[]).forEach((o,u)=>{l.render(s,o,u)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,c){if(s){const{childXform:l}=this;s.forEach(o=>{l.reconcile(o,c)})}}}},{"./base-xform":32}],72:[function(t,n,i){const a=t("../../../utils/col-cache"),s=t("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(c,l){if(l)if(typeof l=="string")c.leafNode("autoFilter",{ref:l});else{const o=function(h){return typeof h=="string"?h:a.getAddress(h.row,h.column).address},u=o(l.from),f=o(l.to);u&&f&&c.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,n,i){const a=t("../../../utils/utils"),s=t("../base-xform"),c=t("../../../doc/range"),l=t("../../../doc/enums"),o=t("../strings/rich-text-xform");function u(f){if(f==null)return l.ValueType.Null;if(f instanceof String||typeof f=="string")return l.ValueType.String;if(typeof f=="number")return l.ValueType.Number;if(typeof f=="boolean")return l.ValueType.Boolean;if(f instanceof Date)return l.ValueType.Date;if(f.text&&f.hyperlink)return l.ValueType.Hyperlink;if(f.formula)return l.ValueType.Formula;if(f.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(f,h){const d=h.styles.addStyleModel(f.style||{},(function(g){switch(g.type){case l.ValueType.Formula:return u(g.result);default:return g.type}})(f));switch(d&&(f.styleId=d),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case l.ValueType.Date:h.date1904&&(f.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case l.ValueType.Merge:h.merges.add(f);break;case l.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const g=h.formulae[f.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);g.si===void 0?(g.shareType="shared",g.si=h.siFormulae++,g.range=new c(g.address,f.address)):g.range&&g.range.expandToAddress(f.address),f.si=g.si}}}renderFormula(f,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(u(h.result)){case l.ValueType.Null:f.leafNode("f",d,h.formula);break;case l.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Number:f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result.error);break;case l.ValueType.Date:f.leafNode("f",d,h.formula),f.leafNode("v",null,a.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==l.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:f.leafNode("v",null,h.value);break;case l.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(f,d)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case l.ValueType.Date:f.leafNode("v",null,a.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(f,h);break;case l.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=a.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=a.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const d=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(d&&(f.style=d),f.styleId!==void 0&&(f.styleId=void 0),f.type){case l.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=l.ValueType.RichText);break;case l.ValueType.Number:d&&a.isDateFmt(d.numFmt)&&(f.type=l.ValueType.Date,f.value=a.excelToDate(f.value,h.date1904));break;case l.ValueType.Formula:f.result!==void 0&&d&&a.isDateFmt(d.numFmt)&&(f.result=a.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const g=h.hyperlinkMap[f.address];g&&(f.type===l.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=l.ValueType.Hyperlink,f.hyperlink=g);const y=h.commentsMap&&h.commentsMap[f.address];y&&(f.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"x14:cfIcon"}render(s,c){s.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(s){let{attributes:c}=s;this.model={iconSet:c.iconSet,iconId:a.toIntValue(c.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(t,n,i){const{v4:a}=t("uuid"),s=t("../../base-xform"),c=t("../../composite-xform"),l=t("./databar-ext-xform"),o=t("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?l.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){f.isExt(d)&&(d.x14Id=`{${a()}}`.toUpperCase())}render(d,g){if(f.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(d,g);break;case"iconSet":this.renderIconSet(d,g)}}renderDataBar(d,g){d.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(d,g),d.closeNode()}renderIconSet(d,g){d.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${a()}}`}),this.iconSetXform.render(d,g),d.closeNode()}createNewModel(d){let{attributes:g}=d;return{type:g.type,x14Id:g.id,priority:s.toIntValue(g.priority)}}onParserClose(d,g){Object.assign(this.model,g.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,n,i){const a=t("../../composite-xform"),s=t("./f-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(c,l){c.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(c,l.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,l){switch(c){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,n,i){const a=t("../../composite-xform"),s=t("./sqref-ext-xform"),c=t("./cf-rule-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(l,o){l.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(l,o){o.rules.some(c.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(c.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,o.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,o){switch(l){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,n,i){const a=t("../../composite-xform"),s=t("./cf-rule-ext-xform"),c=t("./conditional-formatting-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(o=>o.rules.some(s.isExt))),l.hasExtContent}prepare(l,o){l.forEach(u=>{this.cfXform.prepare(u,o)})}render(l,o){this.hasContent(o)&&(l.openNode(this.tag),o.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),c=t("../../style/color-xform"),l=t("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:a.toIntAttribute(u.minLength,0,!0),maxLength:a.toIntAttribute(u.maxLength,100,!0),border:a.toBoolAttribute(u.border,!1),gradient:a.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(u.axisPosition,"auto"),direction:a.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:a.toIntValue(u.minLength,0),maxLength:a.toIntValue(u.maxLength,100),border:a.toBoolValue(u.border,!1),gradient:a.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(u.axisPosition,"auto"),direction:a.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"xm:f"}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),c=t("./cfvo-ext-xform"),l=t("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0),custom:a.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),u.icons&&u.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(o,f)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse,!1),showValue:a.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"xm:sqref"}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),c=t("../../../../doc/range"),l=t("./databar-xform"),o=t("./ext-lst-ref-xform"),u=t("./formula-xform"),f=t("./color-scale-xform"),h=t("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:x,operator:v}=m;switch(x){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:x};default:return{type:x,operator:v}}};class y extends s{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(x){return x.type!=="iconSet"||!x.custom&&!d[x.iconSet]}render(x,v){switch(v.type){case"expression":this.renderExpression(x,v);break;case"cellIs":this.renderCellIs(x,v);break;case"top10":this.renderTop10(x,v);break;case"aboveAverage":this.renderAboveAverage(x,v);break;case"dataBar":this.renderDataBar(x,v);break;case"colorScale":this.renderColorScale(x,v);break;case"iconSet":this.renderIconSet(x,v);break;case"containsText":this.renderText(x,v);break;case"timePeriod":this.renderTimePeriod(x,v)}}renderExpression(x,v){x.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(x,v.formulae[0]),x.closeNode()}renderCellIs(x,v){x.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(_=>{this.formulaXform.render(x,_)}),x.closeNode()}renderTop10(x,v){x.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:a.toBoolAttribute(v.percent,!1),bottom:a.toBoolAttribute(v.bottom,!1),rank:a.toIntValue(v.rank,10,!0)})}renderAboveAverage(x,v){x.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:a.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(x,v){x.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(x,v),this.extLstRefXform.render(x,v),x.closeNode()}renderColorScale(x,v){x.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(x,v),x.closeNode()}renderIconSet(x,v){y.isPrimitive(v)&&(x.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(x,v),x.closeNode())}renderText(x,v){x.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:a.toStringAttribute(v.operator,"containsText")});const _=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const N=new c(k.ref),{tl:P}=N;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${P})))`;case"containsBlanks":return`LEN(TRIM(${P}))=0`;case"notContainsBlanks":return`LEN(TRIM(${P}))>0`;case"containsErrors":return`ISERROR(${P})`;case"notContainsErrors":return`NOT(ISERROR(${P}))`;default:return}})(v);_&&this.formulaXform.render(x,_),x.closeNode()}renderTimePeriod(x,v){x.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const _=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const N=new c(k.ref),{tl:P}=N;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${P},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${P},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${P},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${P},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${P},1)=TODAY()-1`;case"today":return`FLOOR(${P},1)=TODAY()`;case"tomorrow":return`FLOOR(${P},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${P},1)<=6,FLOOR(${P},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0-1)),YEAR(${P})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${P})=MONTH(TODAY()),YEAR(${P})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0+1)),YEAR(${P})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);_&&this.formulaXform.render(x,_),x.closeNode()}createNewModel(x){let{attributes:v}=x;return{...g(v),dxfId:a.toIntValue(v.dxfId),priority:a.toIntValue(v.priority),timePeriod:v.timePeriod,percent:a.toBoolValue(v.percent),bottom:a.toBoolValue(v.bottom),rank:a.toIntValue(v.rank),aboveAverage:a.toBoolValue(v.aboveAverage)}}onParserClose(x,v){switch(x){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}n.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"cfvo"}render(s,c){s.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(s){this.model={type:s.attributes.type,value:a.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(t,n,i){const a=t("../../composite-xform"),s=t("../../style/color-xform"),c=t("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new s}}get tag(){return"colorScale"}render(l,o){l.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),o.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,o){this.model[l].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,n,i){const a=t("../../composite-xform"),s=t("./cf-rule-xform");n.exports=class extends a{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(c,l){l.rules.some(s.isPrimitive)&&(c.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(o=>{s.isPrimitive(o)&&(o.ref=l.ref,this.map.cfRule.render(c,o))}),c.closeNode())}createNewModel(c){let{attributes:l}=c;return{ref:l.sqref,rules:[]}}onParserClose(c,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,n,i){const a=t("../../base-xform"),s=t("./conditional-formatting-xform");n.exports=class extends a{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,l){let o=c.reduce((u,f)=>Math.max(u,...f.rules.map(h=>h.priority||0)),1);c.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=o++),f.style&&(f.dxfId=l.styles.addDxfStyle(f.style))})})}render(c,l){l.forEach(o=>{this.cfXform.render(c,o)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,l){c.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,n,i){const a=t("../../composite-xform"),s=t("../../style/color-xform"),c=t("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new s}}get tag(){return"dataBar"}render(l,o){l.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,o.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,o){switch(l){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform");class c extends a{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends s{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,n,i){const a=t("../../base-xform");n.exports=class extends a{get tag(){return"formula"}render(s,c){s.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(t,n,i){const a=t("../../base-xform"),s=t("../../composite-xform"),c=t("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(l,o){l.openNode(this.tag,{iconSet:a.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(o.reverse,!1),showValue:a.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:o}=l;return{iconSet:a.toStringValue(o.iconSet,"3TrafficLights"),reverse:a.toBoolValue(o.reverse),showValue:a.toBoolValue(o.showValue),cfvo:[]}}onParserClose(l,o){this.model[l].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,n,i){const a=t("../../../utils/utils"),s=t("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(c,l){const o=l.styles.addStyleModel(c.style||{});o&&(c.styleId=o)}render(c,l){c.openNode("col"),c.addAttribute("min",l.min),c.addAttribute("max",l.max),l.width&&c.addAttribute("width",l.width),l.styleId&&c.addAttribute("style",l.styleId),l.hidden&&c.addAttribute("hidden","1"),l.bestFit&&c.addAttribute("bestFit","1"),l.outlineLevel&&c.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const l=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(l.styleId=parseInt(c.attributes.style,10)),a.parseBoolean(c.attributes.hidden)&&(l.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(l.bestFit=!0),c.attributes.outlineLevel&&(l.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,l){c.styleId&&(c.style=l.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../utils/utils"),c=t("../../../utils/col-cache"),l=t("../base-xform"),o=t("../../../doc/range");function u(h,d,g,y){const m=d[g];m!==void 0?h[g]=m:y!==void 0&&(h[g]=y)}function f(h,d,g,y){const m=d[g];m!==void 0&&(h[g]=s.parseBoolean(m))}n.exports=class extends l{get tag(){return"dataValidations"}render(h,d){const g=(function(y){const m=a.map(y,(_,k)=>({address:k,dataValidation:_,marked:!1})).sort((_,k)=>a.strcmp(_.address,k.address)),x=a.keyBy(m,"address"),v=(_,k,N)=>{for(let P=0;P<k;P++){const D=c.encodeAddress(_.row+P,N);if(!y[D]||!a.isEqual(y[_.address],y[D]))return!1}return!0};return m.map(_=>{if(!_.marked){const k=c.decodeEx(_.address);if(k.dimensions)return x[k.dimensions].marked=!0,{..._.dataValidation,sqref:_.address};let N=1,P=c.encodeAddress(k.row+N,k.col);for(;y[P]&&a.isEqual(_.dataValidation,y[P]);)N++,P=c.encodeAddress(k.row+N,k.col);let D=1;for(;v(k,N,k.col+D);)D++;for(let I=0;I<N;I++)for(let B=0;B<D;B++)P=c.encodeAddress(k.row+I,k.col+B),x[P].marked=!0;if(N>1||D>1){const I=k.row+(N-1),B=k.col+(D-1);return{..._.dataValidation,sqref:`${_.address}:${c.encodeAddress(I,B)}`}}return{..._.dataValidation,sqref:_.address}}return null}).filter(Boolean)})(d);g.length&&(h.openNode("dataValidations",{count:g.length}),g.forEach(y=>{h.openNode("dataValidation"),y.type!=="any"&&(h.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&h.addAttribute("operator",y.operator),y.allowBlank&&h.addAttribute("allowBlank","1")),y.showInputMessage&&h.addAttribute("showInputMessage","1"),y.promptTitle&&h.addAttribute("promptTitle",y.promptTitle),y.prompt&&h.addAttribute("prompt",y.prompt),y.showErrorMessage&&h.addAttribute("showErrorMessage","1"),y.errorStyle&&h.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&h.addAttribute("errorTitle",y.errorTitle),y.error&&h.addAttribute("error",y.error),h.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,x)=>{h.openNode("formula"+(x+1)),y.type==="date"?h.writeText(s.dateToExcel(new Date(m))):h.writeText(m),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(d,h.attributes,"allowBlank"),f(d,h.attributes,"showInputMessage"),f(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,h.attributes,"operator","between")}return u(d,h.attributes,"promptTitle"),u(d,h.attributes,"prompt"),u(d,h.attributes,"errorStyle"),u(d,h.attributes,"errorTitle"),u(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new o(d).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=s.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"dimension"}render(s,c){c&&s.leafNode("dimension",{ref:c})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"drawing"}render(s,c){c&&s.leafNode(this.tag,{"r:id":c.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,n,i){const a=t("../composite-xform"),s=t("./cf-ext/conditional-formattings-ext-xform");class c extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(l,o){this.ext.prepare(l,o)}hasContent(l){return this.ext.hasContent(l)}render(l,o){this.hasContent(o)&&(l.openNode("extLst"),this.ext.render(l,o),l.closeNode())}createNewModel(){return{}}onParserClose(l,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"headerFooter"}render(s,c){if(c){s.addRollback();let l=!1;s.openNode("headerFooter"),c.differentFirst&&(s.addAttribute("differentFirst","1"),l=!0),c.differentOddEven&&(s.addAttribute("differentOddEven","1"),l=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(s.leafNode("oddHeader",null,c.oddHeader),l=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(s.leafNode("oddFooter",null,c.oddFooter),l=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(s.leafNode("evenHeader",null,c.evenHeader),l=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(s.leafNode("evenFooter",null,c.evenFooter),l=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(s.leafNode("firstHeader",null,c.firstHeader),l=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(s.leafNode("firstFooter",null,c.firstFooter),l=!0),l?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"hyperlink"}render(s,c){this.isInternalLink(c)?s.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):s.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"mergeCell"}render(s,c){s.leafNode("mergeCell",{ref:c})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../doc/range"),c=t("../../../utils/col-cache"),l=t("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new s(u)}}get mergeCells(){return a.map(this.merges,o=>o.range)}reconcile(o,u){a.each(o,f=>{const h=c.decode(f);for(let d=h.top;d<=h.bottom;d++){const g=u[d-1];for(let y=h.left;y<=h.right;y++){const m=g.cells[y-1];m?m.type===l.ValueType.Merge&&(m.master=h.tl):g.cells[y]={type:l.ValueType.Null,address:c.encodeAddress(d,y)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,n,i){const a=t("../base-xform"),s=c=>c!==void 0;n.exports=class extends a{get tag(){return"outlinePr"}render(c,l){return!(!l||!s(l.summaryBelow)&&!s(l.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:s(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:s(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:s(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:s(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"brk"}render(s,c){s.leafNode("brk",c)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(c,l){if(l){const o={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};a.some(o,u=>u!==void 0)&&c.leafNode(this.tag,o)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"pageSetUpPr"}render(s,c){return!(!c||!c.fitToPage)&&(s.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");function c(f){return f?"1":void 0}function l(f){switch(f){case"overThenDown":return f;default:return}}function o(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(f,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:c(h.blackAndWhite),draft:c(h.draft),cellComments:o(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:c(h.firstPageNumber),usePrinterDefaults:c(h.usePrinterDefaults),copies:h.copies};a.some(d,g=>g!==void 0)&&f.leafNode(this.tag,d)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"picture"}render(s,c){c&&s.leafNode(this.tag,{"r:id":c.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");function c(l){return l?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(l,o){if(o){const u={headings:c(o.showRowColHeaders),gridLines:c(o.showGridLines),horizontalCentered:c(o.horizontalCentered),verticalCentered:c(o.verticalCentered)};a.some(u,f=>f!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,n,i){const a=t("./page-breaks-xform"),s=t("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(c,l){if(l&&l.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,l.length),c.addAttribute("manualBreakCount",l.length));const{childXform:o}=this;l.forEach(u=>{o.render(c,u)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,n,i){const a=t("../base-xform"),s=t("../../../utils/utils"),c=t("./cell-xform");n.exports=class extends a{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(l,o){const u=o.styles.addStyleModel(l.style);u&&(l.styleId=u);const f=this.map.c;l.cells.forEach(h=>{f.prepare(h,o)})}render(l,o,u){l.openNode("row"),l.addAttribute("r",o.number),o.height&&(l.addAttribute("ht",o.height),l.addAttribute("customHeight","1")),o.hidden&&l.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&l.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(l.addAttribute("s",o.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&l.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&l.addAttribute("collapsed","1");const f=this.map.c;o.cells.forEach(h=>{f.render(l,h,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const o=l.attributes.spans?l.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:o[0],max:o[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),s.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),s.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),s.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,o){l.style=l.styleId?o.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(f=>{u.reconcile(f,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(c,l){if(l){const o={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(o.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(o.customHeight="1"),a.some(o,u=>u!==void 0)&&c.leafNode("sheetFormatPr",o)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,n,i){const a=t("../base-xform"),s=t("../style/color-xform"),c=t("./page-setup-properties-xform"),l=t("./outline-properties-xform");n.exports=class extends a{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new c,outlinePr:new l}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(o,u.tabColor)||f,f=this.map.pageSetUpPr.render(o,u.pageSetup)||f,f=this.map.outlinePr.render(o,u.outlineProperties)||f,f?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../base-xform");function c(o,u){return o?u:void 0}function l(o,u){return o===u||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(o,u){if(u){const f={sheet:c(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:c(u.formatCells,"0"),formatColumns:c(u.formatColumns,"0"),formatRows:c(u.formatRows,"0"),insertColumns:c(u.insertColumns,"0"),insertRows:c(u.insertRows,"0"),insertHyperlinks:c(u.insertHyperlinks,"0"),deleteColumns:c(u.deleteColumns,"0"),deleteRows:c(u.deleteRows,"0"),sort:c(u.sort,"0"),autoFilter:c(u.autoFilter,"0"),pivotTables:c(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=c(u.objects===!1,"1"),f.scenarios=c(u.scenarios===!1,"1")),a.some(f,h=>h!==void 0)&&o.leafNode(this.tag,f)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:l(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(o.attributes.formatCells,"0"),formatColumns:l(o.attributes.formatColumns,"0"),formatRows:l(o.attributes.formatRows,"0"),insertColumns:l(o.attributes.insertColumns,"0"),insertRows:l(o.attributes.insertRows,"0"),insertHyperlinks:l(o.attributes.insertHyperlinks,"0"),deleteColumns:l(o.attributes.deleteColumns,"0"),deleteRows:l(o.attributes.deleteRows,"0"),sort:l(o.attributes.sort,"0"),autoFilter:l(o.attributes.autoFilter,"0"),pivotTables:l(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,n,i){const a=t("../../../utils/col-cache"),s=t("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,o){l.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(y,m,x){x&&l.addAttribute(y,m)};let f,h,d,g;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":h=o.xSplit||0,d=o.ySplit||0,f=o.topLeftCell||a.getAddress(d+1,h+1).address,g=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:f,activePane:g,state:"frozen"}),l.leafNode("selection",{pane:g,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),l.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),l.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&l.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const o=l.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let o,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"tablePart"}render(s,c){c&&s.leafNode(this.tag,{"r:id":c.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),c=t("../../../utils/xml-stream"),l=t("../../rel-type"),o=t("./merges"),u=t("../base-xform"),f=t("../list-xform"),h=t("./row-xform"),d=t("./col-xform"),g=t("./dimension-xform"),y=t("./hyperlink-xform"),m=t("./merge-cell-xform"),x=t("./data-validations-xform"),v=t("./sheet-properties-xform"),_=t("./sheet-format-properties-xform"),k=t("./sheet-view-xform"),N=t("./sheet-protection-xform"),P=t("./page-margins-xform"),D=t("./page-setup-xform"),I=t("./print-options-xform"),B=t("./auto-filter-xform"),L=t("./picture-xform"),z=t("./drawing-xform"),$=t("./table-part-xform"),O=t("./row-breaks-xform"),F=t("./header-footer-xform"),C=t("./cf/conditional-formattings-xform"),w=t("./ext-lst-xform"),E=(j,R)=>{if(!R||!R.length)return j;if(!j||!j.length)return R;const q={},H={};return j.forEach(Y=>{q[Y.ref]=Y,Y.rules.forEach(Z=>{const{x14Id:te}=Z;te&&(H[te]=Z)})}),R.forEach(Y=>{Y.rules.forEach(Z=>{const te=H[Z.x14Id];te?((W,ee)=>{Object.keys(ee).forEach(K=>{const V=W[K],Q=ee[K];V===void 0&&Q!==void 0&&(W[K]=Q)})})(te,Z):q[Y.ref]?q[Y.ref].rules.push(Z):j.push({ref:Y.ref,rules:[Z]})})}),j};class A extends u{constructor(R){super();const{maxRows:q,maxCols:H,ignoreNodes:Y}=R||{};this.ignoreNodes=Y||[],this.map={sheetPr:new v,dimension:new g,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new _,cols:new f({tag:"cols",count:!1,childXform:new d}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:H}),maxItems:q}),autoFilter:new B,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new O,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new P,dataValidations:new x,pageSetup:new D,headerFooter:new F,printOptions:new I,picture:new L,drawing:new z,sheetProtection:new N,tableParts:new f({tag:"tableParts",count:!0,childXform:new $}),conditionalFormatting:new C,extLst:new w}}prepare(R,q){q.merges=new o,R.hyperlinks=q.hyperlinks=[],R.comments=q.comments=[],q.formulae={},q.siFormulae=0,this.map.cols.prepare(R.cols,q),this.map.sheetData.prepare(R.rows,q),this.map.conditionalFormatting.prepare(R.conditionalFormattings,q),R.mergeCells=q.merges.mergeCells;const H=R.rels=[];function Y(W){return"rId"+(W.length+1)}if(R.hyperlinks.forEach(W=>{const ee=Y(H);W.rId=ee,H.push({Id:ee,Type:l.Hyperlink,Target:W.target,TargetMode:"External"})}),R.comments.length>0){const W={Id:Y(H),Type:l.Comments,Target:`../comments${R.id}.xml`};H.push(W);const ee={Id:Y(H),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${R.id}.vml`};H.push(ee),R.comments.forEach(K=>{K.refAddress=s.decodeAddress(K.ref)}),q.commentRefs.push({commentName:"comments"+R.id,vmlDrawing:"vmlDrawing"+R.id})}const Z=[];let te;R.media.forEach(W=>{if(W.type==="background"){const ee=Y(H);te=q.media[W.imageId],H.push({Id:ee,Type:l.Image,Target:`../media/${te.name}.${te.extension}`}),R.background={rId:ee},R.image=q.media[W.imageId]}else if(W.type==="image"){let{drawing:ee}=R;te=q.media[W.imageId],ee||(ee=R.drawing={rId:Y(H),name:"drawing"+ ++q.drawingsCount,anchors:[],rels:[]},q.drawings.push(ee),H.push({Id:ee.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ee.name}.xml`}));let K=this.preImageId===W.imageId?Z[W.imageId]:Z[ee.rels.length];K||(K=Y(ee.rels),Z[ee.rels.length]=K,ee.rels.push({Id:K,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${te.name}.${te.extension}`}));const V={picture:{rId:K},range:W.range};if(W.hyperlinks&&W.hyperlinks.hyperlink){const Q=Y(ee.rels);Z[ee.rels.length]=Q,V.picture.hyperlinks={tooltip:W.hyperlinks.tooltip,rId:Q},ee.rels.push({Id:Q,Type:l.Hyperlink,Target:W.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=W.imageId,ee.anchors.push(V)}}),R.tables.forEach(W=>{const ee=Y(H);W.rId=ee,H.push({Id:ee,Type:l.Table,Target:"../tables/"+W.target}),W.columns.forEach(K=>{const{style:V}=K;V&&(K.dxfId=q.styles.addDxfStyle(V))})}),this.map.extLst.prepare(R,q)}render(R,q){R.openXml(c.StdDocAttributes),R.openNode("worksheet",A.WORKSHEET_ATTRIBUTES);const H=q.properties?{defaultRowHeight:q.properties.defaultRowHeight,dyDescent:q.properties.dyDescent,outlineLevelCol:q.properties.outlineLevelCol,outlineLevelRow:q.properties.outlineLevelRow}:void 0;q.properties&&q.properties.defaultColWidth&&(H.defaultColWidth=q.properties.defaultColWidth);const Y={outlineProperties:q.properties&&q.properties.outlineProperties,tabColor:q.properties&&q.properties.tabColor,pageSetup:q.pageSetup&&q.pageSetup.fitToPage?{fitToPage:q.pageSetup.fitToPage}:void 0},Z=q.pageSetup&&q.pageSetup.margins,te={showRowColHeaders:q.pageSetup&&q.pageSetup.showRowColHeaders,showGridLines:q.pageSetup&&q.pageSetup.showGridLines,horizontalCentered:q.pageSetup&&q.pageSetup.horizontalCentered,verticalCentered:q.pageSetup&&q.pageSetup.verticalCentered},W=q.sheetProtection;this.map.sheetPr.render(R,Y),this.map.dimension.render(R,q.dimensions),this.map.sheetViews.render(R,q.views),this.map.sheetFormatPr.render(R,H),this.map.cols.render(R,q.cols),this.map.sheetData.render(R,q.rows),this.map.sheetProtection.render(R,W),this.map.autoFilter.render(R,q.autoFilter),this.map.mergeCells.render(R,q.mergeCells),this.map.conditionalFormatting.render(R,q.conditionalFormattings),this.map.dataValidations.render(R,q.dataValidations),this.map.hyperlinks.render(R,q.hyperlinks),this.map.printOptions.render(R,te),this.map.pageMargins.render(R,Z),this.map.pageSetup.render(R,q.pageSetup),this.map.headerFooter.render(R,q.headerFooter),this.map.rowBreaks.render(R,q.rowBreaks),this.map.drawing.render(R,q.drawing),this.map.picture.render(R,q.background),this.map.tableParts.render(R,q.tables),this.map.extLst.render(R,q),q.rels&&q.rels.forEach(ee=>{ee.Type===l.VmlDrawing&&R.leafNode("legacyDrawing",{"r:id":ee.Id})}),R.closeNode()}parseOpen(R){return this.parser?(this.parser.parseOpen(R),!0):R.name==="worksheet"?(a.each(this.map,q=>{q.reset()}),!0):(this.map[R.name]&&!this.ignoreNodes.includes(R.name)&&(this.parser=this.map[R.name],this.parser.parseOpen(R)),!0)}parseText(R){this.parser&&this.parser.parseText(R)}parseClose(R){if(this.parser)return this.parser.parseClose(R)||(this.parser=void 0),!0;switch(R){case"worksheet":{const q=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(q.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(q.outlineProperties=this.map.sheetPr.model.outlineProperties);const H={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Y=Object.assign(H,this.map.pageSetup.model,this.map.printOptions.model),Z=E(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:q,views:this.map.sheetViews.model,pageSetup:Y,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(R,q){const H=(R.relationships||[]).reduce((Z,te)=>{if(Z[te.Id]=te,te.Type===l.Comments&&(R.comments=q.comments[te.Target].comments),te.Type===l.VmlDrawing&&R.comments&&R.comments.length){const W=q.vmlDrawings[te.Target].comments;R.comments.forEach((ee,K)=>{ee.note=Object.assign({},ee.note,W[K])})}return Z},{});if(q.commentsMap=(R.comments||[]).reduce((Z,te)=>(te.ref&&(Z[te.ref]=te),Z),{}),q.hyperlinkMap=(R.hyperlinks||[]).reduce((Z,te)=>(te.rId&&(Z[te.address]=H[te.rId].Target),Z),{}),q.formulae={},R.rows=R.rows&&R.rows.filter(Boolean)||[],R.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(R.cols,q),this.map.sheetData.reconcile(R.rows,q),this.map.conditionalFormatting.reconcile(R.conditionalFormattings,q),R.media=[],R.drawing){const Z=H[R.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const te=Z[1];q.drawings[te].anchors.forEach(W=>{if(W.medium){const ee={type:"image",imageId:W.medium.index,range:W.range,hyperlinks:W.picture.hyperlinks};R.media.push(ee)}})}}const Y=R.background&&H[R.background.rId];if(Y){const Z=Y.Target.split("/media/")[1],te=q.mediaIndex&&q.mediaIndex[Z];te!==void 0&&R.media.push({type:"background",imageId:te})}R.tables=(R.tables||[]).map(Z=>{const te=H[Z.rId];return q.tables[te.Target]}),delete R.relationships,delete R.hyperlinks,delete R.comments}}A.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=A},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,c){c&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=s.parse||function(c){return new Date(c)}}render(s,c){c&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(c)):s.writeText(this._format(c)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,c){(c||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,c):s.writeText(c),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,c){c!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,c):s.writeText(c),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,n,i){const a=t("./base-xform"),s=t("../../utils/xml-stream");n.exports=class extends a{constructor(c){super(),this._model=c}render(c){if(!this._xml){const l=new s;(function o(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{o(u,h)}),f.t&&u.writeText(f.t),u.closeNode()})(l,this._model),this._xml=l.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,n,i){const a=t("./text-xform"),s=t("./rich-text-xform"),c=t("../base-xform");n.exports=class extends c{constructor(){super(),this.map={r:new s,t:new a}}get tag(){return"rPh"}render(l,o){if(l.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(f=>{u.render(l,f)})}else o&&this.map.t.render(l,o.text);l.closeNode()}parseOpen(l){const{name:o}=l;return this.parser?(this.parser.parseOpen(l),!0):o===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,n,i){const a=t("./text-xform"),s=t("../style/font-xform"),c=t("../base-xform");class l extends c{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new s(l.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,n,i){const a=t("./text-xform"),s=t("./rich-text-xform"),c=t("./phonetic-text-xform"),l=t("../base-xform");n.exports=class extends l{constructor(o){super(),this.model=o,this.map={r:new s,t:new a,rPh:new c}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(o,f)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),c=t("./shared-string-xform");n.exports=class extends s{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let o=this.hash[l];return o===void 0&&(o=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,o}addRichText(l){const o=this.sharedStringXform.toXml(l);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,o){o=o||this._values,l.openXml(a.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(f=>{u.render(l,f)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"t"}render(s,c){s.openNode("t"),/^\s|\n|\s$/.test(c)&&s.addAttribute("xml:space","preserve"),s.writeText(c),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,n,i){const a=t("../../../doc/enums"),s=t("../../../utils/utils"),c=t("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=s.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=s.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=s.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends c{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let h=!1;function d(g,y){y&&(u.addAttribute(g,y),h=!0)}d("horizontal",l.horizontal(f.horizontal)),d("vertical",l.vertical(f.vertical)),d("wrapText",!!l.wrapText(f.wrapText)&&"1"),d("shrinkToFit",!!l.shrinkToFit(f.shrinkToFit)&&"1"),d("indent",l.indent(f.indent)),d("textRotation",o.toXml(f.textRotation)),d("readingOrder",l.readingOrder(f.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const f={};let h=!1;function d(g,y,m){g&&(f[y]=m,h=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",s.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,n,i){const a=t("../base-xform"),s=t("../../../utils/utils"),c=t("./color-xform");class l extends a{constructor(u){super(),this.name=u,this.map={color:new c}}get tag(){return this.name}render(u,f,h){const d=f&&f.color||h||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends a{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(o,u){const{color:f}=u;function h(d,g){d&&!d.color&&u.color&&(d={...d,color:u.color}),g.render(o,d,f)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},f=function(h,d,g){d&&(g&&Object.assign(d,g),u[h]=d)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,c){return!!c&&(s.openNode(this.name),c.argb?s.addAttribute("rgb",c.argb):c.theme!==void 0?(s.addAttribute("theme",c.theme),c.tint!==void 0&&s.addAttribute("tint",c.tint)):c.indexed!==void 0?s.addAttribute("indexed",c.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,n,i){const a=t("../base-xform"),s=t("./alignment-xform"),c=t("./border-xform"),l=t("./fill-xform"),o=t("./font-xform"),u=t("./numfmt-xform"),f=t("./protection-xform");n.exports=class extends a{constructor(){super(),this.map={alignment:new s,border:new c,fill:new l,font:new o,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const g={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,g)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,n,i){const a=t("../base-xform"),s=t("./color-xform");class c extends a{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class o extends a{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const g=this.map.stop;d.stops.forEach(y=>{g.render(h,y)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={patternFill:new l,gradientFill:new o}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),u.StopXform=c,u.PatternFillXform=l,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(t,n,i){const a=t("./color-xform"),s=t("../simple/boolean-xform"),c=t("../simple/integer-xform"),l=t("../simple/string-xform"),o=t("./underline-xform"),u=t("../../../utils/under-dash"),f=t("../base-xform");class h extends f{constructor(g){super(),this.options=g||h.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:m}=this;g.openNode(this.options.tagName),u.each(this.map,(x,v)=>{m[v].xform.render(g,y[x.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,n,i){const a=t("../../../utils/under-dash"),s=t("../../defaultnumformats"),c=t("../base-xform"),l=(function(){const u={};return a.each(s,(f,h)=>{f.f&&(u[f.f]=parseInt(h,10))}),u})();class o extends c{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return l[u]},o.getDefaultFmtCode=function(u){return s[u]&&s[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,n,i){const a=t("../base-xform"),s={boolean:(c,l)=>c===void 0?l:c};n.exports=class extends a{get tag(){return"protection"}render(c,l){c.addRollback(),c.openNode("protection");let o=!1;function u(f,h){h!==void 0&&(c.addAttribute(f,h),o=!0)}u("locked",s.boolean(l.locked,!0)?void 0:"0"),u("hidden",s.boolean(l.hidden,!1)?"1":void 0),c.closeNode(),o?c.commit():c.rollback()}parseOpen(c){const l={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},o=!l.locked||l.hidden;this.model=o?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,n,i){const a=t("../base-xform"),s=t("./alignment-xform"),c=t("./protection-xform");n.exports=class extends a{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new s,protection:new c}}get tag(){return"xf"}render(l,o){l.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&l.addAttribute("xfId",o.xfId||0),o.numFmtId&&l.addAttribute("applyNumberFormat","1"),o.fontId&&l.addAttribute("applyFont","1"),o.fillId&&l.addAttribute("applyFill","1"),o.borderId&&l.addAttribute("applyBorder","1"),o.alignment&&l.addAttribute("applyAlignment","1"),o.protection&&l.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(l,o.alignment),o.protection&&this.map.protection.render(l,o.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,n,i){const a=t("../../../doc/enums"),s=t("../../../utils/xml-stream"),c=t("../base-xform"),l=t("../static-xform"),o=t("../list-xform"),u=t("./font-xform"),f=t("./fill-xform"),h=t("./border-xform"),d=t("./numfmt-xform"),g=t("./style-xform"),y=t("./dxf-xform");class m extends c{constructor(v){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new d}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new f}),borders:new o({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new d,font:new u,fill:new f,border:new h,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,_){_=_||this.model,v.openXml(s.StdDocAttributes),v.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(_.numFmts&&_.numFmts.length&&(v.openNode("numFmts",{count:_.numFmts.length}),_.numFmts.forEach(k=>{v.writeXml(k)}),v.closeNode()),_.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:_.fonts.length,"x14ac:knownFonts":1}),_.fonts.forEach(k=>{v.writeXml(k)}),v.closeNode(),v.openNode("fills",{count:_.fills.length}),_.fills.forEach(k=>{v.writeXml(k)}),v.closeNode(),v.openNode("borders",{count:_.borders.length}),_.borders.forEach(k=>{v.writeXml(k)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:_.styles.length}),_.styles.forEach(k=>{v.writeXml(k)}),v.closeNode()):(this.map.numFmts.render(v,_.numFmts),this.map.fonts.render(v,_.fonts),this.map.fills.render(v,_.fills),this.map.borders.render(v,_.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,_.styles)),m.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,_.dxfs),m.STATIC_XFORMS.tableStyles.render(v),m.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const _=(k,N)=>{N.model&&N.model.length&&(this.model[k]=N.model)};if(_("numFmts",this.map.numFmts),_("fonts",this.map.fonts),_("fills",this.map.fills),_("borders",this.map.borders),_("styles",this.map.cellXfs),_("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(N=>{k[N.id]=N.formatCode})}return!1}default:return!0}}addStyleModel(v,_){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const k={};if(_=_||a.ValueType.Number,v.numFmt)k.numFmtId=this._addNumFmtStr(v.numFmt);else switch(_){case a.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(k.fontId=this._addFont(v.font)),v.border&&(k.borderId=this._addBorder(v.border)),v.fill&&(k.fillId=this._addFill(v.fill)),v.alignment&&(k.alignment=v.alignment),v.protection&&(k.protection=v.protection);const N=this._addStyle(k);return this.weakMap&&this.weakMap.set(v,N),N}getStyleModel(v){const _=this.model.styles[v];if(!_)return null;let k=this.index.model[v];if(k)return k;if(k=this.index.model[v]={},_.numFmtId){const P=this.index.numFmt[_.numFmtId]||d.getDefaultFmtCode(_.numFmtId);P&&(k.numFmt=P)}function N(P,D,I){if(I||I===0){const B=D[I];B&&(k[P]=B)}}return N("font",this.model.fonts,_.fontId),N("border",this.model.borders,_.borderId),N("fill",this.model.fills,_.fillId),_.alignment&&(k.alignment=_.alignment),_.protection&&(k.protection=_.protection),k}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const _=this.map.style.toXml(v);let k=this.index.style[_];return k===void 0&&(k=this.index.style[_]=this.model.styles.length,this.model.styles.push(_)),k}_addNumFmtStr(v){let _=d.getDefaultFmtId(v);if(_!==void 0||(_=this.index.numFmt[v],_!==void 0))return _;_=this.index.numFmt[v]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:_,formatCode:v});return this.model.numFmts.push(k),_}_addFont(v){const _=this.map.font.toXml(v);let k=this.index.font[_];return k===void 0&&(k=this.index.font[_]=this.model.fonts.length,this.model.fonts.push(_)),k}_addBorder(v){const _=this.map.border.toXml(v);let k=this.index.border[_];return k===void 0&&(k=this.index.border[_]=this.model.borders.length,this.model.borders.push(_)),k}_addFill(v){const _=this.map.fill.toXml(v);let k=this.index.fill[_];return k===void 0&&(k=this.index.fill[_]=this.model.fills.length,this.model.fills.push(_)),k}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(x){return x.autodrain(),Promise.resolve()}addStyleModel(x,v){switch(v){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const x={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(x)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,n,i){const a=t("../base-xform");class s extends a{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,o){if((o=o||this.model)===!0)l.leafNode("u");else{const u=s.Attributes[o];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(t,n,i){const a=t("../base-xform"),s=t("./filter-column-xform");n.exports=class extends a{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((l,o)=>{this.map.filterColumn.prepare(l,{index:o})})}render(c,l){return c.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(o=>{this.map.filterColumn.render(c,o)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"customFilter"}render(s,c){s.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,n,i){const a=t("../base-xform"),s=t("../list-xform"),c=t("./custom-filter-xform"),l=t("./filter-xform");n.exports=class extends a{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"filter"}render(s,c){s.leafNode(this.tag,{val:c.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"tableColumn"}prepare(s,c){s.id=c.index+1}render(s,c){return s.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:c}=s;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,n,i){const a=t("../base-xform");n.exports=class extends a{get tag(){return"tableStyleInfo"}render(s,c){return s.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:c}=s;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,n,i){const a=t("../../../utils/xml-stream"),s=t("../base-xform"),c=t("../list-xform"),l=t("./auto-filter-xform"),o=t("./table-column-xform"),u=t("./table-style-info-xform");class f extends s{constructor(){super(),this.map={autoFilter:new l,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(d,g){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,g)}get tag(){return"table"}render(d,g){d.openXml(a.StdDocAttributes),d.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(d,g),this.map.tableColumns.render(d,g.columns),this.map.tableStyleInfo.render(d,g.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:g,attributes:y}=d;switch(g){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,g){d.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,n,i){(function(a,s){(function(){const c=t("fs"),l=t("jszip"),{PassThrough:o}=t("readable-stream"),u=t("../utils/zip-stream"),f=t("../utils/stream-buf"),h=t("../utils/utils"),d=t("../utils/xml-stream"),{bufferToString:g}=t("../utils/browser-buffer-decode"),y=t("./xform/style/styles-xform"),m=t("./xform/core/core-xform"),x=t("./xform/strings/shared-strings-xform"),v=t("./xform/core/relationships-xform"),_=t("./xform/core/content-types-xform"),k=t("./xform/core/app-xform"),N=t("./xform/book/workbook-xform"),P=t("./xform/sheet/worksheet-xform"),D=t("./xform/drawing/drawing-xform"),I=t("./xform/table/table-xform"),B=t("./xform/comment/comments-xform"),L=t("./xform/comment/vml-notes-xform"),z=t("./xml/theme1");class ${constructor(F){this.workbook=F}async readFile(F,C){if(!await h.fs.exists(F))throw new Error("File not found: "+F);const w=c.createReadStream(F);try{const E=await this.read(w,C);return w.close(),E}catch(E){throw w.close(),E}}parseRels(F){return new v().parseStream(F)}parseWorkbook(F){return new N().parseStream(F)}parseSharedStrings(F){return new x().parseStream(F)}reconcile(F,C){const w=new N,E=new P(C),A=new D,j=new I;w.reconcile(F);const R={media:F.media,mediaIndex:F.mediaIndex};Object.keys(F.drawings).forEach(Y=>{const Z=F.drawings[Y],te=F.drawingRels[Y];te&&(R.rels=te.reduce((W,ee)=>(W[ee.Id]=ee,W),{}),(Z.anchors||[]).forEach(W=>{const ee=W.picture&&W.picture.hyperlinks;ee&&R.rels[ee.rId]&&(ee.hyperlink=R.rels[ee.rId].Target,delete ee.rId)}),A.reconcile(Z,R))});const q={styles:F.styles};Object.values(F.tables).forEach(Y=>{j.reconcile(Y,q)});const H={styles:F.styles,sharedStrings:F.sharedStrings,media:F.media,mediaIndex:F.mediaIndex,date1904:F.properties&&F.properties.date1904,drawings:F.drawings,comments:F.comments,tables:F.tables,vmlDrawings:F.vmlDrawings};F.worksheets.forEach(Y=>{Y.relationships=F.worksheetRels[Y.sheetNo],E.reconcile(Y,H)}),delete F.worksheetHash,delete F.worksheetRels,delete F.globalRels,delete F.sharedStrings,delete F.workbookRels,delete F.sheetDefs,delete F.styles,delete F.mediaIndex,delete F.drawings,delete F.drawingRels,delete F.vmlDrawings}async _processWorksheetEntry(F,C,w,E,A){const j=new P(E),R=await j.parseStream(F);R.sheetNo=w,C.worksheetHash[A]=R,C.worksheets.push(R)}async _processCommentEntry(F,C,w){const E=new B,A=await E.parseStream(F);C.comments[`../${w}.xml`]=A}async _processTableEntry(F,C,w){const E=new I,A=await E.parseStream(F);C.tables[`../tables/${w}.xml`]=A}async _processWorksheetRelsEntry(F,C,w){const E=new v,A=await E.parseStream(F);C.worksheetRels[w]=A}async _processMediaEntry(F,C,w){const E=w.lastIndexOf(".");if(E>=1){const A=w.substr(E+1),j=w.substr(0,E);await new Promise((R,q)=>{const H=new f;H.on("finish",()=>{C.mediaIndex[w]=C.media.length,C.mediaIndex[j]=C.media.length;const Y={type:"image",name:j,extension:A,buffer:H.toBuffer()};C.media.push(Y),R()}),F.on("error",Y=>{q(Y)}),F.pipe(H)})}}async _processDrawingEntry(F,C,w){const E=new D,A=await E.parseStream(F);C.drawings[w]=A}async _processDrawingRelsEntry(F,C,w){const E=new v,A=await E.parseStream(F);C.drawingRels[w]=A}async _processVmlDrawingEntry(F,C,w){const E=new L,A=await E.parseStream(F);C.vmlDrawings[`../drawings/${w}.vml`]=A}async _processThemeEntry(F,C,w){await new Promise((E,A)=>{const j=new f;F.on("error",A),j.on("error",A),j.on("finish",()=>{C.themes[w]=j.read().toString(),E()}),F.pipe(j)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(F,C){!F[Symbol.asyncIterator]&&F.pipe&&(F=F.pipe(new o));const w=[];for await(const E of F)w.push(E);return this.load(s.concat(w),C)}async load(F,C){let w;w=C&&C.base64?s.from(F.toString(),"base64"):F;const E={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},A=await l.loadAsync(w);for(const j of Object.values(A.files))if(!j.dir){let R,q=j.name;if(q[0]==="/"&&(q=q.substr(1)),q.match(/xl\/media\//)||q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))R=new o,R.write(await j.async("nodebuffer"));else{let H;R=new o({writableObjectMode:!0,readableObjectMode:!0}),H=a.browser?g(await j.async("nodebuffer")):await j.async("string");const Y=16384;for(let Z=0;Z<H.length;Z+=Y)R.write(H.substring(Z,Z+Y))}switch(R.end(),q){case"_rels/.rels":E.globalRels=await this.parseRels(R);break;case"xl/workbook.xml":{const H=await this.parseWorkbook(R);E.sheets=H.sheets,E.definedNames=H.definedNames,E.views=H.views,E.properties=H.properties,E.calcProperties=H.calcProperties;break}case"xl/_rels/workbook.xml.rels":E.workbookRels=await this.parseRels(R);break;case"xl/sharedStrings.xml":E.sharedStrings=new x,await E.sharedStrings.parseStream(R);break;case"xl/styles.xml":E.styles=new y,await E.styles.parseStream(R);break;case"docProps/app.xml":{const H=new k,Y=await H.parseStream(R);E.company=Y.company,E.manager=Y.manager;break}case"docProps/core.xml":{const H=new m,Y=await H.parseStream(R);Object.assign(E,Y);break}default:{let H=q.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(H){await this._processWorksheetEntry(R,E,H[1],C,q);break}if(H=q.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),H){await this._processWorksheetRelsEntry(R,E,H[1]);break}if(H=q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),H){await this._processThemeEntry(R,E,H[1]);break}if(H=q.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),H){await this._processMediaEntry(R,E,H[1]);break}if(H=q.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),H){await this._processDrawingEntry(R,E,H[1]);break}if(H=q.match(/xl\/(comments\d+)[.]xml/),H){await this._processCommentEntry(R,E,H[1]);break}if(H=q.match(/xl\/tables\/(table\d+)[.]xml/),H){await this._processTableEntry(R,E,H[1]);break}if(H=q.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),H){await this._processDrawingRelsEntry(R,E,H[1]);break}if(H=q.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),H){await this._processVmlDrawingEntry(R,E,H[1]);break}}}}return this.reconcile(E,C),this.workbook.model=E,this.workbook}async addMedia(F,C){await Promise.all(C.media.map(async w=>{if(w.type==="image"){const E=`xl/media/${w.name}.${w.extension}`;if(w.filename){const A=await(function(j,R){return new Promise((q,H)=>{c.readFile(j,R,(Y,Z)=>{Y?H(Y):q(Z)})})})(w.filename);return F.append(A,{name:E})}if(w.buffer)return F.append(w.buffer,{name:E});if(w.base64){const A=w.base64,j=A.substring(A.indexOf(",")+1);return F.append(j,{name:E,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(F,C){const w=new D,E=new v;C.worksheets.forEach(A=>{const{drawing:j}=A;if(j){w.prepare(j,{});let R=w.toXml(j);F.append(R,{name:`xl/drawings/${j.name}.xml`}),R=E.toXml(j.rels),F.append(R,{name:`xl/drawings/_rels/${j.name}.xml.rels`})}})}addTables(F,C){const w=new I;C.worksheets.forEach(E=>{const{tables:A}=E;A.forEach(j=>{w.prepare(j,{});const R=w.toXml(j);F.append(R,{name:"xl/tables/"+j.target})})})}async addContentTypes(F,C){const w=new _().toXml(C);F.append(w,{name:"[Content_Types].xml"})}async addApp(F,C){const w=new k().toXml(C);F.append(w,{name:"docProps/app.xml"})}async addCore(F,C){const w=new m;F.append(w.toXml(C),{name:"docProps/core.xml"})}async addThemes(F,C){const w=C.themes||{theme1:z};Object.keys(w).forEach(E=>{const A=w[E],j=`xl/theme/${E}.xml`;F.append(A,{name:j})})}async addOfficeRels(F){const C=new v().toXml([{Id:"rId1",Type:$.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:$.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:$.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);F.append(C,{name:"_rels/.rels"})}async addWorkbookRels(F,C){let w=1;const E=[{Id:"rId"+w++,Type:$.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:$.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&E.push({Id:"rId"+w++,Type:$.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(j=>{j.rId="rId"+w++,E.push({Id:j.rId,Type:$.RelType.Worksheet,Target:`worksheets/sheet${j.id}.xml`})});const A=new v().toXml(E);F.append(A,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(F,C){C.sharedStrings&&C.sharedStrings.count&&F.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(F,C){const{xml:w}=C.styles;w&&F.append(w,{name:"xl/styles.xml"})}async addWorkbook(F,C){const w=new N;F.append(w.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(F,C){const w=new P,E=new v,A=new B,j=new L;C.worksheets.forEach(R=>{let q=new d;w.render(q,R),F.append(q.xml,{name:`xl/worksheets/sheet${R.id}.xml`}),R.rels&&R.rels.length&&(q=new d,E.render(q,R.rels),F.append(q.xml,{name:`xl/worksheets/_rels/sheet${R.id}.xml.rels`})),R.comments.length>0&&(q=new d,A.render(q,R),F.append(q.xml,{name:`xl/comments${R.id}.xml`}),q=new d,j.render(q,R),F.append(q.xml,{name:`xl/drawings/vmlDrawing${R.id}.vml`}))})}_finalize(F){return new Promise((C,w)=>{F.on("finish",()=>{C(this)}),F.on("error",w),F.finalize()})}prepareModel(F,C){F.creator=F.creator||"ExcelJS",F.lastModifiedBy=F.lastModifiedBy||"ExcelJS",F.created=F.created||new Date,F.modified=F.modified||new Date,F.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,F.useStyles=C.useStyles===void 0||C.useStyles,F.sharedStrings=new x,F.styles=F.useStyles?new y(!0):new y.Mock;const w=new N,E=new P;w.prepare(F);const A={sharedStrings:F.sharedStrings,styles:F.styles,date1904:F.properties.date1904,drawingsCount:0,media:F.media};A.drawings=F.drawings=[],A.commentRefs=F.commentRefs=[];let j=0;F.tables=[],F.worksheets.forEach(R=>{R.tables.forEach(q=>{j++,q.target=`table${j}.xml`,q.id=j,F.tables.push(q)}),E.prepare(R,A)})}async write(F,C){C=C||{};const{model:w}=this.workbook,E=new u.ZipWriter(C.zip);return E.pipe(F),this.prepareModel(w,C),await this.addContentTypes(E,w),await this.addOfficeRels(E,w),await this.addWorkbookRels(E,w),await this.addWorksheets(E,w),await this.addSharedStrings(E,w),await this.addDrawings(E,w),await this.addTables(E,w),await Promise.all([this.addThemes(E,w),this.addStyles(E,w)]),await this.addMedia(E,w),await Promise.all([this.addApp(E,w),this.addCore(E,w)]),await this.addWorkbook(E,w),this._finalize(E)}writeFile(F,C){const w=c.createWriteStream(F);return new Promise((E,A)=>{w.on("finish",()=>{E()}),w.on("error",j=>{A(j)}),this.write(w,C).then(()=>{w.end()}).catch(j=>{A(j)})})}async writeBuffer(F){const C=new f;return await this.write(C,F),C.read()}}$.RelType=t("./rel-type"),n.exports=$}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const s=t("stream"),c=t("./formatter");class l extends s.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new c.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(g,y)=>g?(d=!0,h(g)):(y&&y.forEach(m=>{this.push(a.from(m,"utf8"))}),d=!0,h()))}catch(g){if(d)throw g;h(g)}}_flush(u){this.rowFormatter.finish((f,h)=>f?u(f):(h&&h.forEach(d=>{this.push(a.from(d,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=a.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,n,i){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const s=a(t("lodash.isboolean")),c=a(t("lodash.isnil")),l=a(t("lodash.escaperegexp"));i.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${l.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(f)?f:Array.isArray(f)?f[o]:this._headers!==null&&f[this._headers[o]]}format(o,u,f){const h=(""+(c.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(h):h}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,n,i){var a=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const s=a(t("lodash.isfunction")),c=a(t("lodash.isequal")),l=t("./FieldFormatter"),o=t("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return o.isSyncTransform(h)?(d,g)=>{let y=null;try{y=h(d)}catch(m){return g(m)}return g(null,y)}:(d,g)=>{h(d,g)}}set rowTransform(h){if(!s.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,d){this.callTransformer(h,(g,y)=>{if(g)return d(g);if(!h)return d(null);const m=[];if(y){const{shouldFormatColumns:x,headers:v}=this.checkHeaders(y);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),x){const _=this.gatherColumns(y);m.push(this.formatColumns(_,!1))}}return d(null,m)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((d,g)=>{const y=h[g];return y?y[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,g)=>h[g]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const g=h.map((m,x)=>this.fieldFormatter.format(m,x,d)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var a=t("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var s=t("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,n,i){(function(a){(function(){var s=Object.create?function(x,v,_,k){k===void 0&&(k=_),Object.defineProperty(x,k,{enumerable:!0,get:function(){return v[_]}})}:function(x,v,_,k){k===void 0&&(k=_),x[k]=v[_]},c=Object.create?function(x,v){Object.defineProperty(x,"default",{enumerable:!0,value:v})}:function(x,v){x.default=v},l=function(x){if(x&&x.__esModule)return x;var v={};if(x!=null)for(var _ in x)_!=="default"&&Object.prototype.hasOwnProperty.call(x,_)&&s(v,x,_);return c(v,x),v},o=function(x,v){for(var _ in x)_==="default"||Object.prototype.hasOwnProperty.call(v,_)||s(v,x,_)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=t("util"),f=t("stream"),h=l(t("fs")),d=t("./FormatterOptions"),g=t("./CsvFormatterStream");o(t("./types"),i);var y=t("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=t("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),i.format=x=>new g.CsvFormatterStream(new d.FormatterOptions(x)),i.write=(x,v)=>{const _=i.format(v),k=u.promisify((N,P)=>{_.write(N,void 0,P)});return x.reduce((N,P)=>N.then(()=>k(P)),Promise.resolve()).then(()=>_.end()).catch(N=>{_.emit("error",N)}),_},i.writeToStream=(x,v,_)=>i.write(v,_).pipe(x),i.writeToBuffer=function(x){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _=[],k=new f.Writable({write(N,P,D){_.push(N),D()}});return new Promise((N,P)=>{k.on("error",P).on("finish",()=>N(a.concat(_))),i.write(x,v).pipe(k)})},i.writeToString=(x,v)=>i.writeToBuffer(x,v).then(_=>_.toString()),i.writeToPath=(x,v,_)=>{const k=h.createWriteStream(x,{encoding:"utf8"});return i.write(v,_).pipe(k)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1},{}],153:[function(t,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const s=t("string_decoder"),c=t("stream"),l=t("./transforms"),o=t("./parser");class u extends c.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new o.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new s.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,g=new Array(d>1?d-1:0),y=1;y<d;y++)g[y-1]=arguments[y];return super.emit(h,...g)}_transform(h,d,g){if(this.hasHitRowLimit)return g();const y=u.wrapDoneCallback(g);try{const{lines:m}=this,x=m+this.decoder.write(h),v=this.parse(x,!0);return this.processRows(v,y)}catch(m){return y(m)}}_flush(h){const d=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,d)}catch(g){return d(g)}}parse(h,d){if(!h)return[];const{line:g,rows:y}=this.parser.parse(h,d);return this.lines=g,y}processRows(h,d){const g=h.length,y=m=>{const x=k=>k?d(k):m%100!=0?y(m+1):void a(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return x();const v=h[m];this.rowCount+=1,this.parsedRowCount+=1;const _=this.rowCount;return this.transformRow(v,(k,N)=>{if(k)return this.rowCount-=1,x(k);if(!N)return x(new Error("expected transform result"));if(N.isValid){if(N.row)return this.pushRow(N.row,x)}else this.emit("data-invalid",N.row,_,N.reason);return x()})};y(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(g,y)=>g?d(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(g){d(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(g){d(g)}}static wrapDoneCallback(h){let d=!1;return function(g){if(g){if(d)throw g;return d=!0,void h(g)}for(var y=arguments.length,m=new Array(y>1?y-1:0),x=1;x<y;x++)m[x-1]=arguments[x];h(...m)}}}i.CsvParserStream=u}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,n,i){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const s=a(t("lodash.escaperegexp")),c=a(t("lodash.isnil"));i.ParserOptions=class{constructor(l){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,n,i){var a=Object.create?function(y,m,x,v){v===void 0&&(v=x),Object.defineProperty(y,v,{enumerable:!0,get:function(){return m[x]}})}:function(y,m,x,v){v===void 0&&(v=x),y[v]=m[x]},s=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},c=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var x in y)x!=="default"&&Object.prototype.hasOwnProperty.call(y,x)&&a(m,y,x);return s(m,y),m},l=function(y,m){for(var x in y)x==="default"||Object.prototype.hasOwnProperty.call(m,x)||a(m,y,x)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const o=c(t("fs")),u=t("stream"),f=t("./ParserOptions"),h=t("./CsvParserStream");l(t("./types"),i);var d=t("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var g=t("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),i.parse=y=>new h.CsvParserStream(new f.ParserOptions(y)),i.parseStream=(y,m)=>y.pipe(new h.CsvParserStream(new f.ParserOptions(m))),i.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(y).pipe(new h.CsvParserStream(new f.ParserOptions(m)))},i.parseString=(y,m)=>{const x=new u.Readable;return x.push(y),x.push(null),x.pipe(new h.CsvParserStream(new f.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const a=t("./Scanner"),s=t("./RowParser"),c=t("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const h=new a.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const f=[];let h=!0;for(;h;)h=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,h=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(c.Token.isTokenComment(d,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(h)||f.push(h),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const a=t("./column"),s=t("./Token");i.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new a.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:l}=this,{hasMoreData:o}=c,u=c,f=[];let h=this.getStartToken(u,f);for(;h;){if(s.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&s.Token.isTokenCarriageReturn(h,l)&&o?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,h,f)){const d=this.columnParser.parse(u);if(d===null)return null;f.push(d)}h=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),f)}getStartToken(c,l){const o=c.nextNonSpaceToken;return o!==null&&s.Token.isTokenDelimiter(o,this.parserOptions)?(l.push(""),c.nextNonSpaceToken):o}shouldSkipColumnParse(c,l,o){const{parserOptions:u}=this;if(s.Token.isTokenDelimiter(l,u)){c.advancePastToken(l);const f=c.nextCharacterToken;if(!c.hasMoreCharacters||f!==null&&s.Token.isTokenRowDelimiter(f)||f!==null&&s.Token.isTokenDelimiter(f,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const a=t("./Token"),s=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(l)===-1)return null;const o=l.exec(c);if(o==null)return null;const u=o[1],f=this.cursor+(o.index||0);return new a.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:l}=this;return l<=c?null:new a.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=s.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const s=a.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(a,s){return a.token===s.carriageReturn}static isTokenComment(a,s){return s.supportsComments&&!!a&&a.token===s.comment}static isTokenEscapeCharacter(a,s){return a.token===s.escapeChar}static isTokenQuote(a,s){return a.token===s.quote}static isTokenDelimiter(a,s){return a.token===s.delimiter}}},{}],160:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(a){a.trim?this.format=s=>s.trim():a.ltrim?this.format=s=>s.trimLeft():a.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const a=t("./NonQuotedColumnParser"),s=t("./QuotedColumnParser"),c=t("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new s.QuotedColumnParser(l),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:o}=l;return o!==null&&c.Token.isTokenQuote(o,this.parserOptions)?(l.advanceToToken(o),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const a=t("./ColumnFormatter"),s=t("../Token");i.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:l}=this,o=[];let u=c.nextCharacterToken;for(;u&&!s.Token.isTokenDelimiter(u,l)&&!s.Token.isTokenRowDelimiter(u);u=c.nextCharacterToken)o.push(u.token),c.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const a=t("./ColumnFormatter"),s=t("../Token");i.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const l=c.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(c);if(!o){if(c.advanceTo(l),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),u}gatherDataBetweenQuotes(c){const{parserOptions:l}=this;let o=!1,u=!1;const f=[];let h=c.nextCharacterToken;for(;!u&&h!==null;h=c.nextCharacterToken){const d=s.Token.isTokenQuote(h,l);if(!o&&d)o=!0;else if(o)if(s.Token.isTokenEscapeCharacter(h,l)){c.advancePastToken(h);const g=c.nextCharacterToken;g!==null&&(s.Token.isTokenQuote(g,l)||s.Token.isTokenEscapeCharacter(g,l))?(f.push(g.token),h=g):d?u=!0:f.push(h.token)}else d?u=!0:f.push(h.token);c.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(c){const{parserOptions:l}=this,{nextNonSpaceToken:o}=c;if(o){const u=s.Token.isTokenDelimiter(o,l),f=s.Token.isTokenRowDelimiter(o);if(!u&&!f){const h=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${o.token}'. at '${h}`)}c.advanceToToken(o)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var a=t("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var s=t("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var c=t("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var l=t("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var a=t("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=t("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var c=t("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var l=t("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var o=t("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,n,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const s=a(t("lodash.isundefined")),c=a(t("lodash.isfunction")),l=a(t("lodash.uniq")),o=a(t("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):c.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:h,headersLength:d}=this;for(let g=0;g<d;g+=1){const y=h[g];if(!s.default(y)){const m=u[g];s.default(m)?f[y]="":f[y]=m}}return f}setHeaders(u){var f;const h=u.filter(d=>!!d);if(l.default(h).length!==h.length){const d=o.default(h),g=Object.keys(d).filter(y=>d[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,n,i){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const s=a(t("lodash.isfunction")),c=t("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return c.isSyncTransform(u)?(f,h)=>{let d=null;try{d=u(f)}catch(g){return h(g)}return h(null,d)}:u}static createValidator(u){return c.isSyncValidate(u)?(f,h)=>{h(null,{row:f,isValid:u(f)})}:(f,h)=>{u(f,(d,g,y)=>d?h(d):h(null,g?{row:f,isValid:g,reason:y}:{row:f,isValid:!1,reason:y}))}}set rowTransform(u){if(!s.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!s.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(h,d)=>h?f(h):d?this.callValidator(d,(g,y)=>g?f(g):y&&!y.isValid?f(null,{row:d,isValid:!1,reason:y.reason}):f(null,{row:d,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var a=t("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var s=t("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1,i.isSyncValidate=a=>a.length===1},{}],170:[function(t,n,i){const a=i;a.bignum=t("bn.js"),a.define=t("./asn1/api").define,a.base=t("./asn1/base"),a.constants=t("./asn1/constants"),a.decoders=t("./asn1/decoders"),a.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,n,i){const a=t("./encoders"),s=t("./decoders"),c=t("inherits");function l(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}i.define=function(o,u){return new l(o,u)},l.prototype._createNamed=function(o){const u=this.name;function f(h){this._initNamed(h,u)}return c(f,o),f.prototype._initNamed=function(h,d){o.call(this,h,d)},new f(this)},l.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(s[o])),this.decoders[o]},l.prototype.decode=function(o,u,f){return this._getDecoder(u).decode(o,f)},l.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(a[o])),this.encoders[o]},l.prototype.encode=function(o,u,f){return this._getEncoder(u).encode(o,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,n,i){const a=t("inherits"),s=t("../base/reporter").Reporter,c=t("safer-buffer").Buffer;function l(u,f){s.call(this,f),c.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,f){if(Array.isArray(u))this.length=0,this.value=u.map((function(h){return o.isEncoderBuffer(h)||(h=new o(h,f)),this.length+=h.length,h}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=c.byteLength(u);else{if(!c.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}a(l,s),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&c.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},l.prototype.restore=function(u){const f=new l(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,s.prototype.restore.call(this,u.reporter),f},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,f){return u||(u=c.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(h){h.join(u,f),f+=h.length})):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):c.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,n,i){const a=i;a.Reporter=t("./reporter").Reporter,a.DecoderBuffer=t("./buffer").DecoderBuffer,a.EncoderBuffer=t("./buffer").EncoderBuffer,a.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,n,i){const a=t("../base/reporter").Reporter,s=t("../base/buffer").EncoderBuffer,c=t("../base/buffer").DecoderBuffer,l=t("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function f(d,g,y){const m={};this._baseState=m,m.name=y,m.enc=d,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const d=this._baseState,g={};h.forEach((function(m){g[m]=d[m]}));const y=new this.constructor(g.parent);return y._baseState=g,y},f.prototype._wrap=function(){const d=this._baseState;u.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return d.children.push(y),y[g].apply(y,arguments)}}),this)},f.prototype._init=function(d){const g=this._baseState;l(g.parent===null),d.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),l.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){const g=this._baseState,y=d.filter((function(m){return m instanceof this.constructor}),this);d=d.filter((function(m){return!(m instanceof this.constructor)}),this),y.length!==0&&(l(g.children===null),g.children=y,y.forEach((function(m){m._baseState.parent=this}),this)),d.length!==0&&(l(g.args===null),g.args=d,g.reverseArgs=d.map((function(m){if(typeof m!="object"||m.constructor!==Object)return m;const x={};return Object.keys(m).forEach((function(v){v==(0|v)&&(v|=0);const _=m[v];x[_]=v})),x})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){f.prototype[d]=function(){const g=this._baseState;throw new Error(d+" not implemented for encoding: "+g.enc)}})),o.forEach((function(d){f.prototype[d]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return l(g.tag===null),g.tag=d,this._useArgs(y),this}})),f.prototype.use=function(d){l(d);const g=this._baseState;return l(g.use===null),g.use=d,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(d){const g=this._baseState;return l(g.default===null),g.default=d,g.optional=!0,this},f.prototype.explicit=function(d){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.explicit=d,this},f.prototype.implicit=function(d){const g=this._baseState;return l(g.explicit===null&&g.implicit===null),g.implicit=d,this},f.prototype.obj=function(){const d=this._baseState,g=Array.prototype.slice.call(arguments);return d.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(d){const g=this._baseState;return l(g.key===null),g.key=d,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(d){const g=this._baseState;return l(g.choice===null),g.choice=d,this._useArgs(Object.keys(d).map((function(y){return d[y]}))),this},f.prototype.contains=function(d){const g=this._baseState;return l(g.use===null),g.contains=d,this},f.prototype._decode=function(d,g){const y=this._baseState;if(y.parent===null)return d.wrapResult(y.children[0]._decode(d,g));let m,x=y.default,v=!0,_=null;if(y.key!==null&&(_=d.enterKey(y.key)),y.optional){let k=null;if(y.explicit!==null?k=y.explicit:y.implicit!==null?k=y.implicit:y.tag!==null&&(k=y.tag),k!==null||y.any){if(v=this._peekTag(d,k,y.any),d.isError(v))return v}else{const N=d.save();try{y.choice===null?this._decodeGeneric(y.tag,d,g):this._decodeChoice(d,g),v=!0}catch{v=!1}d.restore(N)}}if(y.obj&&v&&(m=d.enterObject()),v){if(y.explicit!==null){const N=this._decodeTag(d,y.explicit);if(d.isError(N))return N;d=N}const k=d.offset;if(y.use===null&&y.choice===null){let N;y.any&&(N=d.save());const P=this._decodeTag(d,y.implicit!==null?y.implicit:y.tag,y.any);if(d.isError(P))return P;y.any?x=d.raw(N):d=P}if(g&&g.track&&y.tag!==null&&g.track(d.path(),k,d.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(d.path(),d.offset,d.length,"content"),y.any||(x=y.choice===null?this._decodeGeneric(y.tag,d,g):this._decodeChoice(d,g)),d.isError(x))return x;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(N){N._decode(d,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const N=new c(x);x=this._getUse(y.contains,d._reporterState.obj)._decode(N,g)}}return y.obj&&v&&(x=d.leaveObject(m)),y.key===null||x===null&&v!==!0?_!==null&&d.exitKey(_):d.leaveKey(_,y.key,x),x},f.prototype._decodeGeneric=function(d,g,y){const m=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(g,d,m.args[0],y):/str$/.test(d)?this._decodeStr(g,d,y):d==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],y):d==="objid"?this._decodeObjid(g,null,null,y):d==="gentime"||d==="utctime"?this._decodeTime(g,d,y):d==="null_"?this._decodeNull(g,y):d==="bool"?this._decodeBool(g,y):d==="objDesc"?this._decodeStr(g,d,y):d==="int"||d==="enum"?this._decodeInt(g,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+d)},f.prototype._getUse=function(d,g){const y=this._baseState;return y.useDecoder=this._use(d,g),l(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},f.prototype._decodeChoice=function(d,g){const y=this._baseState;let m=null,x=!1;return Object.keys(y.choice).some((function(v){const _=d.save(),k=y.choice[v];try{const N=k._decode(d,g);if(d.isError(N))return!1;m={type:v,value:N},x=!0}catch{return d.restore(_),!1}return!0}),this),x?m:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new s(d,this.reporter)},f.prototype._encode=function(d,g,y){const m=this._baseState;if(m.default!==null&&m.default===d)return;const x=this._encodeValue(d,g,y);return x===void 0||this._skipDefault(x,g,y)?void 0:x},f.prototype._encodeValue=function(d,g,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(d,g||new a);let x=null;if(this.reporter=g,m.optional&&d===void 0){if(m.default===null)return;d=m.default}let v=null,_=!1;if(m.any)x=this._createEncoderBuffer(d);else if(m.choice)x=this._encodeChoice(d,g);else if(m.contains)v=this._getUse(m.contains,y)._encode(d,g),_=!0;else if(m.children)v=m.children.map((function(k){if(k._baseState.tag==="null_")return k._encode(null,g,d);if(k._baseState.key===null)return g.error("Child should have a key");const N=g.enterKey(k._baseState.key);if(typeof d!="object")return g.error("Child expected, but input is not object");const P=k._encode(d[k._baseState.key],g,d);return g.leaveKey(N),P}),this).filter((function(k){return k})),v=this._createEncoderBuffer(v);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(d))return g.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,v=this._createEncoderBuffer(d.map((function(N){const P=this._baseState;return this._getUse(P.args[0],d)._encode(N,g)}),k))}else m.use!==null?x=this._getUse(m.use,y)._encode(d,g):(v=this._encodePrimitive(m.tag,d),_=!0);if(!m.any&&m.choice===null){const k=m.implicit!==null?m.implicit:m.tag,N=m.implicit===null?"universal":"context";k===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(x=this._encodeComposite(k,_,N,v))}return m.explicit!==null&&(x=this._encodeComposite(m.explicit,!1,"context",x)),x},f.prototype._encodeChoice=function(d,g){const y=this._baseState,m=y.choice[d.type];return m||l(!1,d.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(d.value,g)},f.prototype._encodePrimitive=function(d,g){const y=this._baseState;if(/str$/.test(d))return this._encodeStr(g,d);if(d==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(d==="objid")return this._encodeObjid(g,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(g,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(d==="bool")return this._encodeBool(g);if(d==="objDesc")return this._encodeStr(g,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,n,i){const a=t("inherits");function s(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function c(l,o){this.path=l,this.rethrow(o)}i.Reporter=s,s.prototype.isError=function(l){return l instanceof c},s.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},s.prototype.restore=function(l){const o=this._reporterState;o.obj=l.obj,o.path=o.path.slice(0,l.pathLen)},s.prototype.enterKey=function(l){return this._reporterState.path.push(l)},s.prototype.exitKey=function(l){const o=this._reporterState;o.path=o.path.slice(0,l-1)},s.prototype.leaveKey=function(l,o,u){const f=this._reporterState;this.exitKey(l),f.obj!==null&&(f.obj[o]=u)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const l=this._reporterState,o=l.obj;return l.obj={},o},s.prototype.leaveObject=function(l){const o=this._reporterState,u=o.obj;return o.obj=l,u},s.prototype.error=function(l){let o;const u=this._reporterState,f=l instanceof c;if(o=f?l:new c(u.path.map((function(h){return"["+JSON.stringify(h)+"]"})).join(""),l.message||l,l.stack),!u.options.partial)throw o;return f||u.errors.push(o),o},s.prototype.wrapResult=function(l){const o=this._reporterState;return o.options.partial?{result:this.isError(l)?null:l,errors:o.errors}:l},a(c,Error),c.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(t,n,i){function a(s){const c={};return Object.keys(s).forEach((function(l){(0|l)==l&&(l|=0);const o=s[l];c[o]=l})),c}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],177:[function(t,n,i){const a=i;a._reverse=function(s){const c={};return Object.keys(s).forEach((function(l){(0|l)==l&&(l|=0);const o=s[l];c[o]=l})),c},a.der=t("./der")},{"./der":176}],178:[function(t,n,i){const a=t("inherits"),s=t("bn.js"),c=t("../base/buffer").DecoderBuffer,l=t("../base/node"),o=t("../constants/der");function u(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new f,this.tree._init(g.body)}function f(g){l.call(this,"der",g)}function h(g,y){let m=g.readUInt8(y);if(g.isError(m))return m;const x=o.tagClass[m>>6],v=(32&m)==0;if((31&m)==31){let _=m;for(m=0;(128&_)==128;){if(_=g.readUInt8(y),g.isError(_))return _;m<<=7,m|=127&_}}else m&=31;return{cls:x,primitive:v,tag:m,tagStr:o.tag[m]}}function d(g,y,m){let x=g.readUInt8(m);if(g.isError(x))return x;if(!y&&x===128)return null;if((128&x)==0)return x;const v=127&x;if(v>4)return g.error("length octect is too long");x=0;for(let _=0;_<v;_++){x<<=8;const k=g.readUInt8(m);if(g.isError(k))return k;x|=k}return x}n.exports=u,u.prototype.decode=function(g,y){return c.isDecoderBuffer(g)||(g=new c(g,y)),this.tree._decode(g,y)},a(f,l),f.prototype._peekTag=function(g,y,m){if(g.isEmpty())return!1;const x=g.save(),v=h(g,'Failed to peek tag: "'+y+'"');return g.isError(v)?v:(g.restore(x),v.tag===y||v.tagStr===y||v.tagStr+"of"===y||m)},f.prototype._decodeTag=function(g,y,m){const x=h(g,'Failed to decode tag of "'+y+'"');if(g.isError(x))return x;let v=d(g,x.primitive,'Failed to get length of "'+y+'"');if(g.isError(v))return v;if(!m&&x.tag!==y&&x.tagStr!==y&&x.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(x.primitive||v!==null)return g.skip(v,'Failed to match body of: "'+y+'"');const _=g.save(),k=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(k)?k:(v=g.offset-_.offset,g.restore(_),g.skip(v,'Failed to match body of: "'+y+'"'))},f.prototype._skipUntilEnd=function(g,y){for(;;){const m=h(g,y);if(g.isError(m))return m;const x=d(g,m.primitive,y);if(g.isError(x))return x;let v;if(v=m.primitive||x!==null?g.skip(x):this._skipUntilEnd(g,y),g.isError(v))return v;if(m.tagStr==="end")break}},f.prototype._decodeList=function(g,y,m,x){const v=[];for(;!g.isEmpty();){const _=this._peekTag(g,"end");if(g.isError(_))return _;const k=m.decode(g,"der",x);if(g.isError(k)&&_)break;v.push(k)}return v},f.prototype._decodeStr=function(g,y){if(y==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(y==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let x="";for(let v=0;v<m.length/2;v++)x+=String.fromCharCode(m.readUInt16BE(2*v));return x}if(y==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},f.prototype._decodeObjid=function(g,y,m){let x;const v=[];let _=0,k=0;for(;!g.isEmpty();)k=g.readUInt8(),_<<=7,_|=127&k,(128&k)==0&&(v.push(_),_=0);128&k&&v.push(_);const N=v[0]/40|0,P=v[0]%40;if(x=m?v:[N,P].concat(v.slice(1)),y){let D=y[x.join(" ")];D===void 0&&(D=y[x.join(".")]),D!==void 0&&(x=D)}return x},f.prototype._decodeTime=function(g,y){const m=g.raw().toString();let x,v,_,k,N,P;if(y==="gentime")x=0|m.slice(0,4),v=0|m.slice(4,6),_=0|m.slice(6,8),k=0|m.slice(8,10),N=0|m.slice(10,12),P=0|m.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");x=0|m.slice(0,2),v=0|m.slice(2,4),_=0|m.slice(4,6),k=0|m.slice(6,8),N=0|m.slice(8,10),P=0|m.slice(10,12),x=x<70?2e3+x:1900+x}return Date.UTC(x,v-1,_,k,N,P,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},f.prototype._decodeInt=function(g,y){const m=g.raw();let x=new s(m);return y&&(x=y[x.toString(10)]||x),x},f.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,n,i){const a=i;a.der=t("./der"),a.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,n,i){const a=t("inherits"),s=t("safer-buffer").Buffer,c=t("./der");function l(o){c.call(this,o),this.enc="pem"}a(l,c),n.exports=l,l.prototype.decode=function(o,u){const f=o.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let v=0;v<f.length;v++){const _=f[v].match(d);if(_!==null&&_[2]===h){if(g!==-1){if(_[1]!=="END")break;y=v;break}if(_[1]!=="BEGIN")break;g=v}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+h);const m=f.slice(g+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const x=s.from(m,"base64");return c.prototype.decode.call(this,x,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,n,i){const a=t("inherits"),s=t("safer-buffer").Buffer,c=t("../base/node"),l=t("../constants/der");function o(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){c.call(this,"der",h)}function f(h){return h<10?"0"+h:h}n.exports=o,o.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},a(u,c),u.prototype._encodeComposite=function(h,d,g,y){const m=(function(_,k,N,P){let D;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),l.tagByName.hasOwnProperty(_))D=l.tagByName[_];else{if(typeof _!="number"||(0|_)!==_)return P.error("Unknown tag: "+_);D=_}return D>=31?P.error("Multi-octet tag encoding unsupported"):(k||(D|=32),D|=l.tagClassByName[N||"universal"]<<6,D)})(h,d,g,this.reporter);if(y.length<128){const _=s.alloc(2);return _[0]=m,_[1]=y.length,this._createEncoderBuffer([_,y])}let x=1;for(let _=y.length;_>=256;_>>=8)x++;const v=s.alloc(2+x);v[0]=m,v[1]=128|x;for(let _=1+x,k=y.length;k>0;_--,k>>=8)v[_]=255&k;return this._createEncoderBuffer([v,y])},u.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const g=s.alloc(2*h.length);for(let y=0;y<h.length;y++)g.writeUInt16BE(h.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(h,d,g){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let v=0;v<h.length;v++)h[v]|=0}else if(Array.isArray(h)){h=h.slice();for(let v=0;v<h.length;v++)h[v]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!g){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let y=0;for(let v=0;v<h.length;v++){let _=h[v];for(y++;_>=128;_>>=7)y++}const m=s.alloc(y);let x=m.length-1;for(let v=h.length-1;v>=0;v--){let _=h[v];for(m[x--]=127&_;(_>>=7)>0;)m[x--]=128|127&_}return this._createEncoderBuffer(m)},u.prototype._encodeTime=function(h,d){let g;const y=new Date(h);return d==="gentime"?g=[f(y.getUTCFullYear()),f(y.getUTCMonth()+1),f(y.getUTCDate()),f(y.getUTCHours()),f(y.getUTCMinutes()),f(y.getUTCSeconds()),"Z"].join(""):d==="utctime"?g=[f(y.getUTCFullYear()%100),f(y.getUTCMonth()+1),f(y.getUTCDate()),f(y.getUTCHours()),f(y.getUTCMinutes()),f(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(g,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!s.isBuffer(h)){const m=h.toArray();!h.sign&&128&m[0]&&m.unshift(0),h=s.from(m)}if(s.isBuffer(h)){let m=h.length;h.length===0&&m++;const x=s.alloc(m);return h.copy(x),h.length===0&&(x[0]=0),this._createEncoderBuffer(x)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let g=1;for(let m=h;m>=256;m>>=8)g++;const y=new Array(g);for(let m=y.length-1;m>=0;m--)y[m]=255&h,h>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(s.from(y))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,d,g){const y=this._baseState;let m;if(y.default===null)return!1;const x=h.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,d,g).join()),x.length!==y.defaultBuffer.length)return!1;for(m=0;m<x.length;m++)if(x[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,n,i){const a=i;a.der=t("./der"),a.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,n,i){const a=t("inherits"),s=t("./der");function c(l){s.call(this,l),this.enc="pem"}a(c,s),n.exports=c,c.prototype.encode=function(l,o){const u=s.prototype.encode.call(this,l).toString("base64"),f=["-----BEGIN "+o.label+"-----"];for(let h=0;h<u.length;h+=64)f.push(u.slice(h,h+64));return f.push("-----END "+o.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,n,i){(function(a,s){function c(O,F){if(!O)throw new Error(F||"Assertion failed")}function l(O,F){O.super_=F;var C=function(){};C.prototype=F.prototype,O.prototype=new C,O.prototype.constructor=O}function o(O,F,C){if(o.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&(F!=="le"&&F!=="be"||(C=F,F=10),this._init(O||0,F||10,C||"be"))}var u;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(O,F){var C=O.charCodeAt(F);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function h(O,F,C){var w=f(O,C);return C-1>=F&&(w|=f(O,C-1)<<4),w}function d(O,F,C,w){for(var E=0,A=Math.min(O.length,C),j=F;j<A;j++){var R=O.charCodeAt(j)-48;E*=w,E+=R>=49?R-49+10:R>=17?R-17+10:R}return E}o.isBN=function(O){return O instanceof o||O!==null&&typeof O=="object"&&O.constructor.wordSize===o.wordSize&&Array.isArray(O.words)},o.max=function(O,F){return O.cmp(F)>0?O:F},o.min=function(O,F){return O.cmp(F)<0?O:F},o.prototype._init=function(O,F,C){if(typeof O=="number")return this._initNumber(O,F,C);if(typeof O=="object")return this._initArray(O,F,C);F==="hex"&&(F=16),c(F===(0|F)&&F>=2&&F<=36);var w=0;(O=O.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<O.length&&(F===16?this._parseHex(O,w,C):(this._parseBase(O,F,w),C==="le"&&this._initArray(this.toArray(),F,C)))},o.prototype._initNumber=function(O,F,C){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[67108863&O],this.length=1):O<4503599627370496?(this.words=[67108863&O,O/67108864&67108863],this.length=2):(c(O<9007199254740992),this.words=[67108863&O,O/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),F,C)},o.prototype._initArray=function(O,F,C){if(c(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var E,A,j=0;if(C==="be")for(w=O.length-1,E=0;w>=0;w-=3)A=O[w]|O[w-1]<<8|O[w-2]<<16,this.words[E]|=A<<j&67108863,this.words[E+1]=A>>>26-j&67108863,(j+=24)>=26&&(j-=26,E++);else if(C==="le")for(w=0,E=0;w<O.length;w+=3)A=O[w]|O[w+1]<<8|O[w+2]<<16,this.words[E]|=A<<j&67108863,this.words[E+1]=A>>>26-j&67108863,(j+=24)>=26&&(j-=26,E++);return this.strip()},o.prototype._parseHex=function(O,F,C){this.length=Math.ceil((O.length-F)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var E,A=0,j=0;if(C==="be")for(w=O.length-1;w>=F;w-=2)E=h(O,F,w)<<A,this.words[j]|=67108863&E,A>=18?(A-=18,j+=1,this.words[j]|=E>>>26):A+=8;else for(w=(O.length-F)%2==0?F+1:F;w<O.length;w+=2)E=h(O,F,w)<<A,this.words[j]|=67108863&E,A>=18?(A-=18,j+=1,this.words[j]|=E>>>26):A+=8;this.strip()},o.prototype._parseBase=function(O,F,C){this.words=[0],this.length=1;for(var w=0,E=1;E<=67108863;E*=F)w++;w--,E=E/F|0;for(var A=O.length-C,j=A%w,R=Math.min(A,A-j)+C,q=0,H=C;H<R;H+=w)q=d(O,H,H+w,F),this.imuln(E),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(j!==0){var Y=1;for(q=d(O,H,O.length,F),H=0;H<j;H++)Y*=F;this.imuln(Y),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},o.prototype.copy=function(O){O.words=new Array(this.length);for(var F=0;F<this.length;F++)O.words[F]=this.words[F];O.length=this.length,O.negative=this.negative,O.red=this.red},o.prototype.clone=function(){var O=new o(null);return this.copy(O),O},o.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(O,F,C){C.negative=F.negative^O.negative;var w=O.length+F.length|0;C.length=w,w=w-1|0;var E=0|O.words[0],A=0|F.words[0],j=E*A,R=67108863&j,q=j/67108864|0;C.words[0]=R;for(var H=1;H<w;H++){for(var Y=q>>>26,Z=67108863&q,te=Math.min(H,F.length-1),W=Math.max(0,H-O.length+1);W<=te;W++){var ee=H-W|0;Y+=(j=(E=0|O.words[ee])*(A=0|F.words[W])+Z)/67108864|0,Z=67108863&j}C.words[H]=0|Z,q=0|Y}return q!==0?C.words[H]=0|q:C.length--,C.strip()}o.prototype.toString=function(O,F){var C;if(F=0|F||1,(O=O||10)===16||O==="hex"){C="";for(var w=0,E=0,A=0;A<this.length;A++){var j=this.words[A],R=(16777215&(j<<w|E)).toString(16);C=(E=j>>>24-w&16777215)!==0||A!==this.length-1?g[6-R.length]+R+C:R+C,(w+=2)>=26&&(w-=26,A--)}for(E!==0&&(C=E.toString(16)+C);C.length%F!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(O===(0|O)&&O>=2&&O<=36){var q=y[O],H=m[O];C="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Z=Y.modn(H).toString(O);C=(Y=Y.idivn(H)).isZero()?Z+C:g[q-Z.length]+Z+C}for(this.isZero()&&(C="0"+C);C.length%F!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=67108864*this.words[1]:this.length===3&&this.words[2]===1?O+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(O,F){return c(u!==void 0),this.toArrayLike(u,O,F)},o.prototype.toArray=function(O,F){return this.toArrayLike(Array,O,F)},o.prototype.toArrayLike=function(O,F,C){var w=this.byteLength(),E=C||Math.max(1,w);c(w<=E,"byte array longer than desired length"),c(E>0,"Requested array length <= 0"),this.strip();var A,j,R=F==="le",q=new O(E),H=this.clone();if(R){for(j=0;!H.isZero();j++)A=H.andln(255),H.iushrn(8),q[j]=A;for(;j<E;j++)q[j]=0}else{for(j=0;j<E-w;j++)q[j]=0;for(j=0;!H.isZero();j++)A=H.andln(255),H.iushrn(8),q[E-j-1]=A}return q},Math.clz32?o.prototype._countBits=function(O){return 32-Math.clz32(O)}:o.prototype._countBits=function(O){var F=O,C=0;return F>=4096&&(C+=13,F>>>=13),F>=64&&(C+=7,F>>>=7),F>=8&&(C+=4,F>>>=4),F>=2&&(C+=2,F>>>=2),C+F},o.prototype._zeroBits=function(O){if(O===0)return 26;var F=O,C=0;return(8191&F)==0&&(C+=13,F>>>=13),(127&F)==0&&(C+=7,F>>>=7),(15&F)==0&&(C+=4,F>>>=4),(3&F)==0&&(C+=2,F>>>=2),(1&F)==0&&C++,C},o.prototype.bitLength=function(){var O=this.words[this.length-1],F=this._countBits(O);return 26*(this.length-1)+F},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,F=0;F<this.length;F++){var C=this._zeroBits(this.words[F]);if(O+=C,C!==26)break}return O},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},o.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var F=0;F<O.length;F++)this.words[F]=this.words[F]|O.words[F];return this.strip()},o.prototype.ior=function(O){return c((this.negative|O.negative)==0),this.iuor(O)},o.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},o.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},o.prototype.iuand=function(O){var F;F=this.length>O.length?O:this;for(var C=0;C<F.length;C++)this.words[C]=this.words[C]&O.words[C];return this.length=F.length,this.strip()},o.prototype.iand=function(O){return c((this.negative|O.negative)==0),this.iuand(O)},o.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},o.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},o.prototype.iuxor=function(O){var F,C;this.length>O.length?(F=this,C=O):(F=O,C=this);for(var w=0;w<C.length;w++)this.words[w]=F.words[w]^C.words[w];if(this!==F)for(;w<F.length;w++)this.words[w]=F.words[w];return this.length=F.length,this.strip()},o.prototype.ixor=function(O){return c((this.negative|O.negative)==0),this.iuxor(O)},o.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},o.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},o.prototype.inotn=function(O){c(typeof O=="number"&&O>=0);var F=0|Math.ceil(O/26),C=O%26;this._expand(F),C>0&&F--;for(var w=0;w<F;w++)this.words[w]=67108863&~this.words[w];return C>0&&(this.words[w]=~this.words[w]&67108863>>26-C),this.strip()},o.prototype.notn=function(O){return this.clone().inotn(O)},o.prototype.setn=function(O,F){c(typeof O=="number"&&O>=0);var C=O/26|0,w=O%26;return this._expand(C+1),this.words[C]=F?this.words[C]|1<<w:this.words[C]&~(1<<w),this.strip()},o.prototype.iadd=function(O){var F,C,w;if(this.negative!==0&&O.negative===0)return this.negative=0,F=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,F=this.isub(O),O.negative=1,F._normSign();this.length>O.length?(C=this,w=O):(C=O,w=this);for(var E=0,A=0;A<w.length;A++)F=(0|C.words[A])+(0|w.words[A])+E,this.words[A]=67108863&F,E=F>>>26;for(;E!==0&&A<C.length;A++)F=(0|C.words[A])+E,this.words[A]=67108863&F,E=F>>>26;if(this.length=C.length,E!==0)this.words[this.length]=E,this.length++;else if(C!==this)for(;A<C.length;A++)this.words[A]=C.words[A];return this},o.prototype.add=function(O){var F;return O.negative!==0&&this.negative===0?(O.negative=0,F=this.sub(O),O.negative^=1,F):O.negative===0&&this.negative!==0?(this.negative=0,F=O.sub(this),this.negative=1,F):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},o.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var F=this.iadd(O);return O.negative=1,F._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var C,w,E=this.cmp(O);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(C=this,w=O):(C=O,w=this);for(var A=0,j=0;j<w.length;j++)A=(F=(0|C.words[j])-(0|w.words[j])+A)>>26,this.words[j]=67108863&F;for(;A!==0&&j<C.length;j++)A=(F=(0|C.words[j])+A)>>26,this.words[j]=67108863&F;if(A===0&&j<C.length&&C!==this)for(;j<C.length;j++)this.words[j]=C.words[j];return this.length=Math.max(this.length,j),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(O){return this.clone().isub(O)};var v=function(O,F,C){var w,E,A,j=O.words,R=F.words,q=C.words,H=0,Y=0|j[0],Z=8191&Y,te=Y>>>13,W=0|j[1],ee=8191&W,K=W>>>13,V=0|j[2],Q=8191&V,re=V>>>13,oe=0|j[3],ne=8191&oe,le=oe>>>13,me=0|j[4],ge=8191&me,se=me>>>13,fe=0|j[5],he=8191&fe,ve=fe>>>13,xe=0|j[6],_e=8191&xe,Ne=xe>>>13,Re=0|j[7],$e=8191&Re,tt=Re>>>13,et=0|j[8],Ye=8191&et,wt=et>>>13,bt=0|j[9],yt=8191&bt,_t=bt>>>13,Ze=0|R[0],Ue=8191&Ze,at=Ze>>>13,st=0|R[1],rt=8191&st,Wt=st>>>13,yr=0|R[2],vt=8191&yr,ir=yr>>>13,At=0|R[3],jt=8191&At,cr=At>>>13,Gt=0|R[4],Ot=8191&Gt,sr=Gt>>>13,ur=0|R[5],Mt=8191&ur,or=ur>>>13,vr=0|R[6],Dt=8191&vr,we=vr>>>13,Te=0|R[7],Pe=8191&Te,Je=Te>>>13,ct=0|R[8],Ge=8191&ct,ft=ct>>>13,mt=0|R[9],pt=8191&mt,Bt=mt>>>13;C.negative=O.negative^F.negative,C.length=19;var Pt=(H+(w=Math.imul(Z,Ue))|0)+((8191&(E=(E=Math.imul(Z,at))+Math.imul(te,Ue)|0))<<13)|0;H=((A=Math.imul(te,at))+(E>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,w=Math.imul(ee,Ue),E=(E=Math.imul(ee,at))+Math.imul(K,Ue)|0,A=Math.imul(K,at);var Ut=(H+(w=w+Math.imul(Z,rt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,Wt)|0)+Math.imul(te,rt)|0))<<13)|0;H=((A=A+Math.imul(te,Wt)|0)+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,w=Math.imul(Q,Ue),E=(E=Math.imul(Q,at))+Math.imul(re,Ue)|0,A=Math.imul(re,at),w=w+Math.imul(ee,rt)|0,E=(E=E+Math.imul(ee,Wt)|0)+Math.imul(K,rt)|0,A=A+Math.imul(K,Wt)|0;var Or=(H+(w=w+Math.imul(Z,vt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,ir)|0)+Math.imul(te,vt)|0))<<13)|0;H=((A=A+Math.imul(te,ir)|0)+(E>>>13)|0)+(Or>>>26)|0,Or&=67108863,w=Math.imul(ne,Ue),E=(E=Math.imul(ne,at))+Math.imul(le,Ue)|0,A=Math.imul(le,at),w=w+Math.imul(Q,rt)|0,E=(E=E+Math.imul(Q,Wt)|0)+Math.imul(re,rt)|0,A=A+Math.imul(re,Wt)|0,w=w+Math.imul(ee,vt)|0,E=(E=E+Math.imul(ee,ir)|0)+Math.imul(K,vt)|0,A=A+Math.imul(K,ir)|0;var xr=(H+(w=w+Math.imul(Z,jt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,cr)|0)+Math.imul(te,jt)|0))<<13)|0;H=((A=A+Math.imul(te,cr)|0)+(E>>>13)|0)+(xr>>>26)|0,xr&=67108863,w=Math.imul(ge,Ue),E=(E=Math.imul(ge,at))+Math.imul(se,Ue)|0,A=Math.imul(se,at),w=w+Math.imul(ne,rt)|0,E=(E=E+Math.imul(ne,Wt)|0)+Math.imul(le,rt)|0,A=A+Math.imul(le,Wt)|0,w=w+Math.imul(Q,vt)|0,E=(E=E+Math.imul(Q,ir)|0)+Math.imul(re,vt)|0,A=A+Math.imul(re,ir)|0,w=w+Math.imul(ee,jt)|0,E=(E=E+Math.imul(ee,cr)|0)+Math.imul(K,jt)|0,A=A+Math.imul(K,cr)|0;var Nr=(H+(w=w+Math.imul(Z,Ot)|0)|0)+((8191&(E=(E=E+Math.imul(Z,sr)|0)+Math.imul(te,Ot)|0))<<13)|0;H=((A=A+Math.imul(te,sr)|0)+(E>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,w=Math.imul(he,Ue),E=(E=Math.imul(he,at))+Math.imul(ve,Ue)|0,A=Math.imul(ve,at),w=w+Math.imul(ge,rt)|0,E=(E=E+Math.imul(ge,Wt)|0)+Math.imul(se,rt)|0,A=A+Math.imul(se,Wt)|0,w=w+Math.imul(ne,vt)|0,E=(E=E+Math.imul(ne,ir)|0)+Math.imul(le,vt)|0,A=A+Math.imul(le,ir)|0,w=w+Math.imul(Q,jt)|0,E=(E=E+Math.imul(Q,cr)|0)+Math.imul(re,jt)|0,A=A+Math.imul(re,cr)|0,w=w+Math.imul(ee,Ot)|0,E=(E=E+Math.imul(ee,sr)|0)+Math.imul(K,Ot)|0,A=A+Math.imul(K,sr)|0;var Mr=(H+(w=w+Math.imul(Z,Mt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,or)|0)+Math.imul(te,Mt)|0))<<13)|0;H=((A=A+Math.imul(te,or)|0)+(E>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,w=Math.imul(_e,Ue),E=(E=Math.imul(_e,at))+Math.imul(Ne,Ue)|0,A=Math.imul(Ne,at),w=w+Math.imul(he,rt)|0,E=(E=E+Math.imul(he,Wt)|0)+Math.imul(ve,rt)|0,A=A+Math.imul(ve,Wt)|0,w=w+Math.imul(ge,vt)|0,E=(E=E+Math.imul(ge,ir)|0)+Math.imul(se,vt)|0,A=A+Math.imul(se,ir)|0,w=w+Math.imul(ne,jt)|0,E=(E=E+Math.imul(ne,cr)|0)+Math.imul(le,jt)|0,A=A+Math.imul(le,cr)|0,w=w+Math.imul(Q,Ot)|0,E=(E=E+Math.imul(Q,sr)|0)+Math.imul(re,Ot)|0,A=A+Math.imul(re,sr)|0,w=w+Math.imul(ee,Mt)|0,E=(E=E+Math.imul(ee,or)|0)+Math.imul(K,Mt)|0,A=A+Math.imul(K,or)|0;var Gr=(H+(w=w+Math.imul(Z,Dt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,we)|0)+Math.imul(te,Dt)|0))<<13)|0;H=((A=A+Math.imul(te,we)|0)+(E>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,w=Math.imul($e,Ue),E=(E=Math.imul($e,at))+Math.imul(tt,Ue)|0,A=Math.imul(tt,at),w=w+Math.imul(_e,rt)|0,E=(E=E+Math.imul(_e,Wt)|0)+Math.imul(Ne,rt)|0,A=A+Math.imul(Ne,Wt)|0,w=w+Math.imul(he,vt)|0,E=(E=E+Math.imul(he,ir)|0)+Math.imul(ve,vt)|0,A=A+Math.imul(ve,ir)|0,w=w+Math.imul(ge,jt)|0,E=(E=E+Math.imul(ge,cr)|0)+Math.imul(se,jt)|0,A=A+Math.imul(se,cr)|0,w=w+Math.imul(ne,Ot)|0,E=(E=E+Math.imul(ne,sr)|0)+Math.imul(le,Ot)|0,A=A+Math.imul(le,sr)|0,w=w+Math.imul(Q,Mt)|0,E=(E=E+Math.imul(Q,or)|0)+Math.imul(re,Mt)|0,A=A+Math.imul(re,or)|0,w=w+Math.imul(ee,Dt)|0,E=(E=E+Math.imul(ee,we)|0)+Math.imul(K,Dt)|0,A=A+Math.imul(K,we)|0;var de=(H+(w=w+Math.imul(Z,Pe)|0)|0)+((8191&(E=(E=E+Math.imul(Z,Je)|0)+Math.imul(te,Pe)|0))<<13)|0;H=((A=A+Math.imul(te,Je)|0)+(E>>>13)|0)+(de>>>26)|0,de&=67108863,w=Math.imul(Ye,Ue),E=(E=Math.imul(Ye,at))+Math.imul(wt,Ue)|0,A=Math.imul(wt,at),w=w+Math.imul($e,rt)|0,E=(E=E+Math.imul($e,Wt)|0)+Math.imul(tt,rt)|0,A=A+Math.imul(tt,Wt)|0,w=w+Math.imul(_e,vt)|0,E=(E=E+Math.imul(_e,ir)|0)+Math.imul(Ne,vt)|0,A=A+Math.imul(Ne,ir)|0,w=w+Math.imul(he,jt)|0,E=(E=E+Math.imul(he,cr)|0)+Math.imul(ve,jt)|0,A=A+Math.imul(ve,cr)|0,w=w+Math.imul(ge,Ot)|0,E=(E=E+Math.imul(ge,sr)|0)+Math.imul(se,Ot)|0,A=A+Math.imul(se,sr)|0,w=w+Math.imul(ne,Mt)|0,E=(E=E+Math.imul(ne,or)|0)+Math.imul(le,Mt)|0,A=A+Math.imul(le,or)|0,w=w+Math.imul(Q,Dt)|0,E=(E=E+Math.imul(Q,we)|0)+Math.imul(re,Dt)|0,A=A+Math.imul(re,we)|0,w=w+Math.imul(ee,Pe)|0,E=(E=E+Math.imul(ee,Je)|0)+Math.imul(K,Pe)|0,A=A+Math.imul(K,Je)|0;var Ae=(H+(w=w+Math.imul(Z,Ge)|0)|0)+((8191&(E=(E=E+Math.imul(Z,ft)|0)+Math.imul(te,Ge)|0))<<13)|0;H=((A=A+Math.imul(te,ft)|0)+(E>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,w=Math.imul(yt,Ue),E=(E=Math.imul(yt,at))+Math.imul(_t,Ue)|0,A=Math.imul(_t,at),w=w+Math.imul(Ye,rt)|0,E=(E=E+Math.imul(Ye,Wt)|0)+Math.imul(wt,rt)|0,A=A+Math.imul(wt,Wt)|0,w=w+Math.imul($e,vt)|0,E=(E=E+Math.imul($e,ir)|0)+Math.imul(tt,vt)|0,A=A+Math.imul(tt,ir)|0,w=w+Math.imul(_e,jt)|0,E=(E=E+Math.imul(_e,cr)|0)+Math.imul(Ne,jt)|0,A=A+Math.imul(Ne,cr)|0,w=w+Math.imul(he,Ot)|0,E=(E=E+Math.imul(he,sr)|0)+Math.imul(ve,Ot)|0,A=A+Math.imul(ve,sr)|0,w=w+Math.imul(ge,Mt)|0,E=(E=E+Math.imul(ge,or)|0)+Math.imul(se,Mt)|0,A=A+Math.imul(se,or)|0,w=w+Math.imul(ne,Dt)|0,E=(E=E+Math.imul(ne,we)|0)+Math.imul(le,Dt)|0,A=A+Math.imul(le,we)|0,w=w+Math.imul(Q,Pe)|0,E=(E=E+Math.imul(Q,Je)|0)+Math.imul(re,Pe)|0,A=A+Math.imul(re,Je)|0,w=w+Math.imul(ee,Ge)|0,E=(E=E+Math.imul(ee,ft)|0)+Math.imul(K,Ge)|0,A=A+Math.imul(K,ft)|0;var Fe=(H+(w=w+Math.imul(Z,pt)|0)|0)+((8191&(E=(E=E+Math.imul(Z,Bt)|0)+Math.imul(te,pt)|0))<<13)|0;H=((A=A+Math.imul(te,Bt)|0)+(E>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,w=Math.imul(yt,rt),E=(E=Math.imul(yt,Wt))+Math.imul(_t,rt)|0,A=Math.imul(_t,Wt),w=w+Math.imul(Ye,vt)|0,E=(E=E+Math.imul(Ye,ir)|0)+Math.imul(wt,vt)|0,A=A+Math.imul(wt,ir)|0,w=w+Math.imul($e,jt)|0,E=(E=E+Math.imul($e,cr)|0)+Math.imul(tt,jt)|0,A=A+Math.imul(tt,cr)|0,w=w+Math.imul(_e,Ot)|0,E=(E=E+Math.imul(_e,sr)|0)+Math.imul(Ne,Ot)|0,A=A+Math.imul(Ne,sr)|0,w=w+Math.imul(he,Mt)|0,E=(E=E+Math.imul(he,or)|0)+Math.imul(ve,Mt)|0,A=A+Math.imul(ve,or)|0,w=w+Math.imul(ge,Dt)|0,E=(E=E+Math.imul(ge,we)|0)+Math.imul(se,Dt)|0,A=A+Math.imul(se,we)|0,w=w+Math.imul(ne,Pe)|0,E=(E=E+Math.imul(ne,Je)|0)+Math.imul(le,Pe)|0,A=A+Math.imul(le,Je)|0,w=w+Math.imul(Q,Ge)|0,E=(E=E+Math.imul(Q,ft)|0)+Math.imul(re,Ge)|0,A=A+Math.imul(re,ft)|0;var qe=(H+(w=w+Math.imul(ee,pt)|0)|0)+((8191&(E=(E=E+Math.imul(ee,Bt)|0)+Math.imul(K,pt)|0))<<13)|0;H=((A=A+Math.imul(K,Bt)|0)+(E>>>13)|0)+(qe>>>26)|0,qe&=67108863,w=Math.imul(yt,vt),E=(E=Math.imul(yt,ir))+Math.imul(_t,vt)|0,A=Math.imul(_t,ir),w=w+Math.imul(Ye,jt)|0,E=(E=E+Math.imul(Ye,cr)|0)+Math.imul(wt,jt)|0,A=A+Math.imul(wt,cr)|0,w=w+Math.imul($e,Ot)|0,E=(E=E+Math.imul($e,sr)|0)+Math.imul(tt,Ot)|0,A=A+Math.imul(tt,sr)|0,w=w+Math.imul(_e,Mt)|0,E=(E=E+Math.imul(_e,or)|0)+Math.imul(Ne,Mt)|0,A=A+Math.imul(Ne,or)|0,w=w+Math.imul(he,Dt)|0,E=(E=E+Math.imul(he,we)|0)+Math.imul(ve,Dt)|0,A=A+Math.imul(ve,we)|0,w=w+Math.imul(ge,Pe)|0,E=(E=E+Math.imul(ge,Je)|0)+Math.imul(se,Pe)|0,A=A+Math.imul(se,Je)|0,w=w+Math.imul(ne,Ge)|0,E=(E=E+Math.imul(ne,ft)|0)+Math.imul(le,Ge)|0,A=A+Math.imul(le,ft)|0;var lt=(H+(w=w+Math.imul(Q,pt)|0)|0)+((8191&(E=(E=E+Math.imul(Q,Bt)|0)+Math.imul(re,pt)|0))<<13)|0;H=((A=A+Math.imul(re,Bt)|0)+(E>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(yt,jt),E=(E=Math.imul(yt,cr))+Math.imul(_t,jt)|0,A=Math.imul(_t,cr),w=w+Math.imul(Ye,Ot)|0,E=(E=E+Math.imul(Ye,sr)|0)+Math.imul(wt,Ot)|0,A=A+Math.imul(wt,sr)|0,w=w+Math.imul($e,Mt)|0,E=(E=E+Math.imul($e,or)|0)+Math.imul(tt,Mt)|0,A=A+Math.imul(tt,or)|0,w=w+Math.imul(_e,Dt)|0,E=(E=E+Math.imul(_e,we)|0)+Math.imul(Ne,Dt)|0,A=A+Math.imul(Ne,we)|0,w=w+Math.imul(he,Pe)|0,E=(E=E+Math.imul(he,Je)|0)+Math.imul(ve,Pe)|0,A=A+Math.imul(ve,Je)|0,w=w+Math.imul(ge,Ge)|0,E=(E=E+Math.imul(ge,ft)|0)+Math.imul(se,Ge)|0,A=A+Math.imul(se,ft)|0;var We=(H+(w=w+Math.imul(ne,pt)|0)|0)+((8191&(E=(E=E+Math.imul(ne,Bt)|0)+Math.imul(le,pt)|0))<<13)|0;H=((A=A+Math.imul(le,Bt)|0)+(E>>>13)|0)+(We>>>26)|0,We&=67108863,w=Math.imul(yt,Ot),E=(E=Math.imul(yt,sr))+Math.imul(_t,Ot)|0,A=Math.imul(_t,sr),w=w+Math.imul(Ye,Mt)|0,E=(E=E+Math.imul(Ye,or)|0)+Math.imul(wt,Mt)|0,A=A+Math.imul(wt,or)|0,w=w+Math.imul($e,Dt)|0,E=(E=E+Math.imul($e,we)|0)+Math.imul(tt,Dt)|0,A=A+Math.imul(tt,we)|0,w=w+Math.imul(_e,Pe)|0,E=(E=E+Math.imul(_e,Je)|0)+Math.imul(Ne,Pe)|0,A=A+Math.imul(Ne,Je)|0,w=w+Math.imul(he,Ge)|0,E=(E=E+Math.imul(he,ft)|0)+Math.imul(ve,Ge)|0,A=A+Math.imul(ve,ft)|0;var Xe=(H+(w=w+Math.imul(ge,pt)|0)|0)+((8191&(E=(E=E+Math.imul(ge,Bt)|0)+Math.imul(se,pt)|0))<<13)|0;H=((A=A+Math.imul(se,Bt)|0)+(E>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,w=Math.imul(yt,Mt),E=(E=Math.imul(yt,or))+Math.imul(_t,Mt)|0,A=Math.imul(_t,or),w=w+Math.imul(Ye,Dt)|0,E=(E=E+Math.imul(Ye,we)|0)+Math.imul(wt,Dt)|0,A=A+Math.imul(wt,we)|0,w=w+Math.imul($e,Pe)|0,E=(E=E+Math.imul($e,Je)|0)+Math.imul(tt,Pe)|0,A=A+Math.imul(tt,Je)|0,w=w+Math.imul(_e,Ge)|0,E=(E=E+Math.imul(_e,ft)|0)+Math.imul(Ne,Ge)|0,A=A+Math.imul(Ne,ft)|0;var er=(H+(w=w+Math.imul(he,pt)|0)|0)+((8191&(E=(E=E+Math.imul(he,Bt)|0)+Math.imul(ve,pt)|0))<<13)|0;H=((A=A+Math.imul(ve,Bt)|0)+(E>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(yt,Dt),E=(E=Math.imul(yt,we))+Math.imul(_t,Dt)|0,A=Math.imul(_t,we),w=w+Math.imul(Ye,Pe)|0,E=(E=E+Math.imul(Ye,Je)|0)+Math.imul(wt,Pe)|0,A=A+Math.imul(wt,Je)|0,w=w+Math.imul($e,Ge)|0,E=(E=E+Math.imul($e,ft)|0)+Math.imul(tt,Ge)|0,A=A+Math.imul(tt,ft)|0;var qt=(H+(w=w+Math.imul(_e,pt)|0)|0)+((8191&(E=(E=E+Math.imul(_e,Bt)|0)+Math.imul(Ne,pt)|0))<<13)|0;H=((A=A+Math.imul(Ne,Bt)|0)+(E>>>13)|0)+(qt>>>26)|0,qt&=67108863,w=Math.imul(yt,Pe),E=(E=Math.imul(yt,Je))+Math.imul(_t,Pe)|0,A=Math.imul(_t,Je),w=w+Math.imul(Ye,Ge)|0,E=(E=E+Math.imul(Ye,ft)|0)+Math.imul(wt,Ge)|0,A=A+Math.imul(wt,ft)|0;var Ht=(H+(w=w+Math.imul($e,pt)|0)|0)+((8191&(E=(E=E+Math.imul($e,Bt)|0)+Math.imul(tt,pt)|0))<<13)|0;H=((A=A+Math.imul(tt,Bt)|0)+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,w=Math.imul(yt,Ge),E=(E=Math.imul(yt,ft))+Math.imul(_t,Ge)|0,A=Math.imul(_t,ft);var Ct=(H+(w=w+Math.imul(Ye,pt)|0)|0)+((8191&(E=(E=E+Math.imul(Ye,Bt)|0)+Math.imul(wt,pt)|0))<<13)|0;H=((A=A+Math.imul(wt,Bt)|0)+(E>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var mr=(H+(w=Math.imul(yt,pt))|0)+((8191&(E=(E=Math.imul(yt,Bt))+Math.imul(_t,pt)|0))<<13)|0;return H=((A=Math.imul(_t,Bt))+(E>>>13)|0)+(mr>>>26)|0,mr&=67108863,q[0]=Pt,q[1]=Ut,q[2]=Or,q[3]=xr,q[4]=Nr,q[5]=Mr,q[6]=Gr,q[7]=de,q[8]=Ae,q[9]=Fe,q[10]=qe,q[11]=lt,q[12]=We,q[13]=Xe,q[14]=er,q[15]=qt,q[16]=Ht,q[17]=Ct,q[18]=mr,H!==0&&(q[19]=H,C.length++),C};function _(O,F,C){return new k().mulp(O,F,C)}function k(O,F){this.x=O,this.y=F}Math.imul||(v=x),o.prototype.mulTo=function(O,F){var C=this.length+O.length;return this.length===10&&O.length===10?v(this,O,F):C<63?x(this,O,F):C<1024?(function(w,E,A){A.negative=E.negative^w.negative,A.length=w.length+E.length;for(var j=0,R=0,q=0;q<A.length-1;q++){var H=R;R=0;for(var Y=67108863&j,Z=Math.min(q,E.length-1),te=Math.max(0,q-w.length+1);te<=Z;te++){var W=q-te,ee=(0|w.words[W])*(0|E.words[te]),K=67108863&ee;Y=67108863&(K=K+Y|0),R+=(H=(H=H+(ee/67108864|0)|0)+(K>>>26)|0)>>>26,H&=67108863}A.words[q]=Y,j=H,H=R}return j!==0?A.words[q]=j:A.length--,A.strip()})(this,O,F):_(this,O,F)},k.prototype.makeRBT=function(O){for(var F=new Array(O),C=o.prototype._countBits(O)-1,w=0;w<O;w++)F[w]=this.revBin(w,C,O);return F},k.prototype.revBin=function(O,F,C){if(O===0||O===C-1)return O;for(var w=0,E=0;E<F;E++)w|=(1&O)<<F-E-1,O>>=1;return w},k.prototype.permute=function(O,F,C,w,E,A){for(var j=0;j<A;j++)w[j]=F[O[j]],E[j]=C[O[j]]},k.prototype.transform=function(O,F,C,w,E,A){this.permute(A,O,F,C,w,E);for(var j=1;j<E;j<<=1)for(var R=j<<1,q=Math.cos(2*Math.PI/R),H=Math.sin(2*Math.PI/R),Y=0;Y<E;Y+=R)for(var Z=q,te=H,W=0;W<j;W++){var ee=C[Y+W],K=w[Y+W],V=C[Y+W+j],Q=w[Y+W+j],re=Z*V-te*Q;Q=Z*Q+te*V,V=re,C[Y+W]=ee+V,w[Y+W]=K+Q,C[Y+W+j]=ee-V,w[Y+W+j]=K-Q,W!==R&&(re=q*Z-H*te,te=q*te+H*Z,Z=re)}},k.prototype.guessLen13b=function(O,F){var C=1|Math.max(F,O),w=1&C,E=0;for(C=C/2|0;C;C>>>=1)E++;return 1<<E+1+w},k.prototype.conjugate=function(O,F,C){if(!(C<=1))for(var w=0;w<C/2;w++){var E=O[w];O[w]=O[C-w-1],O[C-w-1]=E,E=F[w],F[w]=-F[C-w-1],F[C-w-1]=-E}},k.prototype.normalize13b=function(O,F){for(var C=0,w=0;w<F/2;w++){var E=8192*Math.round(O[2*w+1]/F)+Math.round(O[2*w]/F)+C;O[w]=67108863&E,C=E<67108864?0:E/67108864|0}return O},k.prototype.convert13b=function(O,F,C,w){for(var E=0,A=0;A<F;A++)E+=0|O[A],C[2*A]=8191&E,E>>>=13,C[2*A+1]=8191&E,E>>>=13;for(A=2*F;A<w;++A)C[A]=0;c(E===0),c((-8192&E)==0)},k.prototype.stub=function(O){for(var F=new Array(O),C=0;C<O;C++)F[C]=0;return F},k.prototype.mulp=function(O,F,C){var w=2*this.guessLen13b(O.length,F.length),E=this.makeRBT(w),A=this.stub(w),j=new Array(w),R=new Array(w),q=new Array(w),H=new Array(w),Y=new Array(w),Z=new Array(w),te=C.words;te.length=w,this.convert13b(O.words,O.length,j,w),this.convert13b(F.words,F.length,H,w),this.transform(j,A,R,q,w,E),this.transform(H,A,Y,Z,w,E);for(var W=0;W<w;W++){var ee=R[W]*Y[W]-q[W]*Z[W];q[W]=R[W]*Z[W]+q[W]*Y[W],R[W]=ee}return this.conjugate(R,q,w),this.transform(R,q,te,A,w,E),this.conjugate(te,A,w),this.normalize13b(te,w),C.negative=O.negative^F.negative,C.length=O.length+F.length,C.strip()},o.prototype.mul=function(O){var F=new o(null);return F.words=new Array(this.length+O.length),this.mulTo(O,F)},o.prototype.mulf=function(O){var F=new o(null);return F.words=new Array(this.length+O.length),_(this,O,F)},o.prototype.imul=function(O){return this.clone().mulTo(O,this)},o.prototype.imuln=function(O){c(typeof O=="number"),c(O<67108864);for(var F=0,C=0;C<this.length;C++){var w=(0|this.words[C])*O,E=(67108863&w)+(67108863&F);F>>=26,F+=w/67108864|0,F+=E>>>26,this.words[C]=67108863&E}return F!==0&&(this.words[C]=F,this.length++),this},o.prototype.muln=function(O){return this.clone().imuln(O)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(O){var F=(function(A){for(var j=new Array(A.bitLength()),R=0;R<j.length;R++){var q=R/26|0,H=R%26;j[R]=(A.words[q]&1<<H)>>>H}return j})(O);if(F.length===0)return new o(1);for(var C=this,w=0;w<F.length&&F[w]===0;w++,C=C.sqr());if(++w<F.length)for(var E=C.sqr();w<F.length;w++,E=E.sqr())F[w]!==0&&(C=C.mul(E));return C},o.prototype.iushln=function(O){c(typeof O=="number"&&O>=0);var F,C=O%26,w=(O-C)/26,E=67108863>>>26-C<<26-C;if(C!==0){var A=0;for(F=0;F<this.length;F++){var j=this.words[F]&E,R=(0|this.words[F])-j<<C;this.words[F]=R|A,A=j>>>26-C}A&&(this.words[F]=A,this.length++)}if(w!==0){for(F=this.length-1;F>=0;F--)this.words[F+w]=this.words[F];for(F=0;F<w;F++)this.words[F]=0;this.length+=w}return this.strip()},o.prototype.ishln=function(O){return c(this.negative===0),this.iushln(O)},o.prototype.iushrn=function(O,F,C){var w;c(typeof O=="number"&&O>=0),w=F?(F-F%26)/26:0;var E=O%26,A=Math.min((O-E)/26,this.length),j=67108863^67108863>>>E<<E,R=C;if(w-=A,w=Math.max(0,w),R){for(var q=0;q<A;q++)R.words[q]=this.words[q];R.length=A}if(A!==0)if(this.length>A)for(this.length-=A,q=0;q<this.length;q++)this.words[q]=this.words[q+A];else this.words[0]=0,this.length=1;var H=0;for(q=this.length-1;q>=0&&(H!==0||q>=w);q--){var Y=0|this.words[q];this.words[q]=H<<26-E|Y>>>E,H=Y&j}return R&&H!==0&&(R.words[R.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(O,F,C){return c(this.negative===0),this.iushrn(O,F,C)},o.prototype.shln=function(O){return this.clone().ishln(O)},o.prototype.ushln=function(O){return this.clone().iushln(O)},o.prototype.shrn=function(O){return this.clone().ishrn(O)},o.prototype.ushrn=function(O){return this.clone().iushrn(O)},o.prototype.testn=function(O){c(typeof O=="number"&&O>=0);var F=O%26,C=(O-F)/26,w=1<<F;return!(this.length<=C)&&!!(this.words[C]&w)},o.prototype.imaskn=function(O){c(typeof O=="number"&&O>=0);var F=O%26,C=(O-F)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(F!==0&&C++,this.length=Math.min(C,this.length),F!==0){var w=67108863^67108863>>>F<<F;this.words[this.length-1]&=w}return this.strip()},o.prototype.maskn=function(O){return this.clone().imaskn(O)},o.prototype.iaddn=function(O){return c(typeof O=="number"),c(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(0|this.words[0])<O?(this.words[0]=O-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},o.prototype._iaddn=function(O){this.words[0]+=O;for(var F=0;F<this.length&&this.words[F]>=67108864;F++)this.words[F]-=67108864,F===this.length-1?this.words[F+1]=1:this.words[F+1]++;return this.length=Math.max(this.length,F+1),this},o.prototype.isubn=function(O){if(c(typeof O=="number"),c(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var F=0;F<this.length&&this.words[F]<0;F++)this.words[F]+=67108864,this.words[F+1]-=1;return this.strip()},o.prototype.addn=function(O){return this.clone().iaddn(O)},o.prototype.subn=function(O){return this.clone().isubn(O)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(O,F,C){var w,E,A=O.length+C;this._expand(A);var j=0;for(w=0;w<O.length;w++){E=(0|this.words[w+C])+j;var R=(0|O.words[w])*F;j=((E-=67108863&R)>>26)-(R/67108864|0),this.words[w+C]=67108863&E}for(;w<this.length-C;w++)j=(E=(0|this.words[w+C])+j)>>26,this.words[w+C]=67108863&E;if(j===0)return this.strip();for(c(j===-1),j=0,w=0;w<this.length;w++)j=(E=-(0|this.words[w])+j)>>26,this.words[w]=67108863&E;return this.negative=1,this.strip()},o.prototype._wordDiv=function(O,F){var C=(this.length,O.length),w=this.clone(),E=O,A=0|E.words[E.length-1];(C=26-this._countBits(A))!==0&&(E=E.ushln(C),w.iushln(C),A=0|E.words[E.length-1]);var j,R=w.length-E.length;if(F!=="mod"){(j=new o(null)).length=R+1,j.words=new Array(j.length);for(var q=0;q<j.length;q++)j.words[q]=0}var H=w.clone()._ishlnsubmul(E,1,R);H.negative===0&&(w=H,j&&(j.words[R]=1));for(var Y=R-1;Y>=0;Y--){var Z=67108864*(0|w.words[E.length+Y])+(0|w.words[E.length+Y-1]);for(Z=Math.min(Z/A|0,67108863),w._ishlnsubmul(E,Z,Y);w.negative!==0;)Z--,w.negative=0,w._ishlnsubmul(E,1,Y),w.isZero()||(w.negative^=1);j&&(j.words[Y]=Z)}return j&&j.strip(),w.strip(),F!=="div"&&C!==0&&w.iushrn(C),{div:j||null,mod:w}},o.prototype.divmod=function(O,F,C){return c(!O.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&O.negative===0?(A=this.neg().divmod(O,F),F!=="mod"&&(w=A.div.neg()),F!=="div"&&(E=A.mod.neg(),C&&E.negative!==0&&E.iadd(O)),{div:w,mod:E}):this.negative===0&&O.negative!==0?(A=this.divmod(O.neg(),F),F!=="mod"&&(w=A.div.neg()),{div:w,mod:A.mod}):(this.negative&O.negative)!=0?(A=this.neg().divmod(O.neg(),F),F!=="div"&&(E=A.mod.neg(),C&&E.negative!==0&&E.isub(O)),{div:A.div,mod:E}):O.length>this.length||this.cmp(O)<0?{div:new o(0),mod:this}:O.length===1?F==="div"?{div:this.divn(O.words[0]),mod:null}:F==="mod"?{div:null,mod:new o(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new o(this.modn(O.words[0]))}:this._wordDiv(O,F);var w,E,A},o.prototype.div=function(O){return this.divmod(O,"div",!1).div},o.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},o.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},o.prototype.divRound=function(O){var F=this.divmod(O);if(F.mod.isZero())return F.div;var C=F.div.negative!==0?F.mod.isub(O):F.mod,w=O.ushrn(1),E=O.andln(1),A=C.cmp(w);return A<0||E===1&&A===0?F.div:F.div.negative!==0?F.div.isubn(1):F.div.iaddn(1)},o.prototype.modn=function(O){c(O<=67108863);for(var F=(1<<26)%O,C=0,w=this.length-1;w>=0;w--)C=(F*C+(0|this.words[w]))%O;return C},o.prototype.idivn=function(O){c(O<=67108863);for(var F=0,C=this.length-1;C>=0;C--){var w=(0|this.words[C])+67108864*F;this.words[C]=w/O|0,F=w%O}return this.strip()},o.prototype.divn=function(O){return this.clone().idivn(O)},o.prototype.egcd=function(O){c(O.negative===0),c(!O.isZero());var F=this,C=O.clone();F=F.negative!==0?F.umod(O):F.clone();for(var w=new o(1),E=new o(0),A=new o(0),j=new o(1),R=0;F.isEven()&&C.isEven();)F.iushrn(1),C.iushrn(1),++R;for(var q=C.clone(),H=F.clone();!F.isZero();){for(var Y=0,Z=1;(F.words[0]&Z)==0&&Y<26;++Y,Z<<=1);if(Y>0)for(F.iushrn(Y);Y-- >0;)(w.isOdd()||E.isOdd())&&(w.iadd(q),E.isub(H)),w.iushrn(1),E.iushrn(1);for(var te=0,W=1;(C.words[0]&W)==0&&te<26;++te,W<<=1);if(te>0)for(C.iushrn(te);te-- >0;)(A.isOdd()||j.isOdd())&&(A.iadd(q),j.isub(H)),A.iushrn(1),j.iushrn(1);F.cmp(C)>=0?(F.isub(C),w.isub(A),E.isub(j)):(C.isub(F),A.isub(w),j.isub(E))}return{a:A,b:j,gcd:C.iushln(R)}},o.prototype._invmp=function(O){c(O.negative===0),c(!O.isZero());var F=this,C=O.clone();F=F.negative!==0?F.umod(O):F.clone();for(var w,E=new o(1),A=new o(0),j=C.clone();F.cmpn(1)>0&&C.cmpn(1)>0;){for(var R=0,q=1;(F.words[0]&q)==0&&R<26;++R,q<<=1);if(R>0)for(F.iushrn(R);R-- >0;)E.isOdd()&&E.iadd(j),E.iushrn(1);for(var H=0,Y=1;(C.words[0]&Y)==0&&H<26;++H,Y<<=1);if(H>0)for(C.iushrn(H);H-- >0;)A.isOdd()&&A.iadd(j),A.iushrn(1);F.cmp(C)>=0?(F.isub(C),E.isub(A)):(C.isub(F),A.isub(E))}return(w=F.cmpn(1)===0?E:A).cmpn(0)<0&&w.iadd(O),w},o.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var F=this.clone(),C=O.clone();F.negative=0,C.negative=0;for(var w=0;F.isEven()&&C.isEven();w++)F.iushrn(1),C.iushrn(1);for(;;){for(;F.isEven();)F.iushrn(1);for(;C.isEven();)C.iushrn(1);var E=F.cmp(C);if(E<0){var A=F;F=C,C=A}else if(E===0||C.cmpn(1)===0)break;F.isub(C)}return C.iushln(w)},o.prototype.invm=function(O){return this.egcd(O).a.umod(O)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(O){return this.words[0]&O},o.prototype.bincn=function(O){c(typeof O=="number");var F=O%26,C=(O-F)/26,w=1<<F;if(this.length<=C)return this._expand(C+1),this.words[C]|=w,this;for(var E=w,A=C;E!==0&&A<this.length;A++){var j=0|this.words[A];E=(j+=E)>>>26,j&=67108863,this.words[A]=j}return E!==0&&(this.words[A]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(O){var F,C=O<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)F=1;else{C&&(O=-O),c(O<=67108863,"Number is too big");var w=0|this.words[0];F=w===O?0:w<O?-1:1}return this.negative!==0?0|-F:F},o.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var F=this.ucmp(O);return this.negative!==0?0|-F:F},o.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var F=0,C=this.length-1;C>=0;C--){var w=0|this.words[C],E=0|O.words[C];if(w!==E){w<E?F=-1:w>E&&(F=1);break}}return F},o.prototype.gtn=function(O){return this.cmpn(O)===1},o.prototype.gt=function(O){return this.cmp(O)===1},o.prototype.gten=function(O){return this.cmpn(O)>=0},o.prototype.gte=function(O){return this.cmp(O)>=0},o.prototype.ltn=function(O){return this.cmpn(O)===-1},o.prototype.lt=function(O){return this.cmp(O)===-1},o.prototype.lten=function(O){return this.cmpn(O)<=0},o.prototype.lte=function(O){return this.cmp(O)<=0},o.prototype.eqn=function(O){return this.cmpn(O)===0},o.prototype.eq=function(O){return this.cmp(O)===0},o.red=function(O){return new z(O)},o.prototype.toRed=function(O){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(O){return this.red=O,this},o.prototype.forceRed=function(O){return c(!this.red,"Already a number in reduction context"),this._forceRed(O)},o.prototype.redAdd=function(O){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},o.prototype.redIAdd=function(O){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},o.prototype.redSub=function(O){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},o.prototype.redISub=function(O){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},o.prototype.redShl=function(O){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},o.prototype.redMul=function(O){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},o.prototype.redIMul=function(O){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(O){return c(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var N={k256:null,p224:null,p192:null,p25519:null};function P(O,F){this.name=O,this.p=new o(F,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function B(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(O){if(typeof O=="string"){var F=o._prime(O);this.m=F.p,this.prime=F}else c(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}function $(O){z.call(this,O),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var O=new o(null);return O.words=new Array(Math.ceil(this.n/13)),O},P.prototype.ireduce=function(O){var F,C=O;do this.split(C,this.tmp),F=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(F>this.n);var w=F<this.n?-1:C.ucmp(this.p);return w===0?(C.words[0]=0,C.length=1):w>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},P.prototype.split=function(O,F){O.iushrn(this.n,0,F)},P.prototype.imulK=function(O){return O.imul(this.k)},l(D,P),D.prototype.split=function(O,F){for(var C=Math.min(O.length,9),w=0;w<C;w++)F.words[w]=O.words[w];if(F.length=C,O.length<=9)return O.words[0]=0,void(O.length=1);var E=O.words[9];for(F.words[F.length++]=4194303&E,w=10;w<O.length;w++){var A=0|O.words[w];O.words[w-10]=(4194303&A)<<4|E>>>22,E=A}E>>>=22,O.words[w-10]=E,E===0&&O.length>10?O.length-=10:O.length-=9},D.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var F=0,C=0;C<O.length;C++){var w=0|O.words[C];F+=977*w,O.words[C]=67108863&F,F=64*w+(F/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O},l(I,P),l(B,P),l(L,P),L.prototype.imulK=function(O){for(var F=0,C=0;C<O.length;C++){var w=19*(0|O.words[C])+F,E=67108863&w;w>>>=26,O.words[C]=E,F=w}return F!==0&&(O.words[O.length++]=F),O},o._prime=function(O){if(N[O])return N[O];var F;if(O==="k256")F=new D;else if(O==="p224")F=new I;else if(O==="p192")F=new B;else{if(O!=="p25519")throw new Error("Unknown prime "+O);F=new L}return N[O]=F,F},z.prototype._verify1=function(O){c(O.negative===0,"red works only with positives"),c(O.red,"red works only with red numbers")},z.prototype._verify2=function(O,F){c((O.negative|F.negative)==0,"red works only with positives"),c(O.red&&O.red===F.red,"red works only with red numbers")},z.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},z.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},z.prototype.add=function(O,F){this._verify2(O,F);var C=O.add(F);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},z.prototype.iadd=function(O,F){this._verify2(O,F);var C=O.iadd(F);return C.cmp(this.m)>=0&&C.isub(this.m),C},z.prototype.sub=function(O,F){this._verify2(O,F);var C=O.sub(F);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},z.prototype.isub=function(O,F){this._verify2(O,F);var C=O.isub(F);return C.cmpn(0)<0&&C.iadd(this.m),C},z.prototype.shl=function(O,F){return this._verify1(O),this.imod(O.ushln(F))},z.prototype.imul=function(O,F){return this._verify2(O,F),this.imod(O.imul(F))},z.prototype.mul=function(O,F){return this._verify2(O,F),this.imod(O.mul(F))},z.prototype.isqr=function(O){return this.imul(O,O.clone())},z.prototype.sqr=function(O){return this.mul(O,O)},z.prototype.sqrt=function(O){if(O.isZero())return O.clone();var F=this.m.andln(3);if(c(F%2==1),F===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(O,C)}for(var w=this.m.subn(1),E=0;!w.isZero()&&w.andln(1)===0;)E++,w.iushrn(1);c(!w.isZero());var A=new o(1).toRed(this),j=A.redNeg(),R=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new o(2*q*q).toRed(this);this.pow(q,R).cmp(j)!==0;)q.redIAdd(j);for(var H=this.pow(q,w),Y=this.pow(O,w.addn(1).iushrn(1)),Z=this.pow(O,w),te=E;Z.cmp(A)!==0;){for(var W=Z,ee=0;W.cmp(A)!==0;ee++)W=W.redSqr();c(ee<te);var K=this.pow(H,new o(1).iushln(te-ee-1));Y=Y.redMul(K),H=K.redSqr(),Z=Z.redMul(H),te=ee}return Y},z.prototype.invm=function(O){var F=O._invmp(this.m);return F.negative!==0?(F.negative=0,this.imod(F).redNeg()):this.imod(F)},z.prototype.pow=function(O,F){if(F.isZero())return new o(1).toRed(this);if(F.cmpn(1)===0)return O.clone();var C=new Array(16);C[0]=new o(1).toRed(this),C[1]=O;for(var w=2;w<C.length;w++)C[w]=this.mul(C[w-1],O);var E=C[0],A=0,j=0,R=F.bitLength()%26;for(R===0&&(R=26),w=F.length-1;w>=0;w--){for(var q=F.words[w],H=R-1;H>=0;H--){var Y=q>>H&1;E!==C[0]&&(E=this.sqr(E)),Y!==0||A!==0?(A<<=1,A|=Y,(++j===4||w===0&&H===0)&&(E=this.mul(E,C[A]),j=0,A=0)):j=0}R=26}return E},z.prototype.convertTo=function(O){var F=O.umod(this.m);return F===O?F.clone():F},z.prototype.convertFrom=function(O){var F=O.clone();return F.red=null,F},o.mont=function(O){return new $(O)},l($,z),$.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},$.prototype.convertFrom=function(O){var F=this.imod(O.mul(this.rinv));return F.red=null,F},$.prototype.imul=function(O,F){if(O.isZero()||F.isZero())return O.words[0]=0,O.length=1,O;var C=O.imul(F),w=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=C.isub(w).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},$.prototype.mul=function(O,F){if(O.isZero()||F.isZero())return new o(0)._forceRed(this);var C=O.mul(F),w=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=C.isub(w).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},$.prototype.invm=function(O){return this.imod(O._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(t,n,i){i.byteLength=function(d){var g=f(d),y=g[0],m=g[1];return 3*(y+m)/4-m},i.toByteArray=function(d){var g,y,m=f(d),x=m[0],v=m[1],_=new c((function(P,D,I){return 3*(D+I)/4-I})(0,x,v)),k=0,N=v>0?x-4:x;for(y=0;y<N;y+=4)g=s[d.charCodeAt(y)]<<18|s[d.charCodeAt(y+1)]<<12|s[d.charCodeAt(y+2)]<<6|s[d.charCodeAt(y+3)],_[k++]=g>>16&255,_[k++]=g>>8&255,_[k++]=255&g;return v===2&&(g=s[d.charCodeAt(y)]<<2|s[d.charCodeAt(y+1)]>>4,_[k++]=255&g),v===1&&(g=s[d.charCodeAt(y)]<<10|s[d.charCodeAt(y+1)]<<4|s[d.charCodeAt(y+2)]>>2,_[k++]=g>>8&255,_[k++]=255&g),_},i.fromByteArray=function(d){for(var g,y=d.length,m=y%3,x=[],v=0,_=y-m;v<_;v+=16383)x.push(h(d,v,v+16383>_?_:v+16383));return m===1?(g=d[y-1],x.push(a[g>>2]+a[g<<4&63]+"==")):m===2&&(g=(d[y-2]<<8)+d[y-1],x.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"=")),x.join("")};for(var a=[],s=[],c=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=l.length;o<u;++o)a[o]=l[o],s[l.charCodeAt(o)]=o;function f(d){var g=d.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=d.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function h(d,g,y){for(var m,x,v=[],_=g;_<y;_+=3)m=(d[_]<<16&16711680)+(d[_+1]<<8&65280)+(255&d[_+2]),v.push(a[(x=m)>>18&63]+a[x>>12&63]+a[x>>6&63]+a[63&x]);return v.join("")}s[45]=62,s[95]=63},{}],186:[function(t,n,i){(function(a,s){function c(C,w){if(!C)throw new Error(w||"Assertion failed")}function l(C,w){C.super_=w;var E=function(){};E.prototype=w.prototype,C.prototype=new E,C.prototype.constructor=C}function o(C,w,E){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(w!=="le"&&w!=="be"||(E=w,w=10),this._init(C||0,w||10,E||"be"))}var u;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(C,w){var E=C.charCodeAt(w);return E>=48&&E<=57?E-48:E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:void c(!1,"Invalid character in "+C)}function h(C,w,E){var A=f(C,E);return E-1>=w&&(A|=f(C,E-1)<<4),A}function d(C,w,E,A){for(var j=0,R=0,q=Math.min(C.length,E),H=w;H<q;H++){var Y=C.charCodeAt(H)-48;j*=A,R=Y>=49?Y-49+10:Y>=17?Y-17+10:Y,c(Y>=0&&R<A,"Invalid character"),j+=R}return j}function g(C,w){C.words=w.words,C.length=w.length,C.negative=w.negative,C.red=w.red}if(o.isBN=function(C){return C instanceof o||C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,w){return C.cmp(w)>0?C:w},o.min=function(C,w){return C.cmp(w)<0?C:w},o.prototype._init=function(C,w,E){if(typeof C=="number")return this._initNumber(C,w,E);if(typeof C=="object")return this._initArray(C,w,E);w==="hex"&&(w=16),c(w===(0|w)&&w>=2&&w<=36);var A=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(A++,this.negative=1),A<C.length&&(w===16?this._parseHex(C,A,E):(this._parseBase(C,w,A),E==="le"&&this._initArray(this.toArray(),w,E)))},o.prototype._initNumber=function(C,w,E){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(c(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),w,E)},o.prototype._initArray=function(C,w,E){if(c(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var j,R,q=0;if(E==="be")for(A=C.length-1,j=0;A>=0;A-=3)R=C[A]|C[A-1]<<8|C[A-2]<<16,this.words[j]|=R<<q&67108863,this.words[j+1]=R>>>26-q&67108863,(q+=24)>=26&&(q-=26,j++);else if(E==="le")for(A=0,j=0;A<C.length;A+=3)R=C[A]|C[A+1]<<8|C[A+2]<<16,this.words[j]|=R<<q&67108863,this.words[j+1]=R>>>26-q&67108863,(q+=24)>=26&&(q-=26,j++);return this._strip()},o.prototype._parseHex=function(C,w,E){this.length=Math.ceil((C.length-w)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var j,R=0,q=0;if(E==="be")for(A=C.length-1;A>=w;A-=2)j=h(C,w,A)<<R,this.words[q]|=67108863&j,R>=18?(R-=18,q+=1,this.words[q]|=j>>>26):R+=8;else for(A=(C.length-w)%2==0?w+1:w;A<C.length;A+=2)j=h(C,w,A)<<R,this.words[q]|=67108863&j,R>=18?(R-=18,q+=1,this.words[q]|=j>>>26):R+=8;this._strip()},o.prototype._parseBase=function(C,w,E){this.words=[0],this.length=1;for(var A=0,j=1;j<=67108863;j*=w)A++;A--,j=j/w|0;for(var R=C.length-E,q=R%A,H=Math.min(R,R-q)+E,Y=0,Z=E;Z<H;Z+=A)Y=d(C,Z,Z+A,w),this.imuln(j),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(q!==0){var te=1;for(Y=d(C,Z,C.length,w),Z=0;Z<q;Z++)te*=w;this.imuln(te),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var w=0;w<this.length;w++)C.words[w]=this.words[w];C.length=this.length,C.negative=this.negative,C.red=this.red},o.prototype._move=function(C){g(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,w){var E;if(w=0|w||1,(C=C||10)===16||C==="hex"){E="";for(var A=0,j=0,R=0;R<this.length;R++){var q=this.words[R],H=(16777215&(q<<A|j)).toString(16);j=q>>>24-A&16777215,(A+=2)>=26&&(A-=26,R--),E=j!==0||R!==this.length-1?m[6-H.length]+H+E:H+E}for(j!==0&&(E=j.toString(16)+E);E.length%w!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(C===(0|C)&&C>=2&&C<=36){var Y=x[C],Z=v[C];E="";var te=this.clone();for(te.negative=0;!te.isZero();){var W=te.modrn(Z).toString(C);E=(te=te.idivn(Z)).isZero()?W+E:m[Y-W.length]+W+E}for(this.isZero()&&(E="0"+E);E.length%w!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}c(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(C,w){return this.toArrayLike(u,C,w)}),o.prototype.toArray=function(C,w){return this.toArrayLike(Array,C,w)};function _(C,w,E){E.negative=w.negative^C.negative;var A=C.length+w.length|0;E.length=A,A=A-1|0;var j=0|C.words[0],R=0|w.words[0],q=j*R,H=67108863&q,Y=q/67108864|0;E.words[0]=H;for(var Z=1;Z<A;Z++){for(var te=Y>>>26,W=67108863&Y,ee=Math.min(Z,w.length-1),K=Math.max(0,Z-C.length+1);K<=ee;K++){var V=Z-K|0;te+=(q=(j=0|C.words[V])*(R=0|w.words[K])+W)/67108864|0,W=67108863&q}E.words[Z]=0|W,Y=0|te}return Y!==0?E.words[Z]=0|Y:E.length--,E._strip()}o.prototype.toArrayLike=function(C,w,E){this._strip();var A=this.byteLength(),j=E||Math.max(1,A);c(A<=j,"byte array longer than desired length"),c(j>0,"Requested array length <= 0");var R=(function(q,H){return q.allocUnsafe?q.allocUnsafe(H):new q(H)})(C,j);return this["_toArrayLike"+(w==="le"?"LE":"BE")](R,A),R},o.prototype._toArrayLikeLE=function(C,w){for(var E=0,A=0,j=0,R=0;j<this.length;j++){var q=this.words[j]<<R|A;C[E++]=255&q,E<C.length&&(C[E++]=q>>8&255),E<C.length&&(C[E++]=q>>16&255),R===6?(E<C.length&&(C[E++]=q>>24&255),A=0,R=0):(A=q>>>24,R+=2)}if(E<C.length)for(C[E++]=A;E<C.length;)C[E++]=0},o.prototype._toArrayLikeBE=function(C,w){for(var E=C.length-1,A=0,j=0,R=0;j<this.length;j++){var q=this.words[j]<<R|A;C[E--]=255&q,E>=0&&(C[E--]=q>>8&255),E>=0&&(C[E--]=q>>16&255),R===6?(E>=0&&(C[E--]=q>>24&255),A=0,R=0):(A=q>>>24,R+=2)}if(E>=0)for(C[E--]=A;E>=0;)C[E--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var w=C,E=0;return w>=4096&&(E+=13,w>>>=13),w>=64&&(E+=7,w>>>=7),w>=8&&(E+=4,w>>>=4),w>=2&&(E+=2,w>>>=2),E+w},o.prototype._zeroBits=function(C){if(C===0)return 26;var w=C,E=0;return(8191&w)==0&&(E+=13,w>>>=13),(127&w)==0&&(E+=7,w>>>=7),(15&w)==0&&(E+=4,w>>>=4),(3&w)==0&&(E+=2,w>>>=2),(1&w)==0&&E++,E},o.prototype.bitLength=function(){var C=this.words[this.length-1],w=this._countBits(C);return 26*(this.length-1)+w},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,w=0;w<this.length;w++){var E=this._zeroBits(this.words[w]);if(C+=E,E!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var w=0;w<C.length;w++)this.words[w]=this.words[w]|C.words[w];return this._strip()},o.prototype.ior=function(C){return c((this.negative|C.negative)==0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var w;w=this.length>C.length?C:this;for(var E=0;E<w.length;E++)this.words[E]=this.words[E]&C.words[E];return this.length=w.length,this._strip()},o.prototype.iand=function(C){return c((this.negative|C.negative)==0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var w,E;this.length>C.length?(w=this,E=C):(w=C,E=this);for(var A=0;A<E.length;A++)this.words[A]=w.words[A]^E.words[A];if(this!==w)for(;A<w.length;A++)this.words[A]=w.words[A];return this.length=w.length,this._strip()},o.prototype.ixor=function(C){return c((this.negative|C.negative)==0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){c(typeof C=="number"&&C>=0);var w=0|Math.ceil(C/26),E=C%26;this._expand(w),E>0&&w--;for(var A=0;A<w;A++)this.words[A]=67108863&~this.words[A];return E>0&&(this.words[A]=~this.words[A]&67108863>>26-E),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,w){c(typeof C=="number"&&C>=0);var E=C/26|0,A=C%26;return this._expand(E+1),this.words[E]=w?this.words[E]|1<<A:this.words[E]&~(1<<A),this._strip()},o.prototype.iadd=function(C){var w,E,A;if(this.negative!==0&&C.negative===0)return this.negative=0,w=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,w=this.isub(C),C.negative=1,w._normSign();this.length>C.length?(E=this,A=C):(E=C,A=this);for(var j=0,R=0;R<A.length;R++)w=(0|E.words[R])+(0|A.words[R])+j,this.words[R]=67108863&w,j=w>>>26;for(;j!==0&&R<E.length;R++)w=(0|E.words[R])+j,this.words[R]=67108863&w,j=w>>>26;if(this.length=E.length,j!==0)this.words[this.length]=j,this.length++;else if(E!==this)for(;R<E.length;R++)this.words[R]=E.words[R];return this},o.prototype.add=function(C){var w;return C.negative!==0&&this.negative===0?(C.negative=0,w=this.sub(C),C.negative^=1,w):C.negative===0&&this.negative!==0?(this.negative=0,w=C.sub(this),this.negative=1,w):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var w=this.iadd(C);return C.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var E,A,j=this.cmp(C);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;j>0?(E=this,A=C):(E=C,A=this);for(var R=0,q=0;q<A.length;q++)R=(w=(0|E.words[q])-(0|A.words[q])+R)>>26,this.words[q]=67108863&w;for(;R!==0&&q<E.length;q++)R=(w=(0|E.words[q])+R)>>26,this.words[q]=67108863&w;if(R===0&&q<E.length&&E!==this)for(;q<E.length;q++)this.words[q]=E.words[q];return this.length=Math.max(this.length,q),E!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};var k=function(C,w,E){var A,j,R,q=C.words,H=w.words,Y=E.words,Z=0,te=0|q[0],W=8191&te,ee=te>>>13,K=0|q[1],V=8191&K,Q=K>>>13,re=0|q[2],oe=8191&re,ne=re>>>13,le=0|q[3],me=8191&le,ge=le>>>13,se=0|q[4],fe=8191&se,he=se>>>13,ve=0|q[5],xe=8191&ve,_e=ve>>>13,Ne=0|q[6],Re=8191&Ne,$e=Ne>>>13,tt=0|q[7],et=8191&tt,Ye=tt>>>13,wt=0|q[8],bt=8191&wt,yt=wt>>>13,_t=0|q[9],Ze=8191&_t,Ue=_t>>>13,at=0|H[0],st=8191&at,rt=at>>>13,Wt=0|H[1],yr=8191&Wt,vt=Wt>>>13,ir=0|H[2],At=8191&ir,jt=ir>>>13,cr=0|H[3],Gt=8191&cr,Ot=cr>>>13,sr=0|H[4],ur=8191&sr,Mt=sr>>>13,or=0|H[5],vr=8191&or,Dt=or>>>13,we=0|H[6],Te=8191&we,Pe=we>>>13,Je=0|H[7],ct=8191&Je,Ge=Je>>>13,ft=0|H[8],mt=8191&ft,pt=ft>>>13,Bt=0|H[9],Pt=8191&Bt,Ut=Bt>>>13;E.negative=C.negative^w.negative,E.length=19;var Or=(Z+(A=Math.imul(W,st))|0)+((8191&(j=(j=Math.imul(W,rt))+Math.imul(ee,st)|0))<<13)|0;Z=((R=Math.imul(ee,rt))+(j>>>13)|0)+(Or>>>26)|0,Or&=67108863,A=Math.imul(V,st),j=(j=Math.imul(V,rt))+Math.imul(Q,st)|0,R=Math.imul(Q,rt);var xr=(Z+(A=A+Math.imul(W,yr)|0)|0)+((8191&(j=(j=j+Math.imul(W,vt)|0)+Math.imul(ee,yr)|0))<<13)|0;Z=((R=R+Math.imul(ee,vt)|0)+(j>>>13)|0)+(xr>>>26)|0,xr&=67108863,A=Math.imul(oe,st),j=(j=Math.imul(oe,rt))+Math.imul(ne,st)|0,R=Math.imul(ne,rt),A=A+Math.imul(V,yr)|0,j=(j=j+Math.imul(V,vt)|0)+Math.imul(Q,yr)|0,R=R+Math.imul(Q,vt)|0;var Nr=(Z+(A=A+Math.imul(W,At)|0)|0)+((8191&(j=(j=j+Math.imul(W,jt)|0)+Math.imul(ee,At)|0))<<13)|0;Z=((R=R+Math.imul(ee,jt)|0)+(j>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,A=Math.imul(me,st),j=(j=Math.imul(me,rt))+Math.imul(ge,st)|0,R=Math.imul(ge,rt),A=A+Math.imul(oe,yr)|0,j=(j=j+Math.imul(oe,vt)|0)+Math.imul(ne,yr)|0,R=R+Math.imul(ne,vt)|0,A=A+Math.imul(V,At)|0,j=(j=j+Math.imul(V,jt)|0)+Math.imul(Q,At)|0,R=R+Math.imul(Q,jt)|0;var Mr=(Z+(A=A+Math.imul(W,Gt)|0)|0)+((8191&(j=(j=j+Math.imul(W,Ot)|0)+Math.imul(ee,Gt)|0))<<13)|0;Z=((R=R+Math.imul(ee,Ot)|0)+(j>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,A=Math.imul(fe,st),j=(j=Math.imul(fe,rt))+Math.imul(he,st)|0,R=Math.imul(he,rt),A=A+Math.imul(me,yr)|0,j=(j=j+Math.imul(me,vt)|0)+Math.imul(ge,yr)|0,R=R+Math.imul(ge,vt)|0,A=A+Math.imul(oe,At)|0,j=(j=j+Math.imul(oe,jt)|0)+Math.imul(ne,At)|0,R=R+Math.imul(ne,jt)|0,A=A+Math.imul(V,Gt)|0,j=(j=j+Math.imul(V,Ot)|0)+Math.imul(Q,Gt)|0,R=R+Math.imul(Q,Ot)|0;var Gr=(Z+(A=A+Math.imul(W,ur)|0)|0)+((8191&(j=(j=j+Math.imul(W,Mt)|0)+Math.imul(ee,ur)|0))<<13)|0;Z=((R=R+Math.imul(ee,Mt)|0)+(j>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,A=Math.imul(xe,st),j=(j=Math.imul(xe,rt))+Math.imul(_e,st)|0,R=Math.imul(_e,rt),A=A+Math.imul(fe,yr)|0,j=(j=j+Math.imul(fe,vt)|0)+Math.imul(he,yr)|0,R=R+Math.imul(he,vt)|0,A=A+Math.imul(me,At)|0,j=(j=j+Math.imul(me,jt)|0)+Math.imul(ge,At)|0,R=R+Math.imul(ge,jt)|0,A=A+Math.imul(oe,Gt)|0,j=(j=j+Math.imul(oe,Ot)|0)+Math.imul(ne,Gt)|0,R=R+Math.imul(ne,Ot)|0,A=A+Math.imul(V,ur)|0,j=(j=j+Math.imul(V,Mt)|0)+Math.imul(Q,ur)|0,R=R+Math.imul(Q,Mt)|0;var de=(Z+(A=A+Math.imul(W,vr)|0)|0)+((8191&(j=(j=j+Math.imul(W,Dt)|0)+Math.imul(ee,vr)|0))<<13)|0;Z=((R=R+Math.imul(ee,Dt)|0)+(j>>>13)|0)+(de>>>26)|0,de&=67108863,A=Math.imul(Re,st),j=(j=Math.imul(Re,rt))+Math.imul($e,st)|0,R=Math.imul($e,rt),A=A+Math.imul(xe,yr)|0,j=(j=j+Math.imul(xe,vt)|0)+Math.imul(_e,yr)|0,R=R+Math.imul(_e,vt)|0,A=A+Math.imul(fe,At)|0,j=(j=j+Math.imul(fe,jt)|0)+Math.imul(he,At)|0,R=R+Math.imul(he,jt)|0,A=A+Math.imul(me,Gt)|0,j=(j=j+Math.imul(me,Ot)|0)+Math.imul(ge,Gt)|0,R=R+Math.imul(ge,Ot)|0,A=A+Math.imul(oe,ur)|0,j=(j=j+Math.imul(oe,Mt)|0)+Math.imul(ne,ur)|0,R=R+Math.imul(ne,Mt)|0,A=A+Math.imul(V,vr)|0,j=(j=j+Math.imul(V,Dt)|0)+Math.imul(Q,vr)|0,R=R+Math.imul(Q,Dt)|0;var Ae=(Z+(A=A+Math.imul(W,Te)|0)|0)+((8191&(j=(j=j+Math.imul(W,Pe)|0)+Math.imul(ee,Te)|0))<<13)|0;Z=((R=R+Math.imul(ee,Pe)|0)+(j>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,A=Math.imul(et,st),j=(j=Math.imul(et,rt))+Math.imul(Ye,st)|0,R=Math.imul(Ye,rt),A=A+Math.imul(Re,yr)|0,j=(j=j+Math.imul(Re,vt)|0)+Math.imul($e,yr)|0,R=R+Math.imul($e,vt)|0,A=A+Math.imul(xe,At)|0,j=(j=j+Math.imul(xe,jt)|0)+Math.imul(_e,At)|0,R=R+Math.imul(_e,jt)|0,A=A+Math.imul(fe,Gt)|0,j=(j=j+Math.imul(fe,Ot)|0)+Math.imul(he,Gt)|0,R=R+Math.imul(he,Ot)|0,A=A+Math.imul(me,ur)|0,j=(j=j+Math.imul(me,Mt)|0)+Math.imul(ge,ur)|0,R=R+Math.imul(ge,Mt)|0,A=A+Math.imul(oe,vr)|0,j=(j=j+Math.imul(oe,Dt)|0)+Math.imul(ne,vr)|0,R=R+Math.imul(ne,Dt)|0,A=A+Math.imul(V,Te)|0,j=(j=j+Math.imul(V,Pe)|0)+Math.imul(Q,Te)|0,R=R+Math.imul(Q,Pe)|0;var Fe=(Z+(A=A+Math.imul(W,ct)|0)|0)+((8191&(j=(j=j+Math.imul(W,Ge)|0)+Math.imul(ee,ct)|0))<<13)|0;Z=((R=R+Math.imul(ee,Ge)|0)+(j>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,A=Math.imul(bt,st),j=(j=Math.imul(bt,rt))+Math.imul(yt,st)|0,R=Math.imul(yt,rt),A=A+Math.imul(et,yr)|0,j=(j=j+Math.imul(et,vt)|0)+Math.imul(Ye,yr)|0,R=R+Math.imul(Ye,vt)|0,A=A+Math.imul(Re,At)|0,j=(j=j+Math.imul(Re,jt)|0)+Math.imul($e,At)|0,R=R+Math.imul($e,jt)|0,A=A+Math.imul(xe,Gt)|0,j=(j=j+Math.imul(xe,Ot)|0)+Math.imul(_e,Gt)|0,R=R+Math.imul(_e,Ot)|0,A=A+Math.imul(fe,ur)|0,j=(j=j+Math.imul(fe,Mt)|0)+Math.imul(he,ur)|0,R=R+Math.imul(he,Mt)|0,A=A+Math.imul(me,vr)|0,j=(j=j+Math.imul(me,Dt)|0)+Math.imul(ge,vr)|0,R=R+Math.imul(ge,Dt)|0,A=A+Math.imul(oe,Te)|0,j=(j=j+Math.imul(oe,Pe)|0)+Math.imul(ne,Te)|0,R=R+Math.imul(ne,Pe)|0,A=A+Math.imul(V,ct)|0,j=(j=j+Math.imul(V,Ge)|0)+Math.imul(Q,ct)|0,R=R+Math.imul(Q,Ge)|0;var qe=(Z+(A=A+Math.imul(W,mt)|0)|0)+((8191&(j=(j=j+Math.imul(W,pt)|0)+Math.imul(ee,mt)|0))<<13)|0;Z=((R=R+Math.imul(ee,pt)|0)+(j>>>13)|0)+(qe>>>26)|0,qe&=67108863,A=Math.imul(Ze,st),j=(j=Math.imul(Ze,rt))+Math.imul(Ue,st)|0,R=Math.imul(Ue,rt),A=A+Math.imul(bt,yr)|0,j=(j=j+Math.imul(bt,vt)|0)+Math.imul(yt,yr)|0,R=R+Math.imul(yt,vt)|0,A=A+Math.imul(et,At)|0,j=(j=j+Math.imul(et,jt)|0)+Math.imul(Ye,At)|0,R=R+Math.imul(Ye,jt)|0,A=A+Math.imul(Re,Gt)|0,j=(j=j+Math.imul(Re,Ot)|0)+Math.imul($e,Gt)|0,R=R+Math.imul($e,Ot)|0,A=A+Math.imul(xe,ur)|0,j=(j=j+Math.imul(xe,Mt)|0)+Math.imul(_e,ur)|0,R=R+Math.imul(_e,Mt)|0,A=A+Math.imul(fe,vr)|0,j=(j=j+Math.imul(fe,Dt)|0)+Math.imul(he,vr)|0,R=R+Math.imul(he,Dt)|0,A=A+Math.imul(me,Te)|0,j=(j=j+Math.imul(me,Pe)|0)+Math.imul(ge,Te)|0,R=R+Math.imul(ge,Pe)|0,A=A+Math.imul(oe,ct)|0,j=(j=j+Math.imul(oe,Ge)|0)+Math.imul(ne,ct)|0,R=R+Math.imul(ne,Ge)|0,A=A+Math.imul(V,mt)|0,j=(j=j+Math.imul(V,pt)|0)+Math.imul(Q,mt)|0,R=R+Math.imul(Q,pt)|0;var lt=(Z+(A=A+Math.imul(W,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(W,Ut)|0)+Math.imul(ee,Pt)|0))<<13)|0;Z=((R=R+Math.imul(ee,Ut)|0)+(j>>>13)|0)+(lt>>>26)|0,lt&=67108863,A=Math.imul(Ze,yr),j=(j=Math.imul(Ze,vt))+Math.imul(Ue,yr)|0,R=Math.imul(Ue,vt),A=A+Math.imul(bt,At)|0,j=(j=j+Math.imul(bt,jt)|0)+Math.imul(yt,At)|0,R=R+Math.imul(yt,jt)|0,A=A+Math.imul(et,Gt)|0,j=(j=j+Math.imul(et,Ot)|0)+Math.imul(Ye,Gt)|0,R=R+Math.imul(Ye,Ot)|0,A=A+Math.imul(Re,ur)|0,j=(j=j+Math.imul(Re,Mt)|0)+Math.imul($e,ur)|0,R=R+Math.imul($e,Mt)|0,A=A+Math.imul(xe,vr)|0,j=(j=j+Math.imul(xe,Dt)|0)+Math.imul(_e,vr)|0,R=R+Math.imul(_e,Dt)|0,A=A+Math.imul(fe,Te)|0,j=(j=j+Math.imul(fe,Pe)|0)+Math.imul(he,Te)|0,R=R+Math.imul(he,Pe)|0,A=A+Math.imul(me,ct)|0,j=(j=j+Math.imul(me,Ge)|0)+Math.imul(ge,ct)|0,R=R+Math.imul(ge,Ge)|0,A=A+Math.imul(oe,mt)|0,j=(j=j+Math.imul(oe,pt)|0)+Math.imul(ne,mt)|0,R=R+Math.imul(ne,pt)|0;var We=(Z+(A=A+Math.imul(V,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(V,Ut)|0)+Math.imul(Q,Pt)|0))<<13)|0;Z=((R=R+Math.imul(Q,Ut)|0)+(j>>>13)|0)+(We>>>26)|0,We&=67108863,A=Math.imul(Ze,At),j=(j=Math.imul(Ze,jt))+Math.imul(Ue,At)|0,R=Math.imul(Ue,jt),A=A+Math.imul(bt,Gt)|0,j=(j=j+Math.imul(bt,Ot)|0)+Math.imul(yt,Gt)|0,R=R+Math.imul(yt,Ot)|0,A=A+Math.imul(et,ur)|0,j=(j=j+Math.imul(et,Mt)|0)+Math.imul(Ye,ur)|0,R=R+Math.imul(Ye,Mt)|0,A=A+Math.imul(Re,vr)|0,j=(j=j+Math.imul(Re,Dt)|0)+Math.imul($e,vr)|0,R=R+Math.imul($e,Dt)|0,A=A+Math.imul(xe,Te)|0,j=(j=j+Math.imul(xe,Pe)|0)+Math.imul(_e,Te)|0,R=R+Math.imul(_e,Pe)|0,A=A+Math.imul(fe,ct)|0,j=(j=j+Math.imul(fe,Ge)|0)+Math.imul(he,ct)|0,R=R+Math.imul(he,Ge)|0,A=A+Math.imul(me,mt)|0,j=(j=j+Math.imul(me,pt)|0)+Math.imul(ge,mt)|0,R=R+Math.imul(ge,pt)|0;var Xe=(Z+(A=A+Math.imul(oe,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(oe,Ut)|0)+Math.imul(ne,Pt)|0))<<13)|0;Z=((R=R+Math.imul(ne,Ut)|0)+(j>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,A=Math.imul(Ze,Gt),j=(j=Math.imul(Ze,Ot))+Math.imul(Ue,Gt)|0,R=Math.imul(Ue,Ot),A=A+Math.imul(bt,ur)|0,j=(j=j+Math.imul(bt,Mt)|0)+Math.imul(yt,ur)|0,R=R+Math.imul(yt,Mt)|0,A=A+Math.imul(et,vr)|0,j=(j=j+Math.imul(et,Dt)|0)+Math.imul(Ye,vr)|0,R=R+Math.imul(Ye,Dt)|0,A=A+Math.imul(Re,Te)|0,j=(j=j+Math.imul(Re,Pe)|0)+Math.imul($e,Te)|0,R=R+Math.imul($e,Pe)|0,A=A+Math.imul(xe,ct)|0,j=(j=j+Math.imul(xe,Ge)|0)+Math.imul(_e,ct)|0,R=R+Math.imul(_e,Ge)|0,A=A+Math.imul(fe,mt)|0,j=(j=j+Math.imul(fe,pt)|0)+Math.imul(he,mt)|0,R=R+Math.imul(he,pt)|0;var er=(Z+(A=A+Math.imul(me,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(me,Ut)|0)+Math.imul(ge,Pt)|0))<<13)|0;Z=((R=R+Math.imul(ge,Ut)|0)+(j>>>13)|0)+(er>>>26)|0,er&=67108863,A=Math.imul(Ze,ur),j=(j=Math.imul(Ze,Mt))+Math.imul(Ue,ur)|0,R=Math.imul(Ue,Mt),A=A+Math.imul(bt,vr)|0,j=(j=j+Math.imul(bt,Dt)|0)+Math.imul(yt,vr)|0,R=R+Math.imul(yt,Dt)|0,A=A+Math.imul(et,Te)|0,j=(j=j+Math.imul(et,Pe)|0)+Math.imul(Ye,Te)|0,R=R+Math.imul(Ye,Pe)|0,A=A+Math.imul(Re,ct)|0,j=(j=j+Math.imul(Re,Ge)|0)+Math.imul($e,ct)|0,R=R+Math.imul($e,Ge)|0,A=A+Math.imul(xe,mt)|0,j=(j=j+Math.imul(xe,pt)|0)+Math.imul(_e,mt)|0,R=R+Math.imul(_e,pt)|0;var qt=(Z+(A=A+Math.imul(fe,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(fe,Ut)|0)+Math.imul(he,Pt)|0))<<13)|0;Z=((R=R+Math.imul(he,Ut)|0)+(j>>>13)|0)+(qt>>>26)|0,qt&=67108863,A=Math.imul(Ze,vr),j=(j=Math.imul(Ze,Dt))+Math.imul(Ue,vr)|0,R=Math.imul(Ue,Dt),A=A+Math.imul(bt,Te)|0,j=(j=j+Math.imul(bt,Pe)|0)+Math.imul(yt,Te)|0,R=R+Math.imul(yt,Pe)|0,A=A+Math.imul(et,ct)|0,j=(j=j+Math.imul(et,Ge)|0)+Math.imul(Ye,ct)|0,R=R+Math.imul(Ye,Ge)|0,A=A+Math.imul(Re,mt)|0,j=(j=j+Math.imul(Re,pt)|0)+Math.imul($e,mt)|0,R=R+Math.imul($e,pt)|0;var Ht=(Z+(A=A+Math.imul(xe,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(xe,Ut)|0)+Math.imul(_e,Pt)|0))<<13)|0;Z=((R=R+Math.imul(_e,Ut)|0)+(j>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,A=Math.imul(Ze,Te),j=(j=Math.imul(Ze,Pe))+Math.imul(Ue,Te)|0,R=Math.imul(Ue,Pe),A=A+Math.imul(bt,ct)|0,j=(j=j+Math.imul(bt,Ge)|0)+Math.imul(yt,ct)|0,R=R+Math.imul(yt,Ge)|0,A=A+Math.imul(et,mt)|0,j=(j=j+Math.imul(et,pt)|0)+Math.imul(Ye,mt)|0,R=R+Math.imul(Ye,pt)|0;var Ct=(Z+(A=A+Math.imul(Re,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(Re,Ut)|0)+Math.imul($e,Pt)|0))<<13)|0;Z=((R=R+Math.imul($e,Ut)|0)+(j>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,A=Math.imul(Ze,ct),j=(j=Math.imul(Ze,Ge))+Math.imul(Ue,ct)|0,R=Math.imul(Ue,Ge),A=A+Math.imul(bt,mt)|0,j=(j=j+Math.imul(bt,pt)|0)+Math.imul(yt,mt)|0,R=R+Math.imul(yt,pt)|0;var mr=(Z+(A=A+Math.imul(et,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(et,Ut)|0)+Math.imul(Ye,Pt)|0))<<13)|0;Z=((R=R+Math.imul(Ye,Ut)|0)+(j>>>13)|0)+(mr>>>26)|0,mr&=67108863,A=Math.imul(Ze,mt),j=(j=Math.imul(Ze,pt))+Math.imul(Ue,mt)|0,R=Math.imul(Ue,pt);var Xt=(Z+(A=A+Math.imul(bt,Pt)|0)|0)+((8191&(j=(j=j+Math.imul(bt,Ut)|0)+Math.imul(yt,Pt)|0))<<13)|0;Z=((R=R+Math.imul(yt,Ut)|0)+(j>>>13)|0)+(Xt>>>26)|0,Xt&=67108863;var $t=(Z+(A=Math.imul(Ze,Pt))|0)+((8191&(j=(j=Math.imul(Ze,Ut))+Math.imul(Ue,Pt)|0))<<13)|0;return Z=((R=Math.imul(Ue,Ut))+(j>>>13)|0)+($t>>>26)|0,$t&=67108863,Y[0]=Or,Y[1]=xr,Y[2]=Nr,Y[3]=Mr,Y[4]=Gr,Y[5]=de,Y[6]=Ae,Y[7]=Fe,Y[8]=qe,Y[9]=lt,Y[10]=We,Y[11]=Xe,Y[12]=er,Y[13]=qt,Y[14]=Ht,Y[15]=Ct,Y[16]=mr,Y[17]=Xt,Y[18]=$t,Z!==0&&(Y[19]=Z,E.length++),E};function N(C,w,E){E.negative=w.negative^C.negative,E.length=C.length+w.length;for(var A=0,j=0,R=0;R<E.length-1;R++){var q=j;j=0;for(var H=67108863&A,Y=Math.min(R,w.length-1),Z=Math.max(0,R-C.length+1);Z<=Y;Z++){var te=R-Z,W=(0|C.words[te])*(0|w.words[Z]),ee=67108863&W;H=67108863&(ee=ee+H|0),j+=(q=(q=q+(W/67108864|0)|0)+(ee>>>26)|0)>>>26,q&=67108863}E.words[R]=H,A=q,q=j}return A!==0?E.words[R]=A:E.length--,E._strip()}function P(C,w,E){return N(C,w,E)}Math.imul||(k=_),o.prototype.mulTo=function(C,w){var E=this.length+C.length;return this.length===10&&C.length===10?k(this,C,w):E<63?_(this,C,w):E<1024?N(this,C,w):P(this,C,w)},o.prototype.mul=function(C){var w=new o(null);return w.words=new Array(this.length+C.length),this.mulTo(C,w)},o.prototype.mulf=function(C){var w=new o(null);return w.words=new Array(this.length+C.length),P(this,C,w)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var w=C<0;w&&(C=-C),c(typeof C=="number"),c(C<67108864);for(var E=0,A=0;A<this.length;A++){var j=(0|this.words[A])*C,R=(67108863&j)+(67108863&E);E>>=26,E+=j/67108864|0,E+=R>>>26,this.words[A]=67108863&R}return E!==0&&(this.words[A]=E,this.length++),w?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var w=(function(R){for(var q=new Array(R.bitLength()),H=0;H<q.length;H++){var Y=H/26|0,Z=H%26;q[H]=R.words[Y]>>>Z&1}return q})(C);if(w.length===0)return new o(1);for(var E=this,A=0;A<w.length&&w[A]===0;A++,E=E.sqr());if(++A<w.length)for(var j=E.sqr();A<w.length;A++,j=j.sqr())w[A]!==0&&(E=E.mul(j));return E},o.prototype.iushln=function(C){c(typeof C=="number"&&C>=0);var w,E=C%26,A=(C-E)/26,j=67108863>>>26-E<<26-E;if(E!==0){var R=0;for(w=0;w<this.length;w++){var q=this.words[w]&j,H=(0|this.words[w])-q<<E;this.words[w]=H|R,R=q>>>26-E}R&&(this.words[w]=R,this.length++)}if(A!==0){for(w=this.length-1;w>=0;w--)this.words[w+A]=this.words[w];for(w=0;w<A;w++)this.words[w]=0;this.length+=A}return this._strip()},o.prototype.ishln=function(C){return c(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,w,E){var A;c(typeof C=="number"&&C>=0),A=w?(w-w%26)/26:0;var j=C%26,R=Math.min((C-j)/26,this.length),q=67108863^67108863>>>j<<j,H=E;if(A-=R,A=Math.max(0,A),H){for(var Y=0;Y<R;Y++)H.words[Y]=this.words[Y];H.length=R}if(R!==0)if(this.length>R)for(this.length-=R,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+R];else this.words[0]=0,this.length=1;var Z=0;for(Y=this.length-1;Y>=0&&(Z!==0||Y>=A);Y--){var te=0|this.words[Y];this.words[Y]=Z<<26-j|te>>>j,Z=te&q}return H&&Z!==0&&(H.words[H.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,w,E){return c(this.negative===0),this.iushrn(C,w,E)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){c(typeof C=="number"&&C>=0);var w=C%26,E=(C-w)/26,A=1<<w;return!(this.length<=E)&&!!(this.words[E]&A)},o.prototype.imaskn=function(C){c(typeof C=="number"&&C>=0);var w=C%26,E=(C-w)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(w!==0&&E++,this.length=Math.min(E,this.length),w!==0){var A=67108863^67108863>>>w<<w;this.words[this.length-1]&=A}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return c(typeof C=="number"),c(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(C){if(c(typeof C=="number"),c(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,w,E){var A,j,R=C.length+E;this._expand(R);var q=0;for(A=0;A<C.length;A++){j=(0|this.words[A+E])+q;var H=(0|C.words[A])*w;q=((j-=67108863&H)>>26)-(H/67108864|0),this.words[A+E]=67108863&j}for(;A<this.length-E;A++)q=(j=(0|this.words[A+E])+q)>>26,this.words[A+E]=67108863&j;if(q===0)return this._strip();for(c(q===-1),q=0,A=0;A<this.length;A++)q=(j=-(0|this.words[A])+q)>>26,this.words[A]=67108863&j;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,w){var E=(this.length,C.length),A=this.clone(),j=C,R=0|j.words[j.length-1];(E=26-this._countBits(R))!==0&&(j=j.ushln(E),A.iushln(E),R=0|j.words[j.length-1]);var q,H=A.length-j.length;if(w!=="mod"){(q=new o(null)).length=H+1,q.words=new Array(q.length);for(var Y=0;Y<q.length;Y++)q.words[Y]=0}var Z=A.clone()._ishlnsubmul(j,1,H);Z.negative===0&&(A=Z,q&&(q.words[H]=1));for(var te=H-1;te>=0;te--){var W=67108864*(0|A.words[j.length+te])+(0|A.words[j.length+te-1]);for(W=Math.min(W/R|0,67108863),A._ishlnsubmul(j,W,te);A.negative!==0;)W--,A.negative=0,A._ishlnsubmul(j,1,te),A.isZero()||(A.negative^=1);q&&(q.words[te]=W)}return q&&q._strip(),A._strip(),w!=="div"&&E!==0&&A.iushrn(E),{div:q||null,mod:A}},o.prototype.divmod=function(C,w,E){return c(!C.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&C.negative===0?(R=this.neg().divmod(C,w),w!=="mod"&&(A=R.div.neg()),w!=="div"&&(j=R.mod.neg(),E&&j.negative!==0&&j.iadd(C)),{div:A,mod:j}):this.negative===0&&C.negative!==0?(R=this.divmod(C.neg(),w),w!=="mod"&&(A=R.div.neg()),{div:A,mod:R.mod}):(this.negative&C.negative)!=0?(R=this.neg().divmod(C.neg(),w),w!=="div"&&(j=R.mod.neg(),E&&j.negative!==0&&j.isub(C)),{div:R.div,mod:j}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?w==="div"?{div:this.divn(C.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,w);var A,j,R},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var w=this.divmod(C);if(w.mod.isZero())return w.div;var E=w.div.negative!==0?w.mod.isub(C):w.mod,A=C.ushrn(1),j=C.andln(1),R=E.cmp(A);return R<0||j===1&&R===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modrn=function(C){var w=C<0;w&&(C=-C),c(C<=67108863);for(var E=(1<<26)%C,A=0,j=this.length-1;j>=0;j--)A=(E*A+(0|this.words[j]))%C;return w?-A:A},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var w=C<0;w&&(C=-C),c(C<=67108863);for(var E=0,A=this.length-1;A>=0;A--){var j=(0|this.words[A])+67108864*E;this.words[A]=j/C|0,E=j%C}return this._strip(),w?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){c(C.negative===0),c(!C.isZero());var w=this,E=C.clone();w=w.negative!==0?w.umod(C):w.clone();for(var A=new o(1),j=new o(0),R=new o(0),q=new o(1),H=0;w.isEven()&&E.isEven();)w.iushrn(1),E.iushrn(1),++H;for(var Y=E.clone(),Z=w.clone();!w.isZero();){for(var te=0,W=1;(w.words[0]&W)==0&&te<26;++te,W<<=1);if(te>0)for(w.iushrn(te);te-- >0;)(A.isOdd()||j.isOdd())&&(A.iadd(Y),j.isub(Z)),A.iushrn(1),j.iushrn(1);for(var ee=0,K=1;(E.words[0]&K)==0&&ee<26;++ee,K<<=1);if(ee>0)for(E.iushrn(ee);ee-- >0;)(R.isOdd()||q.isOdd())&&(R.iadd(Y),q.isub(Z)),R.iushrn(1),q.iushrn(1);w.cmp(E)>=0?(w.isub(E),A.isub(R),j.isub(q)):(E.isub(w),R.isub(A),q.isub(j))}return{a:R,b:q,gcd:E.iushln(H)}},o.prototype._invmp=function(C){c(C.negative===0),c(!C.isZero());var w=this,E=C.clone();w=w.negative!==0?w.umod(C):w.clone();for(var A,j=new o(1),R=new o(0),q=E.clone();w.cmpn(1)>0&&E.cmpn(1)>0;){for(var H=0,Y=1;(w.words[0]&Y)==0&&H<26;++H,Y<<=1);if(H>0)for(w.iushrn(H);H-- >0;)j.isOdd()&&j.iadd(q),j.iushrn(1);for(var Z=0,te=1;(E.words[0]&te)==0&&Z<26;++Z,te<<=1);if(Z>0)for(E.iushrn(Z);Z-- >0;)R.isOdd()&&R.iadd(q),R.iushrn(1);w.cmp(E)>=0?(w.isub(E),j.isub(R)):(E.isub(w),R.isub(j))}return(A=w.cmpn(1)===0?j:R).cmpn(0)<0&&A.iadd(C),A},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var w=this.clone(),E=C.clone();w.negative=0,E.negative=0;for(var A=0;w.isEven()&&E.isEven();A++)w.iushrn(1),E.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;E.isEven();)E.iushrn(1);var j=w.cmp(E);if(j<0){var R=w;w=E,E=R}else if(j===0||E.cmpn(1)===0)break;w.isub(E)}return E.iushln(A)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){c(typeof C=="number");var w=C%26,E=(C-w)/26,A=1<<w;if(this.length<=E)return this._expand(E+1),this.words[E]|=A,this;for(var j=A,R=E;j!==0&&R<this.length;R++){var q=0|this.words[R];j=(q+=j)>>>26,q&=67108863,this.words[R]=q}return j!==0&&(this.words[R]=j,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var w,E=C<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this._strip(),this.length>1)w=1;else{E&&(C=-C),c(C<=67108863,"Number is too big");var A=0|this.words[0];w=A===C?0:A<C?-1:1}return this.negative!==0?0|-w:w},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var w=this.ucmp(C);return this.negative!==0?0|-w:w},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var w=0,E=this.length-1;E>=0;E--){var A=0|this.words[E],j=0|C.words[E];if(A!==j){A<j?w=-1:A>j&&(w=1);break}}return w},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new O(C)},o.prototype.toRed=function(C){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return c(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return c(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var D={k256:null,p224:null,p192:null,p25519:null};function I(C,w){this.name=C,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(C){if(typeof C=="string"){var w=o._prime(C);this.m=w.p,this.prime=w}else c(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function F(C){O.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},I.prototype.ireduce=function(C){var w,E=C;do this.split(E,this.tmp),w=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(w>this.n);var A=w<this.n?-1:E.ucmp(this.p);return A===0?(E.words[0]=0,E.length=1):A>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},I.prototype.split=function(C,w){C.iushrn(this.n,0,w)},I.prototype.imulK=function(C){return C.imul(this.k)},l(B,I),B.prototype.split=function(C,w){for(var E=Math.min(C.length,9),A=0;A<E;A++)w.words[A]=C.words[A];if(w.length=E,C.length<=9)return C.words[0]=0,void(C.length=1);var j=C.words[9];for(w.words[w.length++]=4194303&j,A=10;A<C.length;A++){var R=0|C.words[A];C.words[A-10]=(4194303&R)<<4|j>>>22,j=R}j>>>=22,C.words[A-10]=j,j===0&&C.length>10?C.length-=10:C.length-=9},B.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var w=0,E=0;E<C.length;E++){var A=0|C.words[E];w+=977*A,C.words[E]=67108863&w,w=64*A+(w/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},l(L,I),l(z,I),l($,I),$.prototype.imulK=function(C){for(var w=0,E=0;E<C.length;E++){var A=19*(0|C.words[E])+w,j=67108863&A;A>>>=26,C.words[E]=j,w=A}return w!==0&&(C.words[C.length++]=w),C},o._prime=function(C){if(D[C])return D[C];var w;if(C==="k256")w=new B;else if(C==="p224")w=new L;else if(C==="p192")w=new z;else{if(C!=="p25519")throw new Error("Unknown prime "+C);w=new $}return D[C]=w,w},O.prototype._verify1=function(C){c(C.negative===0,"red works only with positives"),c(C.red,"red works only with red numbers")},O.prototype._verify2=function(C,w){c((C.negative|w.negative)==0,"red works only with positives"),c(C.red&&C.red===w.red,"red works only with red numbers")},O.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(g(C,C.umod(this.m)._forceRed(this)),C)},O.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},O.prototype.add=function(C,w){this._verify2(C,w);var E=C.add(w);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},O.prototype.iadd=function(C,w){this._verify2(C,w);var E=C.iadd(w);return E.cmp(this.m)>=0&&E.isub(this.m),E},O.prototype.sub=function(C,w){this._verify2(C,w);var E=C.sub(w);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},O.prototype.isub=function(C,w){this._verify2(C,w);var E=C.isub(w);return E.cmpn(0)<0&&E.iadd(this.m),E},O.prototype.shl=function(C,w){return this._verify1(C),this.imod(C.ushln(w))},O.prototype.imul=function(C,w){return this._verify2(C,w),this.imod(C.imul(w))},O.prototype.mul=function(C,w){return this._verify2(C,w),this.imod(C.mul(w))},O.prototype.isqr=function(C){return this.imul(C,C.clone())},O.prototype.sqr=function(C){return this.mul(C,C)},O.prototype.sqrt=function(C){if(C.isZero())return C.clone();var w=this.m.andln(3);if(c(w%2==1),w===3){var E=this.m.add(new o(1)).iushrn(2);return this.pow(C,E)}for(var A=this.m.subn(1),j=0;!A.isZero()&&A.andln(1)===0;)j++,A.iushrn(1);c(!A.isZero());var R=new o(1).toRed(this),q=R.redNeg(),H=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new o(2*Y*Y).toRed(this);this.pow(Y,H).cmp(q)!==0;)Y.redIAdd(q);for(var Z=this.pow(Y,A),te=this.pow(C,A.addn(1).iushrn(1)),W=this.pow(C,A),ee=j;W.cmp(R)!==0;){for(var K=W,V=0;K.cmp(R)!==0;V++)K=K.redSqr();c(V<ee);var Q=this.pow(Z,new o(1).iushln(ee-V-1));te=te.redMul(Q),Z=Q.redSqr(),W=W.redMul(Z),ee=V}return te},O.prototype.invm=function(C){var w=C._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},O.prototype.pow=function(C,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return C.clone();var E=new Array(16);E[0]=new o(1).toRed(this),E[1]=C;for(var A=2;A<E.length;A++)E[A]=this.mul(E[A-1],C);var j=E[0],R=0,q=0,H=w.bitLength()%26;for(H===0&&(H=26),A=w.length-1;A>=0;A--){for(var Y=w.words[A],Z=H-1;Z>=0;Z--){var te=Y>>Z&1;j!==E[0]&&(j=this.sqr(j)),te!==0||R!==0?(R<<=1,R|=te,(++q===4||A===0&&Z===0)&&(j=this.mul(j,E[R]),q=0,R=0)):q=0}H=26}return j},O.prototype.convertTo=function(C){var w=C.umod(this.m);return w===C?w.clone():w},O.prototype.convertFrom=function(C){var w=C.clone();return w.red=null,w},o.mont=function(C){return new F(C)},l(F,O),F.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},F.prototype.convertFrom=function(C){var w=this.imod(C.mul(this.rinv));return w.red=null,w},F.prototype.imul=function(C,w){if(C.isZero()||w.isZero())return C.words[0]=0,C.length=1,C;var E=C.imul(w),A=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=E.isub(A).iushrn(this.shift),R=j;return j.cmp(this.m)>=0?R=j.isub(this.m):j.cmpn(0)<0&&(R=j.iadd(this.m)),R._forceRed(this)},F.prototype.mul=function(C,w){if(C.isZero()||w.isZero())return new o(0)._forceRed(this);var E=C.mul(w),A=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=E.isub(A).iushrn(this.shift),R=j;return j.cmp(this.m)>=0?R=j.isub(this.m):j.cmpn(0)<0&&(R=j.iadd(this.m)),R._forceRed(this)},F.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(t,n,i){var a;function s(l){this.rand=l}if(n.exports=function(l){return a||(a=new s(null)),a.generate(l)},n.exports.Rand=s,s.prototype.generate=function(l){return this._rand(l)},s.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var o=new Uint8Array(l),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(l){var o=new Uint8Array(l);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(l){var o=new Uint8Array(l);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=t("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(l){return c.randomBytes(l)}}catch{}},{crypto:188}],188:[function(t,n,i){},{}],189:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(h){a.isBuffer(h)||(h=a.from(h));for(var d=h.length/4|0,g=new Array(d),y=0;y<d;y++)g[y]=h.readUInt32BE(4*y);return g}function c(h){for(;0<h.length;h++)h[0]=0}function l(h,d,g,y,m){for(var x,v,_,k,N=g[0],P=g[1],D=g[2],I=g[3],B=h[0]^d[0],L=h[1]^d[1],z=h[2]^d[2],$=h[3]^d[3],O=4,F=1;F<m;F++)x=N[B>>>24]^P[L>>>16&255]^D[z>>>8&255]^I[255&$]^d[O++],v=N[L>>>24]^P[z>>>16&255]^D[$>>>8&255]^I[255&B]^d[O++],_=N[z>>>24]^P[$>>>16&255]^D[B>>>8&255]^I[255&L]^d[O++],k=N[$>>>24]^P[B>>>16&255]^D[L>>>8&255]^I[255&z]^d[O++],B=x,L=v,z=_,$=k;return x=(y[B>>>24]<<24|y[L>>>16&255]<<16|y[z>>>8&255]<<8|y[255&$])^d[O++],v=(y[L>>>24]<<24|y[z>>>16&255]<<16|y[$>>>8&255]<<8|y[255&B])^d[O++],_=(y[z>>>24]<<24|y[$>>>16&255]<<16|y[B>>>8&255]<<8|y[255&L])^d[O++],k=(y[$>>>24]<<24|y[B>>>16&255]<<16|y[L>>>8&255]<<8|y[255&z])^d[O++],[x>>>=0,v>>>=0,_>>>=0,k>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var g=[],y=[],m=[[],[],[],[]],x=[[],[],[],[]],v=0,_=0,k=0;k<256;++k){var N=_^_<<1^_<<2^_<<3^_<<4;N=N>>>8^255&N^99,g[v]=N,y[N]=v;var P=h[v],D=h[P],I=h[D],B=257*h[N]^16843008*N;m[0][v]=B<<24|B>>>8,m[1][v]=B<<16|B>>>16,m[2][v]=B<<8|B>>>24,m[3][v]=B,B=16843009*I^65537*D^257*P^16843008*v,x[0][N]=B<<24|B>>>8,x[1][N]=B<<16|B>>>16,x[2][N]=B<<8|B>>>24,x[3][N]=B,v===0?v=_=1:(v=P^h[h[h[I^P]]],_^=h[h[_]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:x}})();function f(h){this._key=s(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,d=h.length,g=d+6,y=4*(g+1),m=[],x=0;x<d;x++)m[x]=h[x];for(x=d;x<y;x++){var v=m[x-1];x%d==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=o[x/d|0]<<24):d>6&&x%d==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),m[x]=m[x-d]^v}for(var _=[],k=0;k<y;k++){var N=y-k,P=m[N-(k%4?0:4)];_[k]=k<4||N<=4?P:u.INV_SUB_MIX[0][u.SBOX[P>>>24]]^u.INV_SUB_MIX[1][u.SBOX[P>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[P>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&P]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=_},f.prototype.encryptBlockRaw=function(h){return l(h=s(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),g=a.allocUnsafe(16);return g.writeUInt32BE(d[0],0),g.writeUInt32BE(d[1],4),g.writeUInt32BE(d[2],8),g.writeUInt32BE(d[3],12),g},f.prototype.decryptBlock=function(h){var d=(h=s(h))[1];h[1]=h[3],h[3]=d;var g=l(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),y=a.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},f.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(t,n,i){var a=t("./aes"),s=t("safe-buffer").Buffer,c=t("cipher-base"),l=t("inherits"),o=t("./ghash"),u=t("buffer-xor"),f=t("./incr32");function h(d,g,y,m){c.call(this);var x=s.alloc(4,0);this._cipher=new a.AES(g);var v=this._cipher.encryptBlock(x);this._ghash=new o(v),y=(function(_,k,N){if(k.length===12)return _._finID=s.concat([k,s.from([0,0,0,1])]),s.concat([k,s.from([0,0,0,2])]);var P=new o(N),D=k.length,I=D%16;P.update(k),I&&(I=16-I,P.update(s.alloc(I,0))),P.update(s.alloc(8,0));var B=8*D,L=s.alloc(8);L.writeUIntBE(B,0,8),P.update(L),_._finID=P.state;var z=s.from(_._finID);return f(z),z})(this,y,v),this._prev=s.from(y),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}l(h,c),h.prototype._update=function(d){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=s.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(y),this._len+=d.length,y},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var m=0;g.length!==y.length&&m++;for(var x=Math.min(g.length,y.length),v=0;v<x;++v)m+=g[v]^y[v];return m})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,n,i){var a=t("./encrypter"),s=t("./decrypter"),c=t("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=s.createDecipher,i.createDecipheriv=i.Decipheriv=s.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,n,i){var a=t("./authCipher"),s=t("safe-buffer").Buffer,c=t("./modes"),l=t("./streamCipher"),o=t("cipher-base"),u=t("./aes"),f=t("evp_bytestokey");function h(y,m,x){o.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(m),this._prev=s.from(x),this._mode=y,this._autopadding=!0}function d(){this.cache=s.allocUnsafe(0)}function g(y,m,x){var v=c[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=s.from(x)),v.mode!=="GCM"&&x.length!==v.iv)throw new TypeError("invalid iv length "+x.length);if(typeof m=="string"&&(m=s.from(m)),m.length!==v.key/8)throw new TypeError("invalid key length "+m.length);return v.type==="stream"?new l(v.module,m,x,!0):v.type==="auth"?new a(v.module,m,x,!0):new h(v.module,m,x)}t("inherits")(h,o),h.prototype._update=function(y){var m,x;this._cache.add(y);for(var v=[];m=this._cache.get(this._autopadding);)x=this._mode.decrypt(this,m),v.push(x);return s.concat(v)},h.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(m){var x=m[15];if(x<1||x>16)throw new Error("unable to decrypt data");for(var v=-1;++v<x;)if(m[v+(16-x)]!==x)throw new Error("unable to decrypt data");if(x!==16)return m.slice(0,16-x)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},d.prototype.add=function(y){this.cache=s.concat([this.cache,y])},d.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(y,m){var x=c[y.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var v=f(m,!1,x.key,x.iv);return g(y,v.key,v.iv)},i.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,n,i){var a=t("./modes"),s=t("./authCipher"),c=t("safe-buffer").Buffer,l=t("./streamCipher"),o=t("cipher-base"),u=t("./aes"),f=t("evp_bytestokey");function h(m,x,v){o.call(this),this._cache=new g,this._cipher=new u.AES(x),this._prev=c.from(v),this._mode=m,this._autopadding=!0}t("inherits")(h,o),h.prototype._update=function(m){var x,v;this._cache.add(m);for(var _=[];x=this._cache.get();)v=this._mode.encrypt(this,x),_.push(v);return c.concat(_)};var d=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function y(m,x,v){var _=a[m.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=c.from(x)),x.length!==_.key/8)throw new TypeError("invalid key length "+x.length);if(typeof v=="string"&&(v=c.from(v)),_.mode!=="GCM"&&v.length!==_.iv)throw new TypeError("invalid iv length "+v.length);return _.type==="stream"?new l(_.module,x,v):_.type==="auth"?new s(_.module,x,v):new h(_.module,x,v)}h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=c.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,x=c.allocUnsafe(m),v=-1;++v<m;)x.writeUInt8(m,v);return c.concat([this.cache,x])},i.createCipheriv=y,i.createCipher=function(m,x){var v=a[m.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var _=f(x,!1,v.key,v.iv);return y(m,_.key,_.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,n,i){var a=t("safe-buffer").Buffer,s=a.alloc(16,0);function c(o){var u=a.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function l(o){this.h=o,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}l.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},l.prototype._multiply=function(){for(var o,u,f,h=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],d=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),f=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=c(d)},l.prototype.update=function(o){var u;for(this.cache=a.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(o,u){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(c([0,o,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(t,n,i){n.exports=function(a){for(var s,c=a.length;c--;){if((s=a.readUInt8(c))!==255){s++,a.writeUInt8(s,c);break}a.writeUInt8(0,c)}}},{}],196:[function(t,n,i){var a=t("buffer-xor");i.encrypt=function(s,c){var l=a(c,s._prev);return s._prev=s._cipher.encryptBlock(l),s._prev},i.decrypt=function(s,c){var l=s._prev;s._prev=c;var o=s._cipher.decryptBlock(c);return a(o,l)}},{"buffer-xor":219}],197:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("buffer-xor");function c(l,o,u){var f=o.length,h=s(o,l._cache);return l._cache=l._cache.slice(f),l._prev=a.concat([l._prev,u?o:h]),h}i.encrypt=function(l,o,u){for(var f,h=a.allocUnsafe(0);o.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=a.allocUnsafe(0)),!(l._cache.length<=o.length)){h=a.concat([h,c(l,o,u)]);break}f=l._cache.length,h=a.concat([h,c(l,o.slice(0,f),u)]),o=o.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(l,o,u){for(var f,h,d=-1,g=0;++d<8;)f=o&1<<7-d?128:0,g+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^f))>>d%8,l._prev=c(l._prev,u?f:h);return g}function c(l,o){var u=l.length,f=-1,h=a.allocUnsafe(l.length);for(l=a.concat([l,a.from([o])]);++f<u;)h[f]=l[f]<<1|l[f+1]>>7;return h}i.encrypt=function(l,o,u){for(var f=o.length,h=a.allocUnsafe(f),d=-1;++d<f;)h[d]=s(l,o[d],u);return h}},{"safe-buffer":494}],199:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(c,l,o){var u=c._cipher.encryptBlock(c._prev)[0]^l;return c._prev=a.concat([c._prev.slice(1),a.from([o?l:u])]),u}i.encrypt=function(c,l,o){for(var u=l.length,f=a.allocUnsafe(u),h=-1;++h<u;)f[h]=s(c,l[h],o);return f}},{"safe-buffer":494}],200:[function(t,n,i){var a=t("buffer-xor"),s=t("safe-buffer").Buffer,c=t("../incr32");function l(o){var u=o._cipher.encryptBlockRaw(o._prev);return c(o._prev),u}i.encrypt=function(o,u){var f=Math.ceil(u.length/16),h=o._cache.length;o._cache=s.concat([o._cache,s.allocUnsafe(16*f)]);for(var d=0;d<f;d++){var g=l(o),y=h+16*d;o._cache.writeUInt32BE(g[0],y+0),o._cache.writeUInt32BE(g[1],y+4),o._cache.writeUInt32BE(g[2],y+8),o._cache.writeUInt32BE(g[3],y+12)}var m=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),a(u,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,n,i){i.encrypt=function(a,s){return a._cipher.encryptBlock(s)},i.decrypt=function(a,s){return a._cipher.decryptBlock(s)}},{}],202:[function(t,n,i){var a={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},s=t("./list.json");for(var c in s)s[c].module=a[s[c].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,n,i){(function(a){(function(){var s=t("buffer-xor");function c(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,o){for(;l._cache.length<o.length;)l._cache=a.concat([l._cache,c(l)]);var u=l._cache.slice(0,o.length);return l._cache=l._cache.slice(o.length),s(o,u)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,n,i){var a=t("./aes"),s=t("safe-buffer").Buffer,c=t("cipher-base");function l(o,u,f,h){c.call(this),this._cipher=new a.AES(u),this._prev=s.from(f),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=h,this._mode=o}t("inherits")(l,c),l.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,n,i){var a=t("browserify-des"),s=t("browserify-aes/browser"),c=t("browserify-aes/modes"),l=t("browserify-des/modes"),o=t("evp_bytestokey");function u(h,d,g){if(h=h.toLowerCase(),c[h])return s.createCipheriv(h,d,g);if(l[h])return new a({key:d,iv:g,mode:h});throw new TypeError("invalid suite type")}function f(h,d,g){if(h=h.toLowerCase(),c[h])return s.createDecipheriv(h,d,g);if(l[h])return new a({key:d,iv:g,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,d){var g,y;if(h=h.toLowerCase(),c[h])g=c[h].key,y=c[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");g=8*l[h].key,y=l[h].iv}var m=o(d,!1,g,y);return u(h,m.key,m.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(h,d){var g,y;if(h=h.toLowerCase(),c[h])g=c[h].key,y=c[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");g=8*l[h].key,y=l[h].iv}var m=o(d,!1,g,y);return f(h,m.key,m.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,n,i){var a=t("cipher-base"),s=t("des.js"),c=t("inherits"),l=t("safe-buffer").Buffer,o={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function u(f){a.call(this);var h,d=f.mode.toLowerCase(),g=o[d];h=f.decrypt?"decrypt":"encrypt";var y=f.key;l.isBuffer(y)||(y=l.from(y)),d!=="des-ede"&&d!=="des-ede-cbc"||(y=l.concat([y,y.slice(0,8)]));var m=f.iv;l.isBuffer(m)||(m=l.from(m)),this._des=g.create({key:y,iv:m,type:h})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,c(u,a),u.prototype._update=function(f){return l.from(this._des.update(f))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(t,n,i){(function(a){(function(){var s=t("bn.js"),c=t("randombytes");function l(u){var f,h=u.modulus.byteLength();do f=new s(c(h));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function o(u,f){var h=(function(D){var I=l(D);return{blinder:I.toRed(s.mont(D.modulus)).redPow(new s(D.publicExponent)).fromRed(),unblinder:I.invm(D.modulus)}})(f),d=f.modulus.byteLength(),g=new s(u).mul(h.blinder).umod(f.modulus),y=g.toRed(s.mont(f.prime1)),m=g.toRed(s.mont(f.prime2)),x=f.coefficient,v=f.prime1,_=f.prime2,k=y.redPow(f.exponent1).fromRed(),N=m.redPow(f.exponent2).fromRed(),P=k.isub(N).imul(x).umod(v).imul(_);return N.iadd(P).imul(h.unblinder).umod(f.modulus).toArrayLike(a,"be",d)}o.getr=l,n.exports=o}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,n,i){n.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("create-hash"),c=t("readable-stream"),l=t("inherits"),o=t("./sign"),u=t("./verify"),f=t("./algorithms.json");function h(m){c.Writable.call(this);var x=f[m];if(!x)throw new Error("Unknown message digest");this._hashType=x.hash,this._hash=s(x.hash),this._tag=x.id,this._signType=x.sign}function d(m){c.Writable.call(this);var x=f[m];if(!x)throw new Error("Unknown message digest");this._hash=s(x.hash),this._tag=x.id,this._signType=x.sign}function g(m){return new h(m)}function y(m){return new d(m)}Object.keys(f).forEach((function(m){f[m].id=a.from(f[m].id,"hex"),f[m.toLowerCase()]=f[m]})),l(h,c.Writable),h.prototype._write=function(m,x,v){this._hash.update(m),v()},h.prototype.update=function(m,x){return typeof m=="string"&&(m=a.from(m,x)),this._hash.update(m),this},h.prototype.sign=function(m,x){this.end();var v=this._hash.digest(),_=o(v,m,this._hashType,this._signType,this._tag);return x?_.toString(x):_},l(d,c.Writable),d.prototype._write=function(m,x,v){this._hash.update(m),v()},d.prototype.update=function(m,x){return typeof m=="string"&&(m=a.from(m,x)),this._hash.update(m),this},d.prototype.verify=function(m,x,v){typeof x=="string"&&(x=a.from(x,v)),this.end();var _=this._hash.digest();return u(x,_,m,this._signType,this._tag)},n.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("create-hmac"),c=t("browserify-rsa"),l=t("elliptic").ec,o=t("bn.js"),u=t("parse-asn1"),f=t("./curves.json");function h(m,x,v,_){if((m=a.from(m.toArray())).length<x.byteLength()){var k=a.alloc(x.byteLength()-m.length);m=a.concat([k,m])}var N=v.length,P=(function(B,L){B=(B=d(B,L)).mod(L);var z=a.from(B.toArray());if(z.length<L.byteLength()){var $=a.alloc(L.byteLength()-z.length);z=a.concat([$,z])}return z})(v,x),D=a.alloc(N);D.fill(1);var I=a.alloc(N);return I=s(_,I).update(D).update(a.from([0])).update(m).update(P).digest(),D=s(_,I).update(D).digest(),{k:I=s(_,I).update(D).update(a.from([1])).update(m).update(P).digest(),v:D=s(_,I).update(D).digest()}}function d(m,x){var v=new o(m),_=(m.length<<3)-x.bitLength();return _>0&&v.ishrn(_),v}function g(m,x,v){var _,k;do{for(_=a.alloc(0);8*_.length<m.bitLength();)x.v=s(v,x.k).update(x.v).digest(),_=a.concat([_,x.v]);k=d(_,m),x.k=s(v,x.k).update(x.v).update(a.from([0])).digest(),x.v=s(v,x.k).update(x.v).digest()}while(k.cmp(m)!==-1);return k}function y(m,x,v,_){return m.toRed(o.mont(v)).redPow(x).fromRed().mod(_)}n.exports=function(m,x,v,_,k){var N=u(x);if(N.curve){if(_!=="ecdsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(B,L){var z=f[L.curve.join(".")];if(!z)throw new Error("unknown curve "+L.curve.join("."));var $=new l(z).keyFromPrivate(L.privateKey).sign(B);return a.from($.toDER())})(m,N)}if(N.type==="dsa"){if(_!=="dsa")throw new Error("wrong private key type");return(function(B,L,z){for(var $,O=L.params.priv_key,F=L.params.p,C=L.params.q,w=L.params.g,E=new o(0),A=d(B,C).mod(C),j=!1,R=h(O,C,B,z);j===!1;)$=g(C,R,z),E=y(w,$,F,C),(j=$.invm(C).imul(A.add(O.mul(E))).mod(C)).cmpn(0)===0&&(j=!1,E=new o(0));return(function(q,H){q=q.toArray(),H=H.toArray(),128&q[0]&&(q=[0].concat(q)),128&H[0]&&(H=[0].concat(H));var Y=[48,q.length+H.length+4,2,q.length];return Y=Y.concat(q,[2,H.length],H),a.from(Y)})(E,j)})(m,N,v)}if(_!=="rsa"&&_!=="ecdsa/rsa")throw new Error("wrong private key type");m=a.concat([k,m]);for(var P=N.modulus.byteLength(),D=[0,1];m.length+D.length+1<P;)D.push(255);D.push(0);for(var I=-1;++I<m.length;)D.push(m[I]);return c(D,N)},n.exports.getKey=h,n.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("bn.js"),c=t("elliptic").ec,l=t("parse-asn1"),o=t("./curves.json");function u(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(f,h,d,g,y){var m=l(d);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(D,I,B){var L=o[B.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+B.data.algorithm.curve.join("."));var z=new c(L),$=B.data.subjectPrivateKey.data;return z.verify(I,D,$)})(f,h,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(D,I,B){var L=B.data.p,z=B.data.q,$=B.data.g,O=B.data.pub_key,F=l.signature.decode(D,"der"),C=F.s,w=F.r;u(C,z),u(w,z);var E=s.mont(L),A=C.invm(z);return $.toRed(E).redPow(new s(I).mul(A).mod(z)).fromRed().mul(O.toRed(E).redPow(w.mul(A).mod(z)).fromRed()).mod(L).mod(z).cmp(w)===0})(f,h,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");h=a.concat([y,h]);for(var x=m.modulus.byteLength(),v=[1],_=0;h.length+v.length+2<x;)v.push(255),_++;v.push(0);for(var k=-1;++k<h.length;)v.push(h[k]);v=a.from(v);var N=s.mont(m.modulus);f=(f=new s(f).toRed(N)).redPow(new s(m.publicExponent)),f=a.from(f.fromRed().toArray());var P=_<8?1:0;for(x=Math.min(f.length,v.length),f.length!==v.length&&(P=1),k=-1;++k<x;)P|=f[k]^v[k];return P===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,n,i){},{}],217:[function(t,n,i){var a=t("buffer"),s=a.Buffer;function c(o,u){for(var f in o)u[f]=o[f]}function l(o,u,f){return s(o,u,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(c(a,i),i.Buffer=l),c(s,l),l.from=function(o,u,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,u,f)},l.alloc=function(o,u,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=s(o);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],218:[function(t,n,i){var a=t("safe-buffer").Buffer,s=a.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var x;switch(this.encoding=(function(v){var _=(function(k){if(!k)return"utf8";for(var N;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(N)return;k=(""+k).toLowerCase(),N=!0}})(v);if(typeof _!="string"&&(a.isEncoding===s||!s(v)))throw new Error("Unknown encoding: "+v);return _||v})(m),this.encoding){case"utf16le":this.text=u,this.end=f,x=4;break;case"utf8":this.fillLast=o,x=4;break;case"base64":this.text=h,this.end=d,x=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(x)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function o(m){var x=this.lastTotal-this.lastNeed,v=(function(_,k,N){if((192&k[0])!=128)return _.lastNeed=0,"";if(_.lastNeed>1&&k.length>1){if((192&k[1])!=128)return _.lastNeed=1,"";if(_.lastNeed>2&&k.length>2&&(192&k[2])!=128)return _.lastNeed=2,""}})(this,m);return v!==void 0?v:this.lastNeed<=m.length?(m.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,x,0,m.length),void(this.lastNeed-=m.length))}function u(m,x){if((m.length-x)%2==0){var v=m.toString("utf16le",x);if(v){var _=v.charCodeAt(v.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",x,m.length-1)}function f(m){var x=m&&m.length?this.write(m):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,v)}return x}function h(m,x){var v=(m.length-x)%3;return v===0?m.toString("base64",x):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",x,m.length-v))}function d(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function g(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}i.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var x,v;if(this.lastNeed){if((x=this.fillLast(m))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<m.length?x?x+this.text(m,v):this.text(m,v):x||""},c.prototype.end=function(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+"":x},c.prototype.text=function(m,x){var v=(function(k,N,P){var D=N.length-1;if(D<P)return 0;var I=l(N[D]);return I>=0?(I>0&&(k.lastNeed=I-1),I):--D<P||I===-2?0:(I=l(N[D]))>=0?(I>0&&(k.lastNeed=I-2),I):--D<P||I===-2?0:(I=l(N[D]))>=0?(I>0&&(I===2?I=0:k.lastNeed=I-3),I):0})(this,m,x);if(!this.lastNeed)return m.toString("utf8",x);this.lastTotal=v;var _=m.length-(v-this.lastNeed);return m.copy(this.lastChar,0,_),m.toString("utf8",x,_)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(t,n,i){(function(a){(function(){n.exports=function(s,c){for(var l=Math.min(s.length,c.length),o=new a(l),u=0;u<l;++u)o[u]=s[u]^c[u];return o}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,n,i){(function(a){(function(){var s=t("base64-js"),c=t("ieee754");i.Buffer=o,i.SlowBuffer=function(K){return+K!=K&&(K=0),o.alloc(+K)},i.INSPECT_MAX_BYTES=50;function l(K){if(K>2147483647)throw new RangeError('The value "'+K+'" is invalid for option "size"');var V=new Uint8Array(K);return V.__proto__=o.prototype,V}function o(K,V,Q){if(typeof K=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(K)}return u(K,V,Q)}function u(K,V,Q){if(typeof K=="string")return(function(ne,le){if(typeof le=="string"&&le!==""||(le="utf8"),!o.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var me=0|y(ne,le),ge=l(me),se=ge.write(ne,le);return se!==me&&(ge=ge.slice(0,se)),ge})(K,V);if(ArrayBuffer.isView(K))return d(K);if(K==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(W(K,ArrayBuffer)||K&&W(K.buffer,ArrayBuffer))return(function(ne,le,me){if(le<0||ne.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<le+(me||0))throw new RangeError('"length" is outside of buffer bounds');var ge;return ge=le===void 0&&me===void 0?new Uint8Array(ne):me===void 0?new Uint8Array(ne,le):new Uint8Array(ne,le,me),ge.__proto__=o.prototype,ge})(K,V,Q);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var re=K.valueOf&&K.valueOf();if(re!=null&&re!==K)return o.from(re,V,Q);var oe=(function(ne){if(o.isBuffer(ne)){var le=0|g(ne.length),me=l(le);return me.length===0||ne.copy(me,0,0,le),me}if(ne.length!==void 0)return typeof ne.length!="number"||ee(ne.length)?l(0):d(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return d(ne.data)})(K);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return o.from(K[Symbol.toPrimitive]("string"),V,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function f(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function h(K){return f(K),l(K<0?0:0|g(K))}function d(K){for(var V=K.length<0?0:0|g(K.length),Q=l(V),re=0;re<V;re+=1)Q[re]=255&K[re];return Q}function g(K){if(K>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|K}function y(K,V){if(o.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||W(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var Q=K.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&Q===0)return 0;for(var oe=!1;;)switch(V){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return Y(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return Z(K).length;default:if(oe)return re?-1:Y(K).length;V=(""+V).toLowerCase(),oe=!0}}function m(K,V,Q){var re=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(V>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return F(this,V,Q);case"utf8":case"utf-8":return z(this,V,Q);case"ascii":return $(this,V,Q);case"latin1":case"binary":return O(this,V,Q);case"base64":return L(this,V,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,V,Q);default:if(re)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),re=!0}}function x(K,V,Q){var re=K[V];K[V]=K[Q],K[Q]=re}function v(K,V,Q,re,oe){if(K.length===0)return-1;if(typeof Q=="string"?(re=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),ee(Q=+Q)&&(Q=oe?0:K.length-1),Q<0&&(Q=K.length+Q),Q>=K.length){if(oe)return-1;Q=K.length-1}else if(Q<0){if(!oe)return-1;Q=0}if(typeof V=="string"&&(V=o.from(V,re)),o.isBuffer(V))return V.length===0?-1:_(K,V,Q,re,oe);if(typeof V=="number")return V&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(K,V,Q):Uint8Array.prototype.lastIndexOf.call(K,V,Q):_(K,[V],Q,re,oe);throw new TypeError("val must be string, number or Buffer")}function _(K,V,Q,re,oe){var ne,le=1,me=K.length,ge=V.length;if(re!==void 0&&((re=String(re).toLowerCase())==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(K.length<2||V.length<2)return-1;le=2,me/=2,ge/=2,Q/=2}function se(xe,_e){return le===1?xe[_e]:xe.readUInt16BE(_e*le)}if(oe){var fe=-1;for(ne=Q;ne<me;ne++)if(se(K,ne)===se(V,fe===-1?0:ne-fe)){if(fe===-1&&(fe=ne),ne-fe+1===ge)return fe*le}else fe!==-1&&(ne-=ne-fe),fe=-1}else for(Q+ge>me&&(Q=me-ge),ne=Q;ne>=0;ne--){for(var he=!0,ve=0;ve<ge;ve++)if(se(K,ne+ve)!==se(V,ve)){he=!1;break}if(he)return ne}return-1}function k(K,V,Q,re){Q=Number(Q)||0;var oe=K.length-Q;re?(re=Number(re))>oe&&(re=oe):re=oe;var ne=V.length;re>ne/2&&(re=ne/2);for(var le=0;le<re;++le){var me=parseInt(V.substr(2*le,2),16);if(ee(me))return le;K[Q+le]=me}return le}function N(K,V,Q,re){return te(Y(V,K.length-Q),K,Q,re)}function P(K,V,Q,re){return te((function(oe){for(var ne=[],le=0;le<oe.length;++le)ne.push(255&oe.charCodeAt(le));return ne})(V),K,Q,re)}function D(K,V,Q,re){return P(K,V,Q,re)}function I(K,V,Q,re){return te(Z(V),K,Q,re)}function B(K,V,Q,re){return te((function(oe,ne){for(var le,me,ge,se=[],fe=0;fe<oe.length&&!((ne-=2)<0);++fe)le=oe.charCodeAt(fe),me=le>>8,ge=le%256,se.push(ge),se.push(me);return se})(V,K.length-Q),K,Q,re)}function L(K,V,Q){return V===0&&Q===K.length?s.fromByteArray(K):s.fromByteArray(K.slice(V,Q))}function z(K,V,Q){Q=Math.min(K.length,Q);for(var re=[],oe=V;oe<Q;){var ne,le,me,ge,se=K[oe],fe=null,he=se>239?4:se>223?3:se>191?2:1;if(oe+he<=Q)switch(he){case 1:se<128&&(fe=se);break;case 2:(192&(ne=K[oe+1]))==128&&(ge=(31&se)<<6|63&ne)>127&&(fe=ge);break;case 3:ne=K[oe+1],le=K[oe+2],(192&ne)==128&&(192&le)==128&&(ge=(15&se)<<12|(63&ne)<<6|63&le)>2047&&(ge<55296||ge>57343)&&(fe=ge);break;case 4:ne=K[oe+1],le=K[oe+2],me=K[oe+3],(192&ne)==128&&(192&le)==128&&(192&me)==128&&(ge=(15&se)<<18|(63&ne)<<12|(63&le)<<6|63&me)>65535&&ge<1114112&&(fe=ge)}fe===null?(fe=65533,he=1):fe>65535&&(fe-=65536,re.push(fe>>>10&1023|55296),fe=56320|1023&fe),re.push(fe),oe+=he}return(function(ve){var xe=ve.length;if(xe<=4096)return String.fromCharCode.apply(String,ve);for(var _e="",Ne=0;Ne<xe;)_e+=String.fromCharCode.apply(String,ve.slice(Ne,Ne+=4096));return _e})(re)}i.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=(function(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},K.foo()===42}catch{return!1}})(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(K,V,Q){return u(K,V,Q)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(K,V,Q){return(function(re,oe,ne){return f(re),re<=0?l(re):oe!==void 0?typeof ne=="string"?l(re).fill(oe,ne):l(re).fill(oe):l(re)})(K,V,Q)},o.allocUnsafe=function(K){return h(K)},o.allocUnsafeSlow=function(K){return h(K)},o.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==o.prototype},o.compare=function(K,V){if(W(K,Uint8Array)&&(K=o.from(K,K.offset,K.byteLength)),W(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),!o.isBuffer(K)||!o.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===V)return 0;for(var Q=K.length,re=V.length,oe=0,ne=Math.min(Q,re);oe<ne;++oe)if(K[oe]!==V[oe]){Q=K[oe],re=V[oe];break}return Q<re?-1:re<Q?1:0},o.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(K,V){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return o.alloc(0);var Q;if(V===void 0)for(V=0,Q=0;Q<K.length;++Q)V+=K[Q].length;var re=o.allocUnsafe(V),oe=0;for(Q=0;Q<K.length;++Q){var ne=K[Q];if(W(ne,Uint8Array)&&(ne=o.from(ne)),!o.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(re,oe),oe+=ne.length}return re},o.byteLength=y,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<K;V+=2)x(this,V,V+1);return this},o.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<K;V+=4)x(this,V,V+3),x(this,V+1,V+2);return this},o.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<K;V+=8)x(this,V,V+7),x(this,V+1,V+6),x(this,V+2,V+5),x(this,V+3,V+4);return this},o.prototype.toString=function(){var K=this.length;return K===0?"":arguments.length===0?z(this,0,K):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(K){if(!o.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K||o.compare(this,K)===0},o.prototype.inspect=function(){var K="",V=i.INSPECT_MAX_BYTES;return K=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(K+=" ... "),"<Buffer "+K+">"},o.prototype.compare=function(K,V,Q,re,oe){if(W(K,Uint8Array)&&(K=o.from(K,K.offset,K.byteLength)),!o.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(V===void 0&&(V=0),Q===void 0&&(Q=K?K.length:0),re===void 0&&(re=0),oe===void 0&&(oe=this.length),V<0||Q>K.length||re<0||oe>this.length)throw new RangeError("out of range index");if(re>=oe&&V>=Q)return 0;if(re>=oe)return-1;if(V>=Q)return 1;if(this===K)return 0;for(var ne=(oe>>>=0)-(re>>>=0),le=(Q>>>=0)-(V>>>=0),me=Math.min(ne,le),ge=this.slice(re,oe),se=K.slice(V,Q),fe=0;fe<me;++fe)if(ge[fe]!==se[fe]){ne=ge[fe],le=se[fe];break}return ne<le?-1:le<ne?1:0},o.prototype.includes=function(K,V,Q){return this.indexOf(K,V,Q)!==-1},o.prototype.indexOf=function(K,V,Q){return v(this,K,V,Q,!0)},o.prototype.lastIndexOf=function(K,V,Q){return v(this,K,V,Q,!1)},o.prototype.write=function(K,V,Q,re){if(V===void 0)re="utf8",Q=this.length,V=0;else if(Q===void 0&&typeof V=="string")re=V,Q=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(Q)?(Q>>>=0,re===void 0&&(re="utf8")):(re=Q,Q=void 0)}var oe=this.length-V;if((Q===void 0||Q>oe)&&(Q=oe),K.length>0&&(Q<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var ne=!1;;)switch(re){case"hex":return k(this,K,V,Q);case"utf8":case"utf-8":return N(this,K,V,Q);case"ascii":return P(this,K,V,Q);case"latin1":case"binary":return D(this,K,V,Q);case"base64":return I(this,K,V,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,K,V,Q);default:if(ne)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ne=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(K,V,Q){var re="";Q=Math.min(K.length,Q);for(var oe=V;oe<Q;++oe)re+=String.fromCharCode(127&K[oe]);return re}function O(K,V,Q){var re="";Q=Math.min(K.length,Q);for(var oe=V;oe<Q;++oe)re+=String.fromCharCode(K[oe]);return re}function F(K,V,Q){var re=K.length;(!V||V<0)&&(V=0),(!Q||Q<0||Q>re)&&(Q=re);for(var oe="",ne=V;ne<Q;++ne)oe+=H(K[ne]);return oe}function C(K,V,Q){for(var re=K.slice(V,Q),oe="",ne=0;ne<re.length;ne+=2)oe+=String.fromCharCode(re[ne]+256*re[ne+1]);return oe}function w(K,V,Q){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+V>Q)throw new RangeError("Trying to access beyond buffer length")}function E(K,V,Q,re,oe,ne){if(!o.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>oe||V<ne)throw new RangeError('"value" argument is out of bounds');if(Q+re>K.length)throw new RangeError("Index out of range")}function A(K,V,Q,re,oe,ne){if(Q+re>K.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function j(K,V,Q,re,oe){return V=+V,Q>>>=0,oe||A(K,0,Q,4),c.write(K,V,Q,re,23,4),Q+4}function R(K,V,Q,re,oe){return V=+V,Q>>>=0,oe||A(K,0,Q,8),c.write(K,V,Q,re,52,8),Q+8}o.prototype.slice=function(K,V){var Q=this.length;(K=~~K)<0?(K+=Q)<0&&(K=0):K>Q&&(K=Q),(V=V===void 0?Q:~~V)<0?(V+=Q)<0&&(V=0):V>Q&&(V=Q),V<K&&(V=K);var re=this.subarray(K,V);return re.__proto__=o.prototype,re},o.prototype.readUIntLE=function(K,V,Q){K>>>=0,V>>>=0,Q||w(K,V,this.length);for(var re=this[K],oe=1,ne=0;++ne<V&&(oe*=256);)re+=this[K+ne]*oe;return re},o.prototype.readUIntBE=function(K,V,Q){K>>>=0,V>>>=0,Q||w(K,V,this.length);for(var re=this[K+--V],oe=1;V>0&&(oe*=256);)re+=this[K+--V]*oe;return re},o.prototype.readUInt8=function(K,V){return K>>>=0,V||w(K,1,this.length),this[K]},o.prototype.readUInt16LE=function(K,V){return K>>>=0,V||w(K,2,this.length),this[K]|this[K+1]<<8},o.prototype.readUInt16BE=function(K,V){return K>>>=0,V||w(K,2,this.length),this[K]<<8|this[K+1]},o.prototype.readUInt32LE=function(K,V){return K>>>=0,V||w(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},o.prototype.readUInt32BE=function(K,V){return K>>>=0,V||w(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},o.prototype.readIntLE=function(K,V,Q){K>>>=0,V>>>=0,Q||w(K,V,this.length);for(var re=this[K],oe=1,ne=0;++ne<V&&(oe*=256);)re+=this[K+ne]*oe;return re>=(oe*=128)&&(re-=Math.pow(2,8*V)),re},o.prototype.readIntBE=function(K,V,Q){K>>>=0,V>>>=0,Q||w(K,V,this.length);for(var re=V,oe=1,ne=this[K+--re];re>0&&(oe*=256);)ne+=this[K+--re]*oe;return ne>=(oe*=128)&&(ne-=Math.pow(2,8*V)),ne},o.prototype.readInt8=function(K,V){return K>>>=0,V||w(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},o.prototype.readInt16LE=function(K,V){K>>>=0,V||w(K,2,this.length);var Q=this[K]|this[K+1]<<8;return 32768&Q?4294901760|Q:Q},o.prototype.readInt16BE=function(K,V){K>>>=0,V||w(K,2,this.length);var Q=this[K+1]|this[K]<<8;return 32768&Q?4294901760|Q:Q},o.prototype.readInt32LE=function(K,V){return K>>>=0,V||w(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},o.prototype.readInt32BE=function(K,V){return K>>>=0,V||w(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},o.prototype.readFloatLE=function(K,V){return K>>>=0,V||w(K,4,this.length),c.read(this,K,!0,23,4)},o.prototype.readFloatBE=function(K,V){return K>>>=0,V||w(K,4,this.length),c.read(this,K,!1,23,4)},o.prototype.readDoubleLE=function(K,V){return K>>>=0,V||w(K,8,this.length),c.read(this,K,!0,52,8)},o.prototype.readDoubleBE=function(K,V){return K>>>=0,V||w(K,8,this.length),c.read(this,K,!1,52,8)},o.prototype.writeUIntLE=function(K,V,Q,re){K=+K,V>>>=0,Q>>>=0,re||E(this,K,V,Q,Math.pow(2,8*Q)-1,0);var oe=1,ne=0;for(this[V]=255&K;++ne<Q&&(oe*=256);)this[V+ne]=K/oe&255;return V+Q},o.prototype.writeUIntBE=function(K,V,Q,re){K=+K,V>>>=0,Q>>>=0,re||E(this,K,V,Q,Math.pow(2,8*Q)-1,0);var oe=Q-1,ne=1;for(this[V+oe]=255&K;--oe>=0&&(ne*=256);)this[V+oe]=K/ne&255;return V+Q},o.prototype.writeUInt8=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,1,255,0),this[V]=255&K,V+1},o.prototype.writeUInt16LE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,2,65535,0),this[V]=255&K,this[V+1]=K>>>8,V+2},o.prototype.writeUInt16BE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,2,65535,0),this[V]=K>>>8,this[V+1]=255&K,V+2},o.prototype.writeUInt32LE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,4,4294967295,0),this[V+3]=K>>>24,this[V+2]=K>>>16,this[V+1]=K>>>8,this[V]=255&K,V+4},o.prototype.writeUInt32BE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,4,4294967295,0),this[V]=K>>>24,this[V+1]=K>>>16,this[V+2]=K>>>8,this[V+3]=255&K,V+4},o.prototype.writeIntLE=function(K,V,Q,re){if(K=+K,V>>>=0,!re){var oe=Math.pow(2,8*Q-1);E(this,K,V,Q,oe-1,-oe)}var ne=0,le=1,me=0;for(this[V]=255&K;++ne<Q&&(le*=256);)K<0&&me===0&&this[V+ne-1]!==0&&(me=1),this[V+ne]=(K/le>>0)-me&255;return V+Q},o.prototype.writeIntBE=function(K,V,Q,re){if(K=+K,V>>>=0,!re){var oe=Math.pow(2,8*Q-1);E(this,K,V,Q,oe-1,-oe)}var ne=Q-1,le=1,me=0;for(this[V+ne]=255&K;--ne>=0&&(le*=256);)K<0&&me===0&&this[V+ne+1]!==0&&(me=1),this[V+ne]=(K/le>>0)-me&255;return V+Q},o.prototype.writeInt8=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,1,127,-128),K<0&&(K=255+K+1),this[V]=255&K,V+1},o.prototype.writeInt16LE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,2,32767,-32768),this[V]=255&K,this[V+1]=K>>>8,V+2},o.prototype.writeInt16BE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,2,32767,-32768),this[V]=K>>>8,this[V+1]=255&K,V+2},o.prototype.writeInt32LE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,4,2147483647,-2147483648),this[V]=255&K,this[V+1]=K>>>8,this[V+2]=K>>>16,this[V+3]=K>>>24,V+4},o.prototype.writeInt32BE=function(K,V,Q){return K=+K,V>>>=0,Q||E(this,K,V,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[V]=K>>>24,this[V+1]=K>>>16,this[V+2]=K>>>8,this[V+3]=255&K,V+4},o.prototype.writeFloatLE=function(K,V,Q){return j(this,K,V,!0,Q)},o.prototype.writeFloatBE=function(K,V,Q){return j(this,K,V,!1,Q)},o.prototype.writeDoubleLE=function(K,V,Q){return R(this,K,V,!0,Q)},o.prototype.writeDoubleBE=function(K,V,Q){return R(this,K,V,!1,Q)},o.prototype.copy=function(K,V,Q,re){if(!o.isBuffer(K))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),re||re===0||(re=this.length),V>=K.length&&(V=K.length),V||(V=0),re>0&&re<Q&&(re=Q),re===Q||K.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),K.length-V<re-Q&&(re=K.length-V+Q);var oe=re-Q;if(this===K&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(V,Q,re);else if(this===K&&Q<V&&V<re)for(var ne=oe-1;ne>=0;--ne)K[ne+V]=this[ne+Q];else Uint8Array.prototype.set.call(K,this.subarray(Q,re),V);return oe},o.prototype.fill=function(K,V,Q,re){if(typeof K=="string"){if(typeof V=="string"?(re=V,V=0,Q=this.length):typeof Q=="string"&&(re=Q,Q=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!o.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(K.length===1){var oe=K.charCodeAt(0);(re==="utf8"&&oe<128||re==="latin1")&&(K=oe)}}else typeof K=="number"&&(K&=255);if(V<0||this.length<V||this.length<Q)throw new RangeError("Out of range index");if(Q<=V)return this;var ne;if(V>>>=0,Q=Q===void 0?this.length:Q>>>0,K||(K=0),typeof K=="number")for(ne=V;ne<Q;++ne)this[ne]=K;else{var le=o.isBuffer(K)?K:o.from(K,re),me=le.length;if(me===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(ne=0;ne<Q-V;++ne)this[ne+V]=le[ne%me]}return this};var q=/[^+/0-9A-Za-z-_]/g;function H(K){return K<16?"0"+K.toString(16):K.toString(16)}function Y(K,V){var Q;V=V||1/0;for(var re=K.length,oe=null,ne=[],le=0;le<re;++le){if((Q=K.charCodeAt(le))>55295&&Q<57344){if(!oe){if(Q>56319){(V-=3)>-1&&ne.push(239,191,189);continue}if(le+1===re){(V-=3)>-1&&ne.push(239,191,189);continue}oe=Q;continue}if(Q<56320){(V-=3)>-1&&ne.push(239,191,189),oe=Q;continue}Q=65536+(oe-55296<<10|Q-56320)}else oe&&(V-=3)>-1&&ne.push(239,191,189);if(oe=null,Q<128){if((V-=1)<0)break;ne.push(Q)}else if(Q<2048){if((V-=2)<0)break;ne.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((V-=3)<0)break;ne.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;ne.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return ne}function Z(K){return s.toByteArray((function(V){if((V=(V=V.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;V.length%4!=0;)V+="=";return V})(K))}function te(K,V,Q,re){for(var oe=0;oe<re&&!(oe+Q>=V.length||oe>=K.length);++oe)V[oe+Q]=K[oe];return oe}function W(K,V){return K instanceof V||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===V.name}function ee(K){return K!=K}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("stream").Transform,c=t("string_decoder").StringDecoder;function l(o){s.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(l,s),l.prototype.update=function(o,u,f){typeof o=="string"&&(o=a.from(o,u));var h=this._update(o);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(o,u,f){var h;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(d){h=d}finally{f(h)}},l.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(f){u=f}o(u)},l.prototype._finalOrDigest=function(o){var u=this.__final()||a.alloc(0);return o&&(u=this._toString(u,o,!0)),u},l.prototype._toString=function(o,u,f){if(this._decoder||(this._decoder=new c(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(o);return f&&(h+=this._decoder.end()),h},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,n,i){var a=t("../internals/is-callable"),s=t("../internals/try-to-string"),c=TypeError;n.exports=function(l){if(a(l))return l;throw new c(s(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,n,i){var a=t("../internals/is-constructor"),s=t("../internals/try-to-string"),c=TypeError;n.exports=function(l){if(a(l))return l;throw new c(s(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,n,i){var a=t("../internals/is-callable"),s=String,c=TypeError;n.exports=function(l){if(typeof l=="object"||a(l))return l;throw new c("Can't set "+s(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,n,i){var a=t("../internals/well-known-symbol"),s=t("../internals/object-create"),c=t("../internals/object-define-property").f,l=a("unscopables"),o=Array.prototype;o[l]===void 0&&c(o,l,{configurable:!0,value:s(null)}),n.exports=function(u){o[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,n,i){var a=t("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(c,l){if(a(l,c))return c;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,n,i){var a=t("../internals/is-object"),s=String,c=TypeError;n.exports=function(l){if(a(l))return l;throw new c(s(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,n,i){var a=t("../internals/to-indexed-object"),s=t("../internals/to-absolute-index"),c=t("../internals/length-of-array-like"),l=function(o){return function(u,f,h){var d,g=a(u),y=c(g),m=s(h,y);if(o&&f!=f){for(;y>m;)if((d=g[m++])!=d)return!0}else for(;y>m;m++)if((o||m in g)&&g[m]===f)return o||m||0;return!o&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,n,i){var a=t("../internals/function-bind-context"),s=t("../internals/function-uncurry-this"),c=t("../internals/indexed-object"),l=t("../internals/to-object"),o=t("../internals/length-of-array-like"),u=t("../internals/array-species-create"),f=s([].push),h=function(d){var g=d===1,y=d===2,m=d===3,x=d===4,v=d===6,_=d===7,k=d===5||v;return function(N,P,D,I){for(var B,L,z=l(N),$=c(z),O=a(P,D),F=o($),C=0,w=I||u,E=g?w(N,F):y||_?w(N,0):void 0;F>C;C++)if((k||C in $)&&(L=O(B=$[C],C,z),d))if(g)E[C]=L;else if(L)switch(d){case 3:return!0;case 5:return B;case 6:return C;case 2:f(E,B)}else switch(d){case 4:return!1;case 7:f(E,B)}return v?-1:m||x?x:E}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,n,i){var a=t("../internals/to-absolute-index"),s=t("../internals/length-of-array-like"),c=t("../internals/create-property"),l=Array,o=Math.max;n.exports=function(u,f,h){for(var d=s(u),g=a(f,d),y=a(h===void 0?d:h,d),m=l(o(y-g,0)),x=0;g<y;g++,x++)c(m,x,u[g]);return m.length=x,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,n,i){var a=t("../internals/function-uncurry-this");n.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,n,i){var a=t("../internals/is-array"),s=t("../internals/is-constructor"),c=t("../internals/is-object"),l=t("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var f;return a(u)&&(f=u.constructor,(s(f)&&(f===o||a(f.prototype))||c(f)&&(f=f[l])===null)&&(f=void 0)),f===void 0?o:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,n,i){var a=t("../internals/array-species-constructor");n.exports=function(s,c){return new(a(s))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(t,n,i){var a=t("../internals/well-known-symbol")("iterator"),s=!1;try{var c=0,l={next:function(){return{done:!!c++}},return:function(){s=!0}};l[a]=function(){return this},Array.from(l,(function(){throw 2}))}catch{}n.exports=function(o,u){try{if(!u&&!s)return!1}catch{return!1}var f=!1;try{var h={};h[a]=function(){return{next:function(){return{done:f=!0}}}},o(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=a({}.toString),c=a("".slice);n.exports=function(l){return c(s(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,n,i){var a=t("../internals/to-string-tag-support"),s=t("../internals/is-callable"),c=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),o=Object,u=c((function(){return arguments})())==="Arguments";n.exports=a?c:function(f){var h,d,g;return f===void 0?"Undefined":f===null?"Null":typeof(d=(function(y,m){try{return y[m]}catch{}})(h=o(f),l))=="string"?d:u?c(h):(g=c(h))==="Object"&&s(h.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,n,i){var a=t("../internals/has-own-property"),s=t("../internals/own-keys"),c=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-define-property");n.exports=function(o,u,f){for(var h=s(u),d=l.f,g=c.f,y=0;y<h.length;y++){var m=h[y];a(o,m)||f&&a(f,m)||d(o,m,g(u,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,n,i){var a=t("../internals/well-known-symbol")("match");n.exports=function(s){var c=/./;try{"/./"[s](c)}catch{try{return c[a]=!1,"/./"[s](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,n,i){var a=t("../internals/fails");n.exports=!a((function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}))},{"../internals/fails":260}],240:[function(t,n,i){n.exports=function(a,s){return{value:a,done:s}}},{}],241:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");n.exports=a?function(l,o,u){return s.f(l,o,c(1,u))}:function(l,o,u){return l[o]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,n,i){n.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},{}],243:[function(t,n,i){var a=t("../internals/to-property-key"),s=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");n.exports=function(l,o,u){var f=a(o);f in l?s.f(l,f,c(0,u)):l[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,n,i){var a=t("../internals/make-built-in"),s=t("../internals/object-define-property");n.exports=function(c,l,o){return o.get&&a(o.get,l,{getter:!0}),o.set&&a(o.set,l,{setter:!0}),s.f(c,l,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,n,i){var a=t("../internals/is-callable"),s=t("../internals/object-define-property"),c=t("../internals/make-built-in"),l=t("../internals/define-global-property");n.exports=function(o,u,f,h){h||(h={});var d=h.enumerable,g=h.name!==void 0?h.name:u;if(a(f)&&c(f,g,h),h.global)d?o[u]=f:l(u,f);else{try{h.unsafe?o[u]&&(d=!0):delete o[u]}catch{}d?o[u]=f:s.f(o,u,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,n,i){var a=t("../internals/global"),s=Object.defineProperty;n.exports=function(c,l){try{s(a,c,{value:l,configurable:!0,writable:!0})}catch{a[c]=l}return l}},{"../internals/global":274}],247:[function(t,n,i){var a=t("../internals/fails");n.exports=!a((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,n,i){var a=typeof document=="object"&&document.all,s=a===void 0&&a!==void 0;n.exports={all:a,IS_HTMLDDA:s}},{}],249:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/is-object"),c=a.document,l=s(c)&&s(c.createElement);n.exports=function(o){return l?c.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,n,i){var a=t("../internals/engine-is-deno"),s=t("../internals/engine-is-node");n.exports=!a&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,n,i){var a=t("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,n,i){var a=t("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/classof-raw");n.exports=s(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,n,i){var a=t("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(t,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,n,i){var a,s,c=t("../internals/global"),l=t("../internals/engine-user-agent"),o=c.process,u=c.Deno,f=o&&o.versions||u&&u.version,h=f&&f.v8;h&&(s=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&l&&(!(a=l.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=l.match(/Chrome\/(\d+)/))&&(s=+a[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/object-get-own-property-descriptor").f,c=t("../internals/create-non-enumerable-property"),l=t("../internals/define-built-in"),o=t("../internals/define-global-property"),u=t("../internals/copy-constructor-properties"),f=t("../internals/is-forced");n.exports=function(h,d){var g,y,m,x,v,_=h.target,k=h.global,N=h.stat;if(g=k?a:N?a[_]||o(_,{}):(a[_]||{}).prototype)for(y in d){if(x=d[y],m=h.dontCallGetSet?(v=s(g,y))&&v.value:g[y],!f(k?y:_+(N?".":"#")+y,h.forced)&&m!==void 0){if(typeof x==typeof m)continue;u(x,m)}(h.sham||m&&m.sham)&&c(x,"sham",!0),l(g,y,x,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,n,i){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(t,n,i){var a=t("../internals/function-bind-native"),s=Function.prototype,c=s.apply,l=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?l.bind(c):function(){return l.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,n,i){var a=t("../internals/function-uncurry-this-clause"),s=t("../internals/a-callable"),c=t("../internals/function-bind-native"),l=a(a.bind);n.exports=function(o,u){return s(o),u===void 0?o:c?l(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,n,i){var a=t("../internals/fails");n.exports=!a((function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,n,i){var a=t("../internals/function-bind-native"),s=Function.prototype.call;n.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/has-own-property"),c=Function.prototype,l=a&&Object.getOwnPropertyDescriptor,o=s(c,"name"),u=o&&(function(){}).name==="something",f=o&&(!a||a&&l(c,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/a-callable");n.exports=function(c,l,o){try{return a(s(Object.getOwnPropertyDescriptor(c,l)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,n,i){var a=t("../internals/classof-raw"),s=t("../internals/function-uncurry-this");n.exports=function(c){if(a(c)==="Function")return s(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,n,i){var a=t("../internals/function-bind-native"),s=Function.prototype,c=s.call,l=a&&s.bind.bind(c,c);n.exports=a?l:function(o){return function(){return c.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/is-callable"),c=function(l){return s(l)?l:void 0};n.exports=function(l,o){return arguments.length<2?c(a[l]):a[l]&&a[l][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,n,i){var a=t("../internals/classof"),s=t("../internals/get-method"),c=t("../internals/is-null-or-undefined"),l=t("../internals/iterators"),o=t("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!c(u))return s(u,o)||s(u,"@@iterator")||l[a(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/a-callable"),c=t("../internals/an-object"),l=t("../internals/try-to-string"),o=t("../internals/get-iterator-method"),u=TypeError;n.exports=function(f,h){var d=arguments.length<2?o(f):h;if(s(d))return c(a(d,f));throw new u(l(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/is-array"),c=t("../internals/is-callable"),l=t("../internals/classof-raw"),o=t("../internals/to-string"),u=a([].push);n.exports=function(f){if(c(f))return f;if(s(f)){for(var h=f.length,d=[],g=0;g<h;g++){var y=f[g];typeof y=="string"?u(d,y):typeof y!="number"&&l(y)!=="Number"&&l(y)!=="String"||u(d,o(y))}var m=d.length,x=!0;return function(v,_){if(x)return x=!1,_;if(s(this))return _;for(var k=0;k<m;k++)if(d[k]===v)return _}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,n,i){var a=t("../internals/a-callable"),s=t("../internals/is-null-or-undefined");n.exports=function(c,l){var o=c[l];return s(o)?void 0:a(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,n,i){(function(a){(function(){var s=function(c){return c&&c.Math===Math&&c};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof a=="object"&&a)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/to-object"),c=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,o){return c(s(l),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,n,i){n.exports={}},{}],277:[function(t,n,i){n.exports=function(a,s){try{arguments.length===1?console.error(a):console.error(a,s)}catch{}}},{}],278:[function(t,n,i){var a=t("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/fails"),c=t("../internals/document-create-element");n.exports=!a&&!s((function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/fails"),c=t("../internals/classof-raw"),l=Object,o=a("".split);n.exports=s((function(){return!l("z").propertyIsEnumerable(0)}))?function(u){return c(u)==="String"?o(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/is-callable"),c=t("../internals/shared-store"),l=a(Function.toString);s(c.inspectSource)||(c.inspectSource=function(o){return l(o)}),n.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,n,i){var a,s,c,l=t("../internals/weak-map-basic-detection"),o=t("../internals/global"),u=t("../internals/is-object"),f=t("../internals/create-non-enumerable-property"),h=t("../internals/has-own-property"),d=t("../internals/shared-store"),g=t("../internals/shared-key"),y=t("../internals/hidden-keys"),m=o.TypeError,x=o.WeakMap;if(l||d.state){var v=d.state||(d.state=new x);v.get=v.get,v.has=v.has,v.set=v.set,a=function(k,N){if(v.has(k))throw new m("Object already initialized");return N.facade=k,v.set(k,N),N},s=function(k){return v.get(k)||{}},c=function(k){return v.has(k)}}else{var _=g("state");y[_]=!0,a=function(k,N){if(h(k,_))throw new m("Object already initialized");return N.facade=k,f(k,_,N),N},s=function(k){return h(k,_)?k[_]:{}},c=function(k){return h(k,_)}}n.exports={set:a,get:s,has:c,enforce:function(k){return c(k)?s(k):a(k,{})},getterFor:function(k){return function(N){var P;if(!u(N)||(P=s(N)).type!==k)throw new m("Incompatible receiver, "+k+" required");return P}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,n,i){var a=t("../internals/well-known-symbol"),s=t("../internals/iterators"),c=a("iterator"),l=Array.prototype;n.exports=function(o){return o!==void 0&&(s.Array===o||l[c]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,n,i){var a=t("../internals/classof-raw");n.exports=Array.isArray||function(s){return a(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,n,i){var a=t("../internals/document-all"),s=a.all;n.exports=a.IS_HTMLDDA?function(c){return typeof c=="function"||c===s}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/fails"),c=t("../internals/is-callable"),l=t("../internals/classof"),o=t("../internals/get-built-in"),u=t("../internals/inspect-source"),f=function(){},h=[],d=o("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=a(g.exec),m=!g.test(f),x=function(_){if(!c(_))return!1;try{return d(f,h,_),!0}catch{return!1}},v=function(_){if(!c(_))return!1;switch(l(_)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(g,u(_))}catch{return!0}};v.sham=!0,n.exports=!d||s((function(){var _;return x(x.call)||!x(Object)||!x((function(){_=!0}))||_}))?v:x},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,n,i){var a=t("../internals/fails"),s=t("../internals/is-callable"),c=/#|\.prototype\./,l=function(d,g){var y=u[o(d)];return y===h||y!==f&&(s(g)?a(g):!!g)},o=l.normalize=function(d){return String(d).replace(c,".").toLowerCase()},u=l.data={},f=l.NATIVE="N",h=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,n,i){n.exports=function(a){return a==null}},{}],289:[function(t,n,i){var a=t("../internals/is-callable"),s=t("../internals/document-all"),c=s.all;n.exports=s.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:a(l)||l===c}:function(l){return typeof l=="object"?l!==null:a(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,n,i){n.exports=!1},{}],291:[function(t,n,i){var a=t("../internals/is-object"),s=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("match");n.exports=function(l){var o;return a(l)&&((o=l[c])!==void 0?!!o:s(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,n,i){var a=t("../internals/get-built-in"),s=t("../internals/is-callable"),c=t("../internals/object-is-prototype-of"),l=t("../internals/use-symbol-as-uid"),o=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var f=a("Symbol");return s(f)&&c(f.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,n,i){var a=t("../internals/function-bind-context"),s=t("../internals/function-call"),c=t("../internals/an-object"),l=t("../internals/try-to-string"),o=t("../internals/is-array-iterator-method"),u=t("../internals/length-of-array-like"),f=t("../internals/object-is-prototype-of"),h=t("../internals/get-iterator"),d=t("../internals/get-iterator-method"),g=t("../internals/iterator-close"),y=TypeError,m=function(v,_){this.stopped=v,this.result=_},x=m.prototype;n.exports=function(v,_,k){var N,P,D,I,B,L,z,$=k&&k.that,O=!(!k||!k.AS_ENTRIES),F=!(!k||!k.IS_RECORD),C=!(!k||!k.IS_ITERATOR),w=!(!k||!k.INTERRUPTED),E=a(_,$),A=function(R){return N&&g(N,"normal",R),new m(!0,R)},j=function(R){return O?(c(R),w?E(R[0],R[1],A):E(R[0],R[1])):w?E(R,A):E(R)};if(F)N=v.iterator;else if(C)N=v;else{if(!(P=d(v)))throw new y(l(v)+" is not iterable");if(o(P)){for(D=0,I=u(v);I>D;D++)if((B=j(v[D]))&&f(x,B))return B;return new m(!1)}N=h(v,P)}for(L=F?v.next:N.next;!(z=s(L,N)).done;){try{B=j(z.value)}catch(R){g(N,"throw",R)}if(typeof B=="object"&&B&&f(x,B))return B}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/an-object"),c=t("../internals/get-method");n.exports=function(l,o,u){var f,h;s(l);try{if(!(f=c(l,"return"))){if(o==="throw")throw u;return u}f=a(f,l)}catch(d){h=!0,f=d}if(o==="throw")throw u;if(h)throw f;return s(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,n,i){var a=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),c=t("../internals/create-property-descriptor"),l=t("../internals/set-to-string-tag"),o=t("../internals/iterators"),u=function(){return this};n.exports=function(f,h,d,g){var y=h+" Iterator";return f.prototype=s(a,{next:c(+!g,d)}),l(f,y,!1,!0),o[y]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),c=t("../internals/is-pure"),l=t("../internals/function-name"),o=t("../internals/is-callable"),u=t("../internals/iterator-create-constructor"),f=t("../internals/object-get-prototype-of"),h=t("../internals/object-set-prototype-of"),d=t("../internals/set-to-string-tag"),g=t("../internals/create-non-enumerable-property"),y=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),x=t("../internals/iterators"),v=t("../internals/iterators-core"),_=l.PROPER,k=l.CONFIGURABLE,N=v.IteratorPrototype,P=v.BUGGY_SAFARI_ITERATORS,D=m("iterator"),I=function(){return this};n.exports=function(B,L,z,$,O,F,C){u(z,L,$);var w,E,A,j=function(W){if(W===O&&Z)return Z;if(!P&&W&&W in H)return H[W];switch(W){case"keys":case"values":case"entries":return function(){return new z(this,W)}}return function(){return new z(this)}},R=L+" Iterator",q=!1,H=B.prototype,Y=H[D]||H["@@iterator"]||O&&H[O],Z=!P&&Y||j(O),te=L==="Array"&&H.entries||Y;if(te&&(w=f(te.call(new B)))!==Object.prototype&&w.next&&(c||f(w)===N||(h?h(w,N):o(w[D])||y(w,D,I)),d(w,R,!0,!0),c&&(x[R]=I)),_&&O==="values"&&Y&&Y.name!=="values"&&(!c&&k?g(H,"name","values"):(q=!0,Z=function(){return s(Y,this)})),O)if(E={values:j("values"),keys:F?Z:j("keys"),entries:j("entries")},C)for(A in E)(P||q||!(A in H))&&y(H,A,E[A]);else a({target:L,proto:!0,forced:P||q},E);return c&&!C||H[D]===Z||y(H,D,Z,{name:O}),x[L]=Z,E}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,n,i){var a,s,c,l=t("../internals/fails"),o=t("../internals/is-callable"),u=t("../internals/is-object"),f=t("../internals/object-create"),h=t("../internals/object-get-prototype-of"),d=t("../internals/define-built-in"),g=t("../internals/well-known-symbol"),y=t("../internals/is-pure"),m=g("iterator"),x=!1;[].keys&&("next"in(c=[].keys())?(s=h(h(c)))!==Object.prototype&&(a=s):x=!0),!u(a)||l((function(){var v={};return a[m].call(v)!==v}))?a={}:y&&(a=f(a)),o(a[m])||d(a,m,(function(){return this})),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:x}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(t,n,i){var a=t("../internals/to-length");n.exports=function(s){return a(s.length)}},{"../internals/to-length":343}],300:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/fails"),c=t("../internals/is-callable"),l=t("../internals/has-own-property"),o=t("../internals/descriptors"),u=t("../internals/function-name").CONFIGURABLE,f=t("../internals/inspect-source"),h=t("../internals/internal-state"),d=h.enforce,g=h.get,y=String,m=Object.defineProperty,x=a("".slice),v=a("".replace),_=a([].join),k=o&&!s((function(){return m((function(){}),"length",{value:8}).length!==8})),N=String(String).split("String"),P=n.exports=function(D,I,B){x(y(I),0,7)==="Symbol("&&(I="["+v(y(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(I="get "+I),B&&B.setter&&(I="set "+I),(!l(D,"name")||u&&D.name!==I)&&(o?m(D,"name",{value:I,configurable:!0}):D.name=I),k&&B&&l(B,"arity")&&D.length!==B.arity&&m(D,"length",{value:B.arity});try{B&&l(B,"constructor")&&B.constructor?o&&m(D,"prototype",{writable:!1}):D.prototype&&(D.prototype=void 0)}catch{}var L=d(D);return l(L,"source")||(L.source=_(N,typeof I=="string"?I:"")),D};Function.prototype.toString=P((function(){return c(this)&&g(this).source||f(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,n,i){var a=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(c){var l=+c;return(l>0?s:a)(l)}},{}],302:[function(t,n,i){var a,s,c,l,o,u=t("../internals/global"),f=t("../internals/function-bind-context"),h=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,g=t("../internals/queue"),y=t("../internals/engine-is-ios"),m=t("../internals/engine-is-ios-pebble"),x=t("../internals/engine-is-webos-webkit"),v=t("../internals/engine-is-node"),_=u.MutationObserver||u.WebKitMutationObserver,k=u.document,N=u.process,P=u.Promise,D=h(u,"queueMicrotask"),I=D&&D.value;if(!I){var B=new g,L=function(){var z,$;for(v&&(z=N.domain)&&z.exit();$=B.get();)try{$()}catch(O){throw B.head&&a(),O}z&&z.enter()};y||v||x||!_||!k?!m&&P&&P.resolve?((l=P.resolve(void 0)).constructor=P,o=f(l.then,l),a=function(){o(L)}):v?a=function(){N.nextTick(L)}:(d=f(d,u),a=function(){d(L)}):(s=!0,c=k.createTextNode(""),new _(L).observe(c,{characterData:!0}),a=function(){c.data=s=!s}),I=function(z){B.head||a(),B.add(z)}}n.exports=I},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,n,i){var a=t("../internals/a-callable"),s=TypeError,c=function(l){var o,u;this.promise=new l((function(f,h){if(o!==void 0||u!==void 0)throw new s("Bad Promise constructor");o=f,u=h})),this.resolve=a(o),this.reject=a(u)};n.exports.f=function(l){return new c(l)}},{"../internals/a-callable":222}],304:[function(t,n,i){var a=t("../internals/is-regexp"),s=TypeError;n.exports=function(c){if(a(c))throw new s("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/function-uncurry-this"),c=t("../internals/function-call"),l=t("../internals/fails"),o=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),f=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),d=t("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,m=s([].concat);n.exports=!g||l((function(){if(a&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var x={},v={},_=Symbol("assign detection");return x[_]=7,"abcdefghijklmnopqrst".split("").forEach((function(k){v[k]=k})),g({},x)[_]!==7||o(g({},v)).join("")!=="abcdefghijklmnopqrst"}))?function(x,v){for(var _=h(x),k=arguments.length,N=1,P=u.f,D=f.f;k>N;)for(var I,B=d(arguments[N++]),L=P?m(o(B),P(B)):o(B),z=L.length,$=0;z>$;)I=L[$++],a&&!c(D,B,I)||(_[I]=B[I]);return _}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,n,i){var a,s=t("../internals/an-object"),c=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),o=t("../internals/hidden-keys"),u=t("../internals/html"),f=t("../internals/document-create-element"),h=t("../internals/shared-key"),d=h("IE_PROTO"),g=function(){},y=function(v){return"<script>"+v+"<\/script>"},m=function(v){v.write(y("")),v.close();var _=v.parentWindow.Object;return v=null,_},x=function(){try{a=new ActiveXObject("htmlfile")}catch{}var v,_;x=typeof document<"u"?document.domain&&a?m(a):((_=f("iframe")).style.display="none",u.appendChild(_),_.src="javascript:",(v=_.contentWindow.document).open(),v.write(y("document.F=Object")),v.close(),v.F):m(a);for(var k=l.length;k--;)delete x.prototype[l[k]];return x()};o[d]=!0,n.exports=Object.create||function(v,_){var k;return v!==null?(g.prototype=s(v),k=new g,g.prototype=null,k[d]=v):k=x(),_===void 0?k:c.f(k,_)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/v8-prototype-define-bug"),c=t("../internals/object-define-property"),l=t("../internals/an-object"),o=t("../internals/to-indexed-object"),u=t("../internals/object-keys");i.f=a&&!s?Object.defineProperties:function(f,h){l(f);for(var d,g=o(h),y=u(h),m=y.length,x=0;m>x;)c.f(f,d=y[x++],g[d]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/ie8-dom-define"),c=t("../internals/v8-prototype-define-bug"),l=t("../internals/an-object"),o=t("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=a?c?function(d,g,y){if(l(d),g=o(g),l(y),typeof d=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=h(d,g);m&&m.writable&&(d[g]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return f(d,g,y)}:f:function(d,g,y){if(l(d),g=o(g),l(y),s)try{return f(d,g,y)}catch{}if("get"in y||"set"in y)throw new u("Accessors not supported");return"value"in y&&(d[g]=y.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/function-call"),c=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),o=t("../internals/to-indexed-object"),u=t("../internals/to-property-key"),f=t("../internals/has-own-property"),h=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;i.f=a?d:function(g,y){if(g=o(g),y=u(y),h)try{return d(g,y)}catch{}if(f(g,y))return l(!s(c.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,n,i){var a=t("../internals/classof-raw"),s=t("../internals/to-indexed-object"),c=t("../internals/object-get-own-property-names").f,l=t("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&a(u)==="Window"?(function(f){try{return c(f)}catch{return l(o)}})(u):c(s(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,n,i){var a=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(c){return a(c,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(t,n,i){var a=t("../internals/has-own-property"),s=t("../internals/is-callable"),c=t("../internals/to-object"),l=t("../internals/shared-key"),o=t("../internals/correct-prototype-getter"),u=l("IE_PROTO"),f=Object,h=f.prototype;n.exports=o?f.getPrototypeOf:function(d){var g=c(d);if(a(g,u))return g[u];var y=g.constructor;return s(y)&&g instanceof y?y.prototype:g instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,n,i){var a=t("../internals/function-uncurry-this");n.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=t("../internals/has-own-property"),c=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,o=t("../internals/hidden-keys"),u=a([].push);n.exports=function(f,h){var d,g=c(f),y=0,m=[];for(d in g)!s(o,d)&&s(g,d)&&u(m,d);for(;h.length>y;)s(g,d=h[y++])&&(~l(m,d)||u(m,d));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,n,i){var a=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys");n.exports=Object.keys||function(c){return a(c,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,n,i){var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c=s&&!a.call({1:2},1);i.f=c?function(l){var o=s(this,l);return!!o&&o.enumerable}:a},{}],318:[function(t,n,i){var a=t("../internals/function-uncurry-this-accessor"),s=t("../internals/an-object"),c=t("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var l,o=!1,u={};try{(l=a(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(f,h){return s(f),c(h),o?l(f,h):f.__proto__=h,f}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/fails"),c=t("../internals/function-uncurry-this"),l=t("../internals/object-get-prototype-of"),o=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),f=c(t("../internals/object-property-is-enumerable").f),h=c([].push),d=a&&s((function(){var y=Object.create(null);return y[2]=2,!f(y,2)})),g=function(y){return function(m){for(var x,v=u(m),_=o(v),k=d&&l(v)===null,N=_.length,P=0,D=[];N>P;)x=_[P++],a&&!(k?x in v:f(v,x))||h(D,y?[x,v[x]]:v[x]);return D}};n.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/is-callable"),c=t("../internals/is-object"),l=TypeError;n.exports=function(o,u){var f,h;if(u==="string"&&s(f=o.toString)&&!c(h=a(f,o))||s(f=o.valueOf)&&!c(h=a(f,o))||u!=="string"&&s(f=o.toString)&&!c(h=a(f,o)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,n,i){var a=t("../internals/get-built-in"),s=t("../internals/function-uncurry-this"),c=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),o=t("../internals/an-object"),u=s([].concat);n.exports=a("Reflect","ownKeys")||function(f){var h=c.f(o(f)),d=l.f;return d?u(h,d(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,n,i){var a=t("../internals/global");n.exports=a},{"../internals/global":274}],323:[function(t,n,i){n.exports=function(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/promise-native-constructor"),c=t("../internals/is-callable"),l=t("../internals/is-forced"),o=t("../internals/inspect-source"),u=t("../internals/well-known-symbol"),f=t("../internals/engine-is-browser"),h=t("../internals/engine-is-deno"),d=t("../internals/is-pure"),g=t("../internals/engine-v8-version"),y=s&&s.prototype,m=u("species"),x=!1,v=c(a.PromiseRejectionEvent),_=l("Promise",(function(){var k=o(s),N=k!==String(s);if(!N&&g===66||d&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(k)){var P=new s((function(I){I(1)})),D=function(I){I((function(){}),(function(){}))};if((P.constructor={})[m]=D,!(x=P.then((function(){}))instanceof D))return!0}return!N&&(f||h)&&!v}));n.exports={CONSTRUCTOR:_,REJECTION_EVENT:v,SUBCLASSING:x}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,n,i){var a=t("../internals/global");n.exports=a.Promise},{"../internals/global":274}],326:[function(t,n,i){var a=t("../internals/an-object"),s=t("../internals/is-object"),c=t("../internals/new-promise-capability");n.exports=function(l,o){if(a(l),s(o)&&o.constructor===l)return o;var u=c.f(l);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,n,i){var a=t("../internals/promise-native-constructor"),s=t("../internals/check-correctness-of-iteration"),c=t("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=c||!s((function(l){a.all(l).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,n,i){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(s){var c={item:s,next:null},l=this.tail;l?l.next=c:this.head=c,this.tail=c},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=a},{}],329:[function(t,n,i){var a=t("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(c){if(a(c))throw new s("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(t,n,i){var a=t("../internals/get-built-in"),s=t("../internals/define-built-in-accessor"),c=t("../internals/well-known-symbol"),l=t("../internals/descriptors"),o=c("species");n.exports=function(u){var f=a(u);l&&f&&!f[o]&&s(f,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,n,i){var a=t("../internals/object-define-property").f,s=t("../internals/has-own-property"),c=t("../internals/well-known-symbol")("toStringTag");n.exports=function(l,o,u){l&&!u&&(l=l.prototype),l&&!s(l,c)&&a(l,c,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,n,i){var a=t("../internals/shared"),s=t("../internals/uid"),c=a("keys");n.exports=function(l){return c[l]||(c[l]=s(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/define-global-property"),c=a["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,n,i){var a=t("../internals/is-pure"),s=t("../internals/shared-store");(n.exports=function(c,l){return s[c]||(s[c]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,n,i){var a=t("../internals/an-object"),s=t("../internals/a-constructor"),c=t("../internals/is-null-or-undefined"),l=t("../internals/well-known-symbol")("species");n.exports=function(o,u){var f,h=a(o).constructor;return h===void 0||c(f=a(h)[l])?u:s(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,n,i){var a=t("../internals/engine-v8-version"),s=t("../internals/fails"),c=t("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s((function(){var l=Symbol("symbol detection");return!c(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/get-built-in"),c=t("../internals/well-known-symbol"),l=t("../internals/define-built-in");n.exports=function(){var o=s("Symbol"),u=o&&o.prototype,f=u&&u.valueOf,h=c("toPrimitive");u&&!u[h]&&l(u,h,(function(d){return a(f,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,n,i){var a=t("../internals/symbol-constructor-detection");n.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,n,i){var a,s,c,l,o=t("../internals/global"),u=t("../internals/function-apply"),f=t("../internals/function-bind-context"),h=t("../internals/is-callable"),d=t("../internals/has-own-property"),g=t("../internals/fails"),y=t("../internals/html"),m=t("../internals/array-slice"),x=t("../internals/document-create-element"),v=t("../internals/validate-arguments-length"),_=t("../internals/engine-is-ios"),k=t("../internals/engine-is-node"),N=o.setImmediate,P=o.clearImmediate,D=o.process,I=o.Dispatch,B=o.Function,L=o.MessageChannel,z=o.String,$=0,O={};g((function(){a=o.location}));var F=function(A){if(d(O,A)){var j=O[A];delete O[A],j()}},C=function(A){return function(){F(A)}},w=function(A){F(A.data)},E=function(A){o.postMessage(z(A),a.protocol+"//"+a.host)};N&&P||(N=function(A){v(arguments.length,1);var j=h(A)?A:B(A),R=m(arguments,1);return O[++$]=function(){u(j,void 0,R)},s($),$},P=function(A){delete O[A]},k?s=function(A){D.nextTick(C(A))}:I&&I.now?s=function(A){I.now(C(A))}:L&&!_?(l=(c=new L).port2,c.port1.onmessage=w,s=f(l.postMessage,l)):o.addEventListener&&h(o.postMessage)&&!o.importScripts&&a&&a.protocol!=="file:"&&!g(E)?(s=E,o.addEventListener("message",w,!1)):s="onreadystatechange"in x("script")?function(A){y.appendChild(x("script")).onreadystatechange=function(){y.removeChild(this),F(A)}}:function(A){setTimeout(C(A),0)}),n.exports={set:N,clear:P}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,n,i){var a=t("../internals/to-integer-or-infinity"),s=Math.max,c=Math.min;n.exports=function(l,o){var u=a(l);return u<0?s(u+o,0):c(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,n,i){var a=t("../internals/indexed-object"),s=t("../internals/require-object-coercible");n.exports=function(c){return a(s(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,n,i){var a=t("../internals/math-trunc");n.exports=function(s){var c=+s;return c!=c||c===0?0:a(c)}},{"../internals/math-trunc":301}],343:[function(t,n,i){var a=t("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(c){return c>0?s(a(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,n,i){var a=t("../internals/require-object-coercible"),s=Object;n.exports=function(c){return s(a(c))}},{"../internals/require-object-coercible":329}],345:[function(t,n,i){var a=t("../internals/function-call"),s=t("../internals/is-object"),c=t("../internals/is-symbol"),l=t("../internals/get-method"),o=t("../internals/ordinary-to-primitive"),u=t("../internals/well-known-symbol"),f=TypeError,h=u("toPrimitive");n.exports=function(d,g){if(!s(d)||c(d))return d;var y,m=l(d,h);if(m){if(g===void 0&&(g="default"),y=a(m,d,g),!s(y)||c(y))return y;throw new f("Can't convert object to primitive value")}return g===void 0&&(g="number"),o(d,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,n,i){var a=t("../internals/to-primitive"),s=t("../internals/is-symbol");n.exports=function(c){var l=a(c,"string");return s(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,n,i){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,n,i){var a=t("../internals/classof"),s=String;n.exports=function(c){if(a(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(c)}},{"../internals/classof":236}],349:[function(t,n,i){var a=String;n.exports=function(s){try{return a(s)}catch{return"Object"}}},{}],350:[function(t,n,i){var a=t("../internals/function-uncurry-this"),s=0,c=Math.random(),l=a(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+l(++s+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,n,i){var a=t("../internals/symbol-constructor-detection");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,n,i){var a=t("../internals/descriptors"),s=t("../internals/fails");n.exports=a&&s((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,n,i){var a=TypeError;n.exports=function(s,c){if(s<c)throw new a("Not enough arguments");return s}},{}],354:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/is-callable"),c=a.WeakMap;n.exports=s(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,n,i){var a=t("../internals/path"),s=t("../internals/has-own-property"),c=t("../internals/well-known-symbol-wrapped"),l=t("../internals/object-define-property").f;n.exports=function(o){var u=a.Symbol||(a.Symbol={});s(u,o)||l(u,o,{value:c.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,n,i){var a=t("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":357}],357:[function(t,n,i){var a=t("../internals/global"),s=t("../internals/shared"),c=t("../internals/has-own-property"),l=t("../internals/uid"),o=t("../internals/symbol-constructor-detection"),u=t("../internals/use-symbol-as-uid"),f=a.Symbol,h=s("wks"),d=u?f.for||f:f&&f.withoutSetter||l;n.exports=function(g){return c(h,g)||(h[g]=o&&c(f,g)?f[g]:d("Symbol."+g)),h[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/array-iteration").findIndex,c=t("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex((function(){l=!1})),a({target:"Array",proto:!0,forced:l},{findIndex:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/array-iteration").find,c=t("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find((function(){l=!1})),a({target:"Array",proto:!0,forced:l},{find:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/array-includes").includes,c=t("../internals/fails"),l=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:c((function(){return!Array(1).includes()}))},{includes:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,n,i){var a=t("../internals/to-indexed-object"),s=t("../internals/add-to-unscopables"),c=t("../internals/iterators"),l=t("../internals/internal-state"),o=t("../internals/object-define-property").f,u=t("../internals/iterator-define"),f=t("../internals/create-iter-result-object"),h=t("../internals/is-pure"),d=t("../internals/descriptors"),g=l.set,y=l.getterFor("Array Iterator");n.exports=u(Array,"Array",(function(x,v){g(this,{type:"Array Iterator",target:a(x),index:0,kind:v})}),(function(){var x=y(this),v=x.target,_=x.kind,k=x.index++;if(!v||k>=v.length)return x.target=void 0,f(void 0,!0);switch(_){case"keys":return f(k,!1);case"values":return f(v[k],!1)}return f([k,v[k]],!1)}),"values");var m=c.Arguments=c.Array;if(s("keys"),s("values"),s("entries"),!h&&d&&m.name!=="values")try{o(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/get-built-in"),c=t("../internals/function-apply"),l=t("../internals/function-call"),o=t("../internals/function-uncurry-this"),u=t("../internals/fails"),f=t("../internals/is-callable"),h=t("../internals/is-symbol"),d=t("../internals/array-slice"),g=t("../internals/get-json-replacer-function"),y=t("../internals/symbol-constructor-detection"),m=String,x=s("JSON","stringify"),v=o(/./.exec),_=o("".charAt),k=o("".charCodeAt),N=o("".replace),P=o(1 .toString),D=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,B=/^[\uDC00-\uDFFF]$/,L=!y||u((function(){var F=s("Symbol")("stringify detection");return x([F])!=="[null]"||x({a:F})!=="{}"||x(Object(F))!=="{}"})),z=u((function(){return x("\uDF06\uD834")!=='"\\udf06\\ud834"'||x("\uDEAD")!=='"\\udead"'})),$=function(F,C){var w=d(arguments),E=g(C);if(f(E)||F!==void 0&&!h(F))return w[1]=function(A,j){if(f(E)&&(j=l(E,this,m(A),j)),!h(j))return j},c(x,null,w)},O=function(F,C,w){var E=_(w,C-1),A=_(w,C+1);return v(I,F)&&!v(B,A)||v(B,F)&&!v(I,E)?"\\u"+P(k(F,0),16):F};x&&a({target:"JSON",stat:!0,arity:3,forced:L||z},{stringify:function(F,C,w){var E=d(arguments),A=c(L?$:x,null,E);return z&&typeof A=="string"?N(A,D,O):A}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,n,i){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/symbol-constructor-detection"),c=t("../internals/fails"),l=t("../internals/object-get-own-property-symbols"),o=t("../internals/to-object");a({target:"Object",stat:!0,forced:!s||c((function(){l.f(1)}))},{getOwnPropertySymbols:function(u){var f=l.f;return f?f(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/to-object"),c=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")((function(){c(1)}))},{keys:function(l){return c(s(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(c){return s(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),c=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),o=t("../internals/perform"),u=t("../internals/iterate");a({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,d=l.f(h),g=d.resolve,y=d.reject,m=o((function(){var x=c(h.resolve),v=[],_=0,k=1;u(f,(function(N){var P=_++,D=!1;k++,s(x,h,N).then((function(I){D||(D=!0,v[P]=I,--k||g(v))}),y)})),--k||g(v)}));return m.error&&y(m.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/is-pure"),c=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-native-constructor"),o=t("../internals/get-built-in"),u=t("../internals/is-callable"),f=t("../internals/define-built-in"),h=l&&l.prototype;if(a({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!s&&u(l)){var d=o("Promise").prototype.catch;h.catch!==d&&f(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,n,i){var a,s,c,l=t("../internals/export"),o=t("../internals/is-pure"),u=t("../internals/engine-is-node"),f=t("../internals/global"),h=t("../internals/function-call"),d=t("../internals/define-built-in"),g=t("../internals/object-set-prototype-of"),y=t("../internals/set-to-string-tag"),m=t("../internals/set-species"),x=t("../internals/a-callable"),v=t("../internals/is-callable"),_=t("../internals/is-object"),k=t("../internals/an-instance"),N=t("../internals/species-constructor"),P=t("../internals/task").set,D=t("../internals/microtask"),I=t("../internals/host-report-errors"),B=t("../internals/perform"),L=t("../internals/queue"),z=t("../internals/internal-state"),$=t("../internals/promise-native-constructor"),O=t("../internals/promise-constructor-detection"),F=t("../internals/new-promise-capability"),C=O.CONSTRUCTOR,w=O.REJECTION_EVENT,E=O.SUBCLASSING,A=z.getterFor("Promise"),j=z.set,R=$&&$.prototype,q=$,H=R,Y=f.TypeError,Z=f.document,te=f.process,W=F.f,ee=W,K=!!(Z&&Z.createEvent&&f.dispatchEvent),V=function(he){var ve;return!(!_(he)||!v(ve=he.then))&&ve},Q=function(he,ve){var xe,_e,Ne,Re=ve.value,$e=ve.state===1,tt=$e?he.ok:he.fail,et=he.resolve,Ye=he.reject,wt=he.domain;try{tt?($e||(ve.rejection===2&&me(ve),ve.rejection=1),tt===!0?xe=Re:(wt&&wt.enter(),xe=tt(Re),wt&&(wt.exit(),Ne=!0)),xe===he.promise?Ye(new Y("Promise-chain cycle")):(_e=V(xe))?h(_e,xe,et,Ye):et(xe)):Ye(Re)}catch(bt){wt&&!Ne&&wt.exit(),Ye(bt)}},re=function(he,ve){he.notified||(he.notified=!0,D((function(){for(var xe,_e=he.reactions;xe=_e.get();)Q(xe,he);he.notified=!1,ve&&!he.rejection&&ne(he)})))},oe=function(he,ve,xe){var _e,Ne;K?((_e=Z.createEvent("Event")).promise=ve,_e.reason=xe,_e.initEvent(he,!1,!0),f.dispatchEvent(_e)):_e={promise:ve,reason:xe},!w&&(Ne=f["on"+he])?Ne(_e):he==="unhandledrejection"&&I("Unhandled promise rejection",xe)},ne=function(he){h(P,f,(function(){var ve,xe=he.facade,_e=he.value;if(le(he)&&(ve=B((function(){u?te.emit("unhandledRejection",_e,xe):oe("unhandledrejection",xe,_e)})),he.rejection=u||le(he)?2:1,ve.error))throw ve.value}))},le=function(he){return he.rejection!==1&&!he.parent},me=function(he){h(P,f,(function(){var ve=he.facade;u?te.emit("rejectionHandled",ve):oe("rejectionhandled",ve,he.value)}))},ge=function(he,ve,xe){return function(_e){he(ve,_e,xe)}},se=function(he,ve,xe){he.done||(he.done=!0,xe&&(he=xe),he.value=ve,he.state=2,re(he,!0))},fe=function(he,ve,xe){if(!he.done){he.done=!0,xe&&(he=xe);try{if(he.facade===ve)throw new Y("Promise can't be resolved itself");var _e=V(ve);_e?D((function(){var Ne={done:!1};try{h(_e,ve,ge(fe,Ne,he),ge(se,Ne,he))}catch(Re){se(Ne,Re,he)}})):(he.value=ve,he.state=1,re(he,!1))}catch(Ne){se({done:!1},Ne,he)}}};if(C&&(H=(q=function(he){k(this,H),x(he),h(a,this);var ve=A(this);try{he(ge(fe,ve),ge(se,ve))}catch(xe){se(ve,xe)}}).prototype,(a=function(he){j(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new L,rejection:!1,state:0,value:void 0})}).prototype=d(H,"then",(function(he,ve){var xe=A(this),_e=W(N(this,q));return xe.parent=!0,_e.ok=!v(he)||he,_e.fail=v(ve)&&ve,_e.domain=u?te.domain:void 0,xe.state===0?xe.reactions.add(_e):D((function(){Q(_e,xe)})),_e.promise})),s=function(){var he=new a,ve=A(he);this.promise=he,this.resolve=ge(fe,ve),this.reject=ge(se,ve)},F.f=W=function(he){return he===q||he===void 0?new s(he):ee(he)},!o&&v($)&&R!==Object.prototype)){c=R.then,E||d(R,"then",(function(he,ve){var xe=this;return new q((function(_e,Ne){h(c,xe,_e,Ne)})).then(he,ve)}),{unsafe:!0});try{delete R.constructor}catch{}g&&g(R,H)}l({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:q}),y(q,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/is-pure"),c=t("../internals/promise-native-constructor"),l=t("../internals/fails"),o=t("../internals/get-built-in"),u=t("../internals/is-callable"),f=t("../internals/species-constructor"),h=t("../internals/promise-resolve"),d=t("../internals/define-built-in"),g=c&&c.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!c&&l((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(m){var x=f(this,o("Promise")),v=u(m);return this.then(v?function(_){return h(x,m()).then((function(){return _}))}:m,v?function(_){return h(x,m()).then((function(){throw _}))}:m)}}),!s&&u(c)){var y=o("Promise").prototype.finally;g.finally!==y&&d(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,n,i){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),c=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),o=t("../internals/perform"),u=t("../internals/iterate");a({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,d=l.f(h),g=d.reject,y=o((function(){var m=c(h.resolve);u(f,(function(x){s(m,h,x).then(d.resolve,g)}))}));return y.error&&g(y.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-call"),c=t("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var o=c.f(this);return s(o.reject,void 0,l),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/get-built-in"),c=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-resolve"),f=s("Promise"),h=c&&!o;a({target:"Promise",stat:!0,forced:c||o},{resolve:function(d){return u(h&&this===f?l:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-uncurry-this"),c=t("../internals/to-absolute-index"),l=RangeError,o=String.fromCharCode,u=String.fromCodePoint,f=s([].join);a({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var d,g=[],y=arguments.length,m=0;y>m;){if(d=+arguments[m++],c(d,1114111)!==d)throw new l(d+" is not a valid code point");g[m]=d<65536?o(d):o(55296+((d-=65536)>>10),d%1024+56320)}return f(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/function-uncurry-this"),c=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),o=t("../internals/to-string"),u=t("../internals/correct-is-regexp-logic"),f=s("".indexOf);a({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~f(o(l(this)),o(c(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,n,i){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/global"),c=t("../internals/function-call"),l=t("../internals/function-uncurry-this"),o=t("../internals/is-pure"),u=t("../internals/descriptors"),f=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),d=t("../internals/has-own-property"),g=t("../internals/object-is-prototype-of"),y=t("../internals/an-object"),m=t("../internals/to-indexed-object"),x=t("../internals/to-property-key"),v=t("../internals/to-string"),_=t("../internals/create-property-descriptor"),k=t("../internals/object-create"),N=t("../internals/object-keys"),P=t("../internals/object-get-own-property-names"),D=t("../internals/object-get-own-property-names-external"),I=t("../internals/object-get-own-property-symbols"),B=t("../internals/object-get-own-property-descriptor"),L=t("../internals/object-define-property"),z=t("../internals/object-define-properties"),$=t("../internals/object-property-is-enumerable"),O=t("../internals/define-built-in"),F=t("../internals/define-built-in-accessor"),C=t("../internals/shared"),w=t("../internals/shared-key"),E=t("../internals/hidden-keys"),A=t("../internals/uid"),j=t("../internals/well-known-symbol"),R=t("../internals/well-known-symbol-wrapped"),q=t("../internals/well-known-symbol-define"),H=t("../internals/symbol-define-to-primitive"),Y=t("../internals/set-to-string-tag"),Z=t("../internals/internal-state"),te=t("../internals/array-iteration").forEach,W=w("hidden"),ee=Z.set,K=Z.getterFor("Symbol"),V=Object.prototype,Q=s.Symbol,re=Q&&Q.prototype,oe=s.RangeError,ne=s.TypeError,le=s.QObject,me=B.f,ge=L.f,se=D.f,fe=$.f,he=l([].push),ve=C("symbols"),xe=C("op-symbols"),_e=C("wks"),Ne=!le||!le.prototype||!le.prototype.findChild,Re=function(Ze,Ue,at){var st=me(V,Ue);st&&delete V[Ue],ge(Ze,Ue,at),st&&Ze!==V&&ge(V,Ue,st)},$e=u&&h((function(){return k(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!==7}))?Re:ge,tt=function(Ze,Ue){var at=ve[Ze]=k(re);return ee(at,{type:"Symbol",tag:Ze,description:Ue}),u||(at.description=Ue),at},et=function(Ze,Ue,at){Ze===V&&et(xe,Ue,at),y(Ze);var st=x(Ue);return y(at),d(ve,st)?(at.enumerable?(d(Ze,W)&&Ze[W][st]&&(Ze[W][st]=!1),at=k(at,{enumerable:_(0,!1)})):(d(Ze,W)||ge(Ze,W,_(1,{})),Ze[W][st]=!0),$e(Ze,st,at)):ge(Ze,st,at)},Ye=function(Ze,Ue){y(Ze);var at=m(Ue),st=N(at).concat(_t(at));return te(st,(function(rt){u&&!c(wt,at,rt)||et(Ze,rt,at[rt])})),Ze},wt=function(Ze){var Ue=x(Ze),at=c(fe,this,Ue);return!(this===V&&d(ve,Ue)&&!d(xe,Ue))&&(!(at||!d(this,Ue)||!d(ve,Ue)||d(this,W)&&this[W][Ue])||at)},bt=function(Ze,Ue){var at=m(Ze),st=x(Ue);if(at!==V||!d(ve,st)||d(xe,st)){var rt=me(at,st);return!rt||!d(ve,st)||d(at,W)&&at[W][st]||(rt.enumerable=!0),rt}},yt=function(Ze){var Ue=se(m(Ze)),at=[];return te(Ue,(function(st){d(ve,st)||d(E,st)||he(at,st)})),at},_t=function(Ze){var Ue=Ze===V,at=se(Ue?xe:m(Ze)),st=[];return te(at,(function(rt){!d(ve,rt)||Ue&&!d(V,rt)||he(st,ve[rt])})),st};f||(O(re=(Q=function(){if(g(re,this))throw new ne("Symbol is not a constructor");var Ze=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,Ue=A(Ze),at=function(st){this===V&&c(at,xe,st),d(this,W)&&d(this[W],Ue)&&(this[W][Ue]=!1);var rt=_(1,st);try{$e(this,Ue,rt)}catch(Wt){if(!(Wt instanceof oe))throw Wt;Re(this,Ue,rt)}};return u&&Ne&&$e(V,Ue,{configurable:!0,set:at}),tt(Ue,Ze)}).prototype,"toString",(function(){return K(this).tag})),O(Q,"withoutSetter",(function(Ze){return tt(A(Ze),Ze)})),$.f=wt,L.f=et,z.f=Ye,B.f=bt,P.f=D.f=yt,I.f=_t,R.f=function(Ze){return tt(j(Ze),Ze)},u&&(F(re,"description",{configurable:!0,get:function(){return K(this).description}}),o||O(V,"propertyIsEnumerable",wt,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Q}),te(N(_e),(function(Ze){q(Ze)})),a({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){Ne=!0},useSimple:function(){Ne=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(Ze,Ue){return Ue===void 0?k(Ze):Ye(k(Ze),Ue)},defineProperty:et,defineProperties:Ye,getOwnPropertyDescriptor:bt}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:yt}),H(),Y(Q,"Symbol"),E[W]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/get-built-in"),c=t("../internals/has-own-property"),l=t("../internals/to-string"),o=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),f=o("string-to-symbol-registry"),h=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!u},{for:function(d){var g=l(d);if(c(f,g))return f[g];var y=s("Symbol")(g);return f[g]=y,h[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,n,i){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,n,i){var a=t("../internals/export"),s=t("../internals/has-own-property"),c=t("../internals/is-symbol"),l=t("../internals/try-to-string"),o=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),f=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!c(h))throw new TypeError(l(h)+" is not a symbol");if(s(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,n,i){function a(s){return Object.prototype.toString.call(s)}i.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},i.isBoolean=function(s){return typeof s=="boolean"},i.isNull=function(s){return s===null},i.isNullOrUndefined=function(s){return s==null},i.isNumber=function(s){return typeof s=="number"},i.isString=function(s){return typeof s=="string"},i.isSymbol=function(s){return typeof s=="symbol"},i.isUndefined=function(s){return s===void 0},i.isRegExp=function(s){return a(s)==="[object RegExp]"},i.isObject=function(s){return typeof s=="object"&&s!==null},i.isDate=function(s){return a(s)==="[object Date]"},i.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},i.isFunction=function(s){return typeof s=="function"},i.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},i.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,n,i){(function(a){(function(){var s=t("elliptic"),c=t("bn.js");n.exports=function(f){return new o(f)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(f){this.curveType=l[f],this.curveType||(this.curveType={name:f}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function u(f,h,d){Array.isArray(f)||(f=f.toArray());var g=new a(f);if(d&&g.length<d){var y=new a(d-g.length);y.fill(0),g=a.concat([y,g])}return h?g.toString(h):g}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,o.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},o.prototype.computeSecret=function(f,h,d){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},o.prototype.getPublicKey=function(f,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,f)},o.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},o.prototype.setPublicKey=function(f,h){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),this.keys._importPublic(f),this},o.prototype.setPrivateKey=function(f,h){h=h||"utf8",a.isBuffer(f)||(f=new a(f,h));var d=new c(f);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(t,n,i){var a=t("inherits"),s=t("md5.js"),c=t("ripemd160"),l=t("sha.js"),o=t("cipher-base");function u(f){o.call(this,"digest"),this._hash=f}a(u,o),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new s:f==="rmd160"||f==="ripemd160"?new c:new u(l(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,n,i){var a=t("md5.js");n.exports=function(s){return new a().update(s).digest()}},{"md5.js":450}],388:[function(t,n,i){var a=t("inherits"),s=t("./legacy"),c=t("cipher-base"),l=t("safe-buffer").Buffer,o=t("create-hash/md5"),u=t("ripemd160"),f=t("sha.js"),h=l.alloc(128);function d(g,y){c.call(this,"digest"),typeof y=="string"&&(y=l.from(y));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>m?y=(g==="rmd160"?new u:f(g)).update(y).digest():y.length<m&&(y=l.concat([y,h],m));for(var x=this._ipad=l.allocUnsafe(m),v=this._opad=l.allocUnsafe(m),_=0;_<m;_++)x[_]=54^y[_],v[_]=92^y[_];this._hash=g==="rmd160"?new u:f(g),this._hash.update(x)}a(d,c),d.prototype._update=function(g){this._hash.update(g)},d.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(g).digest()},n.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new d("rmd160",y):g==="md5"?new s(o,y):new d(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,n,i){var a=t("inherits"),s=t("safe-buffer").Buffer,c=t("cipher-base"),l=s.alloc(128);function o(u,f){c.call(this,"digest"),typeof f=="string"&&(f=s.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=s.concat([f,l],64));for(var h=this._ipad=s.allocUnsafe(64),d=this._opad=s.allocUnsafe(64),g=0;g<64;g++)h[g]=54^f[g],d[g]=92^f[g];this._hash=[h]}a(o,c),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=t("randombytes"),i.createHash=i.Hash=t("create-hash"),i.createHmac=i.Hmac=t("create-hmac");var a=t("browserify-sign/algos"),s=Object.keys(a),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);i.getHashes=function(){return c};var l=t("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var o=t("browserify-cipher");i.Cipher=o.Cipher,i.createCipher=o.createCipher,i.Cipheriv=o.Cipheriv,i.createCipheriv=o.createCipheriv,i.Decipher=o.Decipher,i.createDecipher=o.createDecipher,i.Decipheriv=o.Decipheriv,i.createDecipheriv=o.createDecipheriv,i.getCiphers=o.getCiphers,i.listCiphers=o.listCiphers;var u=t("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var f=t("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=t("create-ecdh");var h=t("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var d=t("randomfill");i.randomFill=d.randomFill,i.randomFillSync=d.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=s()})(void 0,(function(){var a=6e4,s=36e5,c="millisecond",l="second",o="minute",u="hour",f="day",h="week",d="month",g="quarter",y="year",m="date",x="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var E=["th","st","nd","rd"],A=w%100;return"["+w+(E[(A-20)%10]||E[A]||E[0])+"]"}},N=function(w,E,A){var j=String(w);return!j||j.length>=E?w:""+Array(E+1-j.length).join(A)+w},P={s:N,z:function(w){var E=-w.utcOffset(),A=Math.abs(E),j=Math.floor(A/60),R=A%60;return(E<=0?"+":"-")+N(j,2,"0")+":"+N(R,2,"0")},m:function w(E,A){if(E.date()<A.date())return-w(A,E);var j=12*(A.year()-E.year())+(A.month()-E.month()),R=E.clone().add(j,d),q=A-R<0,H=E.clone().add(j+(q?-1:1),d);return+(-(j+(A-R)/(q?R-H:H-R))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:d,y,w:h,d:f,D:m,h:u,m:o,s:l,ms:c,Q:g}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},D="en",I={};I[D]=k;var B="$isDayjsObject",L=function(w){return w instanceof F||!(!w||!w[B])},z=function w(E,A,j){var R;if(!E)return D;if(typeof E=="string"){var q=E.toLowerCase();I[q]&&(R=q),A&&(I[q]=A,R=q);var H=E.split("-");if(!R&&H.length>1)return w(H[0])}else{var Y=E.name;I[Y]=E,R=Y}return!j&&R&&(D=R),R||!j&&D},$=function(w,E){if(L(w))return w.clone();var A=typeof E=="object"?E:{};return A.date=w,A.args=arguments,new F(A)},O=P;O.l=z,O.i=L,O.w=function(w,E){return $(w,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var F=(function(){function w(A){this.$L=z(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[B]=!0}var E=w.prototype;return E.parse=function(A){this.$d=(function(j){var R=j.date,q=j.utc;if(R===null)return new Date(NaN);if(O.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var H=R.match(v);if(H){var Y=H[2]-1||0,Z=(H[7]||"0").substring(0,3);return q?new Date(Date.UTC(H[1],Y,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Z)):new Date(H[1],Y,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Z)}}return new Date(R)})(A),this.init()},E.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},E.$utils=function(){return O},E.isValid=function(){return this.$d.toString()!==x},E.isSame=function(A,j){var R=$(A);return this.startOf(j)<=R&&R<=this.endOf(j)},E.isAfter=function(A,j){return $(A)<this.startOf(j)},E.isBefore=function(A,j){return this.endOf(j)<$(A)},E.$g=function(A,j,R){return O.u(A)?this[j]:this.set(R,A)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(A,j){var R=this,q=!!O.u(j)||j,H=O.p(A),Y=function(re,oe){var ne=O.w(R.$u?Date.UTC(R.$y,oe,re):new Date(R.$y,oe,re),R);return q?ne:ne.endOf(f)},Z=function(re,oe){return O.w(R.toDate()[re].apply(R.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(oe)),R)},te=this.$W,W=this.$M,ee=this.$D,K="set"+(this.$u?"UTC":"");switch(H){case y:return q?Y(1,0):Y(31,11);case d:return q?Y(1,W):Y(0,W+1);case h:var V=this.$locale().weekStart||0,Q=(te<V?te+7:te)-V;return Y(q?ee-Q:ee+(6-Q),W);case f:case m:return Z(K+"Hours",0);case u:return Z(K+"Minutes",1);case o:return Z(K+"Seconds",2);case l:return Z(K+"Milliseconds",3);default:return this.clone()}},E.endOf=function(A){return this.startOf(A,!1)},E.$set=function(A,j){var R,q=O.p(A),H="set"+(this.$u?"UTC":""),Y=(R={},R[f]=H+"Date",R[m]=H+"Date",R[d]=H+"Month",R[y]=H+"FullYear",R[u]=H+"Hours",R[o]=H+"Minutes",R[l]=H+"Seconds",R[c]=H+"Milliseconds",R)[q],Z=q===f?this.$D+(j-this.$W):j;if(q===d||q===y){var te=this.clone().set(m,1);te.$d[Y](Z),te.init(),this.$d=te.set(m,Math.min(this.$D,te.daysInMonth())).$d}else Y&&this.$d[Y](Z);return this.init(),this},E.set=function(A,j){return this.clone().$set(A,j)},E.get=function(A){return this[O.p(A)]()},E.add=function(A,j){var R,q=this;A=Number(A);var H=O.p(j),Y=function(W){var ee=$(q);return O.w(ee.date(ee.date()+Math.round(W*A)),q)};if(H===d)return this.set(d,this.$M+A);if(H===y)return this.set(y,this.$y+A);if(H===f)return Y(1);if(H===h)return Y(7);var Z=(R={},R[o]=a,R[u]=s,R[l]=1e3,R)[H]||1,te=this.$d.getTime()+A*Z;return O.w(te,this)},E.subtract=function(A,j){return this.add(-1*A,j)},E.format=function(A){var j=this,R=this.$locale();if(!this.isValid())return R.invalidDate||x;var q=A||"YYYY-MM-DDTHH:mm:ssZ",H=O.z(this),Y=this.$H,Z=this.$m,te=this.$M,W=R.weekdays,ee=R.months,K=R.meridiem,V=function(oe,ne,le,me){return oe&&(oe[ne]||oe(j,q))||le[ne].slice(0,me)},Q=function(oe){return O.s(Y%12||12,oe,"0")},re=K||function(oe,ne,le){var me=oe<12?"AM":"PM";return le?me.toLowerCase():me};return q.replace(_,(function(oe,ne){return ne||(function(le){switch(le){case"YY":return String(j.$y).slice(-2);case"YYYY":return O.s(j.$y,4,"0");case"M":return te+1;case"MM":return O.s(te+1,2,"0");case"MMM":return V(R.monthsShort,te,ee,3);case"MMMM":return V(ee,te);case"D":return j.$D;case"DD":return O.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return V(R.weekdaysMin,j.$W,W,2);case"ddd":return V(R.weekdaysShort,j.$W,W,3);case"dddd":return W[j.$W];case"H":return String(Y);case"HH":return O.s(Y,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return re(Y,Z,!0);case"A":return re(Y,Z,!1);case"m":return String(Z);case"mm":return O.s(Z,2,"0");case"s":return String(j.$s);case"ss":return O.s(j.$s,2,"0");case"SSS":return O.s(j.$ms,3,"0");case"Z":return H}return null})(oe)||H.replace(":","")}))},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(A,j,R){var q,H=this,Y=O.p(j),Z=$(A),te=(Z.utcOffset()-this.utcOffset())*a,W=this-Z,ee=function(){return O.m(H,Z)};switch(Y){case y:q=ee()/12;break;case d:q=ee();break;case g:q=ee()/3;break;case h:q=(W-te)/6048e5;break;case f:q=(W-te)/864e5;break;case u:q=W/s;break;case o:q=W/a;break;case l:q=W/1e3;break;default:q=W}return R?q:O.a(q)},E.daysInMonth=function(){return this.endOf(d).$D},E.$locale=function(){return I[this.$L]},E.locale=function(A,j){if(!A)return this.$L;var R=this.clone(),q=z(A,j,!0);return q&&(R.$L=q),R},E.clone=function(){return O.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},w})(),C=F.prototype;return $.prototype=C,[["$ms",c],["$s",l],["$m",o],["$H",u],["$W",f],["$M",d],["$y",y],["$D",m]].forEach((function(w){C[w[1]]=function(E){return this.$g(E,w[0],w[1])}})),$.extend=function(w,E){return w.$i||(w(E,F,$),w.$i=!0),$},$.locale=z,$.isDayjs=L,$.unix=function(w){return $(1e3*w)},$.en=I[D],$.Ls=I,$.p={},$}))},{}],392:[function(t,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=s()})(void 0,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,l=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},f=function(v){return(v=+v)+(v>68?1900:2e3)},h=function(v){return function(_){this[v]=+_}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=(function(_){if(!_||_==="Z")return 0;var k=_.match(/([+-]|\d\d)/g),N=60*k[1]+(+k[2]||0);return N===0?0:k[0]==="+"?-N:N})(v)}],g=function(v){var _=u[v];return _&&(_.indexOf?_:_.s.concat(_.f))},y=function(v,_){var k,N=u.meridiem;if(N){for(var P=1;P<=24;P+=1)if(v.indexOf(N(P,0,_))>-1){k=P>12;break}}else k=v===(_?"pm":"PM");return k},m={A:[o,function(v){this.afternoon=y(v,!1)}],a:[o,function(v){this.afternoon=y(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[c,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[c,h("day")],Do:[o,function(v){var _=u.ordinal,k=v.match(/\d+/);if(this.day=k[0],_)for(var N=1;N<=31;N+=1)_(N).replace(/\[|\]/g,"")===v&&(this.day=N)}],M:[l,h("month")],MM:[c,h("month")],MMM:[o,function(v){var _=g("months"),k=(g("monthsShort")||_.map((function(N){return N.slice(0,3)}))).indexOf(v)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[o,function(v){var _=g("months").indexOf(v)+1;if(_<1)throw new Error;this.month=_%12||_}],Y:[/[+-]?\d+/,h("year")],YY:[c,function(v){this.year=f(v)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function x(v){var _,k;_=v,k=u&&u.formats;for(var N=(v=_.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function($,O,F){var C=F&&F.toUpperCase();return O||k[F]||a[F]||k[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,E,A){return E||A.slice(1)}))}))).match(s),P=N.length,D=0;D<P;D+=1){var I=N[D],B=m[I],L=B&&B[0],z=B&&B[1];N[D]=z?{regex:L,parser:z}:I.replace(/^\[|\]$/g,"")}return function($){for(var O={},F=0,C=0;F<P;F+=1){var w=N[F];if(typeof w=="string")C+=w.length;else{var E=w.regex,A=w.parser,j=$.slice(C),R=E.exec(j)[0];A.call(O,R),$=$.replace(R,"")}}return(function(q){var H=q.afternoon;if(H!==void 0){var Y=q.hours;H?Y<12&&(q.hours+=12):Y===12&&(q.hours=0),delete q.afternoon}})(O),O}}return function(v,_,k){k.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(f=v.parseTwoDigitYear);var N=_.prototype,P=N.parse;N.parse=function(D){var I=D.date,B=D.utc,L=D.args;this.$u=B;var z=L[1];if(typeof z=="string"){var $=L[2]===!0,O=L[3]===!0,F=$||O,C=L[2];O&&(C=L[2]),u=this.$locale(),!$&&C&&(u=k.Ls[C]),this.$d=(function(j,R,q){try{if(["x","X"].indexOf(R)>-1)return new Date((R==="X"?1e3:1)*j);var H=x(R)(j),Y=H.year,Z=H.month,te=H.day,W=H.hours,ee=H.minutes,K=H.seconds,V=H.milliseconds,Q=H.zone,re=new Date,oe=te||(Y||Z?1:re.getDate()),ne=Y||re.getFullYear(),le=0;Y&&!Z||(le=Z>0?Z-1:re.getMonth());var me=W||0,ge=ee||0,se=K||0,fe=V||0;return Q?new Date(Date.UTC(ne,le,oe,me,ge,se,fe+60*Q.offset*1e3)):q?new Date(Date.UTC(ne,le,oe,me,ge,se,fe)):new Date(ne,le,oe,me,ge,se,fe)}catch{return new Date("")}})(I,z,B),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),F&&I!=this.format(z)&&(this.$d=new Date("")),u={}}else if(z instanceof Array)for(var w=z.length,E=1;E<=w;E+=1){L[1]=z[E-1];var A=k.apply(this,L);if(A.isValid()){this.$d=A.$d,this.$L=A.$L,this.init();break}E===w&&(this.$d=new Date(""))}else P.call(this,D)}}}))},{}],393:[function(t,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=s()})(void 0,(function(){var a="minute",s=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(l,o,u){var f=o.prototype;u.utc=function(v){var _={date:v,utc:!0,args:arguments};return new o(_)},f.utc=function(v){var _=u(this.toDate(),{locale:this.$L,utc:!0});return v?_.add(this.utcOffset(),a):_},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),h.call(this,v)};var d=f.init;f.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var g=f.utcOffset;f.utcOffset=function(v,_){var k=this.$utils().u;if(k(v))return this.$u?0:k(this.$offset)?g.call(this):this.$offset;if(typeof v=="string"&&(v=(function(I){I===void 0&&(I="");var B=I.match(s);if(!B)return null;var L=(""+B[0]).match(c)||["-",0,0],z=L[0],$=60*+L[1]+ +L[2];return $===0?0:z==="+"?$:-$})(v))===null)return this;var N=Math.abs(v)<=16?60*v:v,P=this;if(_)return P.$offset=N,P.$u=v===0,P;if(v!==0){var D=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(P=this.local().add(N+D,a)).$offset=N,P.$x.$localOffset=D}else P=this.utc();return P};var y=f.format;f.format=function(v){var _=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,_)},f.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var m=f.toDate;f.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var x=f.diff;f.diff=function(v,_,k){if(v&&this.$u===v.$u)return x.call(this,v,_,k);var N=this.local(),P=u(v).local();return x.call(N,P,_,k)}}}))},{}],394:[function(t,n,i){i.utils=t("./des/utils"),i.Cipher=t("./des/cipher"),i.DES=t("./des/des"),i.CBC=t("./des/cbc"),i.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits"),c={};function l(o){a.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}i.instantiate=function(o){function u(g){o.call(this,g),this._cbcInit()}s(u,o);for(var f=Object.keys(c),h=0;h<f.length;h++){var d=f[h];u.prototype[d]=c[d]}return u.create=function(g){return new u(g)},u},c._cbcInit=function(){var o=new l(this.options.iv);this._cbcState=o},c._update=function(o,u,f,h){var d=this._cbcState,g=this.constructor.super_.prototype,y=d.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=o[u+m];for(g._update.call(this,y,0,f,h),m=0;m<this.blockSize;m++)y[m]=f[h+m]}else{for(g._update.call(this,o,u,f,h),m=0;m<this.blockSize;m++)f[h+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=o[u+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,n,i){var a=t("minimalistic-assert");function s(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},s.prototype._buffer=function(c,l){for(var o=Math.min(this.buffer.length-this.bufferOff,c.length-l),u=0;u<o;u++)this.buffer[this.bufferOff+u]=c[l+u];return this.bufferOff+=o,o},s.prototype._flushBuffer=function(c,l){return this._update(this.buffer,0,c,l),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(c){var l=0,o=0,u=(this.bufferOff+c.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(c,l),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(f,o)));for(var h=c.length-(c.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(c,l,f,o),o+=this.blockSize;for(;l<c.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=c[l];return f},s.prototype._updateDecrypt=function(c){for(var l=0,o=0,u=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(c,l),o+=this._flushBuffer(f,o);return l+=this._buffer(c,l),f},s.prototype.final=function(c){var l,o;return c&&(l=this.update(c)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(o):o},s.prototype._pad=function(c,l){if(l===0)return!1;for(;l<c.length;)c[l++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},s.prototype._unpad=function(c){return c},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits"),c=t("./utils"),l=t("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(h){l.call(this,h);var d=new o;this._desState=d,this.deriveKeys(d,h.key)}s(u,l),n.exports=u,u.create=function(h){return new u(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,d){h.keys=new Array(32),a.equal(d.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(d,0),y=c.readUInt32BE(d,4);c.pc1(g,y,h.tmp,0),g=h.tmp[0],y=h.tmp[1];for(var m=0;m<h.keys.length;m+=2){var x=f[m>>>1];g=c.r28shl(g,x),y=c.r28shl(y,x),c.pc2(g,y,h.keys,m)}},u.prototype._update=function(h,d,g,y){var m=this._desState,x=c.readUInt32BE(h,d),v=c.readUInt32BE(h,d+4);c.ip(x,v,m.tmp,0),x=m.tmp[0],v=m.tmp[1],this.type==="encrypt"?this._encrypt(m,x,v,m.tmp,0):this._decrypt(m,x,v,m.tmp,0),x=m.tmp[0],v=m.tmp[1],c.writeUInt32BE(g,x,y),c.writeUInt32BE(g,v,y+4)},u.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var g=h.length-d,y=d;y<h.length;y++)h[y]=g;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],g=h.length-d;g<h.length;g++)a.equal(h[g],d);return h.slice(0,h.length-d)},u.prototype._encrypt=function(h,d,g,y,m){for(var x=d,v=g,_=0;_<h.keys.length;_+=2){var k=h.keys[_],N=h.keys[_+1];c.expand(v,h.tmp,0),k^=h.tmp[0],N^=h.tmp[1];var P=c.substitute(k,N),D=v;v=(x^c.permute(P))>>>0,x=D}c.rip(v,x,y,m)},u.prototype._decrypt=function(h,d,g,y,m){for(var x=g,v=d,_=h.keys.length-2;_>=0;_-=2){var k=h.keys[_],N=h.keys[_+1];c.expand(x,h.tmp,0),k^=h.tmp[0],N^=h.tmp[1];var P=c.substitute(k,N),D=x;x=(v^c.permute(P))>>>0,v=D}c.rip(x,v,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits"),c=t("./cipher"),l=t("./des");function o(f,h){a.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),g=h.slice(8,16),y=h.slice(16,24);this.ciphers=f==="encrypt"?[l.create({type:"encrypt",key:d}),l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:y})]:[l.create({type:"decrypt",key:y}),l.create({type:"encrypt",key:g}),l.create({type:"decrypt",key:d})]}function u(f){c.call(this,f);var h=new o(this.type,this.options.key);this._edeState=h}s(u,c),n.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,h,d,g){var y=this._edeState;y.ciphers[0]._update(f,h,d,g),y.ciphers[1]._update(d,g,d,g),y.ciphers[2]._update(d,g,d,g)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,n,i){i.readUInt32BE=function(l,o){return(l[0+o]<<24|l[1+o]<<16|l[2+o]<<8|l[3+o])>>>0},i.writeUInt32BE=function(l,o,u){l[0+u]=o>>>24,l[1+u]=o>>>16&255,l[2+u]=o>>>8&255,l[3+u]=255&o},i.ip=function(l,o,u,f){for(var h=0,d=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)h<<=1,h|=o>>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=l>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)d<<=1,d|=o>>>y+g&1;for(y=1;y<=25;y+=8)d<<=1,d|=l>>>y+g&1}u[f+0]=h>>>0,u[f+1]=d>>>0},i.rip=function(l,o,u,f){for(var h=0,d=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)h<<=1,h|=o>>>y+g&1,h<<=1,h|=l>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)d<<=1,d|=o>>>y+g&1,d<<=1,d|=l>>>y+g&1;u[f+0]=h>>>0,u[f+1]=d>>>0},i.pc1=function(l,o,u,f){for(var h=0,d=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)h<<=1,h|=o>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=l>>y+g&1}for(y=0;y<=24;y+=8)h<<=1,h|=o>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)d<<=1,d|=o>>y+g&1;for(y=0;y<=24;y+=8)d<<=1,d|=l>>y+g&1}for(y=0;y<=24;y+=8)d<<=1,d|=l>>y+g&1;u[f+0]=h>>>0,u[f+1]=d>>>0},i.r28shl=function(l,o){return l<<o&268435455|l>>>28-o};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,o,u,f){for(var h=0,d=0,g=a.length>>>1,y=0;y<g;y++)h<<=1,h|=l>>>a[y]&1;for(y=g;y<a.length;y++)d<<=1,d|=o>>>a[y]&1;u[f+0]=h>>>0,u[f+1]=d>>>0},i.expand=function(l,o,u){var f=0,h=0;f=(1&l)<<5|l>>>27;for(var d=23;d>=15;d-=4)f<<=6,f|=l>>>d&63;for(d=11;d>=3;d-=4)h|=l>>>d&63,h<<=6;h|=(31&l)<<1|l>>>31,o[u+0]=f>>>0,o[u+1]=h>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,o){for(var u=0,f=0;f<4;f++)u<<=4,u|=s[64*f+(l>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=s[256+64*f+(o>>>18-6*f&63)];return u>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var o=0,u=0;u<c.length;u++)o<<=1,o|=l>>>c[u]&1;return o>>>0},i.padSplit=function(l,o,u){for(var f=l.toString(2);f.length<o;)f="0"+f;for(var h=[],d=0;d<o;d+=u)h.push(f.slice(d,d+u));return h.join(" ")}},{}],400:[function(t,n,i){(function(a){(function(){var s=t("./lib/generatePrime"),c=t("./lib/primes.json"),l=t("./lib/dh"),o={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var f=new a(c[u].prime,"hex"),h=new a(c[u].gen,"hex");return new l(f,h)},i.createDiffieHellman=i.DiffieHellman=function u(f,h,d,g){return a.isBuffer(h)||o[h]===void 0?u(f,"binary",h,d):(h=h||"binary",g=g||"binary",d=d||new a([2]),a.isBuffer(d)||(d=new a(d,g)),typeof f=="number"?new l(s(f,d),d,!0):(a.isBuffer(f)||(f=new a(f,h)),new l(f,d,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,n,i){(function(a){(function(){var s=t("bn.js"),c=new(t("miller-rabin")),l=new s(24),o=new s(11),u=new s(10),f=new s(3),h=new s(7),d=t("./generatePrime"),g=t("randombytes");function y(k,N){return N=N||"utf8",a.isBuffer(k)||(k=new a(k,N)),this._pub=new s(k),this}function m(k,N){return N=N||"utf8",a.isBuffer(k)||(k=new a(k,N)),this._priv=new s(k),this}n.exports=v;var x={};function v(k,N,P){this.setGenerator(N),this.__prime=new s(k),this._prime=s.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function _(k,N){var P=new a(k.toArray());return N?P.toString(N):P}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(k,N){var P=N.toString("hex"),D=[P,k.toString(16)].join("_");if(D in x)return x[D];var I,B=0;if(k.isEven()||!d.simpleSieve||!d.fermatTest(k)||!c.test(k))return B+=1,B+=P==="02"||P==="05"?8:4,x[D]=B,B;switch(c.test(k.shrn(1))||(B+=2),P){case"02":k.mod(l).cmp(o)&&(B+=8);break;case"05":(I=k.mod(u)).cmp(f)&&I.cmp(h)&&(B+=8);break;default:B+=4}return x[D]=B,B})(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new s(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(k){var N=(k=(k=new s(k)).toRed(this._prime)).redPow(this._priv).fromRed(),P=new a(N.toArray()),D=this.getPrime();if(P.length<D.length){var I=new a(D.length-P.length);I.fill(0),P=a.concat([I,P])}return P},v.prototype.getPublicKey=function(k){return _(this._pub,k)},v.prototype.getPrivateKey=function(k){return _(this._priv,k)},v.prototype.getPrime=function(k){return _(this.__prime,k)},v.prototype.getGenerator=function(k){return _(this._gen,k)},v.prototype.setGenerator=function(k,N){return N=N||"utf8",a.isBuffer(k)||(k=new a(k,N)),this.__gen=k,this._gen=new s(k),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,n,i){var a=t("randombytes");n.exports=k,k.simpleSieve=v,k.fermatTest=_;var s=t("bn.js"),c=new s(24),l=new(t("miller-rabin")),o=new s(1),u=new s(2),f=new s(5),h=(new s(16),new s(8),new s(10)),d=new s(3),g=(new s(7),new s(11)),y=new s(4),m=(new s(12),null);function x(){if(m!==null)return m;var N=[];N[0]=2;for(var P=1,D=3;D<1048576;D+=2){for(var I=Math.ceil(Math.sqrt(D)),B=0;B<P&&N[B]<=I&&D%N[B]!=0;B++);P!==B&&N[B]<=I||(N[P++]=D)}return m=N,N}function v(N){for(var P=x(),D=0;D<P.length;D++)if(N.modn(P[D])===0)return N.cmpn(P[D])===0;return!0}function _(N){var P=s.mont(N);return u.toRed(P).redPow(N.subn(1)).fromRed().cmpn(1)===0}function k(N,P){if(N<16)return new s(P===2||P===5?[140,123]:[140,39]);var D,I;for(P=new s(P);;){for(D=new s(a(Math.ceil(N/8)));D.bitLength()>N;)D.ishrn(1);if(D.isEven()&&D.iadd(o),D.testn(1)||D.iadd(u),P.cmp(u)){if(!P.cmp(f))for(;D.mod(h).cmp(d);)D.iadd(y)}else for(;D.mod(c).cmp(g);)D.iadd(y);if(v(I=D.shrn(1))&&v(D)&&_(I)&&_(D)&&l.test(I)&&l.test(D))return D}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(t,n,i){var a=i;a.version=t("../package.json").version,a.utils=t("./elliptic/utils"),a.rand=t("brorand"),a.curve=t("./elliptic/curve"),a.curves=t("./elliptic/curves"),a.ec=t("./elliptic/ec"),a.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,n,i){var a=t("bn.js"),s=t("../utils"),c=s.getNAF,l=s.getJSF,o=s.assert;function u(h,d){this.type=h,this.p=new a(d.p,16),this.red=d.prime?a.red(d.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=d.n&&new a(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,d){o(h.precomputed);var g=h._getDoubles(),y=c(d,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var x,v,_=[];for(x=0;x<y.length;x+=g.step){v=0;for(var k=x+g.step-1;k>=x;k--)v=(v<<1)+y[k];_.push(v)}for(var N=this.jpoint(null,null,null),P=this.jpoint(null,null,null),D=m;D>0;D--){for(x=0;x<_.length;x++)(v=_[x])===D?P=P.mixedAdd(g.points[x]):v===-D&&(P=P.mixedAdd(g.points[x].neg()));N=N.add(P)}return N.toP()},u.prototype._wnafMul=function(h,d){var g=4,y=h._getNAFPoints(g);g=y.wnd;for(var m=y.points,x=c(d,g,this._bitLength),v=this.jpoint(null,null,null),_=x.length-1;_>=0;_--){for(var k=0;_>=0&&x[_]===0;_--)k++;if(_>=0&&k++,v=v.dblp(k),_<0)break;var N=x[_];o(N!==0),v=h.type==="affine"?N>0?v.mixedAdd(m[N-1>>1]):v.mixedAdd(m[-N-1>>1].neg()):N>0?v.add(m[N-1>>1]):v.add(m[-N-1>>1].neg())}return h.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(h,d,g,y,m){var x,v,_,k=this._wnafT1,N=this._wnafT2,P=this._wnafT3,D=0;for(x=0;x<y;x++){var I=(_=d[x])._getNAFPoints(h);k[x]=I.wnd,N[x]=I.points}for(x=y-1;x>=1;x-=2){var B=x-1,L=x;if(k[B]===1&&k[L]===1){var z=[d[B],null,null,d[L]];d[B].y.cmp(d[L].y)===0?(z[1]=d[B].add(d[L]),z[2]=d[B].toJ().mixedAdd(d[L].neg())):d[B].y.cmp(d[L].y.redNeg())===0?(z[1]=d[B].toJ().mixedAdd(d[L]),z[2]=d[B].add(d[L].neg())):(z[1]=d[B].toJ().mixedAdd(d[L]),z[2]=d[B].toJ().mixedAdd(d[L].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],O=l(g[B],g[L]);for(D=Math.max(O[0].length,D),P[B]=new Array(D),P[L]=new Array(D),v=0;v<D;v++){var F=0|O[0][v],C=0|O[1][v];P[B][v]=$[3*(F+1)+(C+1)],P[L][v]=0,N[B]=z}}else P[B]=c(g[B],k[B],this._bitLength),P[L]=c(g[L],k[L],this._bitLength),D=Math.max(P[B].length,D),D=Math.max(P[L].length,D)}var w=this.jpoint(null,null,null),E=this._wnafT4;for(x=D;x>=0;x--){for(var A=0;x>=0;){var j=!0;for(v=0;v<y;v++)E[v]=0|P[v][x],E[v]!==0&&(j=!1);if(!j)break;A++,x--}if(x>=0&&A++,w=w.dblp(A),x<0)break;for(v=0;v<y;v++){var R=E[v];R!==0&&(R>0?_=N[v][R-1>>1]:R<0&&(_=N[v][-R-1>>1].neg()),w=_.type==="affine"?w.mixedAdd(_):w.add(_))}}for(x=0;x<y;x++)N[x]=null;return m?w:w.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,d){h=s.toArray(h,d);var g=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*g)return h[0]===6?o(h[h.length-1]%2==0):h[0]===7&&o(h[h.length-1]%2==1),this.point(h.slice(1,1+g),h.slice(1+g,1+2*g));if((h[0]===2||h[0]===3)&&h.length-1===g)return this.pointFromX(h.slice(1,1+g),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var d=this.curve.p.byteLength(),g=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",d))},f.prototype.encode=function(h,d){return s.encode(this._encode(d),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},f.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,m=0;m<d;m+=h){for(var x=0;x<h;x++)y=y.dbl();g.push(y)}return{step:h,points:g}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],g=(1<<h)-1,y=g===1?null:this.dbl(),m=1;m<g;m++)d[m]=d[m-1].add(y);return{wnd:h,points:d}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var d=this,g=0;g<h;g++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(t,n,i){var a=t("../utils"),s=t("bn.js"),c=t("inherits"),l=t("./base"),o=a.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new s(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,d,g,y,m){l.BasePoint.call(this,h,"projective"),d===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(d,16),this.y=new s(g,16),this.z=y?new s(y,16):this.curve.one,this.t=m&&new s(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(u,l),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,d,g,y){return this.point(h,d,g,y)},u.prototype.pointFromX=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),y=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),x=y.redMul(m.redInvm()),v=x.redSqrt();if(v.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var _=v.fromRed().isOdd();return(d&&!_||!d&&_)&&(v=v.redNeg()),this.point(h,v)},u.prototype.pointFromY=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),y=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),x=y.redMul(m.redInvm());if(x.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var v=x.redSqrt();if(v.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==d&&(v=v.redNeg()),this.point(v,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),g=h.y.redSqr(),y=d.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(g)));return y.cmp(m)===0},c(f,l.BasePoint),u.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},u.prototype.point=function(h,d,g,y){return new f(this,h,d,g,y)},f.fromJSON=function(h,d){return new f(h,d[0],d[1],d[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(h),m=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),x=y.redAdd(d),v=x.redSub(g),_=y.redSub(d),k=m.redMul(v),N=x.redMul(_),P=m.redMul(_),D=v.redMul(x);return this.curve.point(k,N,D,P)},f.prototype._projDbl=function(){var h,d,g,y,m,x,v=this.x.redAdd(this.y).redSqr(),_=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var N=(y=this.curve._mulA(_)).redAdd(k);this.zOne?(h=v.redSub(_).redSub(k).redMul(N.redSub(this.curve.two)),d=N.redMul(y.redSub(k)),g=N.redSqr().redSub(N).redSub(N)):(m=this.z.redSqr(),x=N.redSub(m).redISub(m),h=v.redSub(_).redISub(k).redMul(x),d=N.redMul(y.redSub(k)),g=N.redMul(x))}else y=_.redAdd(k),m=this.curve._mulC(this.z).redSqr(),x=y.redSub(m).redSub(m),h=this.curve._mulC(v.redISub(y)).redMul(x),d=this.curve._mulC(y).redMul(_.redISub(k)),g=y.redMul(x);return this.curve.point(h,d,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),g=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),y=this.t.redMul(this.curve.dd).redMul(h.t),m=this.z.redMul(h.z.redAdd(h.z)),x=g.redSub(d),v=m.redSub(y),_=m.redAdd(y),k=g.redAdd(d),N=x.redMul(v),P=_.redMul(k),D=x.redMul(k),I=v.redMul(_);return this.curve.point(N,P,I,D)},f.prototype._projAdd=function(h){var d,g,y=this.z.redMul(h.z),m=y.redSqr(),x=this.x.redMul(h.x),v=this.y.redMul(h.y),_=this.curve.d.redMul(x).redMul(v),k=m.redSub(_),N=m.redAdd(_),P=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(x).redISub(v),D=y.redMul(k).redMul(P);return this.curve.twisted?(d=y.redMul(N).redMul(v.redSub(this.curve._mulA(x))),g=k.redMul(N)):(d=y.redMul(N).redMul(v.redSub(x)),g=this.curve._mulC(k).redMul(N)),this.curve.point(D,d,g)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,d,g){return this.curve._wnafMulAdd(1,[this,d],[h,g],2,!1)},f.prototype.jmulAdd=function(h,d,g){return this.curve._wnafMulAdd(1,[this,d],[h,g],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var g=h.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(y),this.x.cmp(d)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,n,i){var a=i;a.base=t("./base"),a.short=t("./short"),a.mont=t("./mont"),a.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,n,i){var a=t("bn.js"),s=t("inherits"),c=t("./base"),l=t("../utils");function o(f){c.call(this,"mont",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,h,d){c.BasePoint.call(this,f,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(h,16),this.z=new a(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(o,c),n.exports=o,o.prototype.validate=function(f){var h=f.normalize().x,d=h.redSqr(),g=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return g.redSqrt().redSqr().cmp(g)===0},s(u,c.BasePoint),o.prototype.decodePoint=function(f,h){return this.point(l.toArray(f,h),1)},o.prototype.point=function(f,h){return new u(this,f,h)},o.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,h){return new u(f,h[0],h[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=f.redSub(h),g=f.redMul(h),y=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(g,y)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,h){var d=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=f.x.redAdd(f.z),m=f.x.redSub(f.z).redMul(d),x=y.redMul(g),v=h.z.redMul(m.redAdd(x).redSqr()),_=h.x.redMul(m.redISub(x).redSqr());return this.curve.point(v,_)},u.prototype.mul=function(f){for(var h=f.clone(),d=this,g=this.curve.point(null,null),y=[];h.cmpn(0)!==0;h.iushrn(1))y.push(h.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(d=d.diffAdd(g,this),g=g.dbl()):(g=d.diffAdd(g,this),d=d.dbl());return g},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,n,i){var a=t("../utils"),s=t("bn.js"),c=t("inherits"),l=t("./base"),o=a.assert;function u(d){l.call(this,"short",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(d,g,y,m){l.BasePoint.call(this,d,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(g,16),this.y=new s(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,g,y,m){l.BasePoint.call(this,d,"jacobian"),g===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(g,16),this.y=new s(y,16),this.z=new s(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(u,l),n.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(d.beta)g=new s(d.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(d.lambda)y=new s(d.lambda,16);else{var x=this._getEndoRoots(this.n);this.g.mul(x[0]).x.cmp(this.g.x.redMul(g))===0?y=x[0]:(y=x[1],o(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:d.basis?d.basis.map((function(v){return{a:new s(v.a,16),b:new s(v.b,16)}})):this._getEndoBasis(y)}}},u.prototype._getEndoRoots=function(d){var g=d===this.p?this.red:s.mont(d),y=new s(2).toRed(g).redInvm(),m=y.redNeg(),x=new s(3).toRed(g).redNeg().redSqrt().redMul(y);return[m.redAdd(x).fromRed(),m.redSub(x).fromRed()]},u.prototype._getEndoBasis=function(d){for(var g,y,m,x,v,_,k,N,P,D=this.n.ushrn(Math.floor(this.n.bitLength()/2)),I=d,B=this.n.clone(),L=new s(1),z=new s(0),$=new s(0),O=new s(1),F=0;I.cmpn(0)!==0;){var C=B.div(I);N=B.sub(C.mul(I)),P=$.sub(C.mul(L));var w=O.sub(C.mul(z));if(!m&&N.cmp(D)<0)g=k.neg(),y=L,m=N.neg(),x=P;else if(m&&++F==2)break;k=N,B=I,I=N,$=L,L=P,O=z,z=w}v=N.neg(),_=P;var E=m.sqr().add(x.sqr());return v.sqr().add(_.sqr()).cmp(E)>=0&&(v=g,_=y),m.negative&&(m=m.neg(),x=x.neg()),v.negative&&(v=v.neg(),_=_.neg()),[{a:m,b:x},{a:v,b:_}]},u.prototype._endoSplit=function(d){var g=this.endo.basis,y=g[0],m=g[1],x=m.b.mul(d).divRound(this.n),v=y.b.neg().mul(d).divRound(this.n),_=x.mul(y.a),k=v.mul(m.a),N=x.mul(y.b),P=v.mul(m.b);return{k1:d.sub(_).sub(k),k2:N.add(P).neg()}},u.prototype.pointFromX=function(d,g){(d=new s(d,16)).red||(d=d.toRed(this.red));var y=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var x=m.fromRed().isOdd();return(g&&!x||!g&&x)&&(m=m.redNeg()),this.point(d,m)},u.prototype.validate=function(d){if(d.inf)return!0;var g=d.x,y=d.y,m=this.a.redMul(g),x=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(x).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,g,y){for(var m=this._endoWnafT1,x=this._endoWnafT2,v=0;v<d.length;v++){var _=this._endoSplit(g[v]),k=d[v],N=k._getBeta();_.k1.negative&&(_.k1.ineg(),k=k.neg(!0)),_.k2.negative&&(_.k2.ineg(),N=N.neg(!0)),m[2*v]=k,m[2*v+1]=N,x[2*v]=_.k1,x[2*v+1]=_.k2}for(var P=this._wnafMulAdd(1,m,x,2*v,y),D=0;D<2*v;D++)m[D]=null,x[D]=null;return P},c(f,l.BasePoint),u.prototype.point=function(d,g,y){return new f(this,d,g,y)},u.prototype.pointFromJSON=function(d,g){return f.fromJSON(this,d,g)},f.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var y=this.curve,m=function(x){return y.point(x.x.redMul(y.endo.beta),x.y)};d.beta=g,g.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(m)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(m)}}}return g}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(d,g,y){typeof g=="string"&&(g=JSON.parse(g));var m=d.point(g[0],g[1],y);if(!g[2])return m;function x(_){return d.point(_[0],_[1],y)}var v=g[2];return m.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[m].concat(v.doubles.points.map(x))},naf:v.naf&&{wnd:v.naf.wnd,points:[m].concat(v.naf.points.map(x))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var g=this.y.redSub(d.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(d.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(d.x),m=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},f.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),m=d.redInvm(),x=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(m),v=x.redSqr().redISub(this.x.redAdd(this.x)),_=x.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,_)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(d){return d=new s(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,g,y){var m=[this,g],x=[d,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,x):this.curve._wnafMulAdd(1,m,x,2)},f.prototype.jmulAdd=function(d,g,y){var m=[this,g],x=[d,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,x,!0):this.curve._wnafMulAdd(1,m,x,2,!0)},f.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},f.prototype.neg=function(d){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var y=this.precomputed,m=function(x){return x.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return g},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(h,l.BasePoint),u.prototype.jpoint=function(d,g,y){return new h(this,d,g,y)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),g=d.redSqr(),y=this.x.redMul(g),m=this.y.redMul(g).redMul(d);return this.curve.point(y,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var g=d.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(g),x=d.x.redMul(y),v=this.y.redMul(g.redMul(d.z)),_=d.y.redMul(y.redMul(this.z)),k=m.redSub(x),N=v.redSub(_);if(k.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=k.redSqr(),D=P.redMul(k),I=m.redMul(P),B=N.redSqr().redIAdd(D).redISub(I).redISub(I),L=N.redMul(I.redISub(B)).redISub(v.redMul(D)),z=this.z.redMul(d.z).redMul(k);return this.curve.jpoint(B,L,z)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var g=this.z.redSqr(),y=this.x,m=d.x.redMul(g),x=this.y,v=d.y.redMul(g).redMul(this.z),_=y.redSub(m),k=x.redSub(v);if(_.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=_.redSqr(),P=N.redMul(_),D=y.redMul(N),I=k.redSqr().redIAdd(P).redISub(D).redISub(D),B=k.redMul(D.redISub(I)).redISub(x.redMul(P)),L=this.z.redMul(_);return this.curve.jpoint(I,B,L)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<d;g++)y=y.dbl();return y}var m=this.curve.a,x=this.curve.tinv,v=this.x,_=this.y,k=this.z,N=k.redSqr().redSqr(),P=_.redAdd(_);for(g=0;g<d;g++){var D=v.redSqr(),I=P.redSqr(),B=I.redSqr(),L=D.redAdd(D).redIAdd(D).redIAdd(m.redMul(N)),z=v.redMul(I),$=L.redSqr().redISub(z.redAdd(z)),O=z.redISub($),F=L.redMul(O);F=F.redIAdd(F).redISub(B);var C=P.redMul(k);g+1<d&&(N=N.redMul(B)),v=$,k=C,P=F}return this.curve.jpoint(v,P.redMul(x),k)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,g,y;if(this.zOne){var m=this.x.redSqr(),x=this.y.redSqr(),v=x.redSqr(),_=this.x.redAdd(x).redSqr().redISub(m).redISub(v);_=_.redIAdd(_);var k=m.redAdd(m).redIAdd(m),N=k.redSqr().redISub(_).redISub(_),P=v.redIAdd(v);P=(P=P.redIAdd(P)).redIAdd(P),d=N,g=k.redMul(_.redISub(N)).redISub(P),y=this.y.redAdd(this.y)}else{var D=this.x.redSqr(),I=this.y.redSqr(),B=I.redSqr(),L=this.x.redAdd(I).redSqr().redISub(D).redISub(B);L=L.redIAdd(L);var z=D.redAdd(D).redIAdd(D),$=z.redSqr(),O=B.redIAdd(B);O=(O=O.redIAdd(O)).redIAdd(O),d=$.redISub(L).redISub(L),g=z.redMul(L.redISub(d)).redISub(O),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(d,g,y)},h.prototype._threeDbl=function(){var d,g,y;if(this.zOne){var m=this.x.redSqr(),x=this.y.redSqr(),v=x.redSqr(),_=this.x.redAdd(x).redSqr().redISub(m).redISub(v);_=_.redIAdd(_);var k=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),N=k.redSqr().redISub(_).redISub(_);d=N;var P=v.redIAdd(v);P=(P=P.redIAdd(P)).redIAdd(P),g=k.redMul(_.redISub(N)).redISub(P),y=this.y.redAdd(this.y)}else{var D=this.z.redSqr(),I=this.y.redSqr(),B=this.x.redMul(I),L=this.x.redSub(D).redMul(this.x.redAdd(D));L=L.redAdd(L).redIAdd(L);var z=B.redIAdd(B),$=(z=z.redIAdd(z)).redAdd(z);d=L.redSqr().redISub($),y=this.y.redAdd(this.z).redSqr().redISub(I).redISub(D);var O=I.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O),g=L.redMul(z.redISub(d)).redISub(O)}return this.curve.jpoint(d,g,y)},h.prototype._dbl=function(){var d=this.curve.a,g=this.x,y=this.y,m=this.z,x=m.redSqr().redSqr(),v=g.redSqr(),_=y.redSqr(),k=v.redAdd(v).redIAdd(v).redIAdd(d.redMul(x)),N=g.redAdd(g),P=(N=N.redIAdd(N)).redMul(_),D=k.redSqr().redISub(P.redAdd(P)),I=P.redISub(D),B=_.redSqr();B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var L=k.redMul(I).redISub(B),z=y.redAdd(y).redMul(m);return this.curve.jpoint(D,L,z)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),m=g.redSqr(),x=d.redAdd(d).redIAdd(d),v=x.redSqr(),_=this.x.redAdd(g).redSqr().redISub(d).redISub(m),k=(_=(_=(_=_.redIAdd(_)).redAdd(_).redIAdd(_)).redISub(v)).redSqr(),N=m.redIAdd(m);N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var P=x.redIAdd(_).redSqr().redISub(v).redISub(k).redISub(N),D=g.redMul(P);D=(D=D.redIAdd(D)).redIAdd(D);var I=this.x.redMul(k).redISub(D);I=(I=I.redIAdd(I)).redIAdd(I);var B=this.y.redMul(P.redMul(N.redISub(P)).redISub(_.redMul(k)));B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var L=this.z.redAdd(_).redSqr().redISub(y).redISub(k);return this.curve.jpoint(I,B,L)},h.prototype.mul=function(d,g){return d=new s(d,g),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var g=this.z.redSqr(),y=d.z.redSqr();if(this.x.redMul(y).redISub(d.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),x=y.redMul(d.z);return this.y.redMul(x).redISub(d.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(d){var g=this.z.redSqr(),y=d.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var m=d.clone(),x=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(x),this.x.cmp(y)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,n,i){var a,s=i,c=t("hash.js"),l=t("./curve"),o=t("./utils").assert;function u(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,d){Object.defineProperty(s,h,{configurable:!0,enumerable:!0,get:function(){var g=new u(d);return Object.defineProperty(s,h,{configurable:!0,enumerable:!0,value:g}),g}})}s.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=t("./precomputed/secp256k1")}catch{a=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,n,i){var a=t("bn.js"),s=t("hmac-drbg"),c=t("../utils"),l=t("../curves"),o=t("brorand"),u=c.assert,f=t("./key"),h=t("./signature");function d(g){if(!(this instanceof d))return new d(g);typeof g=="string"&&(u(Object.prototype.hasOwnProperty.call(l,g),"Unknown curve "+g),g=l[g]),g instanceof l.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}n.exports=d,d.prototype.keyPair=function(g){return new f(this,g)},d.prototype.keyFromPrivate=function(g,y){return f.fromPrivate(this,g,y)},d.prototype.keyFromPublic=function(g,y){return f.fromPublic(this,g,y)},d.prototype.genKeyPair=function(g){g||(g={});for(var y=new s({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||o(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),x=this.n.sub(new a(2));;){var v=new a(y.generate(m));if(!(v.cmp(x)>0))return v.iaddn(1),this.keyFromPrivate(v)}},d.prototype._truncateToN=function(g,y){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},d.prototype.sign=function(g,y,m,x){typeof m=="object"&&(x=m,m=null),x||(x={}),y=this.keyFromPrivate(y,m),g=this._truncateToN(new a(g,16));for(var v=this.n.byteLength(),_=y.getPrivate().toArray("be",v),k=g.toArray("be",v),N=new s({hash:this.hash,entropy:_,nonce:k,pers:x.pers,persEnc:x.persEnc||"utf8"}),P=this.n.sub(new a(1)),D=0;;D++){var I=x.k?x.k(D):new a(N.generate(this.n.byteLength()));if(!((I=this._truncateToN(I,!0)).cmpn(1)<=0||I.cmp(P)>=0)){var B=this.g.mul(I);if(!B.isInfinity()){var L=B.getX(),z=L.umod(this.n);if(z.cmpn(0)!==0){var $=I.invm(this.n).mul(z.mul(y.getPrivate()).iadd(g));if(($=$.umod(this.n)).cmpn(0)!==0){var O=(B.getY().isOdd()?1:0)|(L.cmp(z)!==0?2:0);return x.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),O^=1),new h({r:z,s:$,recoveryParam:O})}}}}}},d.prototype.verify=function(g,y,m,x){g=this._truncateToN(new a(g,16)),m=this.keyFromPublic(m,x);var v=(y=new h(y,"hex")).r,_=y.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||_.cmpn(1)<0||_.cmp(this.n)>=0)return!1;var k,N=_.invm(this.n),P=N.mul(g).umod(this.n),D=N.mul(v).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(P,m.getPublic(),D)).isInfinity()&&k.eqXToP(v):!(k=this.g.mulAdd(P,m.getPublic(),D)).isInfinity()&&k.getX().umod(this.n).cmp(v)===0},d.prototype.recoverPubKey=function(g,y,m,x){u((3&m)===m,"The recovery param is more than two bits"),y=new h(y,x);var v=this.n,_=new a(g),k=y.r,N=y.s,P=1&m,D=m>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&D)throw new Error("Unable to find sencond key candinate");k=D?this.curve.pointFromX(k.add(this.curve.n),P):this.curve.pointFromX(k,P);var I=y.r.invm(v),B=v.sub(_).mul(I).umod(v),L=N.mul(I).umod(v);return this.g.mulAdd(B,k,L)},d.prototype.getKeyRecoveryParam=function(g,y,m,x){if((y=new h(y,x)).recoveryParam!==null)return y.recoveryParam;for(var v=0;v<4;v++){var _;try{_=this.recoverPubKey(g,y,v)}catch{continue}if(_.eq(m))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,n,i){var a=t("bn.js"),s=t("../utils").assert;function c(l,o){this.ec=l,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=c,c.fromPublic=function(l,o,u){return o instanceof c?o:new c(l,{pub:o,pubEnc:u})},c.fromPrivate=function(l,o,u){return o instanceof c?o:new c(l,{priv:o,privEnc:u})},c.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(l,o){return typeof l=="string"&&(o=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,l):this.pub},c.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(l,o){this.priv=new a(l,o||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(l,o){if(l.x||l.y)return this.ec.curve.type==="mont"?s(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,o)},c.prototype.derive=function(l){return l.validate()||s(l.validate(),"public point not validated"),l.mul(this.priv).getX()},c.prototype.sign=function(l,o,u){return this.ec.sign(l,this,o,u)},c.prototype.verify=function(l,o){return this.ec.verify(l,o,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,n,i){var a=t("bn.js"),s=t("../utils"),c=s.assert;function l(d,g){if(d instanceof l)return d;this._importDER(d,g)||(c(d.r&&d.s,"Signature without r or s"),this.r=new a(d.r,16),this.s=new a(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function o(){this.place=0}function u(d,g){var y=d[g.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var x=0,v=0,_=g.place;v<m;v++,_++)x<<=8,x|=d[_],x>>>=0;return!(x<=127)&&(g.place=_,x)}function f(d){for(var g=0,y=d.length-1;!d[g]&&!(128&d[g+1])&&g<y;)g++;return g===0?d:d.slice(g)}function h(d,g){if(g<128)d.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(d.push(128|y);--y;)d.push(g>>>(y<<3)&255);d.push(g)}}n.exports=l,l.prototype._importDER=function(d,g){d=s.toArray(d,g);var y=new o;if(d[y.place++]!==48)return!1;var m=u(d,y);if(m===!1||m+y.place!==d.length||d[y.place++]!==2)return!1;var x=u(d,y);if(x===!1)return!1;var v=d.slice(y.place,x+y.place);if(y.place+=x,d[y.place++]!==2)return!1;var _=u(d,y);if(_===!1||d.length!==_+y.place)return!1;var k=d.slice(y.place,_+y.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new a(v),this.s=new a(k),this.recoveryParam=null,!0},l.prototype.toDER=function(d){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=f(g),y=f(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];h(m,g.length),(m=m.concat(g)).push(2),h(m,y.length);var x=m.concat(y),v=[48];return h(v,x.length),v=v.concat(x),s.encode(v,d)}},{"../utils":419,"bn.js":420}],415:[function(t,n,i){var a=t("hash.js"),s=t("../curves"),c=t("../utils"),l=c.assert,o=c.parseBytes,u=t("./key"),f=t("./signature");function h(d){if(l(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=s[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=a.sha512}n.exports=h,h.prototype.sign=function(d,g){d=o(d);var y=this.keyFromSecret(g),m=this.hashInt(y.messagePrefix(),d),x=this.g.mul(m),v=this.encodePoint(x),_=this.hashInt(v,y.pubBytes(),d).mul(y.priv()),k=m.add(_).umod(this.curve.n);return this.makeSignature({R:x,S:k,Rencoded:v})},h.prototype.verify=function(d,g,y){d=o(d),g=this.makeSignature(g);var m=this.keyFromPublic(y),x=this.hashInt(g.Rencoded(),m.pubBytes(),d),v=this.g.mul(g.S());return g.R().add(m.pub().mul(x)).eq(v)},h.prototype.hashInt=function(){for(var d=this.hash(),g=0;g<arguments.length;g++)d.update(arguments[g]);return c.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof f?d:new f(this,d)},h.prototype.encodePoint=function(d){var g=d.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=d.getX().isOdd()?128:0,g},h.prototype.decodePoint=function(d){var g=(d=c.parseBytes(d)).length-1,y=d.slice(0,g).concat(-129&d[g]),m=(128&d[g])!=0,x=c.intFromLE(y);return this.curve.pointFromY(x,m)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return c.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,n,i){var a=t("../utils"),s=a.assert,c=a.parseBytes,l=a.cachedProperty;function o(u,f){this.eddsa=u,this._secret=c(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=c(f.pub)}o.fromPublic=function(u,f){return f instanceof o?f:new o(u,{pub:f})},o.fromSecret=function(u,f){return f instanceof o?f:new o(u,{secret:f})},o.prototype.secret=function(){return this._secret},l(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),l(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),l(o,"privBytes",(function(){var u=this.eddsa,f=this.hash(),h=u.encodingLength-1,d=f.slice(0,u.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d})),l(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),l(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),l(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(u){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},o.prototype.getSecret=function(u){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),u)},o.prototype.getPublic=function(u){return a.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(t,n,i){var a=t("bn.js"),s=t("../utils"),c=s.assert,l=s.cachedProperty,o=s.parseBytes;function u(f,h){this.eddsa=f,typeof h!="object"&&(h=o(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),c(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),l(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),l(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),l(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(t,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,n,i){var a=i,s=t("bn.js"),c=t("minimalistic-assert"),l=t("minimalistic-crypto-utils");a.assert=c,a.toArray=l.toArray,a.zero2=l.zero2,a.toHex=l.toHex,a.encode=l.encode,a.getNAF=function(o,u,f){var h=new Array(Math.max(o.bitLength(),f)+1);h.fill(0);for(var d=1<<u+1,g=o.clone(),y=0;y<h.length;y++){var m,x=g.andln(d-1);g.isOdd()?(m=x>(d>>1)-1?(d>>1)-x:x,g.isubn(m)):m=0,h[y]=m,g.iushrn(1)}return h},a.getJSF=function(o,u){var f=[[],[]];o=o.clone(),u=u.clone();for(var h,d=0,g=0;o.cmpn(-d)>0||u.cmpn(-g)>0;){var y,m,x=o.andln(3)+d&3,v=u.andln(3)+g&3;x===3&&(x=-1),v===3&&(v=-1),y=(1&x)==0?0:(h=o.andln(7)+d&7)!==3&&h!==5||v!==2?x:-x,f[0].push(y),m=(1&v)==0?0:(h=u.andln(7)+g&7)!==3&&h!==5||x!==2?v:-v,f[1].push(m),2*d===y+1&&(d=1-d),2*g===m+1&&(g=1-g),o.iushrn(1),u.iushrn(1)}return f},a.cachedProperty=function(o,u,f){var h="_"+u;o.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},a.parseBytes=function(o){return typeof o=="string"?a.toArray(o,"hex"):o},a.intFromLE=function(o){return new s(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(t,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,n,i){var a=Object.create||function(I){var B=function(){};return B.prototype=I,new B},s=Object.keys||function(I){var B=[];for(var L in I)Object.prototype.hasOwnProperty.call(I,L)&&B.push(L);return L},c=Function.prototype.bind||function(I){var B=this;return function(){return B.apply(I,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var o,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),o=f.x===0}catch{o=!1}function h(I){return I._maxListeners===void 0?l.defaultMaxListeners:I._maxListeners}function d(I,B,L){if(B)I.call(L);else for(var z=I.length,$=D(I,z),O=0;O<z;++O)$[O].call(L)}function g(I,B,L,z){if(B)I.call(L,z);else for(var $=I.length,O=D(I,$),F=0;F<$;++F)O[F].call(L,z)}function y(I,B,L,z,$){if(B)I.call(L,z,$);else for(var O=I.length,F=D(I,O),C=0;C<O;++C)F[C].call(L,z,$)}function m(I,B,L,z,$,O){if(B)I.call(L,z,$,O);else for(var F=I.length,C=D(I,F),w=0;w<F;++w)C[w].call(L,z,$,O)}function x(I,B,L,z){if(B)I.apply(L,z);else for(var $=I.length,O=D(I,$),F=0;F<$;++F)O[F].apply(L,z)}function v(I,B,L,z){var $,O,F;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if((O=I._events)?(O.newListener&&(I.emit("newListener",B,L.listener?L.listener:L),O=I._events),F=O[B]):(O=I._events=a(null),I._eventsCount=0),F){if(typeof F=="function"?F=O[B]=z?[L,F]:[F,L]:z?F.unshift(L):F.push(L),!F.warned&&($=h(I))&&$>0&&F.length>$){F.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+F.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=I,C.type=B,C.count=F.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else F=O[B]=L,++I._eventsCount;return I}function _(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var I=new Array(arguments.length),B=0;B<I.length;++B)I[B]=arguments[B];this.listener.apply(this.target,I)}}function k(I,B,L){var z={fired:!1,wrapFn:void 0,target:I,type:B,listener:L},$=c.call(_,z);return $.listener=L,z.wrapFn=$,$}function N(I,B,L){var z=I._events;if(!z)return[];var $=z[B];return $?typeof $=="function"?L?[$.listener||$]:[$]:L?(function(O){for(var F=new Array(O.length),C=0;C<F.length;++C)F[C]=O[C].listener||O[C];return F})($):D($,$.length):[]}function P(I){var B=this._events;if(B){var L=B[I];if(typeof L=="function")return 1;if(L)return L.length}return 0}function D(I,B){for(var L=new Array(B),z=0;z<B;++z)L[z]=I[z];return L}o?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(I){if(typeof I!="number"||I<0||I!=I)throw new TypeError('"defaultMaxListeners" must be a positive number');u=I}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||isNaN(I))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=I,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(I){var B,L,z,$,O,F,C=I==="error";if(F=this._events)C=C&&F.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(B=arguments[1]),B instanceof Error)throw B;var w=new Error('Unhandled "error" event. ('+B+")");throw w.context=B,w}if(!(L=F[I]))return!1;var E=typeof L=="function";switch(z=arguments.length){case 1:d(L,E,this);break;case 2:g(L,E,this,arguments[1]);break;case 3:y(L,E,this,arguments[1],arguments[2]);break;case 4:m(L,E,this,arguments[1],arguments[2],arguments[3]);break;default:for($=new Array(z-1),O=1;O<z;O++)$[O-1]=arguments[O];x(L,E,this,$)}return!0},l.prototype.addListener=function(I,B){return v(this,I,B,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(I,B){return v(this,I,B,!0)},l.prototype.once=function(I,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.on(I,k(this,I,B)),this},l.prototype.prependOnceListener=function(I,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(I,k(this,I,B)),this},l.prototype.removeListener=function(I,B){var L,z,$,O,F;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(L=z[I]))return this;if(L===B||L.listener===B)--this._eventsCount==0?this._events=a(null):(delete z[I],z.removeListener&&this.emit("removeListener",I,L.listener||B));else if(typeof L!="function"){for($=-1,O=L.length-1;O>=0;O--)if(L[O]===B||L[O].listener===B){F=L[O].listener,$=O;break}if($<0)return this;$===0?L.shift():(function(C,w){for(var E=w,A=E+1,j=C.length;A<j;E+=1,A+=1)C[E]=C[A];C.pop()})(L,$),L.length===1&&(z[I]=L[0]),z.removeListener&&this.emit("removeListener",I,F||B)}return this},l.prototype.removeAllListeners=function(I){var B,L,z;if(!(L=this._events))return this;if(!L.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):L[I]&&(--this._eventsCount==0?this._events=a(null):delete L[I]),this;if(arguments.length===0){var $,O=s(L);for(z=0;z<O.length;++z)($=O[z])!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(B=L[I])=="function")this.removeListener(I,B);else if(B)for(z=B.length-1;z>=0;z--)this.removeListener(I,B[z]);return this},l.prototype.listeners=function(I){return N(this,I,!0)},l.prototype.rawListeners=function(I){return N(this,I,!1)},l.listenerCount=function(I,B){return typeof I.listenerCount=="function"?I.listenerCount(B):P.call(I,B)},l.prototype.listenerCount=P,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("md5.js");n.exports=function(c,l,o,u){if(a.isBuffer(c)||(c=a.from(c,"binary")),l&&(a.isBuffer(l)||(l=a.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=o/8,h=a.alloc(f),d=a.alloc(u||0),g=a.alloc(0);f>0||u>0;){var y=new s;y.update(g),y.update(c),l&&y.update(l),g=y.digest();var m=0;if(f>0){var x=h.length-f;m=Math.min(f,g.length),g.copy(h,x,0,m),f-=m}if(m<g.length&&u>0){var v=d.length-u,_=Math.min(u,g.length-m);g.copy(d,v,m,m+_),u-=_}}return g.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var a=t("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var s=t("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("readable-stream").Transform;function c(l){s.call(this),this._block=a.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(c,s),c.prototype._transform=function(l,o,u){var f=null;try{this.update(l,o)}catch(h){f=h}u(f)},c.prototype._flush=function(l){var o=null;try{this.push(this.digest())}catch(u){o=u}l(o)},c.prototype.update=function(l,o){if((function(y,m){if(!a.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")})(l,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(l)||(l=a.from(l,o));for(var u=this._block,f=0;this._blockOffset+l.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=l[f++];this._update(),this._blockOffset=0}for(;f<l.length;)u[this._blockOffset++]=l[f++];for(var d=0,g=8*l.length;g>0;++d)this._length[d]+=g,(g=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();l!==void 0&&(o=o.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},c.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,n,i){var a=i;a.utils=t("./hash/utils"),a.common=t("./hash/common"),a.sha=t("./hash/sha"),a.ripemd=t("./hash/ripemd"),a.hmac=t("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,n,i){var a=t("./utils"),s=t("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=c,c.prototype.update=function(l,o){if(l=a.toArray(l,o),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=a.join32(l,0,l.length-u,this.endian);for(var f=0;f<l.length;f+=this._delta32)this._update(l,f,f+this._delta32)}return this},c.prototype.digest=function(l){return this.update(this._pad()),s(this.pending===null),this._digest(l)},c.prototype._pad=function(){var l=this.pendingTotal,o=this._delta8,u=o-(l+this.padLength)%o,f=new Array(u+this.padLength);f[0]=128;for(var h=1;h<u;h++)f[h]=0;if(l<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=l>>>24&255,f[h++]=l>>>16&255,f[h++]=l>>>8&255,f[h++]=255&l}else for(f[h++]=255&l,f[h++]=l>>>8&255,f[h++]=l>>>16&255,f[h++]=l>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,d=8;d<this.padLength;d++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,n,i){var a=t("./utils"),s=t("minimalistic-assert");function c(l,o,u){if(!(this instanceof c))return new c(l,o,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(o,u))}n.exports=c,c.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),s(l.length<=this.blockSize);for(var o=l.length;o<this.blockSize;o++)l.push(0);for(o=0;o<l.length;o++)l[o]^=54;for(this.inner=new this.Hash().update(l),o=0;o<l.length;o++)l[o]^=106;this.outer=new this.Hash().update(l)},c.prototype.update=function(l,o){return this.inner.update(l,o),this},c.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,n,i){var a=t("./utils"),s=t("./common"),c=a.rotl32,l=a.sum32,o=a.sum32_3,u=a.sum32_4,f=s.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(k,N,P,D){return k<=15?N^P^D:k<=31?N&P|~N&D:k<=47?(N|~P)^D:k<=63?N&D|P&~D:N^(P|~D)}function g(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function y(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}a.inherits(h,f),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(k,N){for(var P=this.h[0],D=this.h[1],I=this.h[2],B=this.h[3],L=this.h[4],z=P,$=D,O=I,F=B,C=L,w=0;w<80;w++){var E=l(c(u(P,d(w,D,I,B),k[m[w]+N],g(w)),v[w]),L);P=L,L=B,B=c(I,10),I=D,D=E,E=l(c(u(z,d(79-w,$,O,F),k[x[w]+N],y(w)),_[w]),C),z=C,C=F,F=c(O,10),O=$,$=E}E=o(this.h[1],I,F),this.h[1]=o(this.h[2],B,C),this.h[2]=o(this.h[3],L,z),this.h[3]=o(this.h[4],P,$),this.h[4]=o(this.h[0],D,O),this.h[0]=E},h.prototype._digest=function(k){return k==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,n,i){i.sha1=t("./sha/1"),i.sha224=t("./sha/224"),i.sha256=t("./sha/256"),i.sha384=t("./sha/384"),i.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,n,i){var a=t("../utils"),s=t("../common"),c=t("./common"),l=a.rotl32,o=a.sum32,u=a.sum32_5,f=c.ft_1,h=s.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(g,h),n.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,m){for(var x=this.W,v=0;v<16;v++)x[v]=y[m+v];for(;v<x.length;v++)x[v]=l(x[v-3]^x[v-8]^x[v-14]^x[v-16],1);var _=this.h[0],k=this.h[1],N=this.h[2],P=this.h[3],D=this.h[4];for(v=0;v<x.length;v++){var I=~~(v/20),B=u(l(_,5),f(I,k,N,P),D,x[v],d[I]);D=P,P=N,N=l(k,30),k=_,_=B}this.h[0]=o(this.h[0],_),this.h[1]=o(this.h[1],k),this.h[2]=o(this.h[2],N),this.h[3]=o(this.h[3],P),this.h[4]=o(this.h[4],D)},g.prototype._digest=function(y){return y==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,n,i){var a=t("../utils"),s=t("./256");function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(c,s),n.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,n,i){var a=t("../utils"),s=t("../common"),c=t("./common"),l=t("minimalistic-assert"),o=a.sum32,u=a.sum32_4,f=a.sum32_5,h=c.ch32,d=c.maj32,g=c.s0_256,y=c.s1_256,m=c.g0_256,x=c.g1_256,v=s.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}a.inherits(k,v),n.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(N,P){for(var D=this.W,I=0;I<16;I++)D[I]=N[P+I];for(;I<D.length;I++)D[I]=u(x(D[I-2]),D[I-7],m(D[I-15]),D[I-16]);var B=this.h[0],L=this.h[1],z=this.h[2],$=this.h[3],O=this.h[4],F=this.h[5],C=this.h[6],w=this.h[7];for(l(this.k.length===D.length),I=0;I<D.length;I++){var E=f(w,y(O),h(O,F,C),this.k[I],D[I]),A=o(g(B),d(B,L,z));w=C,C=F,F=O,O=o($,E),$=z,z=L,L=B,B=o(E,A)}this.h[0]=o(this.h[0],B),this.h[1]=o(this.h[1],L),this.h[2]=o(this.h[2],z),this.h[3]=o(this.h[3],$),this.h[4]=o(this.h[4],O),this.h[5]=o(this.h[5],F),this.h[6]=o(this.h[6],C),this.h[7]=o(this.h[7],w)},k.prototype._digest=function(N){return N==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,n,i){var a=t("../utils"),s=t("./512");function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(c,s),n.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(l){return l==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,n,i){var a=t("../utils"),s=t("../common"),c=t("minimalistic-assert"),l=a.rotr64_hi,o=a.rotr64_lo,u=a.shr64_hi,f=a.shr64_lo,h=a.sum64,d=a.sum64_hi,g=a.sum64_lo,y=a.sum64_4_hi,m=a.sum64_4_lo,x=a.sum64_5_hi,v=a.sum64_5_lo,_=s.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function P(A,j,R,q,H){var Y=A&R^~A&H;return Y<0&&(Y+=4294967296),Y}function D(A,j,R,q,H,Y){var Z=j&q^~j&Y;return Z<0&&(Z+=4294967296),Z}function I(A,j,R,q,H){var Y=A&R^A&H^R&H;return Y<0&&(Y+=4294967296),Y}function B(A,j,R,q,H,Y){var Z=j&q^j&Y^q&Y;return Z<0&&(Z+=4294967296),Z}function L(A,j){var R=l(A,j,28)^l(j,A,2)^l(j,A,7);return R<0&&(R+=4294967296),R}function z(A,j){var R=o(A,j,28)^o(j,A,2)^o(j,A,7);return R<0&&(R+=4294967296),R}function $(A,j){var R=l(A,j,14)^l(A,j,18)^l(j,A,9);return R<0&&(R+=4294967296),R}function O(A,j){var R=o(A,j,14)^o(A,j,18)^o(j,A,9);return R<0&&(R+=4294967296),R}function F(A,j){var R=l(A,j,1)^l(A,j,8)^u(A,j,7);return R<0&&(R+=4294967296),R}function C(A,j){var R=o(A,j,1)^o(A,j,8)^f(A,j,7);return R<0&&(R+=4294967296),R}function w(A,j){var R=l(A,j,19)^l(j,A,29)^u(A,j,6);return R<0&&(R+=4294967296),R}function E(A,j){var R=o(A,j,19)^o(j,A,29)^f(A,j,6);return R<0&&(R+=4294967296),R}a.inherits(N,_),n.exports=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=function(A,j){for(var R=this.W,q=0;q<32;q++)R[q]=A[j+q];for(;q<R.length;q+=2){var H=w(R[q-4],R[q-3]),Y=E(R[q-4],R[q-3]),Z=R[q-14],te=R[q-13],W=F(R[q-30],R[q-29]),ee=C(R[q-30],R[q-29]),K=R[q-32],V=R[q-31];R[q]=y(H,Y,Z,te,W,ee,K,V),R[q+1]=m(H,Y,Z,te,W,ee,K,V)}},N.prototype._update=function(A,j){this._prepareBlock(A,j);var R=this.W,q=this.h[0],H=this.h[1],Y=this.h[2],Z=this.h[3],te=this.h[4],W=this.h[5],ee=this.h[6],K=this.h[7],V=this.h[8],Q=this.h[9],re=this.h[10],oe=this.h[11],ne=this.h[12],le=this.h[13],me=this.h[14],ge=this.h[15];c(this.k.length===R.length);for(var se=0;se<R.length;se+=2){var fe=me,he=ge,ve=$(V,Q),xe=O(V,Q),_e=P(V,Q,re,oe,ne),Ne=D(V,Q,re,oe,ne,le),Re=this.k[se],$e=this.k[se+1],tt=R[se],et=R[se+1],Ye=x(fe,he,ve,xe,_e,Ne,Re,$e,tt,et),wt=v(fe,he,ve,xe,_e,Ne,Re,$e,tt,et);fe=L(q,H),he=z(q,H),ve=I(q,H,Y,Z,te),xe=B(q,H,Y,Z,te,W);var bt=d(fe,he,ve,xe),yt=g(fe,he,ve,xe);me=ne,ge=le,ne=re,le=oe,re=V,oe=Q,V=d(ee,K,Ye,wt),Q=g(K,K,Ye,wt),ee=te,K=W,te=Y,W=Z,Y=q,Z=H,q=d(Ye,wt,bt,yt),H=g(Ye,wt,bt,yt)}h(this.h,0,q,H),h(this.h,2,Y,Z),h(this.h,4,te,W),h(this.h,6,ee,K),h(this.h,8,V,Q),h(this.h,10,re,oe),h(this.h,12,ne,le),h(this.h,14,me,ge)},N.prototype._digest=function(A){return A==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,n,i){var a=t("../utils").rotr32;function s(o,u,f){return o&u^~o&f}function c(o,u,f){return o&u^o&f^u&f}function l(o,u,f){return o^u^f}i.ft_1=function(o,u,f,h){return o===0?s(u,f,h):o===1||o===3?l(u,f,h):o===2?c(u,f,h):void 0},i.ch32=s,i.maj32=c,i.p32=l,i.s0_256=function(o){return a(o,2)^a(o,13)^a(o,22)},i.s1_256=function(o){return a(o,6)^a(o,11)^a(o,25)},i.g0_256=function(o){return a(o,7)^a(o,18)^o>>>3},i.g1_256=function(o){return a(o,17)^a(o,19)^o>>>10}},{"../utils":437}],437:[function(t,n,i){var a=t("minimalistic-assert"),s=t("inherits");function c(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function l(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function o(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=s,i.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var d=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),y=0;y<f.length;y+=2)d.push(parseInt(f[y]+f[y+1],16))}else for(var g=0,y=0;y<f.length;y++){var m=f.charCodeAt(y);m<128?d[g++]=m:m<2048?(d[g++]=m>>6|192,d[g++]=63&m|128):c(f,y)?(m=65536+((1023&m)<<10)+(1023&f.charCodeAt(++y)),d[g++]=m>>18|240,d[g++]=m>>12&63|128,d[g++]=m>>6&63|128,d[g++]=63&m|128):(d[g++]=m>>12|224,d[g++]=m>>6&63|128,d[g++]=63&m|128)}else for(y=0;y<f.length;y++)d[y]=0|f[y];return d},i.toHex=function(f){for(var h="",d=0;d<f.length;d++)h+=o(f[d].toString(16));return h},i.htonl=l,i.toHex32=function(f,h){for(var d="",g=0;g<f.length;g++){var y=f[g];h==="little"&&(y=l(y)),d+=u(y.toString(16))}return d},i.zero2=o,i.zero8=u,i.join32=function(f,h,d,g){var y=d-h;a(y%4==0);for(var m=new Array(y/4),x=0,v=h;x<m.length;x++,v+=4){var _;_=g==="big"?f[v]<<24|f[v+1]<<16|f[v+2]<<8|f[v+3]:f[v+3]<<24|f[v+2]<<16|f[v+1]<<8|f[v],m[x]=_>>>0}return m},i.split32=function(f,h){for(var d=new Array(4*f.length),g=0,y=0;g<f.length;g++,y+=4){var m=f[g];h==="big"?(d[y]=m>>>24,d[y+1]=m>>>16&255,d[y+2]=m>>>8&255,d[y+3]=255&m):(d[y+3]=m>>>24,d[y+2]=m>>>16&255,d[y+1]=m>>>8&255,d[y]=255&m)}return d},i.rotr32=function(f,h){return f>>>h|f<<32-h},i.rotl32=function(f,h){return f<<h|f>>>32-h},i.sum32=function(f,h){return f+h>>>0},i.sum32_3=function(f,h,d){return f+h+d>>>0},i.sum32_4=function(f,h,d,g){return f+h+d+g>>>0},i.sum32_5=function(f,h,d,g,y){return f+h+d+g+y>>>0},i.sum64=function(f,h,d,g){var y=f[h],m=g+f[h+1]>>>0,x=(m<g?1:0)+d+y;f[h]=x>>>0,f[h+1]=m},i.sum64_hi=function(f,h,d,g){return(h+g>>>0<h?1:0)+f+d>>>0},i.sum64_lo=function(f,h,d,g){return h+g>>>0},i.sum64_4_hi=function(f,h,d,g,y,m,x,v){var _=0,k=h;return _+=(k=k+g>>>0)<h?1:0,_+=(k=k+m>>>0)<m?1:0,f+d+y+x+(_+=(k=k+v>>>0)<v?1:0)>>>0},i.sum64_4_lo=function(f,h,d,g,y,m,x,v){return h+g+m+v>>>0},i.sum64_5_hi=function(f,h,d,g,y,m,x,v,_,k){var N=0,P=h;return N+=(P=P+g>>>0)<h?1:0,N+=(P=P+m>>>0)<m?1:0,N+=(P=P+v>>>0)<v?1:0,f+d+y+x+_+(N+=(P=P+k>>>0)<k?1:0)>>>0},i.sum64_5_lo=function(f,h,d,g,y,m,x,v,_,k){return h+g+m+v+k>>>0},i.rotr64_hi=function(f,h,d){return(h<<32-d|f>>>d)>>>0},i.rotr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0},i.shr64_hi=function(f,h,d){return f>>>d},i.shr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,n,i){var a=t("hash.js"),s=t("minimalistic-crypto-utils"),c=t("minimalistic-assert");function l(o){if(!(this instanceof l))return new l(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=s.toArray(o.entropy,o.entropyEnc||"hex"),f=s.toArray(o.nonce,o.nonceEnc||"hex"),h=s.toArray(o.pers,o.persEnc||"hex");c(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,h)}n.exports=l,l.prototype._init=function(o,u,f){var h=o.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},l.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(o,u,f,h){typeof u!="string"&&(h=f,f=u,u=null),o=s.toArray(o,u),f=s.toArray(f,h),c(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(f||[])),this._reseed=1},l.prototype.generate=function(o,u,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=f,f=u,u=null),f&&(f=s.toArray(f,h||"hex"),this._update(f));for(var d=[];d.length<o;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var g=d.slice(0,o);return this._update(f),this._reseed++,s.encode(g,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,s,c,l,o){var u,f,h=8*o-l-1,d=(1<<h)-1,g=d>>1,y=-7,m=c?o-1:0,x=c?-1:1,v=a[s+m];for(m+=x,u=v&(1<<-y)-1,v>>=-y,y+=h;y>0;u=256*u+a[s+m],m+=x,y-=8);for(f=u&(1<<-y)-1,u>>=-y,y+=l;y>0;f=256*f+a[s+m],m+=x,y-=8);if(u===0)u=1-g;else{if(u===d)return f?NaN:1/0*(v?-1:1);f+=Math.pow(2,l),u-=g}return(v?-1:1)*f*Math.pow(2,u-l)},i.write=function(a,s,c,l,o,u){var f,h,d,g=8*u-o-1,y=(1<<g)-1,m=y>>1,x=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=l?0:u-1,_=l?1:-1,k=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,f=y):(f=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-f))<1&&(f--,d*=2),(s+=f+m>=1?x/d:x*Math.pow(2,1-m))*d>=2&&(f++,d/=2),f+m>=y?(h=0,f=y):f+m>=1?(h=(s*d-1)*Math.pow(2,o),f+=m):(h=s*Math.pow(2,m-1)*Math.pow(2,o),f=0));o>=8;a[c+v]=255&h,v+=_,h/=256,o-=8);for(f=f<<o|h,g+=o;g>0;a[c+v]=255&f,v+=_,f/=256,g-=8);a[c+v-_]|=128*k}},{}],440:[function(t,n,i){typeof Object.create=="function"?n.exports=function(a,s){s&&(a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,s){if(s){a.super_=s;var c=function(){};c.prototype=s.prototype,a.prototype=new c,a.prototype.constructor=a}}},{}],441:[function(t,n,i){(function(a,s,c,l,o,u,f,h){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(d){typeof i=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=d()})((function(){return(function d(g,y,m){function x(k,N){if(!y[k]){if(!g[k]){var P=typeof t=="function"&&t;if(!N&&P)return P(k,!0);if(v)return v(k,!0);var D=new Error("Cannot find module '"+k+"'");throw D.code="MODULE_NOT_FOUND",D}var I=y[k]={exports:{}};g[k][0].call(I.exports,(function(B){return x(g[k][1][B]||B)}),I,I.exports,d,g,y,m)}return y[k].exports}for(var v=typeof t=="function"&&t,_=0;_<m.length;_++)x(m[_]);return x})({1:[function(d,g,y){var m=d("./utils"),x=d("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(_){for(var k,N,P,D,I,B,L,z=[],$=0,O=_.length,F=O,C=m.getTypeOf(_)!=="string";$<_.length;)F=O-$,P=C?(k=_[$++],N=$<O?_[$++]:0,$<O?_[$++]:0):(k=_.charCodeAt($++),N=$<O?_.charCodeAt($++):0,$<O?_.charCodeAt($++):0),D=k>>2,I=(3&k)<<4|N>>4,B=1<F?(15&N)<<2|P>>6:64,L=2<F?63&P:64,z.push(v.charAt(D)+v.charAt(I)+v.charAt(B)+v.charAt(L));return z.join("")},y.decode=function(_){var k,N,P,D,I,B,L=0,z=0,$="data:";if(_.substr(0,$.length)===$)throw new Error("Invalid base64 input, it looks like a data url.");var O,F=3*(_=_.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(_.charAt(_.length-1)===v.charAt(64)&&F--,_.charAt(_.length-2)===v.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(O=x.uint8array?new Uint8Array(0|F):new Array(0|F);L<_.length;)k=v.indexOf(_.charAt(L++))<<2|(D=v.indexOf(_.charAt(L++)))>>4,N=(15&D)<<4|(I=v.indexOf(_.charAt(L++)))>>2,P=(3&I)<<6|(B=v.indexOf(_.charAt(L++))),O[z++]=k,I!==64&&(O[z++]=N),B!==64&&(O[z++]=P);return O}},{"./support":30,"./utils":32}],2:[function(d,g,y){var m=d("./external"),x=d("./stream/DataWorker"),v=d("./stream/Crc32Probe"),_=d("./stream/DataLengthProbe");function k(N,P,D,I,B){this.compressedSize=N,this.uncompressedSize=P,this.crc32=D,this.compression=I,this.compressedContent=B}k.prototype={getContentWorker:function(){var N=new x(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _("data_length")),P=this;return N.on("end",(function(){if(this.streamInfo.data_length!==P.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),N},getCompressedWorker:function(){return new x(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(N,P,D){return N.pipe(new v).pipe(new _("uncompressedSize")).pipe(P.compressWorker(D)).pipe(new _("compressedSize")).withStreamInfo("compression",P)},g.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,g,y){var m=d("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,g,y){var m=d("./utils"),x=(function(){for(var v,_=[],k=0;k<256;k++){v=k;for(var N=0;N<8;N++)v=1&v?3988292384^v>>>1:v>>>1;_[k]=v}return _})();g.exports=function(v,_){return v!==void 0&&v.length?m.getTypeOf(v)!=="string"?(function(k,N,P,D){var I=x,B=0+P;k^=-1;for(var L=0;L<B;L++)k=k>>>8^I[255&(k^N[L])];return-1^k})(0|_,v,v.length):(function(k,N,P,D){var I=x,B=0+P;k^=-1;for(var L=0;L<B;L++)k=k>>>8^I[255&(k^N.charCodeAt(L))];return-1^k})(0|_,v,v.length):0}},{"./utils":32}],5:[function(d,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(d,g,y){var m;m=typeof Promise<"u"?Promise:d("lie"),g.exports={Promise:m}},{lie:37}],7:[function(d,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",x=d("pako"),v=d("./utils"),_=d("./stream/GenericWorker"),k=m?"uint8array":"array";function N(P,D){_.call(this,"FlateWorker/"+P),this._pako=null,this._pakoAction=P,this._pakoOptions=D,this.meta={}}y.magic="\b\0",v.inherits(N,_),N.prototype.processChunk=function(P){this.meta=P.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(k,P.data),!1)},N.prototype.flush=function(){_.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},N.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this._pako=null},N.prototype._createPako=function(){this._pako=new x[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var P=this;this._pako.onData=function(D){P.push({data:D,meta:P.meta})}},y.compressWorker=function(P){return new N("Deflate",P)},y.uncompressWorker=function(){return new N("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,g,y){function m(I,B){var L,z="";for(L=0;L<B;L++)z+=String.fromCharCode(255&I),I>>>=8;return z}function x(I,B,L,z,$,O){var F,C,w=I.file,E=I.compression,A=O!==k.utf8encode,j=v.transformTo("string",O(w.name)),R=v.transformTo("string",k.utf8encode(w.name)),q=w.comment,H=v.transformTo("string",O(q)),Y=v.transformTo("string",k.utf8encode(q)),Z=R.length!==w.name.length,te=Y.length!==q.length,W="",ee="",K="",V=w.dir,Q=w.date,re={crc32:0,compressedSize:0,uncompressedSize:0};B&&!L||(re.crc32=I.crc32,re.compressedSize=I.compressedSize,re.uncompressedSize=I.uncompressedSize);var oe=0;B&&(oe|=8),A||!Z&&!te||(oe|=2048);var ne=0,le=0;V&&(ne|=16),$==="UNIX"?(le=798,ne|=(function(ge,se){var fe=ge;return ge||(fe=se?16893:33204),(65535&fe)<<16})(w.unixPermissions,V)):(le=20,ne|=(function(ge){return 63&(ge||0)})(w.dosPermissions)),F=Q.getUTCHours(),F<<=6,F|=Q.getUTCMinutes(),F<<=5,F|=Q.getUTCSeconds()/2,C=Q.getUTCFullYear()-1980,C<<=4,C|=Q.getUTCMonth()+1,C<<=5,C|=Q.getUTCDate(),Z&&(ee=m(1,1)+m(N(j),4)+R,W+="up"+m(ee.length,2)+ee),te&&(K=m(1,1)+m(N(H),4)+Y,W+="uc"+m(K.length,2)+K);var me="";return me+=`
\0`,me+=m(oe,2),me+=E.magic,me+=m(F,2),me+=m(C,2),me+=m(re.crc32,4),me+=m(re.compressedSize,4),me+=m(re.uncompressedSize,4),me+=m(j.length,2),me+=m(W.length,2),{fileRecord:P.LOCAL_FILE_HEADER+me+j+W,dirRecord:P.CENTRAL_FILE_HEADER+m(le,2)+me+m(H.length,2)+"\0\0\0\0"+m(ne,4)+m(z,4)+j+W+H}}var v=d("../utils"),_=d("../stream/GenericWorker"),k=d("../utf8"),N=d("../crc32"),P=d("../signature");function D(I,B,L,z){_.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=B,this.zipPlatform=L,this.encodeFileName=z,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(D,_),D.prototype.push=function(I){var B=I.meta.percent||0,L=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,_.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:L?(B+100*(L-z-1))/L:100}}))},D.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var B=this.streamFiles&&!I.file.dir;if(B){var L=x(I,B,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:L.fileRecord,meta:{percent:0}})}else this.accumulate=!0},D.prototype.closedSource=function(I){this.accumulate=!1;var B=this.streamFiles&&!I.file.dir,L=x(I,B,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(L.dirRecord),B)this.push({data:(function(z){return P.DATA_DESCRIPTOR+m(z.crc32,4)+m(z.compressedSize,4)+m(z.uncompressedSize,4)})(I),meta:{percent:100}});else for(this.push({data:L.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},D.prototype.flush=function(){for(var I=this.bytesWritten,B=0;B<this.dirRecords.length;B++)this.push({data:this.dirRecords[B],meta:{percent:100}});var L=this.bytesWritten-I,z=(function($,O,F,C,w){var E=v.transformTo("string",w(C));return P.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m($,2)+m($,2)+m(O,4)+m(F,4)+m(E.length,2)+E})(this.dirRecords.length,L,I,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},D.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},D.prototype.registerPrevious=function(I){this._sources.push(I);var B=this;return I.on("data",(function(L){B.processChunk(L)})),I.on("end",(function(){B.closedSource(B.previous.streamInfo),B._sources.length?B.prepareNextSource():B.end()})),I.on("error",(function(L){B.error(L)})),this},D.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},D.prototype.error=function(I){var B=this._sources;if(!_.prototype.error.call(this,I))return!1;for(var L=0;L<B.length;L++)try{B[L].error(I)}catch{}return!0},D.prototype.lock=function(){_.prototype.lock.call(this);for(var I=this._sources,B=0;B<I.length;B++)I[B].lock()},g.exports=D},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,g,y){var m=d("../compressions"),x=d("./ZipFileWorker");y.generateWorker=function(v,_,k){var N=new x(_.streamFiles,k,_.platform,_.encodeFileName),P=0;try{v.forEach((function(D,I){P++;var B=(function(O,F){var C=O||F,w=m[C];if(!w)throw new Error(C+" is not a valid compression method !");return w})(I.options.compression,_.compression),L=I.options.compressionOptions||_.compressionOptions||{},z=I.dir,$=I.date;I._compressWorker(B,L).withStreamInfo("file",{name:D,dir:z,date:$,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(N)})),N.entriesCount=P}catch(D){N.error(D)}return N}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,g,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var x=new m;for(var v in this)typeof this[v]!="function"&&(x[v]=this[v]);return x}}(m.prototype=d("./object")).loadAsync=d("./load"),m.support=d("./support"),m.defaults=d("./defaults"),m.version="3.10.1",m.loadAsync=function(x,v){return new m().loadAsync(x,v)},m.external=d("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,g,y){var m=d("./utils"),x=d("./external"),v=d("./utf8"),_=d("./zipEntries"),k=d("./stream/Crc32Probe"),N=d("./nodejsUtils");function P(D){return new x.Promise((function(I,B){var L=D.decompressed.getContentWorker().pipe(new k);L.on("error",(function(z){B(z)})).on("end",(function(){L.streamInfo.crc32!==D.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):I()})).resume()}))}g.exports=function(D,I){var B=this;return I=m.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),N.isNode&&N.isStream(D)?x.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",D,!0,I.optimizedBinaryString,I.base64).then((function(L){var z=new _(I);return z.load(L),z})).then((function(L){var z=[x.Promise.resolve(L)],$=L.files;if(I.checkCRC32)for(var O=0;O<$.length;O++)z.push(P($[O]));return x.Promise.all(z)})).then((function(L){for(var z=L.shift(),$=z.files,O=0;O<$.length;O++){var F=$[O],C=F.fileNameStr,w=m.resolve(F.fileNameStr);B.file(w,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:I.createFolders}),F.dir||(B.file(w).unsafeOriginalName=C)}return z.zipComment.length&&(B.comment=z.zipComment),B}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,g,y){var m=d("../utils"),x=d("../stream/GenericWorker");function v(_,k){x.call(this,"Nodejs stream input adapter for "+_),this._upstreamEnded=!1,this._bindStream(k)}m.inherits(v,x),v.prototype._bindStream=function(_){var k=this;(this._stream=_).pause(),_.on("data",(function(N){k.push({data:N,meta:{percent:0}})})).on("error",(function(N){k.isPaused?this.generatedError=N:k.error(N)})).on("end",(function(){k.isPaused?k._upstreamEnded=!0:k.end()}))},v.prototype.pause=function(){return!!x.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,g,y){var m=d("readable-stream").Readable;function x(v,_,k){m.call(this,_),this._helper=v;var N=this;v.on("data",(function(P,D){N.push(P)||N._helper.pause(),k&&k(D)})).on("error",(function(P){N.emit("error",P)})).on("end",(function(){N.push(null)}))}d("../utils").inherits(x,m),x.prototype._read=function(){this._helper.resume()},g.exports=x},{"../utils":32,"readable-stream":16}],14:[function(d,g,y){g.exports={isNode:c!==void 0,newBufferFrom:function(m,x){if(c.from&&c.from!==Uint8Array.from)return c.from(m,x);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,x)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var x=new c(m);return x.fill(0),x},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(d,g,y){function m(w,E,A){var j,R=v.getTypeOf(E),q=v.extend(A||{},N);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(w=$(w)),q.createFolders&&(j=z(w))&&O.call(this,j,!0);var H=R==="string"&&q.binary===!1&&q.base64===!1;A&&A.binary!==void 0||(q.binary=!H),(E instanceof P&&E.uncompressedSize===0||q.dir||!E||E.length===0)&&(q.base64=!1,q.binary=!0,E="",q.compression="STORE",R="string");var Y;Y=E instanceof P||E instanceof _?E:B.isNode&&B.isStream(E)?new L(w,E):v.prepareContent(w,E,q.binary,q.optimizedBinaryString,q.base64);var Z=new D(w,Y,q);this.files[w]=Z}var x=d("./utf8"),v=d("./utils"),_=d("./stream/GenericWorker"),k=d("./stream/StreamHelper"),N=d("./defaults"),P=d("./compressedObject"),D=d("./zipObject"),I=d("./generate"),B=d("./nodejsUtils"),L=d("./nodejs/NodejsStreamInputAdapter"),z=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var E=w.lastIndexOf("/");return 0<E?w.substring(0,E):""},$=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},O=function(w,E){return E=E!==void 0?E:N.createFolders,w=$(w),this.files[w]||m.call(this,w,null,{dir:!0,createFolders:E}),this.files[w]};function F(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var E,A,j;for(E in this.files)j=this.files[E],(A=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&w(A,j)},filter:function(w){var E=[];return this.forEach((function(A,j){w(A,j)&&E.push(j)})),E},file:function(w,E,A){if(arguments.length!==1)return w=this.root+w,m.call(this,w,E,A),this;if(F(w)){var j=w;return this.filter((function(q,H){return!H.dir&&j.test(q)}))}var R=this.files[this.root+w];return R&&!R.dir?R:null},folder:function(w){if(!w)return this;if(F(w))return this.filter((function(R,q){return q.dir&&w.test(R)}));var E=this.root+w,A=O.call(this,E),j=this.clone();return j.root=A.name,j},remove:function(w){w=this.root+w;var E=this.files[w];if(E||(w.slice(-1)!=="/"&&(w+="/"),E=this.files[w]),E&&!E.dir)delete this.files[w];else for(var A=this.filter((function(R,q){return q.name.slice(0,w.length)===w})),j=0;j<A.length;j++)delete this.files[A[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var E,A={};try{if((A=v.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:x.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");v.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var j=A.comment||this.comment||"";E=I.generateWorker(this,A,j)}catch(R){(E=new _("error")).error(R)}return new k(E,A.type||"string",A.mimeType)},generateAsync:function(w,E){return this.generateInternalStream(w).accumulate(E)},generateNodeStream:function(w,E){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(E)}};g.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,g,y){g.exports=d("stream")},{stream:void 0}],17:[function(d,g,y){var m=d("./DataReader");function x(v){m.call(this,v);for(var _=0;_<this.data.length;_++)v[_]=255&v[_]}d("../utils").inherits(x,m),x.prototype.byteAt=function(v){return this.data[this.zero+v]},x.prototype.lastIndexOfSignature=function(v){for(var _=v.charCodeAt(0),k=v.charCodeAt(1),N=v.charCodeAt(2),P=v.charCodeAt(3),D=this.length-4;0<=D;--D)if(this.data[D]===_&&this.data[D+1]===k&&this.data[D+2]===N&&this.data[D+3]===P)return D-this.zero;return-1},x.prototype.readAndCheckSignature=function(v){var _=v.charCodeAt(0),k=v.charCodeAt(1),N=v.charCodeAt(2),P=v.charCodeAt(3),D=this.readData(4);return _===D[0]&&k===D[1]&&N===D[2]&&P===D[3]},x.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var _=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},g.exports=x},{"../utils":32,"./DataReader":18}],18:[function(d,g,y){var m=d("../utils");function x(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}x.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var _,k=0;for(this.checkOffset(v),_=this.index+v-1;_>=this.index;_--)k=(k<<8)+this.byteAt(_);return this.index+=v,k},readString:function(v){return m.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},g.exports=x},{"../utils":32}],19:[function(d,g,y){var m=d("./Uint8ArrayReader");function x(v){m.call(this,v)}d("../utils").inherits(x,m),x.prototype.readData=function(v){this.checkOffset(v);var _=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},g.exports=x},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,g,y){var m=d("./DataReader");function x(v){m.call(this,v)}d("../utils").inherits(x,m),x.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},x.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},x.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},x.prototype.readData=function(v){this.checkOffset(v);var _=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},g.exports=x},{"../utils":32,"./DataReader":18}],21:[function(d,g,y){var m=d("./ArrayReader");function x(v){m.call(this,v)}d("../utils").inherits(x,m),x.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var _=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,_},g.exports=x},{"../utils":32,"./ArrayReader":17}],22:[function(d,g,y){var m=d("../utils"),x=d("../support"),v=d("./ArrayReader"),_=d("./StringReader"),k=d("./NodeBufferReader"),N=d("./Uint8ArrayReader");g.exports=function(P){var D=m.getTypeOf(P);return m.checkSupport(D),D!=="string"||x.uint8array?D==="nodebuffer"?new k(P):x.uint8array?new N(m.transformTo("uint8array",P)):new v(m.transformTo("array",P)):new _(P)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,g,y){var m=d("./GenericWorker"),x=d("../utils");function v(_){m.call(this,"ConvertWorker to "+_),this.destType=_}x.inherits(v,m),v.prototype.processChunk=function(_){this.push({data:x.transformTo(this.destType,_.data),meta:_.meta})},g.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(d,g,y){var m=d("./GenericWorker"),x=d("../crc32");function v(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(v,m),v.prototype.processChunk=function(_){this.streamInfo.crc32=x(_.data,this.streamInfo.crc32||0),this.push(_)},g.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,g,y){var m=d("../utils"),x=d("./GenericWorker");function v(_){x.call(this,"DataLengthProbe for "+_),this.propName=_,this.withStreamInfo(_,0)}m.inherits(v,x),v.prototype.processChunk=function(_){if(_){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+_.data.length}x.prototype.processChunk.call(this,_)},g.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(d,g,y){var m=d("../utils"),x=d("./GenericWorker");function v(_){x.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,_.then((function(N){k.dataIsReady=!0,k.data=N,k.max=N&&N.length||0,k.type=m.getTypeOf(N),k.isPaused||k._tickAndRepeat()}),(function(N){k.error(N)}))}m.inherits(v,x),v.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var _=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":_=this.data.substring(this.index,k);break;case"uint8array":_=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":_=this.data.slice(this.index,k)}return this.index=k,this.push({data:_,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(d,g,y){function m(x){this.name=x||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(x){this.emit("data",x)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(x){this.emit("error",x)}return!0},error:function(x){return!this.isFinished&&(this.isPaused?this.generatedError=x:(this.isFinished=!0,this.emit("error",x),this.previous&&this.previous.error(x),this.cleanUp()),!0)},on:function(x,v){return this._listeners[x].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(x,v){if(this._listeners[x])for(var _=0;_<this._listeners[x].length;_++)this._listeners[x][_].call(this,v)},pipe:function(x){return x.registerPrevious(this)},registerPrevious:function(x){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=x.streamInfo,this.mergeStreamInfo(),this.previous=x;var v=this;return x.on("data",(function(_){v.processChunk(_)})),x.on("end",(function(){v.end()})),x.on("error",(function(_){v.error(_)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var x=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),x=!0),this.previous&&this.previous.resume(),!x},flush:function(){},processChunk:function(x){this.push(x)},withStreamInfo:function(x,v){return this.extraStreamInfo[x]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var x in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,x)&&(this.streamInfo[x]=this.extraStreamInfo[x])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var x="Worker "+this.name;return this.previous?this.previous+" -> "+x:x}},g.exports=m},{}],29:[function(d,g,y){var m=d("../utils"),x=d("./ConvertWorker"),v=d("./GenericWorker"),_=d("../base64"),k=d("../support"),N=d("../external"),P=null;if(k.nodestream)try{P=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function D(I,B,L){var z=B;switch(B){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=B,this._mimeType=L,m.checkSupport(z),this._worker=I.pipe(new x(z)),I.lock()}catch($){this._worker=new v("error"),this._worker.error($)}}D.prototype={accumulate:function(I){return(function(B,L){return new N.Promise((function(z,$){var O=[],F=B._internalType,C=B._outputType,w=B._mimeType;B.on("data",(function(E,A){O.push(E),L&&L(A)})).on("error",(function(E){O=[],$(E)})).on("end",(function(){try{var E=(function(A,j,R){switch(A){case"blob":return m.newBlob(m.transformTo("arraybuffer",j),R);case"base64":return _.encode(j);default:return m.transformTo(A,j)}})(C,(function(A,j){var R,q=0,H=null,Y=0;for(R=0;R<j.length;R++)Y+=j[R].length;switch(A){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(H=new Uint8Array(Y),R=0;R<j.length;R++)H.set(j[R],q),q+=j[R].length;return H;case"nodebuffer":return c.concat(j);default:throw new Error("concat : unsupported type '"+A+"'")}})(F,O),w);z(E)}catch(A){$(A)}O=[]})).resume()}))})(this,I)},on:function(I,B){var L=this;return I==="data"?this._worker.on(I,(function(z){B.call(L,z.data,z.meta)})):this._worker.on(I,(function(){m.delay(B,arguments,L)})),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new P(this,{objectMode:this._outputType!=="nodebuffer"},I)}},g.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=c!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);x.append(m),y.blob=x.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!d("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(d,g,y){for(var m=d("./utils"),x=d("./support"),v=d("./nodejsUtils"),_=d("./stream/GenericWorker"),k=new Array(256),N=0;N<256;N++)k[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function P(){_.call(this,"utf-8 decode"),this.leftOver=null}function D(){_.call(this,"utf-8 encode")}k[254]=k[254]=1,y.utf8encode=function(I){return x.nodebuffer?v.newBufferFrom(I,"utf-8"):(function(B){var L,z,$,O,F,C=B.length,w=0;for(O=0;O<C;O++)(64512&(z=B.charCodeAt(O)))==55296&&O+1<C&&(64512&($=B.charCodeAt(O+1)))==56320&&(z=65536+(z-55296<<10)+($-56320),O++),w+=z<128?1:z<2048?2:z<65536?3:4;for(L=x.uint8array?new Uint8Array(w):new Array(w),O=F=0;F<w;O++)(64512&(z=B.charCodeAt(O)))==55296&&O+1<C&&(64512&($=B.charCodeAt(O+1)))==56320&&(z=65536+(z-55296<<10)+($-56320),O++),z<128?L[F++]=z:(z<2048?L[F++]=192|z>>>6:(z<65536?L[F++]=224|z>>>12:(L[F++]=240|z>>>18,L[F++]=128|z>>>12&63),L[F++]=128|z>>>6&63),L[F++]=128|63&z);return L})(I)},y.utf8decode=function(I){return x.nodebuffer?m.transformTo("nodebuffer",I).toString("utf-8"):(function(B){var L,z,$,O,F=B.length,C=new Array(2*F);for(L=z=0;L<F;)if(($=B[L++])<128)C[z++]=$;else if(4<(O=k[$]))C[z++]=65533,L+=O-1;else{for($&=O===2?31:O===3?15:7;1<O&&L<F;)$=$<<6|63&B[L++],O--;1<O?C[z++]=65533:$<65536?C[z++]=$:($-=65536,C[z++]=55296|$>>10&1023,C[z++]=56320|1023&$)}return C.length!==z&&(C.subarray?C=C.subarray(0,z):C.length=z),m.applyFromCharCode(C)})(I=m.transformTo(x.uint8array?"uint8array":"array",I))},m.inherits(P,_),P.prototype.processChunk=function(I){var B=m.transformTo(x.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(x.uint8array){var L=B;(B=new Uint8Array(L.length+this.leftOver.length)).set(this.leftOver,0),B.set(L,this.leftOver.length)}else B=this.leftOver.concat(B);this.leftOver=null}var z=(function(O,F){var C;for((F=F||O.length)>O.length&&(F=O.length),C=F-1;0<=C&&(192&O[C])==128;)C--;return C<0||C===0?F:C+k[O[C]]>F?C:F})(B),$=B;z!==B.length&&(x.uint8array?($=B.subarray(0,z),this.leftOver=B.subarray(z,B.length)):($=B.slice(0,z),this.leftOver=B.slice(z,B.length))),this.push({data:y.utf8decode($),meta:I.meta})},P.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=P,m.inherits(D,_),D.prototype.processChunk=function(I){this.push({data:y.utf8encode(I.data),meta:I.meta})},y.Utf8EncodeWorker=D},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,g,y){var m=d("./support"),x=d("./base64"),v=d("./nodejsUtils"),_=d("./external");function k(L){return L}function N(L,z){for(var $=0;$<L.length;++$)z[$]=255&L.charCodeAt($);return z}d("setimmediate"),y.newBlob=function(L,z){y.checkSupport("blob");try{return new Blob([L],{type:z})}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(L),$.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var P={stringifyByChunk:function(L,z,$){var O=[],F=0,C=L.length;if(C<=$)return String.fromCharCode.apply(null,L);for(;F<C;)z==="array"||z==="nodebuffer"?O.push(String.fromCharCode.apply(null,L.slice(F,Math.min(F+$,C)))):O.push(String.fromCharCode.apply(null,L.subarray(F,Math.min(F+$,C)))),F+=$;return O.join("")},stringifyByChar:function(L){for(var z="",$=0;$<L.length;$++)z+=String.fromCharCode(L[$]);return z},applyCanBeUsed:{uint8array:(function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}})()}};function D(L){var z=65536,$=y.getTypeOf(L),O=!0;if($==="uint8array"?O=P.applyCanBeUsed.uint8array:$==="nodebuffer"&&(O=P.applyCanBeUsed.nodebuffer),O)for(;1<z;)try{return P.stringifyByChunk(L,$,z)}catch{z=Math.floor(z/2)}return P.stringifyByChar(L)}function I(L,z){for(var $=0;$<L.length;$++)z[$]=L[$];return z}y.applyFromCharCode=D;var B={};B.string={string:k,array:function(L){return N(L,new Array(L.length))},arraybuffer:function(L){return B.string.uint8array(L).buffer},uint8array:function(L){return N(L,new Uint8Array(L.length))},nodebuffer:function(L){return N(L,v.allocBuffer(L.length))}},B.array={string:D,array:k,arraybuffer:function(L){return new Uint8Array(L).buffer},uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return v.newBufferFrom(L)}},B.arraybuffer={string:function(L){return D(new Uint8Array(L))},array:function(L){return I(new Uint8Array(L),new Array(L.byteLength))},arraybuffer:k,uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return v.newBufferFrom(new Uint8Array(L))}},B.uint8array={string:D,array:function(L){return I(L,new Array(L.length))},arraybuffer:function(L){return L.buffer},uint8array:k,nodebuffer:function(L){return v.newBufferFrom(L)}},B.nodebuffer={string:D,array:function(L){return I(L,new Array(L.length))},arraybuffer:function(L){return B.nodebuffer.uint8array(L).buffer},uint8array:function(L){return I(L,new Uint8Array(L.length))},nodebuffer:k},y.transformTo=function(L,z){if(z=z||"",!L)return z;y.checkSupport(L);var $=y.getTypeOf(z);return B[$][L](z)},y.resolve=function(L){for(var z=L.split("/"),$=[],O=0;O<z.length;O++){var F=z[O];F==="."||F===""&&O!==0&&O!==z.length-1||(F===".."?$.pop():$.push(F))}return $.join("/")},y.getTypeOf=function(L){return typeof L=="string"?"string":Object.prototype.toString.call(L)==="[object Array]"?"array":m.nodebuffer&&v.isBuffer(L)?"nodebuffer":m.uint8array&&L instanceof Uint8Array?"uint8array":m.arraybuffer&&L instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(L){if(!m[L.toLowerCase()])throw new Error(L+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(L){var z,$,O="";for($=0;$<(L||"").length;$++)O+="\\x"+((z=L.charCodeAt($))<16?"0":"")+z.toString(16).toUpperCase();return O},y.delay=function(L,z,$){h((function(){L.apply($||null,z||[])}))},y.inherits=function(L,z){function $(){}$.prototype=z.prototype,L.prototype=new $},y.extend=function(){var L,z,$={};for(L=0;L<arguments.length;L++)for(z in arguments[L])Object.prototype.hasOwnProperty.call(arguments[L],z)&&$[z]===void 0&&($[z]=arguments[L][z]);return $},y.prepareContent=function(L,z,$,O,F){return _.Promise.resolve(z).then((function(C){return m.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new _.Promise((function(w,E){var A=new FileReader;A.onload=function(j){w(j.target.result)},A.onerror=function(j){E(j.target.error)},A.readAsArrayBuffer(C)})):C})).then((function(C){var w=y.getTypeOf(C);return w?(w==="arraybuffer"?C=y.transformTo("uint8array",C):w==="string"&&(F?C=x.decode(C):$&&O!==!0&&(C=(function(E){return N(E,m.uint8array?new Uint8Array(E.length):new Array(E.length))})(C))),C):_.Promise.reject(new Error("Can't read the data of '"+L+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,g,y){var m=d("./reader/readerFor"),x=d("./utils"),v=d("./signature"),_=d("./zipEntry"),k=d("./support");function N(P){this.files=[],this.loadOptions=P}N.prototype={checkSignature:function(P){if(!this.reader.readAndCheckSignature(P)){this.reader.index-=4;var D=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+x.pretty(D)+", expected "+x.pretty(P)+")")}},isSignature:function(P,D){var I=this.reader.index;this.reader.setIndex(P);var B=this.reader.readString(4)===D;return this.reader.setIndex(I),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var P=this.reader.readData(this.zipCommentLength),D=k.uint8array?"uint8array":"array",I=x.transformTo(D,P);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var P,D,I,B=this.zip64EndOfCentralSize-44;0<B;)P=this.reader.readInt(2),D=this.reader.readInt(4),I=this.reader.readData(D),this.zip64ExtensibleData[P]={id:P,length:D,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var P,D;for(P=0;P<this.files.length;P++)D=this.files[P],this.reader.setIndex(D.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),D.readLocalPart(this.reader),D.handleUTF8(),D.processAttributes()},readCentralDir:function(){var P;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(P=new _({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(P);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var P=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(P<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(P);var D=P;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===x.MAX_VALUE_16BITS||this.diskWithCentralDirStart===x.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===x.MAX_VALUE_16BITS||this.centralDirRecords===x.MAX_VALUE_16BITS||this.centralDirSize===x.MAX_VALUE_32BITS||this.centralDirOffset===x.MAX_VALUE_32BITS){if(this.zip64=!0,(P=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(P),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var B=D-I;if(0<B)this.isSignature(D,v.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(P){this.reader=m(P)},load:function(P){this.prepareReader(P),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=N},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,g,y){var m=d("./reader/readerFor"),x=d("./utils"),v=d("./compressedObject"),_=d("./crc32"),k=d("./utf8"),N=d("./compressions"),P=d("./support");function D(I,B){this.options=I,this.loadOptions=B}D.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var B,L;if(I.skip(22),this.fileNameLength=I.readInt(2),L=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(L),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((B=(function(z){for(var $ in N)if(Object.prototype.hasOwnProperty.call(N,$)&&N[$].magic===z)return N[$];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+x.pretty(this.compressionMethod)+" unknown (inner file : "+x.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,B,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var B=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(B),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=m(this.extraFields[1].value);this.uncompressedSize===x.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===x.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===x.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===x.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var B,L,z,$=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<$;)B=I.readInt(2),L=I.readInt(2),z=I.readData(L),this.extraFields[B]={id:B,length:L,value:z};I.setIndex($)},handleUTF8:function(){var I=P.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var B=this.findExtraFieldUnicodePath();if(B!==null)this.fileNameStr=B;else{var L=x.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(L)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var $=x.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName($)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var B=m(I.value);return B.readInt(1)!==1||_(this.fileName)!==B.readInt(4)?null:k.utf8decode(B.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var B=m(I.value);return B.readInt(1)!==1||_(this.fileComment)!==B.readInt(4)?null:k.utf8decode(B.readData(I.length-5))}return null}},g.exports=D},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,g,y){function m(B,L,z){this.name=B,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=L,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var x=d("./stream/StreamHelper"),v=d("./stream/DataWorker"),_=d("./utf8"),k=d("./compressedObject"),N=d("./stream/GenericWorker");m.prototype={internalStream:function(B){var L=null,z="string";try{if(!B)throw new Error("No output type specified.");var $=(z=B.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),L=this._decompressWorker();var O=!this._dataBinary;O&&!$&&(L=L.pipe(new _.Utf8EncodeWorker)),!O&&$&&(L=L.pipe(new _.Utf8DecodeWorker))}catch(F){(L=new N("error")).error(F)}return new x(L,z,"")},async:function(B,L){return this.internalStream(B).accumulate(L)},nodeStream:function(B,L){return this.internalStream(B||"nodebuffer").toNodejsStream(L)},_compressWorker:function(B,L){if(this._data instanceof k&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new _.Utf8EncodeWorker)),k.createWorkerFrom(z,B,L)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof N?this._data:new v(this._data)}};for(var P=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],D=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<P.length;I++)m.prototype[P[I]]=D;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,g,y){(function(m){var x,v,_=m.MutationObserver||m.WebKitMutationObserver;if(_){var k=0,N=new _(B),P=m.document.createTextNode("");N.observe(P,{characterData:!0}),x=function(){P.data=k=++k%2}}else if(m.setImmediate||m.MessageChannel===void 0)x="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var L=m.document.createElement("script");L.onreadystatechange=function(){B(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},m.document.documentElement.appendChild(L)}:function(){setTimeout(B,0)};else{var D=new m.MessageChannel;D.port1.onmessage=B,x=function(){D.port2.postMessage(0)}}var I=[];function B(){var L,z;v=!0;for(var $=I.length;$;){for(z=I,I=[],L=-1;++L<$;)z[L]();$=I.length}v=!1}g.exports=function(L){I.push(L)!==1||v||x()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,g,y){var m=d("immediate");function x(){}var v={},_=["REJECTED"],k=["FULFILLED"],N=["PENDING"];function P($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,$!==x&&L(this,$)}function D($,O,F){this.promise=$,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function I($,O,F){m((function(){var C;try{C=O(F)}catch(w){return v.reject($,w)}C===$?v.reject($,new TypeError("Cannot resolve promise with itself")):v.resolve($,C)}))}function B($){var O=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof O=="function")return function(){O.apply($,arguments)}}function L($,O){var F=!1;function C(A){F||(F=!0,v.reject($,A))}function w(A){F||(F=!0,v.resolve($,A))}var E=z((function(){O(w,C)}));E.status==="error"&&C(E.value)}function z($,O){var F={};try{F.value=$(O),F.status="success"}catch(C){F.status="error",F.value=C}return F}(g.exports=P).prototype.finally=function($){if(typeof $!="function")return this;var O=this.constructor;return this.then((function(F){return O.resolve($()).then((function(){return F}))}),(function(F){return O.resolve($()).then((function(){throw F}))}))},P.prototype.catch=function($){return this.then(null,$)},P.prototype.then=function($,O){if(typeof $!="function"&&this.state===k||typeof O!="function"&&this.state===_)return this;var F=new this.constructor(x);return this.state!==N?I(F,this.state===k?$:O,this.outcome):this.queue.push(new D(F,$,O)),F},D.prototype.callFulfilled=function($){v.resolve(this.promise,$)},D.prototype.otherCallFulfilled=function($){I(this.promise,this.onFulfilled,$)},D.prototype.callRejected=function($){v.reject(this.promise,$)},D.prototype.otherCallRejected=function($){I(this.promise,this.onRejected,$)},v.resolve=function($,O){var F=z(B,O);if(F.status==="error")return v.reject($,F.value);var C=F.value;if(C)L($,C);else{$.state=k,$.outcome=O;for(var w=-1,E=$.queue.length;++w<E;)$.queue[w].callFulfilled(O)}return $},v.reject=function($,O){$.state=_,$.outcome=O;for(var F=-1,C=$.queue.length;++F<C;)$.queue[F].callRejected(O);return $},P.resolve=function($){return $ instanceof this?$:v.resolve(new this(x),$)},P.reject=function($){var O=new this(x);return v.reject(O,$)},P.all=function($){var O=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=$.length,C=!1;if(!F)return this.resolve([]);for(var w=new Array(F),E=0,A=-1,j=new this(x);++A<F;)R($[A],A);return j;function R(q,H){O.resolve(q).then((function(Y){w[H]=Y,++E!==F||C||(C=!0,v.resolve(j,w))}),(function(Y){C||(C=!0,v.reject(j,Y))}))}},P.race=function($){if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=$.length,F=!1;if(!O)return this.resolve([]);for(var C,w=-1,E=new this(x);++w<O;)C=$[w],this.resolve(C).then((function(A){F||(F=!0,v.resolve(E,A))}),(function(A){F||(F=!0,v.reject(E,A))}));return E}},{immediate:36}],38:[function(d,g,y){var m={};(0,d("./lib/utils/common").assign)(m,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,g,y){var m=d("./zlib/deflate"),x=d("./utils/common"),v=d("./utils/strings"),_=d("./zlib/messages"),k=d("./zlib/zstream"),N=Object.prototype.toString;function P(I){if(!(this instanceof P))return new P(I);this.options=x.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},I||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var L=m.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(L!==0)throw new Error(_[L]);if(B.header&&m.deflateSetHeader(this.strm,B.header),B.dictionary){var z;if(z=typeof B.dictionary=="string"?v.string2buf(B.dictionary):N.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(L=m.deflateSetDictionary(this.strm,z))!==0)throw new Error(_[L]);this._dict_set=!0}}function D(I,B){var L=new P(B);if(L.push(I,!0),L.err)throw L.msg||_[L.err];return L.result}P.prototype.push=function(I,B){var L,z,$=this.strm,O=this.options.chunkSize;if(this.ended)return!1;z=B===~~B?B:B===!0?4:0,typeof I=="string"?$.input=v.string2buf(I):N.call(I)==="[object ArrayBuffer]"?$.input=new Uint8Array(I):$.input=I,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new x.Buf8(O),$.next_out=0,$.avail_out=O),(L=m.deflate($,z))!==1&&L!==0)return this.onEnd(L),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(x.shrinkBuf($.output,$.next_out))):this.onData(x.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&L!==1);return z===4?(L=m.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===0):z!==2||(this.onEnd(0),!($.avail_out=0))},P.prototype.onData=function(I){this.chunks.push(I)},P.prototype.onEnd=function(I){I===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},y.Deflate=P,y.deflate=D,y.deflateRaw=function(I,B){return(B=B||{}).raw=!0,D(I,B)},y.gzip=function(I,B){return(B=B||{}).gzip=!0,D(I,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,g,y){var m=d("./zlib/inflate"),x=d("./utils/common"),v=d("./utils/strings"),_=d("./zlib/constants"),k=d("./zlib/messages"),N=d("./zlib/zstream"),P=d("./zlib/gzheader"),D=Object.prototype.toString;function I(L){if(!(this instanceof I))return new I(L);this.options=x.assign({chunkSize:16384,windowBits:0,to:""},L||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||L&&L.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&(15&z.windowBits)==0&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var $=m.inflateInit2(this.strm,z.windowBits);if($!==_.Z_OK)throw new Error(k[$]);this.header=new P,m.inflateGetHeader(this.strm,this.header)}function B(L,z){var $=new I(z);if($.push(L,!0),$.err)throw $.msg||k[$.err];return $.result}I.prototype.push=function(L,z){var $,O,F,C,w,E,A=this.strm,j=this.options.chunkSize,R=this.options.dictionary,q=!1;if(this.ended)return!1;O=z===~~z?z:z===!0?_.Z_FINISH:_.Z_NO_FLUSH,typeof L=="string"?A.input=v.binstring2buf(L):D.call(L)==="[object ArrayBuffer]"?A.input=new Uint8Array(L):A.input=L,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new x.Buf8(j),A.next_out=0,A.avail_out=j),($=m.inflate(A,_.Z_NO_FLUSH))===_.Z_NEED_DICT&&R&&(E=typeof R=="string"?v.string2buf(R):D.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,$=m.inflateSetDictionary(this.strm,E)),$===_.Z_BUF_ERROR&&q===!0&&($=_.Z_OK,q=!1),$!==_.Z_STREAM_END&&$!==_.Z_OK)return this.onEnd($),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&$!==_.Z_STREAM_END&&(A.avail_in!==0||O!==_.Z_FINISH&&O!==_.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=v.utf8border(A.output,A.next_out),C=A.next_out-F,w=v.buf2string(A.output,F),A.next_out=C,A.avail_out=j-C,C&&x.arraySet(A.output,A.output,F,C,0),this.onData(w)):this.onData(x.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(q=!0)}while((0<A.avail_in||A.avail_out===0)&&$!==_.Z_STREAM_END);return $===_.Z_STREAM_END&&(O=_.Z_FINISH),O===_.Z_FINISH?($=m.inflateEnd(this.strm),this.onEnd($),this.ended=!0,$===_.Z_OK):O!==_.Z_SYNC_FLUSH||(this.onEnd(_.Z_OK),!(A.avail_out=0))},I.prototype.onData=function(L){this.chunks.push(L)},I.prototype.onEnd=function(L){L===_.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},y.Inflate=I,y.inflate=B,y.inflateRaw=function(L,z){return(z=z||{}).raw=!0,B(L,z)},y.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,g,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(_){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var N=k.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var P in N)N.hasOwnProperty(P)&&(_[P]=N[P])}}return _},y.shrinkBuf=function(_,k){return _.length===k?_:_.subarray?_.subarray(0,k):(_.length=k,_)};var x={arraySet:function(_,k,N,P,D){if(k.subarray&&_.subarray)_.set(k.subarray(N,N+P),D);else for(var I=0;I<P;I++)_[D+I]=k[N+I]},flattenChunks:function(_){var k,N,P,D,I,B;for(k=P=0,N=_.length;k<N;k++)P+=_[k].length;for(B=new Uint8Array(P),k=D=0,N=_.length;k<N;k++)I=_[k],B.set(I,D),D+=I.length;return B}},v={arraySet:function(_,k,N,P,D){for(var I=0;I<P;I++)_[D+I]=k[N+I]},flattenChunks:function(_){return[].concat.apply([],_)}};y.setTyped=function(_){_?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,x)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,v))},y.setTyped(m)},{}],42:[function(d,g,y){var m=d("./common"),x=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{x=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var _=new m.Buf8(256),k=0;k<256;k++)_[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function N(P,D){if(D<65537&&(P.subarray&&v||!P.subarray&&x))return String.fromCharCode.apply(null,m.shrinkBuf(P,D));for(var I="",B=0;B<D;B++)I+=String.fromCharCode(P[B]);return I}_[254]=_[254]=1,y.string2buf=function(P){var D,I,B,L,z,$=P.length,O=0;for(L=0;L<$;L++)(64512&(I=P.charCodeAt(L)))==55296&&L+1<$&&(64512&(B=P.charCodeAt(L+1)))==56320&&(I=65536+(I-55296<<10)+(B-56320),L++),O+=I<128?1:I<2048?2:I<65536?3:4;for(D=new m.Buf8(O),L=z=0;z<O;L++)(64512&(I=P.charCodeAt(L)))==55296&&L+1<$&&(64512&(B=P.charCodeAt(L+1)))==56320&&(I=65536+(I-55296<<10)+(B-56320),L++),I<128?D[z++]=I:(I<2048?D[z++]=192|I>>>6:(I<65536?D[z++]=224|I>>>12:(D[z++]=240|I>>>18,D[z++]=128|I>>>12&63),D[z++]=128|I>>>6&63),D[z++]=128|63&I);return D},y.buf2binstring=function(P){return N(P,P.length)},y.binstring2buf=function(P){for(var D=new m.Buf8(P.length),I=0,B=D.length;I<B;I++)D[I]=P.charCodeAt(I);return D},y.buf2string=function(P,D){var I,B,L,z,$=D||P.length,O=new Array(2*$);for(I=B=0;I<$;)if((L=P[I++])<128)O[B++]=L;else if(4<(z=_[L]))O[B++]=65533,I+=z-1;else{for(L&=z===2?31:z===3?15:7;1<z&&I<$;)L=L<<6|63&P[I++],z--;1<z?O[B++]=65533:L<65536?O[B++]=L:(L-=65536,O[B++]=55296|L>>10&1023,O[B++]=56320|1023&L)}return N(O,B)},y.utf8border=function(P,D){var I;for((D=D||P.length)>P.length&&(D=P.length),I=D-1;0<=I&&(192&P[I])==128;)I--;return I<0||I===0?D:I+_[P[I]]>D?I:D}},{"./common":41}],43:[function(d,g,y){g.exports=function(m,x,v,_){for(var k=65535&m|0,N=m>>>16&65535|0,P=0;v!==0;){for(v-=P=2e3<v?2e3:v;N=N+(k=k+x[_++]|0)|0,--P;);k%=65521,N%=65521}return k|N<<16|0}},{}],44:[function(d,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,g,y){var m=(function(){for(var x,v=[],_=0;_<256;_++){x=_;for(var k=0;k<8;k++)x=1&x?3988292384^x>>>1:x>>>1;v[_]=x}return v})();g.exports=function(x,v,_,k){var N=m,P=k+_;x^=-1;for(var D=k;D<P;D++)x=x>>>8^N[255&(x^v[D])];return-1^x}},{}],46:[function(d,g,y){var m,x=d("../utils/common"),v=d("./trees"),_=d("./adler32"),k=d("./crc32"),N=d("./messages"),P=-2,D=258,I=262,B=113;function L(W,ee){return W.msg=N[ee],ee}function z(W){return(W<<1)-(4<W?9:0)}function $(W){for(var ee=W.length;0<=--ee;)W[ee]=0}function O(W){var ee=W.state,K=ee.pending;K>W.avail_out&&(K=W.avail_out),K!==0&&(x.arraySet(W.output,ee.pending_buf,ee.pending_out,K,W.next_out),W.next_out+=K,ee.pending_out+=K,W.total_out+=K,W.avail_out-=K,ee.pending-=K,ee.pending===0&&(ee.pending_out=0))}function F(W,ee){v._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,ee),W.block_start=W.strstart,O(W.strm)}function C(W,ee){W.pending_buf[W.pending++]=ee}function w(W,ee){W.pending_buf[W.pending++]=ee>>>8&255,W.pending_buf[W.pending++]=255&ee}function E(W,ee){var K,V,Q=W.max_chain_length,re=W.strstart,oe=W.prev_length,ne=W.nice_match,le=W.strstart>W.w_size-I?W.strstart-(W.w_size-I):0,me=W.window,ge=W.w_mask,se=W.prev,fe=W.strstart+D,he=me[re+oe-1],ve=me[re+oe];W.prev_length>=W.good_match&&(Q>>=2),ne>W.lookahead&&(ne=W.lookahead);do if(me[(K=ee)+oe]===ve&&me[K+oe-1]===he&&me[K]===me[re]&&me[++K]===me[re+1]){re+=2,K++;do;while(me[++re]===me[++K]&&me[++re]===me[++K]&&me[++re]===me[++K]&&me[++re]===me[++K]&&me[++re]===me[++K]&&me[++re]===me[++K]&&me[++re]===me[++K]&&me[++re]===me[++K]&&re<fe);if(V=D-(fe-re),re=fe-D,oe<V){if(W.match_start=ee,ne<=(oe=V))break;he=me[re+oe-1],ve=me[re+oe]}}while((ee=se[ee&ge])>le&&--Q!=0);return oe<=W.lookahead?oe:W.lookahead}function A(W){var ee,K,V,Q,re,oe,ne,le,me,ge,se=W.w_size;do{if(Q=W.window_size-W.lookahead-W.strstart,W.strstart>=se+(se-I)){for(x.arraySet(W.window,W.window,se,se,0),W.match_start-=se,W.strstart-=se,W.block_start-=se,ee=K=W.hash_size;V=W.head[--ee],W.head[ee]=se<=V?V-se:0,--K;);for(ee=K=se;V=W.prev[--ee],W.prev[ee]=se<=V?V-se:0,--K;);Q+=se}if(W.strm.avail_in===0)break;if(oe=W.strm,ne=W.window,le=W.strstart+W.lookahead,ge=void 0,(me=Q)<(ge=oe.avail_in)&&(ge=me),K=ge===0?0:(oe.avail_in-=ge,x.arraySet(ne,oe.input,oe.next_in,ge,le),oe.state.wrap===1?oe.adler=_(oe.adler,ne,ge,le):oe.state.wrap===2&&(oe.adler=k(oe.adler,ne,ge,le)),oe.next_in+=ge,oe.total_in+=ge,ge),W.lookahead+=K,W.lookahead+W.insert>=3)for(re=W.strstart-W.insert,W.ins_h=W.window[re],W.ins_h=(W.ins_h<<W.hash_shift^W.window[re+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[re+3-1])&W.hash_mask,W.prev[re&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=re,re++,W.insert--,!(W.lookahead+W.insert<3)););}while(W.lookahead<I&&W.strm.avail_in!==0)}function j(W,ee){for(var K,V;;){if(W.lookahead<I){if(A(W),W.lookahead<I&&ee===0)return 1;if(W.lookahead===0)break}if(K=0,W.lookahead>=3&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,K=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),K!==0&&W.strstart-K<=W.w_size-I&&(W.match_length=E(W,K)),W.match_length>=3)if(V=v._tr_tally(W,W.strstart-W.match_start,W.match_length-3),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=3){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,K=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else V=v._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(V&&(F(W,!1),W.strm.avail_out===0))return 1}return W.insert=W.strstart<2?W.strstart:2,ee===4?(F(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(F(W,!1),W.strm.avail_out===0)?1:2}function R(W,ee){for(var K,V,Q;;){if(W.lookahead<I){if(A(W),W.lookahead<I&&ee===0)return 1;if(W.lookahead===0)break}if(K=0,W.lookahead>=3&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,K=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=2,K!==0&&W.prev_length<W.max_lazy_match&&W.strstart-K<=W.w_size-I&&(W.match_length=E(W,K),W.match_length<=5&&(W.strategy===1||W.match_length===3&&4096<W.strstart-W.match_start)&&(W.match_length=2)),W.prev_length>=3&&W.match_length<=W.prev_length){for(Q=W.strstart+W.lookahead-3,V=v._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-3),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=Q&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,K=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=2,W.strstart++,V&&(F(W,!1),W.strm.avail_out===0))return 1}else if(W.match_available){if((V=v._tr_tally(W,0,W.window[W.strstart-1]))&&F(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return 1}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(V=v._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<2?W.strstart:2,ee===4?(F(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(F(W,!1),W.strm.avail_out===0)?1:2}function q(W,ee,K,V,Q){this.good_length=W,this.max_lazy=ee,this.nice_length=K,this.max_chain=V,this.func=Q}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(1146),this.dyn_dtree=new x.Buf16(122),this.bl_tree=new x.Buf16(78),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(16),this.heap=new x.Buf16(573),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(573),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(W){var ee;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=2,(ee=W.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?42:B,W.adler=ee.wrap===2?0:1,ee.last_flush=0,v._tr_init(ee),0):L(W,P)}function Z(W){var ee=Y(W);return ee===0&&(function(K){K.window_size=2*K.w_size,$(K.head),K.max_lazy_match=m[K.level].max_lazy,K.good_match=m[K.level].good_length,K.nice_match=m[K.level].nice_length,K.max_chain_length=m[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=2,K.match_available=0,K.ins_h=0})(W.state),ee}function te(W,ee,K,V,Q,re){if(!W)return P;var oe=1;if(ee===-1&&(ee=6),V<0?(oe=0,V=-V):15<V&&(oe=2,V-=16),Q<1||9<Q||K!==8||V<8||15<V||ee<0||9<ee||re<0||4<re)return L(W,P);V===8&&(V=9);var ne=new H;return(W.state=ne).strm=W,ne.wrap=oe,ne.gzhead=null,ne.w_bits=V,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=Q+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new x.Buf8(2*ne.w_size),ne.head=new x.Buf16(ne.hash_size),ne.prev=new x.Buf16(ne.w_size),ne.lit_bufsize=1<<Q+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new x.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=ee,ne.strategy=re,ne.method=K,Z(W)}m=[new q(0,0,0,0,(function(W,ee){var K=65535;for(K>W.pending_buf_size-5&&(K=W.pending_buf_size-5);;){if(W.lookahead<=1){if(A(W),W.lookahead===0&&ee===0)return 1;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var V=W.block_start+K;if((W.strstart===0||W.strstart>=V)&&(W.lookahead=W.strstart-V,W.strstart=V,F(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-I&&(F(W,!1),W.strm.avail_out===0))return 1}return W.insert=0,ee===4?(F(W,!0),W.strm.avail_out===0?3:4):(W.strstart>W.block_start&&(F(W,!1),W.strm.avail_out),1)})),new q(4,4,8,4,j),new q(4,5,16,8,j),new q(4,6,32,32,j),new q(4,4,16,16,R),new q(8,16,32,32,R),new q(8,16,128,128,R),new q(8,32,128,256,R),new q(32,128,258,1024,R),new q(32,258,258,4096,R)],y.deflateInit=function(W,ee){return te(W,ee,8,15,8,0)},y.deflateInit2=te,y.deflateReset=Z,y.deflateResetKeep=Y,y.deflateSetHeader=function(W,ee){return W&&W.state?W.state.wrap!==2?P:(W.state.gzhead=ee,0):P},y.deflate=function(W,ee){var K,V,Q,re;if(!W||!W.state||5<ee||ee<0)return W?L(W,P):P;if(V=W.state,!W.output||!W.input&&W.avail_in!==0||V.status===666&&ee!==4)return L(W,W.avail_out===0?-5:P);if(V.strm=W,K=V.last_flush,V.last_flush=ee,V.status===42)if(V.wrap===2)W.adler=0,C(V,31),C(V,139),C(V,8),V.gzhead?(C(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),C(V,255&V.gzhead.time),C(V,V.gzhead.time>>8&255),C(V,V.gzhead.time>>16&255),C(V,V.gzhead.time>>24&255),C(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),C(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(C(V,255&V.gzhead.extra.length),C(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(W.adler=k(W.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(C(V,0),C(V,0),C(V,0),C(V,0),C(V,0),C(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),C(V,3),V.status=B);else{var oe=8+(V.w_bits-8<<4)<<8;oe|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(oe|=32),oe+=31-oe%31,V.status=B,w(V,oe),V.strstart!==0&&(w(V,W.adler>>>16),w(V,65535&W.adler)),W.adler=1}if(V.status===69)if(V.gzhead.extra){for(Q=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>Q&&(W.adler=k(W.adler,V.pending_buf,V.pending-Q,Q)),O(W),Q=V.pending,V.pending!==V.pending_buf_size));)C(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>Q&&(W.adler=k(W.adler,V.pending_buf,V.pending-Q,Q)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){Q=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>Q&&(W.adler=k(W.adler,V.pending_buf,V.pending-Q,Q)),O(W),Q=V.pending,V.pending===V.pending_buf_size)){re=1;break}re=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,C(V,re)}while(re!==0);V.gzhead.hcrc&&V.pending>Q&&(W.adler=k(W.adler,V.pending_buf,V.pending-Q,Q)),re===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){Q=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>Q&&(W.adler=k(W.adler,V.pending_buf,V.pending-Q,Q)),O(W),Q=V.pending,V.pending===V.pending_buf_size)){re=1;break}re=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,C(V,re)}while(re!==0);V.gzhead.hcrc&&V.pending>Q&&(W.adler=k(W.adler,V.pending_buf,V.pending-Q,Q)),re===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&O(W),V.pending+2<=V.pending_buf_size&&(C(V,255&W.adler),C(V,W.adler>>8&255),W.adler=0,V.status=B)):V.status=B),V.pending!==0){if(O(W),W.avail_out===0)return V.last_flush=-1,0}else if(W.avail_in===0&&z(ee)<=z(K)&&ee!==4)return L(W,-5);if(V.status===666&&W.avail_in!==0)return L(W,-5);if(W.avail_in!==0||V.lookahead!==0||ee!==0&&V.status!==666){var ne=V.strategy===2?(function(le,me){for(var ge;;){if(le.lookahead===0&&(A(le),le.lookahead===0)){if(me===0)return 1;break}if(le.match_length=0,ge=v._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,ge&&(F(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,me===4?(F(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(F(le,!1),le.strm.avail_out===0)?1:2})(V,ee):V.strategy===3?(function(le,me){for(var ge,se,fe,he,ve=le.window;;){if(le.lookahead<=D){if(A(le),le.lookahead<=D&&me===0)return 1;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=3&&0<le.strstart&&(se=ve[fe=le.strstart-1])===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]){he=le.strstart+D;do;while(se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&se===ve[++fe]&&fe<he);le.match_length=D-(he-fe),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=3?(ge=v._tr_tally(le,1,le.match_length-3),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(ge=v._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),ge&&(F(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,me===4?(F(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(F(le,!1),le.strm.avail_out===0)?1:2})(V,ee):m[V.level].func(V,ee);if(ne!==3&&ne!==4||(V.status=666),ne===1||ne===3)return W.avail_out===0&&(V.last_flush=-1),0;if(ne===2&&(ee===1?v._tr_align(V):ee!==5&&(v._tr_stored_block(V,0,0,!1),ee===3&&($(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),O(W),W.avail_out===0))return V.last_flush=-1,0}return ee!==4?0:V.wrap<=0?1:(V.wrap===2?(C(V,255&W.adler),C(V,W.adler>>8&255),C(V,W.adler>>16&255),C(V,W.adler>>24&255),C(V,255&W.total_in),C(V,W.total_in>>8&255),C(V,W.total_in>>16&255),C(V,W.total_in>>24&255)):(w(V,W.adler>>>16),w(V,65535&W.adler)),O(W),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?0:1)},y.deflateEnd=function(W){var ee;return W&&W.state?(ee=W.state.status)!==42&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==B&&ee!==666?L(W,P):(W.state=null,ee===B?L(W,-3):0):P},y.deflateSetDictionary=function(W,ee){var K,V,Q,re,oe,ne,le,me,ge=ee.length;if(!W||!W.state||(re=(K=W.state).wrap)===2||re===1&&K.status!==42||K.lookahead)return P;for(re===1&&(W.adler=_(W.adler,ee,ge,0)),K.wrap=0,ge>=K.w_size&&(re===0&&($(K.head),K.strstart=0,K.block_start=0,K.insert=0),me=new x.Buf8(K.w_size),x.arraySet(me,ee,ge-K.w_size,K.w_size,0),ee=me,ge=K.w_size),oe=W.avail_in,ne=W.next_in,le=W.input,W.avail_in=ge,W.next_in=0,W.input=ee,A(K);K.lookahead>=3;){for(V=K.strstart,Q=K.lookahead-2;K.ins_h=(K.ins_h<<K.hash_shift^K.window[V+3-1])&K.hash_mask,K.prev[V&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=V,V++,--Q;);K.strstart=V,K.lookahead=2,A(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=2,K.match_available=0,W.next_in=ne,W.input=le,W.avail_in=oe,K.wrap=re,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,g,y){g.exports=function(m,x){var v,_,k,N,P,D,I,B,L,z,$,O,F,C,w,E,A,j,R,q,H,Y,Z,te,W;v=m.state,_=m.next_in,te=m.input,k=_+(m.avail_in-5),N=m.next_out,W=m.output,P=N-(x-m.avail_out),D=N+(m.avail_out-257),I=v.dmax,B=v.wsize,L=v.whave,z=v.wnext,$=v.window,O=v.hold,F=v.bits,C=v.lencode,w=v.distcode,E=(1<<v.lenbits)-1,A=(1<<v.distbits)-1;e:do{F<15&&(O+=te[_++]<<F,F+=8,O+=te[_++]<<F,F+=8),j=C[O&E];t:for(;;){if(O>>>=R=j>>>24,F-=R,(R=j>>>16&255)==0)W[N++]=65535&j;else{if(!(16&R)){if((64&R)==0){j=C[(65535&j)+(O&(1<<R)-1)];continue t}if(32&R){v.mode=12;break e}m.msg="invalid literal/length code",v.mode=30;break e}q=65535&j,(R&=15)&&(F<R&&(O+=te[_++]<<F,F+=8),q+=O&(1<<R)-1,O>>>=R,F-=R),F<15&&(O+=te[_++]<<F,F+=8,O+=te[_++]<<F,F+=8),j=w[O&A];r:for(;;){if(O>>>=R=j>>>24,F-=R,!(16&(R=j>>>16&255))){if((64&R)==0){j=w[(65535&j)+(O&(1<<R)-1)];continue r}m.msg="invalid distance code",v.mode=30;break e}if(H=65535&j,F<(R&=15)&&(O+=te[_++]<<F,(F+=8)<R&&(O+=te[_++]<<F,F+=8)),I<(H+=O&(1<<R)-1)){m.msg="invalid distance too far back",v.mode=30;break e}if(O>>>=R,F-=R,(R=N-P)<H){if(L<(R=H-R)&&v.sane){m.msg="invalid distance too far back",v.mode=30;break e}if(Z=$,(Y=0)===z){if(Y+=B-R,R<q){for(q-=R;W[N++]=$[Y++],--R;);Y=N-H,Z=W}}else if(z<R){if(Y+=B+z-R,(R-=z)<q){for(q-=R;W[N++]=$[Y++],--R;);if(Y=0,z<q){for(q-=R=z;W[N++]=$[Y++],--R;);Y=N-H,Z=W}}}else if(Y+=z-R,R<q){for(q-=R;W[N++]=$[Y++],--R;);Y=N-H,Z=W}for(;2<q;)W[N++]=Z[Y++],W[N++]=Z[Y++],W[N++]=Z[Y++],q-=3;q&&(W[N++]=Z[Y++],1<q&&(W[N++]=Z[Y++]))}else{for(Y=N-H;W[N++]=W[Y++],W[N++]=W[Y++],W[N++]=W[Y++],2<(q-=3););q&&(W[N++]=W[Y++],1<q&&(W[N++]=W[Y++]))}break}}break}}while(_<k&&N<D);_-=q=F>>3,O&=(1<<(F-=q<<3))-1,m.next_in=_,m.next_out=N,m.avail_in=_<k?k-_+5:5-(_-k),m.avail_out=N<D?D-N+257:257-(N-D),v.hold=O,v.bits=F}},{}],49:[function(d,g,y){var m=d("../utils/common"),x=d("./adler32"),v=d("./crc32"),_=d("./inffast"),k=d("./inftrees"),N=-2;function P(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(E){var A;return E&&E.state?(A=E.state,E.total_in=E.total_out=A.total=0,E.msg="",A.wrap&&(E.adler=1&A.wrap),A.mode=1,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new m.Buf32(852),A.distcode=A.distdyn=new m.Buf32(592),A.sane=1,A.back=-1,0):N}function B(E){var A;return E&&E.state?((A=E.state).wsize=0,A.whave=0,A.wnext=0,I(E)):N}function L(E,A){var j,R;return E&&E.state?(R=E.state,A<0?(j=0,A=-A):(j=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?N:(R.window!==null&&R.wbits!==A&&(R.window=null),R.wrap=j,R.wbits=A,B(E))):N}function z(E,A){var j,R;return E?(R=new D,(E.state=R).window=null,(j=L(E,A))!==0&&(E.state=null),j):N}var $,O,F=!0;function C(E){if(F){var A;for($=new m.Buf32(512),O=new m.Buf32(32),A=0;A<144;)E.lens[A++]=8;for(;A<256;)E.lens[A++]=9;for(;A<280;)E.lens[A++]=7;for(;A<288;)E.lens[A++]=8;for(k(1,E.lens,0,288,$,0,E.work,{bits:9}),A=0;A<32;)E.lens[A++]=5;k(2,E.lens,0,32,O,0,E.work,{bits:5}),F=!1}E.lencode=$,E.lenbits=9,E.distcode=O,E.distbits=5}function w(E,A,j,R){var q,H=E.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new m.Buf8(H.wsize)),R>=H.wsize?(m.arraySet(H.window,A,j-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(R<(q=H.wsize-H.wnext)&&(q=R),m.arraySet(H.window,A,j-R,q,H.wnext),(R-=q)?(m.arraySet(H.window,A,j-R,R,0),H.wnext=R,H.whave=H.wsize):(H.wnext+=q,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=q))),0}y.inflateReset=B,y.inflateReset2=L,y.inflateResetKeep=I,y.inflateInit=function(E){return z(E,15)},y.inflateInit2=z,y.inflate=function(E,A){var j,R,q,H,Y,Z,te,W,ee,K,V,Q,re,oe,ne,le,me,ge,se,fe,he,ve,xe,_e,Ne=0,Re=new m.Buf8(4),$e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return N;(j=E.state).mode===12&&(j.mode=13),Y=E.next_out,q=E.output,te=E.avail_out,H=E.next_in,R=E.input,Z=E.avail_in,W=j.hold,ee=j.bits,K=Z,V=te,ve=0;e:for(;;)switch(j.mode){case 1:if(j.wrap===0){j.mode=13;break}for(;ee<16;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(2&j.wrap&&W===35615){Re[j.check=0]=255&W,Re[1]=W>>>8&255,j.check=v(j.check,Re,2,0),ee=W=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&W)<<8)+(W>>8))%31){E.msg="incorrect header check",j.mode=30;break}if((15&W)!=8){E.msg="unknown compression method",j.mode=30;break}if(ee-=4,he=8+(15&(W>>>=4)),j.wbits===0)j.wbits=he;else if(he>j.wbits){E.msg="invalid window size",j.mode=30;break}j.dmax=1<<he,E.adler=j.check=1,j.mode=512&W?10:12,ee=W=0;break;case 2:for(;ee<16;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(j.flags=W,(255&j.flags)!=8){E.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){E.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=W>>8&1),512&j.flags&&(Re[0]=255&W,Re[1]=W>>>8&255,j.check=v(j.check,Re,2,0)),ee=W=0,j.mode=3;case 3:for(;ee<32;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}j.head&&(j.head.time=W),512&j.flags&&(Re[0]=255&W,Re[1]=W>>>8&255,Re[2]=W>>>16&255,Re[3]=W>>>24&255,j.check=v(j.check,Re,4,0)),ee=W=0,j.mode=4;case 4:for(;ee<16;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}j.head&&(j.head.xflags=255&W,j.head.os=W>>8),512&j.flags&&(Re[0]=255&W,Re[1]=W>>>8&255,j.check=v(j.check,Re,2,0)),ee=W=0,j.mode=5;case 5:if(1024&j.flags){for(;ee<16;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}j.length=W,j.head&&(j.head.extra_len=W),512&j.flags&&(Re[0]=255&W,Re[1]=W>>>8&255,j.check=v(j.check,Re,2,0)),ee=W=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(Z<(Q=j.length)&&(Q=Z),Q&&(j.head&&(he=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),m.arraySet(j.head.extra,R,H,Q,he)),512&j.flags&&(j.check=v(j.check,R,Q,H)),Z-=Q,H+=Q,j.length-=Q),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(Z===0)break e;for(Q=0;he=R[H+Q++],j.head&&he&&j.length<65536&&(j.head.name+=String.fromCharCode(he)),he&&Q<Z;);if(512&j.flags&&(j.check=v(j.check,R,Q,H)),Z-=Q,H+=Q,he)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(Z===0)break e;for(Q=0;he=R[H+Q++],j.head&&he&&j.length<65536&&(j.head.comment+=String.fromCharCode(he)),he&&Q<Z;);if(512&j.flags&&(j.check=v(j.check,R,Q,H)),Z-=Q,H+=Q,he)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;ee<16;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(W!==(65535&j.check)){E.msg="header crc mismatch",j.mode=30;break}ee=W=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),E.adler=j.check=0,j.mode=12;break;case 10:for(;ee<32;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}E.adler=j.check=P(W),ee=W=0,j.mode=11;case 11:if(j.havedict===0)return E.next_out=Y,E.avail_out=te,E.next_in=H,E.avail_in=Z,j.hold=W,j.bits=ee,2;E.adler=j.check=1,j.mode=12;case 12:if(A===5||A===6)break e;case 13:if(j.last){W>>>=7&ee,ee-=7&ee,j.mode=27;break}for(;ee<3;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}switch(j.last=1&W,ee-=1,3&(W>>>=1)){case 0:j.mode=14;break;case 1:if(C(j),j.mode=20,A!==6)break;W>>>=2,ee-=2;break e;case 2:j.mode=17;break;case 3:E.msg="invalid block type",j.mode=30}W>>>=2,ee-=2;break;case 14:for(W>>>=7&ee,ee-=7&ee;ee<32;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if((65535&W)!=(W>>>16^65535)){E.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&W,ee=W=0,j.mode=15,A===6)break e;case 15:j.mode=16;case 16:if(Q=j.length){if(Z<Q&&(Q=Z),te<Q&&(Q=te),Q===0)break e;m.arraySet(q,R,H,Q,Y),Z-=Q,H+=Q,te-=Q,Y+=Q,j.length-=Q;break}j.mode=12;break;case 17:for(;ee<14;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(j.nlen=257+(31&W),W>>>=5,ee-=5,j.ndist=1+(31&W),W>>>=5,ee-=5,j.ncode=4+(15&W),W>>>=4,ee-=4,286<j.nlen||30<j.ndist){E.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;ee<3;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}j.lens[$e[j.have++]]=7&W,W>>>=3,ee-=3}for(;j.have<19;)j.lens[$e[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,xe={bits:j.lenbits},ve=k(0,j.lens,0,19,j.lencode,0,j.work,xe),j.lenbits=xe.bits,ve){E.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;le=(Ne=j.lencode[W&(1<<j.lenbits)-1])>>>16&255,me=65535&Ne,!((ne=Ne>>>24)<=ee);){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(me<16)W>>>=ne,ee-=ne,j.lens[j.have++]=me;else{if(me===16){for(_e=ne+2;ee<_e;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(W>>>=ne,ee-=ne,j.have===0){E.msg="invalid bit length repeat",j.mode=30;break}he=j.lens[j.have-1],Q=3+(3&W),W>>>=2,ee-=2}else if(me===17){for(_e=ne+3;ee<_e;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}ee-=ne,he=0,Q=3+(7&(W>>>=ne)),W>>>=3,ee-=3}else{for(_e=ne+7;ee<_e;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}ee-=ne,he=0,Q=11+(127&(W>>>=ne)),W>>>=7,ee-=7}if(j.have+Q>j.nlen+j.ndist){E.msg="invalid bit length repeat",j.mode=30;break}for(;Q--;)j.lens[j.have++]=he}}if(j.mode===30)break;if(j.lens[256]===0){E.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,xe={bits:j.lenbits},ve=k(1,j.lens,0,j.nlen,j.lencode,0,j.work,xe),j.lenbits=xe.bits,ve){E.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,xe={bits:j.distbits},ve=k(2,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,xe),j.distbits=xe.bits,ve){E.msg="invalid distances set",j.mode=30;break}if(j.mode=20,A===6)break e;case 20:j.mode=21;case 21:if(6<=Z&&258<=te){E.next_out=Y,E.avail_out=te,E.next_in=H,E.avail_in=Z,j.hold=W,j.bits=ee,_(E,V),Y=E.next_out,q=E.output,te=E.avail_out,H=E.next_in,R=E.input,Z=E.avail_in,W=j.hold,ee=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;le=(Ne=j.lencode[W&(1<<j.lenbits)-1])>>>16&255,me=65535&Ne,!((ne=Ne>>>24)<=ee);){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(le&&(240&le)==0){for(ge=ne,se=le,fe=me;le=(Ne=j.lencode[fe+((W&(1<<ge+se)-1)>>ge)])>>>16&255,me=65535&Ne,!(ge+(ne=Ne>>>24)<=ee);){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}W>>>=ge,ee-=ge,j.back+=ge}if(W>>>=ne,ee-=ne,j.back+=ne,j.length=me,le===0){j.mode=26;break}if(32&le){j.back=-1,j.mode=12;break}if(64&le){E.msg="invalid literal/length code",j.mode=30;break}j.extra=15&le,j.mode=22;case 22:if(j.extra){for(_e=j.extra;ee<_e;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}j.length+=W&(1<<j.extra)-1,W>>>=j.extra,ee-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;le=(Ne=j.distcode[W&(1<<j.distbits)-1])>>>16&255,me=65535&Ne,!((ne=Ne>>>24)<=ee);){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if((240&le)==0){for(ge=ne,se=le,fe=me;le=(Ne=j.distcode[fe+((W&(1<<ge+se)-1)>>ge)])>>>16&255,me=65535&Ne,!(ge+(ne=Ne>>>24)<=ee);){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}W>>>=ge,ee-=ge,j.back+=ge}if(W>>>=ne,ee-=ne,j.back+=ne,64&le){E.msg="invalid distance code",j.mode=30;break}j.offset=me,j.extra=15&le,j.mode=24;case 24:if(j.extra){for(_e=j.extra;ee<_e;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}j.offset+=W&(1<<j.extra)-1,W>>>=j.extra,ee-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){E.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(te===0)break e;if(Q=V-te,j.offset>Q){if((Q=j.offset-Q)>j.whave&&j.sane){E.msg="invalid distance too far back",j.mode=30;break}re=Q>j.wnext?(Q-=j.wnext,j.wsize-Q):j.wnext-Q,Q>j.length&&(Q=j.length),oe=j.window}else oe=q,re=Y-j.offset,Q=j.length;for(te<Q&&(Q=te),te-=Q,j.length-=Q;q[Y++]=oe[re++],--Q;);j.length===0&&(j.mode=21);break;case 26:if(te===0)break e;q[Y++]=j.length,te--,j.mode=21;break;case 27:if(j.wrap){for(;ee<32;){if(Z===0)break e;Z--,W|=R[H++]<<ee,ee+=8}if(V-=te,E.total_out+=V,j.total+=V,V&&(E.adler=j.check=j.flags?v(j.check,q,V,Y-V):x(j.check,q,V,Y-V)),V=te,(j.flags?W:P(W))!==j.check){E.msg="incorrect data check",j.mode=30;break}ee=W=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;ee<32;){if(Z===0)break e;Z--,W+=R[H++]<<ee,ee+=8}if(W!==(4294967295&j.total)){E.msg="incorrect length check",j.mode=30;break}ee=W=0}j.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return N}return E.next_out=Y,E.avail_out=te,E.next_in=H,E.avail_in=Z,j.hold=W,j.bits=ee,(j.wsize||V!==E.avail_out&&j.mode<30&&(j.mode<27||A!==4))&&w(E,E.output,E.next_out,V-E.avail_out)?(j.mode=31,-4):(K-=E.avail_in,V-=E.avail_out,E.total_in+=K,E.total_out+=V,j.total+=V,j.wrap&&V&&(E.adler=j.check=j.flags?v(j.check,q,V,E.next_out-V):x(j.check,q,V,E.next_out-V)),E.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(K==0&&V===0||A===4)&&ve===0&&(ve=-5),ve)},y.inflateEnd=function(E){if(!E||!E.state)return N;var A=E.state;return A.window&&(A.window=null),E.state=null,0},y.inflateGetHeader=function(E,A){var j;return E&&E.state?(2&(j=E.state).wrap)==0?N:((j.head=A).done=!1,0):N},y.inflateSetDictionary=function(E,A){var j,R=A.length;return E&&E.state?(j=E.state).wrap!==0&&j.mode!==11?N:j.mode===11&&x(1,A,R,0)!==j.check?-3:w(E,A,R,R)?(j.mode=31,-4):(j.havedict=1,0):N},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,g,y){var m=d("../utils/common"),x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(N,P,D,I,B,L,z,$){var O,F,C,w,E,A,j,R,q,H=$.bits,Y=0,Z=0,te=0,W=0,ee=0,K=0,V=0,Q=0,re=0,oe=0,ne=null,le=0,me=new m.Buf16(16),ge=new m.Buf16(16),se=null,fe=0;for(Y=0;Y<=15;Y++)me[Y]=0;for(Z=0;Z<I;Z++)me[P[D+Z]]++;for(ee=H,W=15;1<=W&&me[W]===0;W--);if(W<ee&&(ee=W),W===0)return B[L++]=20971520,B[L++]=20971520,$.bits=1,0;for(te=1;te<W&&me[te]===0;te++);for(ee<te&&(ee=te),Y=Q=1;Y<=15;Y++)if(Q<<=1,(Q-=me[Y])<0)return-1;if(0<Q&&(N===0||W!==1))return-1;for(ge[1]=0,Y=1;Y<15;Y++)ge[Y+1]=ge[Y]+me[Y];for(Z=0;Z<I;Z++)P[D+Z]!==0&&(z[ge[P[D+Z]]++]=Z);if(A=N===0?(ne=se=z,19):N===1?(ne=x,le-=257,se=v,fe-=257,256):(ne=_,se=k,-1),Y=te,E=L,V=Z=oe=0,C=-1,w=(re=1<<(K=ee))-1,N===1&&852<re||N===2&&592<re)return 1;for(;;){for(j=Y-V,q=z[Z]<A?(R=0,z[Z]):z[Z]>A?(R=se[fe+z[Z]],ne[le+z[Z]]):(R=96,0),O=1<<Y-V,te=F=1<<K;B[E+(oe>>V)+(F-=O)]=j<<24|R<<16|q|0,F!==0;);for(O=1<<Y-1;oe&O;)O>>=1;if(O!==0?(oe&=O-1,oe+=O):oe=0,Z++,--me[Y]==0){if(Y===W)break;Y=P[D+z[Z]]}if(ee<Y&&(oe&w)!==C){for(V===0&&(V=ee),E+=te,Q=1<<(K=Y-V);K+V<W&&!((Q-=me[K+V])<=0);)K++,Q<<=1;if(re+=1<<K,N===1&&852<re||N===2&&592<re)return 1;B[C=oe&w]=ee<<24|K<<16|E-L|0}}return oe!==0&&(B[E+oe]=Y-V<<24|64<<16|0),$.bits=ee,0}},{"../utils/common":41}],51:[function(d,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,g,y){var m=d("../utils/common");function x(se){for(var fe=se.length;0<=--fe;)se[fe]=0}var v=256,_=286,k=30,N=15,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);x(L);var z=new Array(60);x(z);var $=new Array(512);x($);var O=new Array(256);x(O);var F=new Array(29);x(F);var C,w,E,A=new Array(k);function j(se,fe,he,ve,xe){this.static_tree=se,this.extra_bits=fe,this.extra_base=he,this.elems=ve,this.max_length=xe,this.has_stree=se&&se.length}function R(se,fe){this.dyn_tree=se,this.max_code=0,this.stat_desc=fe}function q(se){return se<256?$[se]:$[256+(se>>>7)]}function H(se,fe){se.pending_buf[se.pending++]=255&fe,se.pending_buf[se.pending++]=fe>>>8&255}function Y(se,fe,he){se.bi_valid>16-he?(se.bi_buf|=fe<<se.bi_valid&65535,H(se,se.bi_buf),se.bi_buf=fe>>16-se.bi_valid,se.bi_valid+=he-16):(se.bi_buf|=fe<<se.bi_valid&65535,se.bi_valid+=he)}function Z(se,fe,he){Y(se,he[2*fe],he[2*fe+1])}function te(se,fe){for(var he=0;he|=1&se,se>>>=1,he<<=1,0<--fe;);return he>>>1}function W(se,fe,he){var ve,xe,_e=new Array(16),Ne=0;for(ve=1;ve<=N;ve++)_e[ve]=Ne=Ne+he[ve-1]<<1;for(xe=0;xe<=fe;xe++){var Re=se[2*xe+1];Re!==0&&(se[2*xe]=te(_e[Re]++,Re))}}function ee(se){var fe;for(fe=0;fe<_;fe++)se.dyn_ltree[2*fe]=0;for(fe=0;fe<k;fe++)se.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)se.bl_tree[2*fe]=0;se.dyn_ltree[512]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function K(se){8<se.bi_valid?H(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function V(se,fe,he,ve){var xe=2*fe,_e=2*he;return se[xe]<se[_e]||se[xe]===se[_e]&&ve[fe]<=ve[he]}function Q(se,fe,he){for(var ve=se.heap[he],xe=he<<1;xe<=se.heap_len&&(xe<se.heap_len&&V(fe,se.heap[xe+1],se.heap[xe],se.depth)&&xe++,!V(fe,ve,se.heap[xe],se.depth));)se.heap[he]=se.heap[xe],he=xe,xe<<=1;se.heap[he]=ve}function re(se,fe,he){var ve,xe,_e,Ne,Re=0;if(se.last_lit!==0)for(;ve=se.pending_buf[se.d_buf+2*Re]<<8|se.pending_buf[se.d_buf+2*Re+1],xe=se.pending_buf[se.l_buf+Re],Re++,ve===0?Z(se,xe,fe):(Z(se,(_e=O[xe])+v+1,fe),(Ne=P[_e])!==0&&Y(se,xe-=F[_e],Ne),Z(se,_e=q(--ve),he),(Ne=D[_e])!==0&&Y(se,ve-=A[_e],Ne)),Re<se.last_lit;);Z(se,256,fe)}function oe(se,fe){var he,ve,xe,_e=fe.dyn_tree,Ne=fe.stat_desc.static_tree,Re=fe.stat_desc.has_stree,$e=fe.stat_desc.elems,tt=-1;for(se.heap_len=0,se.heap_max=573,he=0;he<$e;he++)_e[2*he]!==0?(se.heap[++se.heap_len]=tt=he,se.depth[he]=0):_e[2*he+1]=0;for(;se.heap_len<2;)_e[2*(xe=se.heap[++se.heap_len]=tt<2?++tt:0)]=1,se.depth[xe]=0,se.opt_len--,Re&&(se.static_len-=Ne[2*xe+1]);for(fe.max_code=tt,he=se.heap_len>>1;1<=he;he--)Q(se,_e,he);for(xe=$e;he=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Q(se,_e,1),ve=se.heap[1],se.heap[--se.heap_max]=he,se.heap[--se.heap_max]=ve,_e[2*xe]=_e[2*he]+_e[2*ve],se.depth[xe]=(se.depth[he]>=se.depth[ve]?se.depth[he]:se.depth[ve])+1,_e[2*he+1]=_e[2*ve+1]=xe,se.heap[1]=xe++,Q(se,_e,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],(function(et,Ye){var wt,bt,yt,_t,Ze,Ue,at=Ye.dyn_tree,st=Ye.max_code,rt=Ye.stat_desc.static_tree,Wt=Ye.stat_desc.has_stree,yr=Ye.stat_desc.extra_bits,vt=Ye.stat_desc.extra_base,ir=Ye.stat_desc.max_length,At=0;for(_t=0;_t<=N;_t++)et.bl_count[_t]=0;for(at[2*et.heap[et.heap_max]+1]=0,wt=et.heap_max+1;wt<573;wt++)ir<(_t=at[2*at[2*(bt=et.heap[wt])+1]+1]+1)&&(_t=ir,At++),at[2*bt+1]=_t,st<bt||(et.bl_count[_t]++,Ze=0,vt<=bt&&(Ze=yr[bt-vt]),Ue=at[2*bt],et.opt_len+=Ue*(_t+Ze),Wt&&(et.static_len+=Ue*(rt[2*bt+1]+Ze)));if(At!==0){do{for(_t=ir-1;et.bl_count[_t]===0;)_t--;et.bl_count[_t]--,et.bl_count[_t+1]+=2,et.bl_count[ir]--,At-=2}while(0<At);for(_t=ir;_t!==0;_t--)for(bt=et.bl_count[_t];bt!==0;)st<(yt=et.heap[--wt])||(at[2*yt+1]!==_t&&(et.opt_len+=(_t-at[2*yt+1])*at[2*yt],at[2*yt+1]=_t),bt--)}})(se,fe),W(_e,tt,se.bl_count)}function ne(se,fe,he){var ve,xe,_e=-1,Ne=fe[1],Re=0,$e=7,tt=4;for(Ne===0&&($e=138,tt=3),fe[2*(he+1)+1]=65535,ve=0;ve<=he;ve++)xe=Ne,Ne=fe[2*(ve+1)+1],++Re<$e&&xe===Ne||(Re<tt?se.bl_tree[2*xe]+=Re:xe!==0?(xe!==_e&&se.bl_tree[2*xe]++,se.bl_tree[32]++):Re<=10?se.bl_tree[34]++:se.bl_tree[36]++,_e=xe,tt=(Re=0)===Ne?($e=138,3):xe===Ne?($e=6,3):($e=7,4))}function le(se,fe,he){var ve,xe,_e=-1,Ne=fe[1],Re=0,$e=7,tt=4;for(Ne===0&&($e=138,tt=3),ve=0;ve<=he;ve++)if(xe=Ne,Ne=fe[2*(ve+1)+1],!(++Re<$e&&xe===Ne)){if(Re<tt)for(;Z(se,xe,se.bl_tree),--Re!=0;);else xe!==0?(xe!==_e&&(Z(se,xe,se.bl_tree),Re--),Z(se,16,se.bl_tree),Y(se,Re-3,2)):Re<=10?(Z(se,17,se.bl_tree),Y(se,Re-3,3)):(Z(se,18,se.bl_tree),Y(se,Re-11,7));_e=xe,tt=(Re=0)===Ne?($e=138,3):xe===Ne?($e=6,3):($e=7,4)}}x(A);var me=!1;function ge(se,fe,he,ve){Y(se,0+(ve?1:0),3),(function(xe,_e,Ne,Re){K(xe),H(xe,Ne),H(xe,~Ne),m.arraySet(xe.pending_buf,xe.window,_e,Ne,xe.pending),xe.pending+=Ne})(se,fe,he)}y._tr_init=function(se){me||((function(){var fe,he,ve,xe,_e,Ne=new Array(16);for(xe=ve=0;xe<28;xe++)for(F[xe]=ve,fe=0;fe<1<<P[xe];fe++)O[ve++]=xe;for(O[ve-1]=xe,xe=_e=0;xe<16;xe++)for(A[xe]=_e,fe=0;fe<1<<D[xe];fe++)$[_e++]=xe;for(_e>>=7;xe<k;xe++)for(A[xe]=_e<<7,fe=0;fe<1<<D[xe]-7;fe++)$[256+_e++]=xe;for(he=0;he<=N;he++)Ne[he]=0;for(fe=0;fe<=143;)L[2*fe+1]=8,fe++,Ne[8]++;for(;fe<=255;)L[2*fe+1]=9,fe++,Ne[9]++;for(;fe<=279;)L[2*fe+1]=7,fe++,Ne[7]++;for(;fe<=287;)L[2*fe+1]=8,fe++,Ne[8]++;for(W(L,287,Ne),fe=0;fe<k;fe++)z[2*fe+1]=5,z[2*fe]=te(fe,5);C=new j(L,P,257,_,N),w=new j(z,D,0,k,N),E=new j(new Array(0),I,0,19,7)})(),me=!0),se.l_desc=new R(se.dyn_ltree,C),se.d_desc=new R(se.dyn_dtree,w),se.bl_desc=new R(se.bl_tree,E),se.bi_buf=0,se.bi_valid=0,ee(se)},y._tr_stored_block=ge,y._tr_flush_block=function(se,fe,he,ve){var xe,_e,Ne=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=(function(Re){var $e,tt=4093624447;for($e=0;$e<=31;$e++,tt>>>=1)if(1&tt&&Re.dyn_ltree[2*$e]!==0)return 0;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return 1;for($e=32;$e<v;$e++)if(Re.dyn_ltree[2*$e]!==0)return 1;return 0})(se)),oe(se,se.l_desc),oe(se,se.d_desc),Ne=(function(Re){var $e;for(ne(Re,Re.dyn_ltree,Re.l_desc.max_code),ne(Re,Re.dyn_dtree,Re.d_desc.max_code),oe(Re,Re.bl_desc),$e=18;3<=$e&&Re.bl_tree[2*B[$e]+1]===0;$e--);return Re.opt_len+=3*($e+1)+5+5+4,$e})(se),xe=se.opt_len+3+7>>>3,(_e=se.static_len+3+7>>>3)<=xe&&(xe=_e)):xe=_e=he+5,he+4<=xe&&fe!==-1?ge(se,fe,he,ve):se.strategy===4||_e===xe?(Y(se,2+(ve?1:0),3),re(se,L,z)):(Y(se,4+(ve?1:0),3),(function(Re,$e,tt,et){var Ye;for(Y(Re,$e-257,5),Y(Re,tt-1,5),Y(Re,et-4,4),Ye=0;Ye<et;Ye++)Y(Re,Re.bl_tree[2*B[Ye]+1],3);le(Re,Re.dyn_ltree,$e-1),le(Re,Re.dyn_dtree,tt-1)})(se,se.l_desc.max_code+1,se.d_desc.max_code+1,Ne+1),re(se,se.dyn_ltree,se.dyn_dtree)),ee(se),ve&&K(se)},y._tr_tally=function(se,fe,he){return se.pending_buf[se.d_buf+2*se.last_lit]=fe>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&fe,se.pending_buf[se.l_buf+se.last_lit]=255&he,se.last_lit++,fe===0?se.dyn_ltree[2*he]++:(se.matches++,fe--,se.dyn_ltree[2*(O[he]+v+1)]++,se.dyn_dtree[2*q(fe)]++),se.last_lit===se.lit_bufsize-1},y._tr_align=function(se){Y(se,2,3),Z(se,256,L),(function(fe){fe.bi_valid===16?(H(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(se)}},{"../utils/common":41}],53:[function(d,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,g,y){(function(m){(function(x,v){if(!x.setImmediate){var _,k,N,P,D=1,I={},B=!1,L=x.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(x);z=z&&z.setTimeout?z:x,_={}.toString.call(x.process)==="[object process]"?function(C){a.nextTick((function(){O(C)}))}:(function(){if(x.postMessage&&!x.importScripts){var C=!0,w=x.onmessage;return x.onmessage=function(){C=!1},x.postMessage("","*"),x.onmessage=w,C}})()?(P="setImmediate$"+Math.random()+"$",x.addEventListener?x.addEventListener("message",F,!1):x.attachEvent("onmessage",F),function(C){x.postMessage(P+C,"*")}):x.MessageChannel?((N=new MessageChannel).port1.onmessage=function(C){O(C.data)},function(C){N.port2.postMessage(C)}):L&&"onreadystatechange"in L.createElement("script")?(k=L.documentElement,function(C){var w=L.createElement("script");w.onreadystatechange=function(){O(C),w.onreadystatechange=null,k.removeChild(w),w=null},k.appendChild(w)}):function(C){setTimeout(O,0,C)},z.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var w=new Array(arguments.length-1),E=0;E<w.length;E++)w[E]=arguments[E+1];var A={callback:C,args:w};return I[D]=A,_(D),D++},z.clearImmediate=$}function $(C){delete I[C]}function O(C){if(B)setTimeout(O,0,C);else{var w=I[C];if(w){B=!0;try{(function(E){var A=E.callback,j=E.args;switch(j.length){case 0:A();break;case 1:A(j[0]);break;case 2:A(j[0],j[1]);break;case 3:A(j[0],j[1],j[2]);break;default:A.apply(void 0,j)}})(w)}finally{$(C),B=!1}}}}function F(C){C.source===x&&typeof C.data=="string"&&C.data.indexOf(P)===0&&O(+C.data.slice(P.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,n,i){(function(a){(function(){var s=/[\\^$.*+?()[\]{}|]/g,c=RegExp(s.source),l=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,u=l||o||Function("return this")(),f=Object.prototype.toString,h=u.Symbol,d=h?h.prototype:void 0,g=d?d.toString:void 0;function y(m){if(typeof m=="string")return m;if((function(v){return typeof v=="symbol"||(function(_){return!!_&&typeof _=="object"})(v)&&f.call(v)=="[object Symbol]"})(m))return g?g.call(m):"";var x=m+"";return x=="0"&&1/m==-1/0?"-0":x}n.exports=function(m){var x;return(m=(x=m)==null?"":y(x))&&c.test(m)?m.replace(s,"\\$&"):m}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,n,i){(function(a){(function(){var s="[object Arguments]",c="[object Map]",l="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[s]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x[c]=x["[object Number]"]=x[l]=x["[object RegExp]"]=x[o]=x["[object String]"]=x["[object WeakMap]"]=!1;var v=typeof a=="object"&&a&&a.Object===Object&&a,_=typeof self=="object"&&self&&self.Object===Object&&self,k=v||_||Function("return this")(),N=typeof i=="object"&&i&&!i.nodeType&&i,P=N&&typeof n=="object"&&n&&!n.nodeType&&n,D=P&&P.exports===N&&v.process,I=(function(){try{return D&&D.binding("util")}catch{}})(),B=I&&I.isTypedArray;function L(de,Ae,Fe,qe){for(var lt=-1,We=de?de.length:0;++lt<We;){var Xe=de[lt];Ae(qe,Xe,Fe(Xe),de)}return qe}function z(de,Ae){for(var Fe=-1,qe=de?de.length:0;++Fe<qe;)if(Ae(de[Fe],Fe,de))return!0;return!1}function $(de){var Ae=!1;if(de!=null&&typeof de.toString!="function")try{Ae=!!(de+"")}catch{}return Ae}function O(de){var Ae=-1,Fe=Array(de.size);return de.forEach((function(qe,lt){Fe[++Ae]=[lt,qe]})),Fe}function F(de){var Ae=-1,Fe=Array(de.size);return de.forEach((function(qe){Fe[++Ae]=qe})),Fe}var C,w,E,A=Array.prototype,j=Function.prototype,R=Object.prototype,q=k["__core-js_shared__"],H=(C=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",Y=j.toString,Z=R.hasOwnProperty,te=R.toString,W=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=k.Symbol,K=k.Uint8Array,V=R.propertyIsEnumerable,Q=A.splice,re=(w=Object.keys,E=Object,function(de){return w(E(de))}),oe=Ot(k,"DataView"),ne=Ot(k,"Map"),le=Ot(k,"Promise"),me=Ot(k,"Set"),ge=Ot(k,"WeakMap"),se=Ot(Object,"create"),fe=Te(oe),he=Te(ne),ve=Te(le),xe=Te(me),_e=Te(ge),Ne=ee?ee.prototype:void 0,Re=Ne?Ne.valueOf:void 0,$e=Ne?Ne.toString:void 0;function tt(de){var Ae=-1,Fe=de?de.length:0;for(this.clear();++Ae<Fe;){var qe=de[Ae];this.set(qe[0],qe[1])}}function et(de){var Ae=-1,Fe=de?de.length:0;for(this.clear();++Ae<Fe;){var qe=de[Ae];this.set(qe[0],qe[1])}}function Ye(de){var Ae=-1,Fe=de?de.length:0;for(this.clear();++Ae<Fe;){var qe=de[Ae];this.set(qe[0],qe[1])}}function wt(de){var Ae=-1,Fe=de?de.length:0;for(this.__data__=new Ye;++Ae<Fe;)this.add(de[Ae])}function bt(de){this.__data__=new et(de)}function yt(de,Ae){var Fe=mt(de)||ft(de)?(function(Xe,er){for(var qt=-1,Ht=Array(Xe);++qt<Xe;)Ht[qt]=er(qt);return Ht})(de.length,String):[],qe=Fe.length,lt=!!qe;for(var We in de)!Z.call(de,We)||lt&&(We=="length"||ur(We,qe))||Fe.push(We);return Fe}function _t(de,Ae){for(var Fe=de.length;Fe--;)if(Ge(de[Fe][0],Ae))return Fe;return-1}function Ze(de,Ae,Fe,qe){return at(de,(function(lt,We,Xe){Ae(qe,lt,Fe(lt),Xe)})),qe}tt.prototype.clear=function(){this.__data__=se?se(null):{}},tt.prototype.delete=function(de){return this.has(de)&&delete this.__data__[de]},tt.prototype.get=function(de){var Ae=this.__data__;if(se){var Fe=Ae[de];return Fe==="__lodash_hash_undefined__"?void 0:Fe}return Z.call(Ae,de)?Ae[de]:void 0},tt.prototype.has=function(de){var Ae=this.__data__;return se?Ae[de]!==void 0:Z.call(Ae,de)},tt.prototype.set=function(de,Ae){return this.__data__[de]=se&&Ae===void 0?"__lodash_hash_undefined__":Ae,this},et.prototype.clear=function(){this.__data__=[]},et.prototype.delete=function(de){var Ae=this.__data__,Fe=_t(Ae,de);return!(Fe<0)&&(Fe==Ae.length-1?Ae.pop():Q.call(Ae,Fe,1),!0)},et.prototype.get=function(de){var Ae=this.__data__,Fe=_t(Ae,de);return Fe<0?void 0:Ae[Fe][1]},et.prototype.has=function(de){return _t(this.__data__,de)>-1},et.prototype.set=function(de,Ae){var Fe=this.__data__,qe=_t(Fe,de);return qe<0?Fe.push([de,Ae]):Fe[qe][1]=Ae,this},Ye.prototype.clear=function(){this.__data__={hash:new tt,map:new(ne||et),string:new tt}},Ye.prototype.delete=function(de){return Gt(this,de).delete(de)},Ye.prototype.get=function(de){return Gt(this,de).get(de)},Ye.prototype.has=function(de){return Gt(this,de).has(de)},Ye.prototype.set=function(de,Ae){return Gt(this,de).set(de,Ae),this},wt.prototype.add=wt.prototype.push=function(de){return this.__data__.set(de,"__lodash_hash_undefined__"),this},wt.prototype.has=function(de){return this.__data__.has(de)},bt.prototype.clear=function(){this.__data__=new et},bt.prototype.delete=function(de){return this.__data__.delete(de)},bt.prototype.get=function(de){return this.__data__.get(de)},bt.prototype.has=function(de){return this.__data__.has(de)},bt.prototype.set=function(de,Ae){var Fe=this.__data__;if(Fe instanceof et){var qe=Fe.__data__;if(!ne||qe.length<199)return qe.push([de,Ae]),this;Fe=this.__data__=new Ye(qe)}return Fe.set(de,Ae),this};var Ue,at=(Ue=function(de,Ae){return de&&st(de,Ae,Mr)},function(de,Ae){if(de==null)return de;if(!pt(de))return Ue(de,Ae);for(var Fe=de.length,qe=-1,lt=Object(de);++qe<Fe&&Ae(lt[qe],qe,lt)!==!1;);return de}),st=(function(de){return function(Ae,Fe,qe){for(var lt=-1,We=Object(Ae),Xe=qe(Ae),er=Xe.length;er--;){var qt=Xe[++lt];if(Fe(We[qt],qt,We)===!1)break}return Ae}})();function rt(de,Ae){for(var Fe=0,qe=(Ae=Mt(Ae,de)?[Ae]:jt(Ae)).length;de!=null&&Fe<qe;)de=de[we(Ae[Fe++])];return Fe&&Fe==qe?de:void 0}function Wt(de,Ae){return de!=null&&Ae in Object(de)}function yr(de,Ae,Fe,qe,lt){return de===Ae||(de==null||Ae==null||!Ut(de)&&!Or(Ae)?de!=de&&Ae!=Ae:(function(We,Xe,er,qt,Ht,Ct){var mr=mt(We),Xt=mt(Xe),$t="[object Array]",tr="[object Array]";mr||($t=($t=sr(We))==s?l:$t),Xt||(tr=(tr=sr(Xe))==s?l:tr);var Ur=$t==l&&!$(We),yn=tr==l&&!$(Xe),rr=$t==tr;if(rr&&!Ur)return Ct||(Ct=new bt),mr||Nr(We)?cr(We,Xe,er,qt,Ht,Ct):(function(gr,fr,Ti,ri,ys,hn,an){switch(Ti){case"[object DataView]":if(gr.byteLength!=fr.byteLength||gr.byteOffset!=fr.byteOffset)return!1;gr=gr.buffer,fr=fr.buffer;case"[object ArrayBuffer]":return!(gr.byteLength!=fr.byteLength||!ri(new K(gr),new K(fr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ge(+gr,+fr);case"[object Error]":return gr.name==fr.name&&gr.message==fr.message;case"[object RegExp]":case"[object String]":return gr==fr+"";case c:var Ri=O;case o:var _a=2&hn;if(Ri||(Ri=F),gr.size!=fr.size&&!_a)return!1;var Ka=an.get(gr);if(Ka)return Ka==fr;hn|=1,an.set(gr,fr);var Ii=cr(Ri(gr),Ri(fr),ri,ys,hn,an);return an.delete(gr),Ii;case"[object Symbol]":if(Re)return Re.call(gr)==Re.call(fr)}return!1})(We,Xe,$t,er,qt,Ht,Ct);if(!(2&Ht)){var mi=Ur&&Z.call(We,"__wrapped__"),Yn=yn&&Z.call(Xe,"__wrapped__");if(mi||Yn){var Ei=mi?We.value():We,vn=Yn?Xe.value():Xe;return Ct||(Ct=new bt),er(Ei,vn,qt,Ht,Ct)}}return rr?(Ct||(Ct=new bt),(function(gr,fr,Ti,ri,ys,hn){var an=2&ys,Ri=Mr(gr),_a=Ri.length,Ka=Mr(fr).length;if(_a!=Ka&&!an)return!1;for(var Ii=_a;Ii--;){var Pi=Ri[Ii];if(!(an?Pi in fr:Z.call(fr,Pi)))return!1}var Sa=hn.get(gr);if(Sa&&hn.get(fr))return Sa==fr;var Aa=!0;hn.set(gr,fr),hn.set(fr,gr);for(var vs=an;++Ii<_a;){Pi=Ri[Ii];var Ga=gr[Pi],An=fr[Pi];if(ri)var Ea=an?ri(An,Ga,Pi,fr,gr,hn):ri(Ga,An,Pi,gr,fr,hn);if(!(Ea===void 0?Ga===An||Ti(Ga,An,ri,ys,hn):Ea)){Aa=!1;break}vs||(vs=Pi=="constructor")}if(Aa&&!vs){var Ta=gr.constructor,Di=fr.constructor;Ta==Di||!("constructor"in gr)||!("constructor"in fr)||typeof Ta=="function"&&Ta instanceof Ta&&typeof Di=="function"&&Di instanceof Di||(Aa=!1)}return hn.delete(gr),hn.delete(fr),Aa})(We,Xe,er,qt,Ht,Ct)):!1})(de,Ae,yr,Fe,qe,lt))}function vt(de){return!(!Ut(de)||(function(Ae){return!!H&&H in Ae})(de))&&(Bt(de)||$(de)?W:y).test(Te(de))}function ir(de){return typeof de=="function"?de:de==null?Gr:typeof de=="object"?mt(de)?(function(qe,lt){return Mt(qe)&&or(lt)?vr(we(qe),lt):function(We){var Xe=(function(er,qt,Ht){var Ct=er==null?void 0:rt(er,qt);return Ct===void 0?Ht:Ct})(We,qe);return Xe===void 0&&Xe===lt?(function(er,qt){return er!=null&&(function(Ht,Ct,mr){Ct=Mt(Ct,Ht)?[Ct]:jt(Ct);for(var Xt,$t=-1,tr=Ct.length;++$t<tr;){var Ur=we(Ct[$t]);if(!(Xt=Ht!=null&&mr(Ht,Ur)))break;Ht=Ht[Ur]}return Xt||!!(tr=Ht?Ht.length:0)&&Pt(tr)&&ur(Ur,tr)&&(mt(Ht)||ft(Ht))})(er,qt,Wt)})(We,qe):yr(lt,Xe,void 0,3)}})(de[0],de[1]):(function(qe){var lt=(function(We){for(var Xe=Mr(We),er=Xe.length;er--;){var qt=Xe[er],Ht=We[qt];Xe[er]=[qt,Ht,or(Ht)]}return Xe})(qe);return lt.length==1&&lt[0][2]?vr(lt[0][0],lt[0][1]):function(We){return We===qe||(function(Xe,er,qt,Ht){var Ct=qt.length,mr=Ct;if(Xe==null)return!mr;for(Xe=Object(Xe);Ct--;){var Xt=qt[Ct];if(Xt[2]?Xt[1]!==Xe[Xt[0]]:!(Xt[0]in Xe))return!1}for(;++Ct<mr;){var $t=(Xt=qt[Ct])[0],tr=Xe[$t],Ur=Xt[1];if(Xt[2]){if(tr===void 0&&!($t in Xe))return!1}else{var yn=new bt,rr;if(!(rr===void 0?yr(Ur,tr,Ht,3,yn):rr))return!1}}return!0})(We,qe,lt)}})(de):Mt(Ae=de)?(Fe=we(Ae),function(qe){return qe==null?void 0:qe[Fe]}):(function(qe){return function(lt){return rt(lt,qe)}})(Ae);var Ae,Fe}function At(de){if(Fe=(Ae=de)&&Ae.constructor,qe=typeof Fe=="function"&&Fe.prototype||R,Ae!==qe)return re(de);var Ae,Fe,qe,lt=[];for(var We in Object(de))Z.call(de,We)&&We!="constructor"&&lt.push(We);return lt}function jt(de){return mt(de)?de:Dt(de)}function cr(de,Ae,Fe,qe,lt,We){var Xe=2&lt,er=de.length,qt=Ae.length;if(er!=qt&&!(Xe&&qt>er))return!1;var Ht=We.get(de);if(Ht&&We.get(Ae))return Ht==Ae;var Ct=-1,mr=!0,Xt=1&lt?new wt:void 0;for(We.set(de,Ae),We.set(Ae,de);++Ct<er;){var $t=de[Ct],tr=Ae[Ct];if(qe)var Ur=Xe?qe(tr,$t,Ct,Ae,de,We):qe($t,tr,Ct,de,Ae,We);if(Ur!==void 0){if(Ur)continue;mr=!1;break}if(Xt){if(!z(Ae,(function(yn,rr){if(!Xt.has(rr)&&($t===yn||Fe($t,yn,qe,lt,We)))return Xt.add(rr)}))){mr=!1;break}}else if($t!==tr&&!Fe($t,tr,qe,lt,We)){mr=!1;break}}return We.delete(de),We.delete(Ae),mr}function Gt(de,Ae){var Fe,qe,lt=de.__data__;return((qe=typeof(Fe=Ae))=="string"||qe=="number"||qe=="symbol"||qe=="boolean"?Fe!=="__proto__":Fe===null)?lt[typeof Ae=="string"?"string":"hash"]:lt.map}function Ot(de,Ae){var Fe=(function(qe,lt){return qe==null?void 0:qe[lt]})(de,Ae);return vt(Fe)?Fe:void 0}var sr=function(de){return te.call(de)};function ur(de,Ae){return!!(Ae=Ae??9007199254740991)&&(typeof de=="number"||m.test(de))&&de>-1&&de%1==0&&de<Ae}function Mt(de,Ae){if(mt(de))return!1;var Fe=typeof de;return!(Fe!="number"&&Fe!="symbol"&&Fe!="boolean"&&de!=null&&!xr(de))||f.test(de)||!u.test(de)||Ae!=null&&de in Object(Ae)}function or(de){return de==de&&!Ut(de)}function vr(de,Ae){return function(Fe){return Fe!=null&&Fe[de]===Ae&&(Ae!==void 0||de in Object(Fe))}}(oe&&sr(new oe(new ArrayBuffer(1)))!="[object DataView]"||ne&&sr(new ne)!=c||le&&sr(le.resolve())!="[object Promise]"||me&&sr(new me)!=o||ge&&sr(new ge)!="[object WeakMap]")&&(sr=function(de){var Ae=te.call(de),Fe=Ae==l?de.constructor:void 0,qe=Fe?Te(Fe):void 0;if(qe)switch(qe){case fe:return"[object DataView]";case he:return c;case ve:return"[object Promise]";case xe:return o;case _e:return"[object WeakMap]"}return Ae});var Dt=ct((function(de){var Ae;de=(Ae=de)==null?"":(function(qe){if(typeof qe=="string")return qe;if(xr(qe))return $e?$e.call(qe):"";var lt=qe+"";return lt=="0"&&1/qe==-1/0?"-0":lt})(Ae);var Fe=[];return h.test(de)&&Fe.push(""),de.replace(d,(function(qe,lt,We,Xe){Fe.push(We?Xe.replace(g,"$1"):lt||qe)})),Fe}));function we(de){if(typeof de=="string"||xr(de))return de;var Ae=de+"";return Ae=="0"&&1/de==-1/0?"-0":Ae}function Te(de){if(de!=null){try{return Y.call(de)}catch{}try{return de+""}catch{}}return""}var Pe,Je=(Pe=function(de,Ae,Fe){Z.call(de,Fe)?de[Fe].push(Ae):de[Fe]=[Ae]},function(de,Ae){var Fe=mt(de)?L:Ze,qe={};return Fe(de,Pe,ir(Ae),qe)});function ct(de,Ae){if(typeof de!="function"||Ae&&typeof Ae!="function")throw new TypeError("Expected a function");var Fe=function(){var qe=arguments,lt=Ae?Ae.apply(this,qe):qe[0],We=Fe.cache;if(We.has(lt))return We.get(lt);var Xe=de.apply(this,qe);return Fe.cache=We.set(lt,Xe),Xe};return Fe.cache=new(ct.Cache||Ye),Fe}function Ge(de,Ae){return de===Ae||de!=de&&Ae!=Ae}function ft(de){return(function(Ae){return Or(Ae)&&pt(Ae)})(de)&&Z.call(de,"callee")&&(!V.call(de,"callee")||te.call(de)==s)}ct.Cache=Ye;var mt=Array.isArray;function pt(de){return de!=null&&Pt(de.length)&&!Bt(de)}function Bt(de){var Ae=Ut(de)?te.call(de):"";return Ae=="[object Function]"||Ae=="[object GeneratorFunction]"}function Pt(de){return typeof de=="number"&&de>-1&&de%1==0&&de<=9007199254740991}function Ut(de){var Ae=typeof de;return!!de&&(Ae=="object"||Ae=="function")}function Or(de){return!!de&&typeof de=="object"}function xr(de){return typeof de=="symbol"||Or(de)&&te.call(de)=="[object Symbol]"}var Nr=B?(function(de){return function(Ae){return de(Ae)}})(B):function(de){return Or(de)&&Pt(de.length)&&!!x[te.call(de)]};function Mr(de){return pt(de)?yt(de):At(de)}function Gr(de){return de}n.exports=Je}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,n,i){var a=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||(function(c){return!!c&&typeof c=="object"})(s)&&a.call(s)=="[object Boolean]"}},{}],445:[function(t,n,i){(function(a){(function(){var s="[object Arguments]",c="[object Map]",l="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[s]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[c]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[o]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof a=="object"&&a&&a.Object===Object&&a,g=typeof self=="object"&&self&&self.Object===Object&&self,y=d||g||Function("return this")(),m=typeof i=="object"&&i&&!i.nodeType&&i,x=m&&typeof n=="object"&&n&&!n.nodeType&&n,v=x&&x.exports===m,_=v&&d.process,k=(function(){try{return _&&_.binding&&_.binding("util")}catch{}})(),N=k&&k.isTypedArray;function P(we,Te){for(var Pe=-1,Je=we==null?0:we.length;++Pe<Je;)if(Te(we[Pe],Pe,we))return!0;return!1}function D(we){var Te=-1,Pe=Array(we.size);return we.forEach((function(Je,ct){Pe[++Te]=[ct,Je]})),Pe}function I(we){var Te=-1,Pe=Array(we.size);return we.forEach((function(Je){Pe[++Te]=Je})),Pe}var B,L,z,$=Array.prototype,O=Function.prototype,F=Object.prototype,C=y["__core-js_shared__"],w=O.toString,E=F.hasOwnProperty,A=(B=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",j=F.toString,R=RegExp("^"+w.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=v?y.Buffer:void 0,H=y.Symbol,Y=y.Uint8Array,Z=F.propertyIsEnumerable,te=$.splice,W=H?H.toStringTag:void 0,ee=Object.getOwnPropertySymbols,K=q?q.isBuffer:void 0,V=(L=Object.keys,z=Object,function(we){return L(z(we))}),Q=Wt(y,"DataView"),re=Wt(y,"Map"),oe=Wt(y,"Promise"),ne=Wt(y,"Set"),le=Wt(y,"WeakMap"),me=Wt(Object,"create"),ge=At(Q),se=At(re),fe=At(oe),he=At(ne),ve=At(le),xe=H?H.prototype:void 0,_e=xe?xe.valueOf:void 0;function Ne(we){var Te=-1,Pe=we==null?0:we.length;for(this.clear();++Te<Pe;){var Je=we[Te];this.set(Je[0],Je[1])}}function Re(we){var Te=-1,Pe=we==null?0:we.length;for(this.clear();++Te<Pe;){var Je=we[Te];this.set(Je[0],Je[1])}}function $e(we){var Te=-1,Pe=we==null?0:we.length;for(this.clear();++Te<Pe;){var Je=we[Te];this.set(Je[0],Je[1])}}function tt(we){var Te=-1,Pe=we==null?0:we.length;for(this.__data__=new $e;++Te<Pe;)this.add(we[Te])}function et(we){var Te=this.__data__=new Re(we);this.size=Te.size}function Ye(we,Te){var Pe=Gt(we),Je=!Pe&&cr(we),ct=!Pe&&!Je&&Ot(we),Ge=!Pe&&!Je&&!ct&&vr(we),ft=Pe||Je||ct||Ge,mt=ft?(function(Pt,Ut){for(var Or=-1,xr=Array(Pt);++Or<Pt;)xr[Or]=Ut(Or);return xr})(we.length,String):[],pt=mt.length;for(var Bt in we)!E.call(we,Bt)||ft&&(Bt=="length"||ct&&(Bt=="offset"||Bt=="parent")||Ge&&(Bt=="buffer"||Bt=="byteLength"||Bt=="byteOffset")||ir(Bt,pt))||mt.push(Bt);return mt}function wt(we,Te){for(var Pe=we.length;Pe--;)if(jt(we[Pe][0],Te))return Pe;return-1}function bt(we){return we==null?we===void 0?"[object Undefined]":"[object Null]":W&&W in Object(we)?(function(Te){var Pe=E.call(Te,W),Je=Te[W];try{Te[W]=void 0;var ct=!0}catch{}var Ge=j.call(Te);return ct&&(Pe?Te[W]=Je:delete Te[W]),Ge})(we):(function(Te){return j.call(Te)})(we)}function yt(we){return or(we)&&bt(we)==s}function _t(we,Te,Pe,Je,ct){return we===Te||(we==null||Te==null||!or(we)&&!or(Te)?we!=we&&Te!=Te:(function(Ge,ft,mt,pt,Bt,Pt){var Ut=Gt(Ge),Or=Gt(ft),xr=Ut?"[object Array]":vt(Ge),Nr=Or?"[object Array]":vt(ft),Mr=(xr=xr==s?l:xr)==l,Gr=(Nr=Nr==s?l:Nr)==l,de=xr==Nr;if(de&&Ot(Ge)){if(!Ot(ft))return!1;Ut=!0,Mr=!1}if(de&&!Mr)return Pt||(Pt=new et),Ut||vr(Ge)?at(Ge,ft,mt,pt,Bt,Pt):(function(We,Xe,er,qt,Ht,Ct,mr){switch(er){case"[object DataView]":if(We.byteLength!=Xe.byteLength||We.byteOffset!=Xe.byteOffset)return!1;We=We.buffer,Xe=Xe.buffer;case"[object ArrayBuffer]":return!(We.byteLength!=Xe.byteLength||!Ct(new Y(We),new Y(Xe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jt(+We,+Xe);case"[object Error]":return We.name==Xe.name&&We.message==Xe.message;case"[object RegExp]":case"[object String]":return We==Xe+"";case c:var Xt=D;case o:var $t=1&qt;if(Xt||(Xt=I),We.size!=Xe.size&&!$t)return!1;var tr=mr.get(We);if(tr)return tr==Xe;qt|=2,mr.set(We,Xe);var Ur=at(Xt(We),Xt(Xe),qt,Ht,Ct,mr);return mr.delete(We),Ur;case"[object Symbol]":if(_e)return _e.call(We)==_e.call(Xe)}return!1})(Ge,ft,xr,mt,pt,Bt,Pt);if(!(1&mt)){var Ae=Mr&&E.call(Ge,"__wrapped__"),Fe=Gr&&E.call(ft,"__wrapped__");if(Ae||Fe){var qe=Ae?Ge.value():Ge,lt=Fe?ft.value():ft;return Pt||(Pt=new et),Bt(qe,lt,mt,pt,Pt)}}return de?(Pt||(Pt=new et),(function(We,Xe,er,qt,Ht,Ct){var mr=1&er,Xt=st(We),$t=Xt.length,tr=st(Xe).length;if($t!=tr&&!mr)return!1;for(var Ur=$t;Ur--;){var yn=Xt[Ur];if(!(mr?yn in Xe:E.call(Xe,yn)))return!1}var rr=Ct.get(We);if(rr&&Ct.get(Xe))return rr==Xe;var mi=!0;Ct.set(We,Xe),Ct.set(Xe,We);for(var Yn=mr;++Ur<$t;){yn=Xt[Ur];var Ei=We[yn],vn=Xe[yn];if(qt)var gr=mr?qt(vn,Ei,yn,Xe,We,Ct):qt(Ei,vn,yn,We,Xe,Ct);if(!(gr===void 0?Ei===vn||Ht(Ei,vn,er,qt,Ct):gr)){mi=!1;break}Yn||(Yn=yn=="constructor")}if(mi&&!Yn){var fr=We.constructor,Ti=Xe.constructor;fr==Ti||!("constructor"in We)||!("constructor"in Xe)||typeof fr=="function"&&fr instanceof fr&&typeof Ti=="function"&&Ti instanceof Ti||(mi=!1)}return Ct.delete(We),Ct.delete(Xe),mi})(Ge,ft,mt,pt,Bt,Pt)):!1})(we,Te,Pe,Je,_t,ct))}function Ze(we){return!(!Mt(we)||(function(Te){return!!A&&A in Te})(we))&&(sr(we)?R:u).test(At(we))}function Ue(we){if(Pe=(Te=we)&&Te.constructor,Je=typeof Pe=="function"&&Pe.prototype||F,Te!==Je)return V(we);var Te,Pe,Je,ct=[];for(var Ge in Object(we))E.call(we,Ge)&&Ge!="constructor"&&ct.push(Ge);return ct}function at(we,Te,Pe,Je,ct,Ge){var ft=1&Pe,mt=we.length,pt=Te.length;if(mt!=pt&&!(ft&&pt>mt))return!1;var Bt=Ge.get(we);if(Bt&&Ge.get(Te))return Bt==Te;var Pt=-1,Ut=!0,Or=2&Pe?new tt:void 0;for(Ge.set(we,Te),Ge.set(Te,we);++Pt<mt;){var xr=we[Pt],Nr=Te[Pt];if(Je)var Mr=ft?Je(Nr,xr,Pt,Te,we,Ge):Je(xr,Nr,Pt,we,Te,Ge);if(Mr!==void 0){if(Mr)continue;Ut=!1;break}if(Or){if(!P(Te,(function(Gr,de){if(Ae=de,!Or.has(Ae)&&(xr===Gr||ct(xr,Gr,Pe,Je,Ge)))return Or.push(de);var Ae}))){Ut=!1;break}}else if(xr!==Nr&&!ct(xr,Nr,Pe,Je,Ge)){Ut=!1;break}}return Ge.delete(we),Ge.delete(Te),Ut}function st(we){return(function(Te,Pe,Je){var ct=Pe(Te);return Gt(Te)?ct:(function(Ge,ft){for(var mt=-1,pt=ft.length,Bt=Ge.length;++mt<pt;)Ge[Bt+mt]=ft[mt];return Ge})(ct,Je(Te))})(we,Dt,yr)}function rt(we,Te){var Pe,Je,ct=we.__data__;return((Je=typeof(Pe=Te))=="string"||Je=="number"||Je=="symbol"||Je=="boolean"?Pe!=="__proto__":Pe===null)?ct[typeof Te=="string"?"string":"hash"]:ct.map}function Wt(we,Te){var Pe=(function(Je,ct){return Je==null?void 0:Je[ct]})(we,Te);return Ze(Pe)?Pe:void 0}Ne.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Ne.prototype.delete=function(we){var Te=this.has(we)&&delete this.__data__[we];return this.size-=Te?1:0,Te},Ne.prototype.get=function(we){var Te=this.__data__;if(me){var Pe=Te[we];return Pe==="__lodash_hash_undefined__"?void 0:Pe}return E.call(Te,we)?Te[we]:void 0},Ne.prototype.has=function(we){var Te=this.__data__;return me?Te[we]!==void 0:E.call(Te,we)},Ne.prototype.set=function(we,Te){var Pe=this.__data__;return this.size+=this.has(we)?0:1,Pe[we]=me&&Te===void 0?"__lodash_hash_undefined__":Te,this},Re.prototype.clear=function(){this.__data__=[],this.size=0},Re.prototype.delete=function(we){var Te=this.__data__,Pe=wt(Te,we);return!(Pe<0)&&(Pe==Te.length-1?Te.pop():te.call(Te,Pe,1),--this.size,!0)},Re.prototype.get=function(we){var Te=this.__data__,Pe=wt(Te,we);return Pe<0?void 0:Te[Pe][1]},Re.prototype.has=function(we){return wt(this.__data__,we)>-1},Re.prototype.set=function(we,Te){var Pe=this.__data__,Je=wt(Pe,we);return Je<0?(++this.size,Pe.push([we,Te])):Pe[Je][1]=Te,this},$e.prototype.clear=function(){this.size=0,this.__data__={hash:new Ne,map:new(re||Re),string:new Ne}},$e.prototype.delete=function(we){var Te=rt(this,we).delete(we);return this.size-=Te?1:0,Te},$e.prototype.get=function(we){return rt(this,we).get(we)},$e.prototype.has=function(we){return rt(this,we).has(we)},$e.prototype.set=function(we,Te){var Pe=rt(this,we),Je=Pe.size;return Pe.set(we,Te),this.size+=Pe.size==Je?0:1,this},tt.prototype.add=tt.prototype.push=function(we){return this.__data__.set(we,"__lodash_hash_undefined__"),this},tt.prototype.has=function(we){return this.__data__.has(we)},et.prototype.clear=function(){this.__data__=new Re,this.size=0},et.prototype.delete=function(we){var Te=this.__data__,Pe=Te.delete(we);return this.size=Te.size,Pe},et.prototype.get=function(we){return this.__data__.get(we)},et.prototype.has=function(we){return this.__data__.has(we)},et.prototype.set=function(we,Te){var Pe=this.__data__;if(Pe instanceof Re){var Je=Pe.__data__;if(!re||Je.length<199)return Je.push([we,Te]),this.size=++Pe.size,this;Pe=this.__data__=new $e(Je)}return Pe.set(we,Te),this.size=Pe.size,this};var yr=ee?function(we){return we==null?[]:(we=Object(we),(function(Te,Pe){for(var Je=-1,ct=Te==null?0:Te.length,Ge=0,ft=[];++Je<ct;){var mt=Te[Je];Pe(mt,Je,Te)&&(ft[Ge++]=mt)}return ft})(ee(we),(function(Te){return Z.call(we,Te)})))}:function(){return[]},vt=bt;function ir(we,Te){return!!(Te=Te??9007199254740991)&&(typeof we=="number"||f.test(we))&&we>-1&&we%1==0&&we<Te}function At(we){if(we!=null){try{return w.call(we)}catch{}try{return we+""}catch{}}return""}function jt(we,Te){return we===Te||we!=we&&Te!=Te}(Q&&vt(new Q(new ArrayBuffer(1)))!="[object DataView]"||re&&vt(new re)!=c||oe&&vt(oe.resolve())!="[object Promise]"||ne&&vt(new ne)!=o||le&&vt(new le)!="[object WeakMap]")&&(vt=function(we){var Te=bt(we),Pe=Te==l?we.constructor:void 0,Je=Pe?At(Pe):"";if(Je)switch(Je){case ge:return"[object DataView]";case se:return c;case fe:return"[object Promise]";case he:return o;case ve:return"[object WeakMap]"}return Te});var cr=yt((function(){return arguments})())?yt:function(we){return or(we)&&E.call(we,"callee")&&!Z.call(we,"callee")},Gt=Array.isArray,Ot=K||function(){return!1};function sr(we){if(!Mt(we))return!1;var Te=bt(we);return Te=="[object Function]"||Te=="[object GeneratorFunction]"||Te=="[object AsyncFunction]"||Te=="[object Proxy]"}function ur(we){return typeof we=="number"&&we>-1&&we%1==0&&we<=9007199254740991}function Mt(we){var Te=typeof we;return we!=null&&(Te=="object"||Te=="function")}function or(we){return we!=null&&typeof we=="object"}var vr=N?(function(we){return function(Te){return we(Te)}})(N):function(we){return or(we)&&ur(we.length)&&!!h[bt(we)]};function Dt(we){return(Te=we)!=null&&ur(Te.length)&&!sr(Te)?Ye(we):Ue(we);var Te}n.exports=function(we,Te){return _t(we,Te)}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,n,i){(function(a){(function(){var s=typeof a=="object"&&a&&a.Object===Object&&a,c=typeof self=="object"&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,f=o.toString,h=l.Symbol,d=h?h.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":d&&d in Object(y)?(function(m){var x=u.call(m,d),v=m[d];try{m[d]=void 0;var _=!0}catch{}var k=f.call(m);return _&&(x?m[d]=v:delete m[d]),k})(y):(function(m){return f.call(m)})(y)}n.exports=function(y){if(!(function(x){var v=typeof x;return x!=null&&(v=="object"||v=="function")})(y))return!1;var m=g(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,n,i){n.exports=function(a){return a==null}},{}],448:[function(t,n,i){n.exports=function(a){return a===void 0}},{}],449:[function(t,n,i){(function(a){(function(){var s=/^\[object .+?Constructor\]$/,c=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,o=c||l||Function("return this")();function u(H,Y){return!!(H&&H.length)&&(function(Z,te,W){if(te!=te)return(function(V,Q,re,oe){for(var ne=V.length,le=re+-1;++le<ne;)if(Q(V[le],le,V))return le;return-1})(Z,f,W);for(var ee=W-1,K=Z.length;++ee<K;)if(Z[ee]===te)return ee;return-1})(H,Y,0)>-1}function f(H){return H!=H}function h(H,Y){return H.has(Y)}function d(H){var Y=-1,Z=Array(H.size);return H.forEach((function(te){Z[++Y]=te})),Z}var g,y=Array.prototype,m=Function.prototype,x=Object.prototype,v=o["__core-js_shared__"],_=(g=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",k=m.toString,N=x.hasOwnProperty,P=x.toString,D=RegExp("^"+k.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=y.splice,B=R(o,"Map"),L=R(o,"Set"),z=R(Object,"create");function $(H){var Y=-1,Z=H?H.length:0;for(this.clear();++Y<Z;){var te=H[Y];this.set(te[0],te[1])}}function O(H){var Y=-1,Z=H?H.length:0;for(this.clear();++Y<Z;){var te=H[Y];this.set(te[0],te[1])}}function F(H){var Y=-1,Z=H?H.length:0;for(this.clear();++Y<Z;){var te=H[Y];this.set(te[0],te[1])}}function C(H){var Y=-1,Z=H?H.length:0;for(this.__data__=new F;++Y<Z;)this.add(H[Y])}function w(H,Y){for(var Z,te,W=H.length;W--;)if((Z=H[W][0])===(te=Y)||Z!=Z&&te!=te)return W;return-1}function E(H){return!(!q(H)||(Y=H,_&&_ in Y))&&((function(Z){var te=q(Z)?P.call(Z):"";return te=="[object Function]"||te=="[object GeneratorFunction]"})(H)||(function(Z){var te=!1;if(Z!=null&&typeof Z.toString!="function")try{te=!!(Z+"")}catch{}return te})(H)?D:s).test((function(Z){if(Z!=null){try{return k.call(Z)}catch{}try{return Z+""}catch{}}return""})(H));var Y}$.prototype.clear=function(){this.__data__=z?z(null):{}},$.prototype.delete=function(H){return this.has(H)&&delete this.__data__[H]},$.prototype.get=function(H){var Y=this.__data__;if(z){var Z=Y[H];return Z==="__lodash_hash_undefined__"?void 0:Z}return N.call(Y,H)?Y[H]:void 0},$.prototype.has=function(H){var Y=this.__data__;return z?Y[H]!==void 0:N.call(Y,H)},$.prototype.set=function(H,Y){return this.__data__[H]=z&&Y===void 0?"__lodash_hash_undefined__":Y,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(H){var Y=this.__data__,Z=w(Y,H);return!(Z<0)&&(Z==Y.length-1?Y.pop():I.call(Y,Z,1),!0)},O.prototype.get=function(H){var Y=this.__data__,Z=w(Y,H);return Z<0?void 0:Y[Z][1]},O.prototype.has=function(H){return w(this.__data__,H)>-1},O.prototype.set=function(H,Y){var Z=this.__data__,te=w(Z,H);return te<0?Z.push([H,Y]):Z[te][1]=Y,this},F.prototype.clear=function(){this.__data__={hash:new $,map:new(B||O),string:new $}},F.prototype.delete=function(H){return j(this,H).delete(H)},F.prototype.get=function(H){return j(this,H).get(H)},F.prototype.has=function(H){return j(this,H).has(H)},F.prototype.set=function(H,Y){return j(this,H).set(H,Y),this},C.prototype.add=C.prototype.push=function(H){return this.__data__.set(H,"__lodash_hash_undefined__"),this},C.prototype.has=function(H){return this.__data__.has(H)};var A=L&&1/d(new L([,-0]))[1]==1/0?function(H){return new L(H)}:function(){};function j(H,Y){var Z,te,W=H.__data__;return((te=typeof(Z=Y))=="string"||te=="number"||te=="symbol"||te=="boolean"?Z!=="__proto__":Z===null)?W[typeof Y=="string"?"string":"hash"]:W.map}function R(H,Y){var Z=(function(te,W){return te==null?void 0:te[W]})(H,Y);return E(Z)?Z:void 0}function q(H){var Y=typeof H;return!!H&&(Y=="object"||Y=="function")}n.exports=function(H){return H&&H.length?(function(Y,Z,te){var W=-1,ee=u,K=Y.length,V=!0,Q=[],re=Q;if(K>=200){var oe=A(Y);if(oe)return d(oe);V=!1,ee=h,re=new C}else re=Q;e:for(;++W<K;){var ne=Y[W],le=ne;if(ne=ne!==0?ne:0,V&&le==le){for(var me=re.length;me--;)if(re[me]===le)continue e;Q.push(ne)}else ee(re,le,te)||(re!==Q&&re.push(le),Q.push(ne))}return Q})(H):[]}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,n,i){var a=t("inherits"),s=t("hash-base"),c=t("safe-buffer").Buffer,l=new Array(16);function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(y,m){return y<<m|y>>>32-m}function f(y,m,x,v,_,k,N){return u(y+(m&x|~m&v)+_+k|0,N)+m|0}function h(y,m,x,v,_,k,N){return u(y+(m&v|x&~v)+_+k|0,N)+m|0}function d(y,m,x,v,_,k,N){return u(y+(m^x^v)+_+k|0,N)+m|0}function g(y,m,x,v,_,k,N){return u(y+(x^(m|~v))+_+k|0,N)+m|0}a(o,s),o.prototype._update=function(){for(var y=l,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var x=this._a,v=this._b,_=this._c,k=this._d;x=f(x,v,_,k,y[0],3614090360,7),k=f(k,x,v,_,y[1],3905402710,12),_=f(_,k,x,v,y[2],606105819,17),v=f(v,_,k,x,y[3],3250441966,22),x=f(x,v,_,k,y[4],4118548399,7),k=f(k,x,v,_,y[5],1200080426,12),_=f(_,k,x,v,y[6],2821735955,17),v=f(v,_,k,x,y[7],4249261313,22),x=f(x,v,_,k,y[8],1770035416,7),k=f(k,x,v,_,y[9],2336552879,12),_=f(_,k,x,v,y[10],4294925233,17),v=f(v,_,k,x,y[11],2304563134,22),x=f(x,v,_,k,y[12],1804603682,7),k=f(k,x,v,_,y[13],4254626195,12),_=f(_,k,x,v,y[14],2792965006,17),x=h(x,v=f(v,_,k,x,y[15],1236535329,22),_,k,y[1],4129170786,5),k=h(k,x,v,_,y[6],3225465664,9),_=h(_,k,x,v,y[11],643717713,14),v=h(v,_,k,x,y[0],3921069994,20),x=h(x,v,_,k,y[5],3593408605,5),k=h(k,x,v,_,y[10],38016083,9),_=h(_,k,x,v,y[15],3634488961,14),v=h(v,_,k,x,y[4],3889429448,20),x=h(x,v,_,k,y[9],568446438,5),k=h(k,x,v,_,y[14],3275163606,9),_=h(_,k,x,v,y[3],4107603335,14),v=h(v,_,k,x,y[8],1163531501,20),x=h(x,v,_,k,y[13],2850285829,5),k=h(k,x,v,_,y[2],4243563512,9),_=h(_,k,x,v,y[7],1735328473,14),x=d(x,v=h(v,_,k,x,y[12],2368359562,20),_,k,y[5],4294588738,4),k=d(k,x,v,_,y[8],2272392833,11),_=d(_,k,x,v,y[11],1839030562,16),v=d(v,_,k,x,y[14],4259657740,23),x=d(x,v,_,k,y[1],2763975236,4),k=d(k,x,v,_,y[4],1272893353,11),_=d(_,k,x,v,y[7],4139469664,16),v=d(v,_,k,x,y[10],3200236656,23),x=d(x,v,_,k,y[13],681279174,4),k=d(k,x,v,_,y[0],3936430074,11),_=d(_,k,x,v,y[3],3572445317,16),v=d(v,_,k,x,y[6],76029189,23),x=d(x,v,_,k,y[9],3654602809,4),k=d(k,x,v,_,y[12],3873151461,11),_=d(_,k,x,v,y[15],530742520,16),x=g(x,v=d(v,_,k,x,y[2],3299628645,23),_,k,y[0],4096336452,6),k=g(k,x,v,_,y[7],1126891415,10),_=g(_,k,x,v,y[14],2878612391,15),v=g(v,_,k,x,y[5],4237533241,21),x=g(x,v,_,k,y[12],1700485571,6),k=g(k,x,v,_,y[3],2399980690,10),_=g(_,k,x,v,y[10],4293915773,15),v=g(v,_,k,x,y[1],2240044497,21),x=g(x,v,_,k,y[8],1873313359,6),k=g(k,x,v,_,y[15],4264355552,10),_=g(_,k,x,v,y[6],2734768916,15),v=g(v,_,k,x,y[13],1309151649,21),x=g(x,v,_,k,y[4],4149444226,6),k=g(k,x,v,_,y[11],3174756917,10),_=g(_,k,x,v,y[2],718787259,15),v=g(v,_,k,x,y[9],3951481745,21),this._a=this._a+x|0,this._b=this._b+v|0,this._c=this._c+_|0,this._d=this._d+k|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=c.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,n,i){var a=t("bn.js"),s=t("brorand");function c(l){this.rand=l||new s.Rand}n.exports=c,c.create=function(l){return new c(l)},c.prototype._randbelow=function(l){var o=l.bitLength(),u=Math.ceil(o/8);do var f=new a(this.rand.generate(u));while(f.cmp(l)>=0);return f},c.prototype._randrange=function(l,o){var u=o.sub(l);return l.add(this._randbelow(u))},c.prototype.test=function(l,o,u){var f=l.bitLength(),h=a.mont(l),d=new a(1).toRed(h);o||(o=Math.max(1,f/48|0));for(var g=l.subn(1),y=0;!g.testn(y);y++);for(var m=l.shrn(y),x=g.toRed(h);o>0;o--){var v=this._randrange(new a(2),g);u&&u(v);var _=v.toRed(h).redPow(m);if(_.cmp(d)!==0&&_.cmp(x)!==0){for(var k=1;k<y;k++){if((_=_.redSqr()).cmp(d)===0)return!1;if(_.cmp(x)===0)break}if(k===y)return!1}}return!0},c.prototype.getDivisor=function(l,o){var u=l.bitLength(),f=a.mont(l),h=new a(1).toRed(f);o||(o=Math.max(1,u/48|0));for(var d=l.subn(1),g=0;!d.testn(g);g++);for(var y=l.shrn(g),m=d.toRed(f);o>0;o--){var x=this._randrange(new a(2),d),v=l.gcd(x);if(v.cmpn(1)!==0)return v;var _=x.toRed(f).redPow(y);if(_.cmp(h)!==0&&_.cmp(m)!==0){for(var k=1;k<g;k++){if((_=_.redSqr()).cmp(h)===0)return _.fromRed().subn(1).gcd(l);if(_.cmp(m)===0)break}if(k===g)return(_=_.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(t,n,i){function a(s,c){if(!s)throw new Error(c||"Assertion failed")}n.exports=a,a.equal=function(s,c,l){if(s!=c)throw new Error(l||"Assertion failed: "+s+" != "+c)}},{}],454:[function(t,n,i){var a=i;function s(l){return l.length===1?"0"+l:l}function c(l){for(var o="",u=0;u<l.length;u++)o+=s(l[u].toString(16));return o}a.toArray=function(l,o){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var f=0;f<l.length;f++)u[f]=0|l[f];return u}if(o==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),f=0;f<l.length;f+=2)u.push(parseInt(l[f]+l[f+1],16));else for(f=0;f<l.length;f++){var h=l.charCodeAt(f),d=h>>8,g=255&h;d?u.push(d,g):u.push(g)}return u},a.zero2=s,a.toHex=c,a.encode=function(l,o){return o==="hex"?c(l):l}},{}],455:[function(t,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,n,i){var a=t("asn1.js");i.certificate=t("./certificate");var s=a.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));i.RSAPrivateKey=s;var c=a.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));i.RSAPublicKey=c;var l=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));i.PublicKey=l;var o=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=a.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));i.PrivateKey=u;var f=a.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));i.EncryptedPrivateKey=f;var h=a.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));i.DSAPrivateKey=h,i.DSAparam=a.define("DSAparam",(function(){this.int()}));var d=a.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));i.ECPrivateKey=d;var g=a.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));i.signature=a.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,n,i){var a=t("asn1.js"),s=a.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),c=a.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),l=a.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=a.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())})),u=a.define("RelativeDistinguishedName",(function(){this.setof(c)})),f=a.define("RDNSequence",(function(){this.seqof(u)})),h=a.define("Name",(function(){this.choice({rdnSequence:this.use(f)})})),d=a.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),g=a.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=a.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),m=a.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())}));n.exports=m},{"asn1.js":170}],458:[function(t,n,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=t("evp_bytestokey"),o=t("browserify-aes"),u=t("safe-buffer").Buffer;n.exports=function(f,h){var d,g=f.toString(),y=g.match(a);if(y){var m="aes"+y[1],x=u.from(y[2],"hex"),v=u.from(y[3].replace(/[\r\n]/g,""),"base64"),_=l(h,x.slice(0,8),parseInt(y[1],10)).key,k=[],N=o.createDecipheriv(m,_,x);k.push(N.update(v)),k.push(N.final()),d=u.concat(k)}else{var P=g.match(c);d=u.from(P[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(s)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,n,i){var a=t("./asn1"),s=t("./aesid.json"),c=t("./fixProc"),l=t("browserify-aes"),o=t("pbkdf2"),u=t("safe-buffer").Buffer;function f(h){var d;typeof h!="object"||u.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var g,y,m=c(h,d),x=m.tag,v=m.data;switch(x){case"CERTIFICATE":y=a.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=a.PublicKey.decode(v,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=a.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":v=(function(_,k){var N=_.algorithm.decrypt.kde.kdeparams.salt,P=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),D=s[_.algorithm.decrypt.cipher.algo.join(".")],I=_.algorithm.decrypt.cipher.iv,B=_.subjectPrivateKey,L=parseInt(D.split("-")[1],10)/8,z=o.pbkdf2Sync(k,N,P,L,"sha1"),$=l.createDecipheriv(D,z,I),O=[];return O.push($.update(B)),O.push($.final()),u.concat(O)})(v=a.EncryptedPrivateKey.decode(v,"der"),d);case"PRIVATE KEY":switch(g=(y=a.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:a.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=a.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=a.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+x)}}n.exports=f,f.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,n,i){i.pbkdf2=t("./lib/async"),i.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,n,i){(function(a){(function(){var s,c,l=t("safe-buffer").Buffer,o=t("./precondition"),u=t("./default-encoding"),f=t("./sync"),h=t("./to-buffer"),d=a.crypto&&a.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return c||(c=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function x(v,_,k,N,P){return d.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then((function(D){return d.deriveBits({name:"PBKDF2",salt:_,iterations:k,hash:{name:P}},D,N<<3)})).then((function(D){return l.from(D)}))}n.exports=function(v,_,k,N,P,D){typeof P=="function"&&(D=P,P=void 0);var I=g[(P=P||"sha1").toLowerCase()];if(I&&typeof a.Promise=="function"){if(o(k,N),v=h(v,u,"Password"),_=h(_,u,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");(function(B,L){B.then((function(z){m()((function(){L(null,z)}))}),(function(z){m()((function(){L(z)}))}))})((function(B){if(a.process&&!a.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(y[B]!==void 0)return y[B];var L=x(s=s||l.alloc(8),s,10,128,B).then((function(){return!0})).catch((function(){return!1}));return y[B]=L,L})(I).then((function(B){return B?x(v,_,k,N,I):f(v,_,k,N,P)})),D)}else m()((function(){var B;try{B=f(v,_,k,N,P)}catch(L){return D(L)}D(null,B)}))}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,n,i){(function(a,s){(function(){var c;s.process&&s.process.browser?c="utf-8":s.process&&s.process.version?c=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",n.exports=c}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,n,i){var a=Math.pow(2,30)-1;n.exports=function(s,c){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>a||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(t,n,i){var a=t("create-hash/md5"),s=t("ripemd160"),c=t("sha.js"),l=t("safe-buffer").Buffer,o=t("./precondition"),u=t("./default-encoding"),f=t("./to-buffer"),h=l.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,m,x){var v=(function(I){function B(L){return c(I).update(L).digest()}return I==="rmd160"||I==="ripemd160"?function(L){return new s().update(L).digest()}:I==="md5"?a:B})(y),_=y==="sha512"||y==="sha384"?128:64;m.length>_?m=v(m):m.length<_&&(m=l.concat([m,h],_));for(var k=l.allocUnsafe(_+d[y]),N=l.allocUnsafe(_+d[y]),P=0;P<_;P++)k[P]=54^m[P],N[P]=92^m[P];var D=l.allocUnsafe(_+x+4);k.copy(D,0,0,_),this.ipad1=D,this.ipad2=k,this.opad=N,this.alg=y,this.blocksize=_,this.hash=v,this.size=d[y]}g.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(y,m,x,v,_){o(x,v);var k=new g(_=_||"sha1",y=f(y,u,"Password"),(m=f(m,u,"Salt")).length),N=l.allocUnsafe(v),P=l.allocUnsafe(m.length+4);m.copy(P,0,0,m.length);for(var D=0,I=d[_],B=Math.ceil(v/I),L=1;L<=B;L++){P.writeUInt32BE(L,m.length);for(var z=k.run(P,k.ipad1),$=z,O=1;O<x;O++){$=k.run($,k.ipad2);for(var F=0;F<I;F++)z[F]^=$[F]}z.copy(N,D),D+=I}return N}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,n,i){var a=t("safe-buffer").Buffer;n.exports=function(s,c,l){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,c);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,n,i){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,c,l,o){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var u,f,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(s);case 2:return a.nextTick((function(){s.call(null,c)}));case 3:return a.nextTick((function(){s.call(null,c,l)}));case 4:return a.nextTick((function(){s.call(null,c,l,o)}));default:for(u=new Array(h-1),f=0;f<u.length;)u[f++]=arguments[f];return a.nextTick((function(){s.apply(null,u)}))}}}:n.exports=a}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,n,i){var a,s,c=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(_){if(a===setTimeout)return setTimeout(_,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(_,0);try{return a(_,0)}catch{try{return a.call(null,_,0)}catch{return a.call(this,_,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:l}catch{a=l}try{s=typeof clearTimeout=="function"?clearTimeout:o}catch{s=o}})();var f,h=[],d=!1,g=-1;function y(){d&&f&&(d=!1,f.length?h=f.concat(h):g=-1,h.length&&m())}function m(){if(!d){var _=u(y);d=!0;for(var k=h.length;k;){for(f=h,h=[];++g<k;)f&&f[g].run();g=-1,k=h.length}f=null,d=!1,(function(N){if(s===clearTimeout)return clearTimeout(N);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(N);try{s(N)}catch{try{return s.call(null,N)}catch{return s.call(this,N)}}})(_)}}function x(_,k){this.fun=_,this.array=k}function v(){}c.nextTick=function(_){var k=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)k[N-1]=arguments[N];h.push(new x(_,k)),h.length!==1||d||u(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=v,c.addListener=v,c.once=v,c.off=v,c.removeListener=v,c.removeAllListeners=v,c.emit=v,c.prependListener=v,c.prependOnceListener=v,c.listeners=function(_){return[]},c.binding=function(_){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(_){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(t,n,i){i.publicEncrypt=t("./publicEncrypt"),i.privateDecrypt=t("./privateDecrypt"),i.privateEncrypt=function(a,s){return i.publicEncrypt(a,s,!0)},i.publicDecrypt=function(a,s){return i.privateDecrypt(a,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,n,i){var a=t("create-hash"),s=t("safe-buffer").Buffer;function c(l){var o=s.allocUnsafe(4);return o.writeUInt32BE(l,0),o}n.exports=function(l,o){for(var u,f=s.alloc(0),h=0;f.length<o;)u=c(h++),f=s.concat([f,a("sha1").update(l).update(u).digest()]);return f.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(t,n,i){var a=t("parse-asn1"),s=t("./mgf"),c=t("./xor"),l=t("bn.js"),o=t("browserify-rsa"),u=t("create-hash"),f=t("./withPublic"),h=t("safe-buffer").Buffer;n.exports=function(d,g,y){var m;m=d.padding?d.padding:y?1:4;var x,v=a(d),_=v.modulus.byteLength();if(g.length>_||new l(g).cmp(v.modulus)>=0)throw new Error("decryption error");x=y?f(new l(g),v):o(g,v);var k=h.alloc(_-x.length);if(x=h.concat([k,x],_),m===4)return(function(N,P){var D=N.modulus.byteLength(),I=u("sha1").update(h.alloc(0)).digest(),B=I.length;if(P[0]!==0)throw new Error("decryption error");var L=P.slice(1,B+1),z=P.slice(B+1),$=c(L,s(z,B)),O=c(z,s($,D-B-1));if((function(C,w){C=h.from(C),w=h.from(w);var E=0,A=C.length;C.length!==w.length&&(E++,A=Math.min(C.length,w.length));for(var j=-1;++j<A;)E+=C[j]^w[j];return E})(I,O.slice(0,B)))throw new Error("decryption error");for(var F=B;O[F]===0;)F++;if(O[F++]!==1)throw new Error("decryption error");return O.slice(F)})(v,x);if(m===1)return(function(N,P,D){for(var I=P.slice(0,2),B=2,L=0;P[B++]!==0;)if(B>=P.length){L++;break}var z=P.slice(2,B-1);if((I.toString("hex")!=="0002"&&!D||I.toString("hex")!=="0001"&&D)&&L++,z.length<8&&L++,L)throw new Error("decryption error");return P.slice(B)})(0,x,y);if(m===3)return x;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,n,i){var a=t("parse-asn1"),s=t("randombytes"),c=t("create-hash"),l=t("./mgf"),o=t("./xor"),u=t("bn.js"),f=t("./withPublic"),h=t("browserify-rsa"),d=t("safe-buffer").Buffer;n.exports=function(g,y,m){var x;x=g.padding?g.padding:m?1:4;var v,_=a(g);if(x===4)v=(function(k,N){var P=k.modulus.byteLength(),D=N.length,I=c("sha1").update(d.alloc(0)).digest(),B=I.length,L=2*B;if(D>P-L-2)throw new Error("message too long");var z=d.alloc(P-D-L-2),$=P-B-1,O=s(B),F=o(d.concat([I,z,d.alloc(1,1),N],$),l(O,$)),C=o(O,l(F,B));return new u(d.concat([d.alloc(1),C,F],P))})(_,y);else if(x===1)v=(function(k,N,P){var D,I=N.length,B=k.modulus.byteLength();if(I>B-11)throw new Error("message too long");return D=P?d.alloc(B-I-3,255):(function(L){for(var z,$=d.allocUnsafe(L),O=0,F=s(2*L),C=0;O<L;)C===F.length&&(F=s(2*L),C=0),(z=F[C++])&&($[O++]=z);return $})(B-I-3),new u(d.concat([d.from([0,P?1:2]),D,d.alloc(1),N],B))})(_,y,m);else{if(x!==3)throw new Error("unknown padding");if((v=new u(y)).cmp(_.modulus)>=0)throw new Error("data too long for modulus")}return m?h(v,_):f(v,_)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,n,i){var a=t("bn.js"),s=t("safe-buffer").Buffer;n.exports=function(c,l){return s.from(c.toRed(a.mont(l.modulus)).redPow(new a(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,n,i){n.exports=function(a,s){for(var c=a.length,l=-1;++l<c;)a[l]^=s[l];return a}},{}],475:[function(t,n,i){(function(a,s){(function(){var c=t("safe-buffer").Buffer,l=s.crypto||s.msCrypto;l&&l.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var f=c.allocUnsafe(o);if(o>0)if(o>65536)for(var h=0;h<o;h+=65536)l.getRandomValues(f.slice(h,h+65536));else l.getRandomValues(f);return typeof u=="function"?a.nextTick((function(){u(null,f)})):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,n,i){(function(a,s){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=t("safe-buffer"),o=t("randombytes"),u=l.Buffer,f=l.kMaxLength,h=s.crypto||s.msCrypto,d=Math.pow(2,32)-1;function g(x,v){if(typeof x!="number"||x!=x)throw new TypeError("offset must be a number");if(x>d||x<0)throw new TypeError("offset must be a uint32");if(x>f||x>v)throw new RangeError("offset out of range")}function y(x,v,_){if(typeof x!="number"||x!=x)throw new TypeError("size must be a number");if(x>d||x<0)throw new TypeError("size must be a uint32");if(x+v>_||x>f)throw new RangeError("buffer too small")}function m(x,v,_,k){if(a.browser){var N=x.buffer,P=new Uint8Array(N,v,_);return h.getRandomValues(P),k?void a.nextTick((function(){k(null,x)})):x}if(!k)return o(_).copy(x,v),x;o(_,(function(D,I){if(D)return k(D);I.copy(x,v),k(null,x)}))}h&&h.getRandomValues||!a.browser?(i.randomFill=function(x,v,_,k){if(!(u.isBuffer(x)||x instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")k=v,v=0,_=x.length;else if(typeof _=="function")k=_,_=x.length-v;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return g(v,x.length),y(_,v,x.length),m(x,v,_,k)},i.randomFillSync=function(x,v,_){if(v===void 0&&(v=0),!(u.isBuffer(x)||x instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(v,x.length),_===void 0&&(_=x.length-v),y(_,v,x.length),m(x,v,_)}):(i.randomFill=c,i.randomFillSync=c)}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,n,i){var a={};function s(l,o,u){u||(u=Error);var f=(function(h){var d,g;function y(m,x,v){return h.call(this,(function(_,k,N){return typeof o=="string"?o:o(_,k,N)})(m,x,v))||this}return g=h,(d=y).prototype=Object.create(g.prototype),d.prototype.constructor=d,d.__proto__=g,y})(u);f.prototype.name=u.name,f.prototype.code=l,a[l]=f}function c(l,o){if(Array.isArray(l)){var u=l.length;return l=l.map((function(f){return String(f)})),u>2?"one of ".concat(o," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(o," ").concat(l[0]," or ").concat(l[1]):"of ".concat(o," ").concat(l[0])}return"of ".concat(o," ").concat(String(l))}s("ERR_INVALID_OPT_VALUE",(function(l,o){return'The value "'+o+'" is invalid for option "'+l+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(l,o,u){var f,h,d;if(typeof o=="string"&&(h="not ",o.substr(0,h.length)===h)?(f="must not be",o=o.replace(/^not /,"")):f="must be",(function(y,m,x){return(x===void 0||x>y.length)&&(x=y.length),y.substring(x-m.length,x)===m})(l," argument"))d="The ".concat(l," ").concat(f," ").concat(c(o,"type"));else{var g=(function(y,m,x){return typeof x!="number"&&(x=0),!(x+m.length>y.length)&&y.indexOf(m,x)!==-1})(l,".")?"property":"argument";d='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(c(o,"type"))}return d+=". Received type ".concat(typeof u)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(l){return"The "+l+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(l){return"Cannot call "+l+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(l){return"Unknown encoding: "+l}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=a},{}],478:[function(t,n,i){(function(a){(function(){var s=Object.keys||function(y){var m=[];for(var x in y)m.push(x);return m};n.exports=h;var c=t("./_stream_readable"),l=t("./_stream_writable");t("inherits")(h,c);for(var o=s(l.prototype),u=0;u<o.length;u++){var f=o[u];h.prototype[f]||(h.prototype[f]=l.prototype[f])}function h(y){if(!(this instanceof h))return new h(y);c.call(this,y),l.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||a.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,n,i){n.exports=s;var a=t("./_stream_transform");function s(c){if(!(this instanceof s))return new s(c);a.call(this,c)}t("inherits")(s,a),s.prototype._transform=function(c,l,o){o(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(t,n,i){(function(a,s){(function(){var c;n.exports=$,$.ReadableState=z,t("events").EventEmitter;var l=function(K,V){return K.listeners(V).length},o=t("./internal/streams/stream"),u=t("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=t("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var g,y,m,x=t("./internal/streams/buffer_list"),v=t("./internal/streams/destroy"),_=t("./internal/streams/state").getHighWaterMark,k=t("../errors").codes,N=k.ERR_INVALID_ARG_TYPE,P=k.ERR_STREAM_PUSH_AFTER_EOF,D=k.ERR_METHOD_NOT_IMPLEMENTED,I=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")($,o);var B=v.errorOrDestroy,L=["error","close","destroy","pause","resume"];function z(K,V,Q){c=c||t("./_stream_duplex"),K=K||{},typeof Q!="boolean"&&(Q=V instanceof c),this.objectMode=!!K.objectMode,Q&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=_(this,K,"readableHighWaterMark",Q),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=K.emitClose!==!1,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(g||(g=t("string_decoder/").StringDecoder),this.decoder=new g(K.encoding),this.encoding=K.encoding)}function $(K){if(c=c||t("./_stream_duplex"),!(this instanceof $))return new $(K);var V=this instanceof c;this._readableState=new z(K,this,V),this.readable=!0,K&&(typeof K.read=="function"&&(this._read=K.read),typeof K.destroy=="function"&&(this._destroy=K.destroy)),o.call(this)}function O(K,V,Q,re,oe){h("readableAddChunk",V);var ne,le=K._readableState;if(V===null)le.reading=!1,(function(me,ge){if(h("onEofChunk"),!ge.ended){if(ge.decoder){var se=ge.decoder.end();se&&se.length&&(ge.buffer.push(se),ge.length+=ge.objectMode?1:se.length)}ge.ended=!0,ge.sync?w(me):(ge.needReadable=!1,ge.emittedReadable||(ge.emittedReadable=!0,E(me)))}})(K,le);else if(oe||(ne=(function(me,ge){var se;fe=ge,u.isBuffer(fe)||fe instanceof f||typeof ge=="string"||ge===void 0||me.objectMode||(se=new N("chunk",["string","Buffer","Uint8Array"],ge));var fe;return se})(le,V)),ne)B(K,ne);else if(le.objectMode||V&&V.length>0)if(typeof V=="string"||le.objectMode||Object.getPrototypeOf(V)===u.prototype||(V=(function(me){return u.from(me)})(V)),re)le.endEmitted?B(K,new I):F(K,le,V,!0);else if(le.ended)B(K,new P);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!Q?(V=le.decoder.write(V),le.objectMode||V.length!==0?F(K,le,V,!1):A(K,le)):F(K,le,V,!1)}else re||(le.reading=!1,A(K,le));return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function F(K,V,Q,re){V.flowing&&V.length===0&&!V.sync?(V.awaitDrain=0,K.emit("data",Q)):(V.length+=V.objectMode?1:Q.length,re?V.buffer.unshift(Q):V.buffer.push(Q),V.needReadable&&w(K)),A(K,V)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),$.prototype.destroy=v.destroy,$.prototype._undestroy=v.undestroy,$.prototype._destroy=function(K,V){V(K)},$.prototype.push=function(K,V){var Q,re=this._readableState;return re.objectMode?Q=!0:typeof K=="string"&&((V=V||re.defaultEncoding)!==re.encoding&&(K=u.from(K,V),V=""),Q=!0),O(this,K,V,!1,Q)},$.prototype.unshift=function(K){return O(this,K,null,!0,!1)},$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(K){g||(g=t("string_decoder/").StringDecoder);var V=new g(K);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,re="";Q!==null;)re+=V.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),re!==""&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};function C(K,V){return K<=0||V.length===0&&V.ended?0:V.objectMode?1:K!=K?V.flowing&&V.length?V.buffer.head.data.length:V.length:(K>V.highWaterMark&&(V.highWaterMark=(function(Q){return Q>=1073741824?Q=1073741824:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(K)),K<=V.length?K:V.ended?V.length:(V.needReadable=!0,0))}function w(K){var V=K._readableState;h("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(h("emitReadable",V.flowing),V.emittedReadable=!0,a.nextTick(E,K))}function E(K){var V=K._readableState;h("emitReadable_",V.destroyed,V.length,V.ended),V.destroyed||!V.length&&!V.ended||(K.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,Y(K)}function A(K,V){V.readingMore||(V.readingMore=!0,a.nextTick(j,K,V))}function j(K,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){var Q=V.length;if(h("maybeReadMore read 0"),K.read(0),Q===V.length)break}V.readingMore=!1}function R(K){var V=K._readableState;V.readableListening=K.listenerCount("readable")>0,V.resumeScheduled&&!V.paused?V.flowing=!0:K.listenerCount("data")>0&&K.resume()}function q(K){h("readable nexttick read 0"),K.read(0)}function H(K,V){h("resume",V.reading),V.reading||K.read(0),V.resumeScheduled=!1,K.emit("resume"),Y(K),V.flowing&&!V.reading&&K.read(0)}function Y(K){var V=K._readableState;for(h("flow",V.flowing);V.flowing&&K.read()!==null;);}function Z(K,V){return V.length===0?null:(V.objectMode?Q=V.buffer.shift():!K||K>=V.length?(Q=V.decoder?V.buffer.join(""):V.buffer.length===1?V.buffer.first():V.buffer.concat(V.length),V.buffer.clear()):Q=V.buffer.consume(K,V.decoder),Q);var Q}function te(K){var V=K._readableState;h("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,a.nextTick(W,V,K))}function W(K,V){if(h("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&K.length===0&&(K.endEmitted=!0,V.readable=!1,V.emit("end"),K.autoDestroy)){var Q=V._writableState;(!Q||Q.autoDestroy&&Q.finished)&&V.destroy()}}function ee(K,V){for(var Q=0,re=K.length;Q<re;Q++)if(K[Q]===V)return Q;return-1}$.prototype.read=function(K){h("read",K),K=parseInt(K,10);var V=this._readableState,Q=K;if(K!==0&&(V.emittedReadable=!1),K===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return h("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?te(this):w(this),null;if((K=C(K,V))===0&&V.ended)return V.length===0&&te(this),null;var re,oe=V.needReadable;return h("need readable",oe),(V.length===0||V.length-K<V.highWaterMark)&&h("length less than watermark",oe=!0),V.ended||V.reading?h("reading or ended",oe=!1):oe&&(h("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(K=C(Q,V))),(re=K>0?Z(K,V):null)===null?(V.needReadable=V.length<=V.highWaterMark,K=0):(V.length-=K,V.awaitDrain=0),V.length===0&&(V.ended||(V.needReadable=!0),Q!==K&&V.ended&&te(this)),re!==null&&this.emit("data",re),re},$.prototype._read=function(K){B(this,new D("_read()"))},$.prototype.pipe=function(K,V){var Q=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=K;break;case 1:re.pipes=[re.pipes,K];break;default:re.pipes.push(K)}re.pipesCount+=1,h("pipe count=%d opts=%j",re.pipesCount,V);var oe=(!V||V.end!==!1)&&K!==a.stdout&&K!==a.stderr?le:xe;function ne(_e,Ne){h("onunpipe"),_e===Q&&Ne&&Ne.hasUnpiped===!1&&(Ne.hasUnpiped=!0,h("cleanup"),K.removeListener("close",he),K.removeListener("finish",ve),K.removeListener("drain",me),K.removeListener("error",fe),K.removeListener("unpipe",ne),Q.removeListener("end",le),Q.removeListener("end",xe),Q.removeListener("data",se),ge=!0,!re.awaitDrain||K._writableState&&!K._writableState.needDrain||me())}function le(){h("onend"),K.end()}re.endEmitted?a.nextTick(oe):Q.once("end",oe),K.on("unpipe",ne);var me=(function(_e){return function(){var Ne=_e._readableState;h("pipeOnDrain",Ne.awaitDrain),Ne.awaitDrain&&Ne.awaitDrain--,Ne.awaitDrain===0&&l(_e,"data")&&(Ne.flowing=!0,Y(_e))}})(Q);K.on("drain",me);var ge=!1;function se(_e){h("ondata");var Ne=K.write(_e);h("dest.write",Ne),Ne===!1&&((re.pipesCount===1&&re.pipes===K||re.pipesCount>1&&ee(re.pipes,K)!==-1)&&!ge&&(h("false write response, pause",re.awaitDrain),re.awaitDrain++),Q.pause())}function fe(_e){h("onerror",_e),xe(),K.removeListener("error",fe),l(K,"error")===0&&B(K,_e)}function he(){K.removeListener("finish",ve),xe()}function ve(){h("onfinish"),K.removeListener("close",he),xe()}function xe(){h("unpipe"),Q.unpipe(K)}return Q.on("data",se),(function(_e,Ne,Re){if(typeof _e.prependListener=="function")return _e.prependListener(Ne,Re);_e._events&&_e._events[Ne]?Array.isArray(_e._events[Ne])?_e._events[Ne].unshift(Re):_e._events[Ne]=[Re,_e._events[Ne]]:_e.on(Ne,Re)})(K,"error",fe),K.once("close",he),K.once("finish",ve),K.emit("pipe",Q),re.flowing||(h("pipe resume"),Q.resume()),K},$.prototype.unpipe=function(K){var V=this._readableState,Q={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return K&&K!==V.pipes||(K||(K=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,K&&K.emit("unpipe",this,Q)),this;if(!K){var re=V.pipes,oe=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var ne=0;ne<oe;ne++)re[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var le=ee(V.pipes,K);return le===-1||(V.pipes.splice(le,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),K.emit("unpipe",this,Q)),this},$.prototype.on=function(K,V){var Q=o.prototype.on.call(this,K,V),re=this._readableState;return K==="data"?(re.readableListening=this.listenerCount("readable")>0,re.flowing!==!1&&this.resume()):K==="readable"&&(re.endEmitted||re.readableListening||(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,h("on readable",re.length,re.reading),re.length?w(this):re.reading||a.nextTick(q,this))),Q},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(K,V){var Q=o.prototype.removeListener.call(this,K,V);return K==="readable"&&a.nextTick(R,this),Q},$.prototype.removeAllListeners=function(K){var V=o.prototype.removeAllListeners.apply(this,arguments);return K!=="readable"&&K!==void 0||a.nextTick(R,this),V},$.prototype.resume=function(){var K=this._readableState;return K.flowing||(h("resume"),K.flowing=!K.readableListening,(function(V,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,a.nextTick(H,V,Q))})(this,K)),K.paused=!1,this},$.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},$.prototype.wrap=function(K){var V=this,Q=this._readableState,re=!1;for(var oe in K.on("end",(function(){if(h("wrapped end"),Q.decoder&&!Q.ended){var le=Q.decoder.end();le&&le.length&&V.push(le)}V.push(null)})),K.on("data",(function(le){h("wrapped data"),Q.decoder&&(le=Q.decoder.write(le)),Q.objectMode&&le==null||(Q.objectMode||le&&le.length)&&(V.push(le)||(re=!0,K.pause()))})),K)this[oe]===void 0&&typeof K[oe]=="function"&&(this[oe]=(function(le){return function(){return K[le].apply(K,arguments)}})(oe));for(var ne=0;ne<L.length;ne++)K.on(L[ne],this.emit.bind(this,L[ne]));return this._read=function(le){h("wrapped _read",le),re&&(re=!1,K.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=t("./internal/streams/async_iterator")),y(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),$._fromList=Z,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&($.from=function(K,V){return m===void 0&&(m=t("./internal/streams/from")),m($,K,V)})}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,n,i){n.exports=h;var a=t("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,c=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=a.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function f(y,m){var x=this._transformState;x.transforming=!1;var v=x.writecb;if(v===null)return this.emit("error",new c);x.writechunk=null,x.writecb=null,m!=null&&this.push(m),v(y);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);u.call(this,y),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",d)}function d(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(m,x){g(y,m,x)}))}function g(y,m,x){if(m)return y.emit("error",m);if(x!=null&&y.push(x),y._writableState.length)throw new o;if(y._transformState.transforming)throw new l;return y.push(null)}t("inherits")(h,u),h.prototype.push=function(y,m){return this._transformState.needTransform=!1,u.prototype.push.call(this,y,m)},h.prototype._transform=function(y,m,x){x(new s("_transform()"))},h.prototype._write=function(y,m,x){var v=this._transformState;if(v.writecb=x,v.writechunk=y,v.writeencoding=m,!v.transforming){var _=this._readableState;(v.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},h.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},h.prototype._destroy=function(y,m){u.prototype._destroy.call(this,y,(function(x){m(x)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,n,i){(function(a,s){(function(){function c(j){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(q,H,Y){var Z=q.entry;for(q.entry=null;Z;){var te=Z.callback;H.pendingcb--,te(Y),Z=Z.next}H.corkedRequestsFree.next=q})(R,j)}}var l;n.exports=$,$.WritableState=z;var o={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),f=t("buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,g=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,x=m.ERR_INVALID_ARG_TYPE,v=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_MULTIPLE_CALLBACK,k=m.ERR_STREAM_CANNOT_PIPE,N=m.ERR_STREAM_DESTROYED,P=m.ERR_STREAM_NULL_VALUES,D=m.ERR_STREAM_WRITE_AFTER_END,I=m.ERR_UNKNOWN_ENCODING,B=g.errorOrDestroy;function L(){}function z(j,R,q){l=l||t("./_stream_duplex"),j=j||{},typeof q!="boolean"&&(q=R instanceof l),this.objectMode=!!j.objectMode,q&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=y(this,j,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=j.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){(function(Z,te){var W=Z._writableState,ee=W.sync,K=W.writecb;if(typeof K!="function")throw new _;if((function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0})(W),te)(function(Q,re,oe,ne,le){--re.pendingcb,oe?(a.nextTick(le,ne),a.nextTick(A,Q,re),Q._writableState.errorEmitted=!0,B(Q,ne)):(le(ne),Q._writableState.errorEmitted=!0,B(Q,ne),A(Q,re))})(Z,W,ee,te,K);else{var V=w(W)||Z.destroyed;V||W.corked||W.bufferProcessing||!W.bufferedRequest||C(Z,W),ee?a.nextTick(F,Z,W,V,K):F(Z,W,V,K)}})(R,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function $(j){var R=this instanceof(l=l||t("./_stream_duplex"));if(!R&&!d.call($,this))return new $(j);this._writableState=new z(j,this,R),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),u.call(this)}function O(j,R,q,H,Y,Z,te){R.writelen=H,R.writecb=te,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new N("write")):q?j._writev(Y,R.onwrite):j._write(Y,Z,R.onwrite),R.sync=!1}function F(j,R,q,H){q||(function(Y,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,Y.emit("drain"))})(j,R),R.pendingcb--,H(),A(j,R)}function C(j,R){R.bufferProcessing=!0;var q=R.bufferedRequest;if(j._writev&&q&&q.next){var H=R.bufferedRequestCount,Y=new Array(H),Z=R.corkedRequestsFree;Z.entry=q;for(var te=0,W=!0;q;)Y[te]=q,q.isBuf||(W=!1),q=q.next,te+=1;Y.allBuffers=W,O(j,R,!0,R.length,Y,"",Z.finish),R.pendingcb++,R.lastBufferedRequest=null,Z.next?(R.corkedRequestsFree=Z.next,Z.next=null):R.corkedRequestsFree=new c(R),R.bufferedRequestCount=0}else{for(;q;){var ee=q.chunk,K=q.encoding,V=q.callback;if(O(j,R,!1,R.objectMode?1:ee.length,ee,K,V),q=q.next,R.bufferedRequestCount--,R.writing)break}q===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=q,R.bufferProcessing=!1}function w(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function E(j,R){j._final((function(q){R.pendingcb--,q&&B(j,q),R.prefinished=!0,j.emit("prefinish"),A(j,R)}))}function A(j,R){var q=w(R);if(q&&((function(Y,Z){Z.prefinished||Z.finalCalled||(typeof Y._final!="function"||Z.destroyed?(Z.prefinished=!0,Y.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,a.nextTick(E,Y,Z)))})(j,R),R.pendingcb===0&&(R.finished=!0,j.emit("finish"),R.autoDestroy))){var H=j._readableState;(!H||H.autoDestroy&&H.endEmitted)&&j.destroy()}return q}t("inherits")($,u),z.prototype.getBuffer=function(){for(var j=this.bufferedRequest,R=[];j;)R.push(j),j=j.next;return R},(function(){try{Object.defineProperty(z.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(j){return!!d.call(this,j)||this===$&&j&&j._writableState instanceof z}})):d=function(j){return j instanceof this},$.prototype.pipe=function(){B(this,new k)},$.prototype.write=function(j,R,q){var H,Y=this._writableState,Z=!1,te=!Y.objectMode&&(H=j,f.isBuffer(H)||H instanceof h);return te&&!f.isBuffer(j)&&(j=(function(W){return f.from(W)})(j)),typeof R=="function"&&(q=R,R=null),te?R="buffer":R||(R=Y.defaultEncoding),typeof q!="function"&&(q=L),Y.ending?(function(W,ee){var K=new D;B(W,K),a.nextTick(ee,K)})(this,q):(te||(function(W,ee,K,V){var Q;return K===null?Q=new P:typeof K=="string"||ee.objectMode||(Q=new x("chunk",["string","Buffer"],K)),!Q||(B(W,Q),a.nextTick(V,Q),!1)})(this,Y,j,q))&&(Y.pendingcb++,Z=(function(W,ee,K,V,Q,re){if(!K){var oe=(function(ge,se,fe){return ge.objectMode||ge.decodeStrings===!1||typeof se!="string"||(se=f.from(se,fe)),se})(ee,V,Q);V!==oe&&(K=!0,Q="buffer",V=oe)}var ne=ee.objectMode?1:V.length;ee.length+=ne;var le=ee.length<ee.highWaterMark;if(le||(ee.needDrain=!0),ee.writing||ee.corked){var me=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:V,encoding:Q,isBuf:K,callback:re,next:null},me?me.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else O(W,ee,!1,ne,V,Q,re);return le})(this,Y,te,j,R,q)),Z},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,j.writing||j.corked||j.bufferProcessing||!j.bufferedRequest||C(this,j))},$.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new I(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(j,R,q){q(new v("_write()"))},$.prototype._writev=null,$.prototype.end=function(j,R,q){var H=this._writableState;return typeof j=="function"?(q=j,j=null,R=null):typeof R=="function"&&(q=R,R=null),j!=null&&this.write(j,R),H.corked&&(H.corked=1,this.uncork()),H.ending||(function(Y,Z,te){Z.ending=!0,A(Y,Z),te&&(Z.finished?a.nextTick(te):Y.once("finish",te)),Z.ended=!0,Y.writable=!1})(this,H,q),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),$.prototype.destroy=g.destroy,$.prototype._undestroy=g.undestroy,$.prototype._destroy=function(j,R){R(j)}}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,n,i){(function(a){(function(){var s;function c(N,P,D){return(P=(function(I){var B=(function(L,z){if(typeof L!="object"||L===null)return L;var $=L[Symbol.toPrimitive];if($!==void 0){var O=$.call(L,z);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(L)})(I,"string");return typeof B=="symbol"?B:String(B)})(P))in N?Object.defineProperty(N,P,{value:D,enumerable:!0,configurable:!0,writable:!0}):N[P]=D,N}var l=t("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m(N,P){return{value:N,done:P}}function x(N){var P=N[o];if(P!==null){var D=N[y].read();D!==null&&(N[d]=null,N[o]=null,N[u]=null,P(m(D,!1)))}}function v(N){a.nextTick(x,N)}var _=Object.getPrototypeOf((function(){})),k=Object.setPrototypeOf((c(s={get stream(){return this[y]},next:function(){var N=this,P=this[f];if(P!==null)return Promise.reject(P);if(this[h])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise((function(L,z){a.nextTick((function(){N[f]?z(N[f]):L(m(void 0,!0))}))}));var D,I=this[d];if(I)D=new Promise((function(L,z){return function($,O){L.then((function(){z[h]?$(m(void 0,!0)):z[g]($,O)}),O)}})(I,this));else{var B=this[y].read();if(B!==null)return Promise.resolve(m(B,!1));D=new Promise(this[g])}return this[d]=D,D}},Symbol.asyncIterator,(function(){return this})),c(s,"return",(function(){var N=this;return new Promise((function(P,D){N[y].destroy(null,(function(I){I?D(I):P(m(void 0,!0))}))}))})),s),_);n.exports=function(N){var P,D=Object.create(k,(c(P={},y,{value:N,writable:!0}),c(P,o,{value:null,writable:!0}),c(P,u,{value:null,writable:!0}),c(P,f,{value:null,writable:!0}),c(P,h,{value:N._readableState.endEmitted,writable:!0}),c(P,g,{value:function(I,B){var L=D[y].read();L?(D[d]=null,D[o]=null,D[u]=null,I(m(L,!1))):(D[o]=I,D[u]=B)},writable:!0}),P));return D[d]=null,l(N,(function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=D[u];return B!==null&&(D[d]=null,D[o]=null,D[u]=null,B(I)),void(D[f]=I)}var L=D[o];L!==null&&(D[d]=null,D[o]=null,D[u]=null,L(m(void 0,!0))),D[h]=!0})),N.on("readable",v.bind(null,D)),D}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,n,i){function a(d,g){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);g&&(m=m.filter((function(x){return Object.getOwnPropertyDescriptor(d,x).enumerable}))),y.push.apply(y,m)}return y}function s(d){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?a(Object(y),!0).forEach((function(m){c(d,m,y[m])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(y)):a(Object(y)).forEach((function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(y,m))}))}return d}function c(d,g,y){return(g=o(g))in d?Object.defineProperty(d,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[g]=y,d}function l(d,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,o(m.key),m)}}function o(d){var g=(function(y,m){if(typeof y!="object"||y===null)return y;var x=y[Symbol.toPrimitive];if(x!==void 0){var v=x.call(y,m);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)})(d,"string");return typeof g=="symbol"?g:String(g)}var u=t("buffer").Buffer,f=t("util").inspect,h=f&&f.custom||"inspect";n.exports=(function(){function d(){(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var g,y;return g=d,(y=[{key:"push",value:function(m){var x={data:m,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(m){var x={data:m,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var x=this.head,v=""+x.data;x=x.next;)v+=m+x.data;return v}},{key:"concat",value:function(m){if(this.length===0)return u.alloc(0);for(var x,v,_,k=u.allocUnsafe(m>>>0),N=this.head,P=0;N;)x=N.data,v=k,_=P,u.prototype.copy.call(x,v,_),P+=N.data.length,N=N.next;return k}},{key:"consume",value:function(m,x){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):v=m===this.head.data.length?this.shift():x?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var x=this.head,v=1,_=x.data;for(m-=_.length;x=x.next;){var k=x.data,N=m>k.length?k.length:m;if(N===k.length?_+=k:_+=k.slice(0,m),(m-=N)==0){N===k.length?(++v,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=k.slice(N));break}++v}return this.length-=v,_}},{key:"_getBuffer",value:function(m){var x=u.allocUnsafe(m),v=this.head,_=1;for(v.data.copy(x),m-=v.data.length;v=v.next;){var k=v.data,N=m>k.length?k.length:m;if(k.copy(x,x.length-m,0,N),(m-=N)==0){N===k.length?(++_,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=k.slice(N));break}++_}return this.length-=_,x}},{key:h,value:function(m,x){return f(this,s(s({},x),{},{depth:0,customInspect:!1}))}}])&&l(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(t,n,i){(function(a){(function(){function s(o,u){l(o,u),c(o)}function c(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function l(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var f=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(l,this,o)):a.nextTick(l,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(g){!u&&g?f._writableState?f._writableState.errorEmitted?a.nextTick(c,f):(f._writableState.errorEmitted=!0,a.nextTick(s,f,g)):a.nextTick(s,f,g):u?(a.nextTick(c,f),u(g)):a.nextTick(c,f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var f=o._readableState,h=o._writableState;f&&f.autoDestroy||h&&h.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,n,i){var a=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function c(l,o,u){if(typeof o=="function")return c(l,null,o);o||(o={}),u=(function(N){var P=!1;return function(){if(!P){P=!0;for(var D=arguments.length,I=new Array(D),B=0;B<D;B++)I[B]=arguments[B];N.apply(this,I)}}})(u||s);var f=o.readable||o.readable!==!1&&l.readable,h=o.writable||o.writable!==!1&&l.writable,d=function(){l.writable||y()},g=l._writableState&&l._writableState.finished,y=function(){h=!1,g=!0,f||u.call(l)},m=l._readableState&&l._readableState.endEmitted,x=function(){f=!1,m=!0,h||u.call(l)},v=function(N){u.call(l,N)},_=function(){var N;return f&&!m?(l._readableState&&l._readableState.ended||(N=new a),u.call(l,N)):h&&!g?(l._writableState&&l._writableState.ended||(N=new a),u.call(l,N)):void 0},k=function(){l.req.on("finish",y)};return(function(N){return N.setHeader&&typeof N.abort=="function"})(l)?(l.on("complete",y),l.on("abort",_),l.req?k():l.on("request",k)):h&&!l._writableState&&(l.on("end",d),l.on("close",d)),l.on("end",x),l.on("finish",y),o.error!==!1&&l.on("error",v),l.on("close",_),function(){l.removeListener("complete",y),l.removeListener("abort",_),l.removeListener("request",k),l.req&&l.req.removeListener("finish",y),l.removeListener("end",d),l.removeListener("close",d),l.removeListener("finish",y),l.removeListener("end",x),l.removeListener("error",v),l.removeListener("close",_)}}},{"../../../errors":477}],487:[function(t,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,n,i){var a,s=t("../../../errors").codes,c=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function o(g){if(g)throw g}function u(g,y,m,x){x=(function(k){var N=!1;return function(){N||(N=!0,k.apply(void 0,arguments))}})(x);var v=!1;g.on("close",(function(){v=!0})),a===void 0&&(a=t("./end-of-stream")),a(g,{readable:y,writable:m},(function(k){if(k)return x(k);v=!0,x()}));var _=!1;return function(k){if(!v&&!_)return _=!0,(function(N){return N.setHeader&&typeof N.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void x(k||new l("pipe"))}}function f(g){g()}function h(g,y){return g.pipe(y)}function d(g){return g.length?typeof g[g.length-1]!="function"?o:g.pop():o}n.exports=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var x,v=d(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new c("streams");var _=y.map((function(k,N){var P=N<y.length-1;return u(k,P,N>0,(function(D){x||(x=D),D&&_.forEach(f),P||(_.forEach(f),v(x))}))}));return y.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,n,i){var a=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,c,l,o){var u=(function(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null})(c,o,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new a(o?l:"highWaterMark",u);return Math.floor(u)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,n,i){n.exports=t("events").EventEmitter},{events:422}],491:[function(t,n,i){(i=n.exports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js"),i.finished=t("./lib/internal/streams/end-of-stream.js"),i.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,n,i){var a=(function(s){var c=Object.prototype,l=c.hasOwnProperty,o=Object.defineProperty||function(A,j,R){A[j]=R.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function g(A,j,R){return Object.defineProperty(A,j,{value:R,enumerable:!0,configurable:!0,writable:!0}),A[j]}try{g({},"")}catch{g=function(j,R,q){return j[R]=q}}function y(A,j,R,q){var H=j&&j.prototype instanceof v?j:v,Y=Object.create(H.prototype),Z=new C(q||[]);return o(Y,"_invoke",{value:z(A,R,Z)}),Y}function m(A,j,R){try{return{type:"normal",arg:A.call(j,R)}}catch(q){return{type:"throw",arg:q}}}s.wrap=y;var x={};function v(){}function _(){}function k(){}var N={};g(N,f,(function(){return this}));var P=Object.getPrototypeOf,D=P&&P(P(w([])));D&&D!==c&&l.call(D,f)&&(N=D);var I=k.prototype=v.prototype=Object.create(N);function B(A){["next","throw","return"].forEach((function(j){g(A,j,(function(R){return this._invoke(j,R)}))}))}function L(A,j){var R;o(this,"_invoke",{value:function(q,H){function Y(){return new j((function(Z,te){(function W(ee,K,V,Q){var re=m(A[ee],A,K);if(re.type!=="throw"){var oe=re.arg,ne=oe.value;return ne&&typeof ne=="object"&&l.call(ne,"__await")?j.resolve(ne.__await).then((function(le){W("next",le,V,Q)}),(function(le){W("throw",le,V,Q)})):j.resolve(ne).then((function(le){oe.value=le,V(oe)}),(function(le){return W("throw",le,V,Q)}))}Q(re.arg)})(q,H,Z,te)}))}return R=R?R.then(Y,Y):Y()}})}function z(A,j,R){var q="suspendedStart";return function(H,Y){if(q==="executing")throw new Error("Generator is already running");if(q==="completed"){if(H==="throw")throw Y;return E()}for(R.method=H,R.arg=Y;;){var Z=R.delegate;if(Z){var te=$(Z,R);if(te){if(te===x)continue;return te}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(q==="suspendedStart")throw q="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);q="executing";var W=m(A,j,R);if(W.type==="normal"){if(q=R.done?"completed":"suspendedYield",W.arg===x)continue;return{value:W.arg,done:R.done}}W.type==="throw"&&(q="completed",R.method="throw",R.arg=W.arg)}}}function $(A,j){var R=j.method,q=A.iterator[R];if(q===void 0)return j.delegate=null,R==="throw"&&A.iterator.return&&(j.method="return",j.arg=void 0,$(A,j),j.method==="throw")||R!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+R+"' method")),x;var H=m(q,A.iterator,j.arg);if(H.type==="throw")return j.method="throw",j.arg=H.arg,j.delegate=null,x;var Y=H.arg;return Y?Y.done?(j[A.resultName]=Y.value,j.next=A.nextLoc,j.method!=="return"&&(j.method="next",j.arg=void 0),j.delegate=null,x):Y:(j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,x)}function O(A){var j={tryLoc:A[0]};1 in A&&(j.catchLoc=A[1]),2 in A&&(j.finallyLoc=A[2],j.afterLoc=A[3]),this.tryEntries.push(j)}function F(A){var j=A.completion||{};j.type="normal",delete j.arg,A.completion=j}function C(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(O,this),this.reset(!0)}function w(A){if(A){var j=A[f];if(j)return j.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var R=-1,q=function H(){for(;++R<A.length;)if(l.call(A,R))return H.value=A[R],H.done=!1,H;return H.value=void 0,H.done=!0,H};return q.next=q}}return{next:E}}function E(){return{value:void 0,done:!0}}return _.prototype=k,o(I,"constructor",{value:k,configurable:!0}),o(k,"constructor",{value:_,configurable:!0}),_.displayName=g(k,d,"GeneratorFunction"),s.isGeneratorFunction=function(A){var j=typeof A=="function"&&A.constructor;return!!j&&(j===_||(j.displayName||j.name)==="GeneratorFunction")},s.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,k):(A.__proto__=k,g(A,d,"GeneratorFunction")),A.prototype=Object.create(I),A},s.awrap=function(A){return{__await:A}},B(L.prototype),g(L.prototype,h,(function(){return this})),s.AsyncIterator=L,s.async=function(A,j,R,q,H){H===void 0&&(H=Promise);var Y=new L(y(A,j,R,q),H);return s.isGeneratorFunction(j)?Y:Y.next().then((function(Z){return Z.done?Z.value:Y.next()}))},B(I),g(I,d,"Generator"),g(I,f,(function(){return this})),g(I,"toString",(function(){return"[object Generator]"})),s.keys=function(A){var j=Object(A),R=[];for(var q in j)R.push(q);return R.reverse(),function H(){for(;R.length;){var Y=R.pop();if(Y in j)return H.value=Y,H.done=!1,H}return H.done=!0,H}},s.values=w,C.prototype={constructor:C,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!A)for(var j in this)j.charAt(0)==="t"&&l.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var j=this;function R(W,ee){return Y.type="throw",Y.arg=A,j.next=W,ee&&(j.method="next",j.arg=void 0),!!ee}for(var q=this.tryEntries.length-1;q>=0;--q){var H=this.tryEntries[q],Y=H.completion;if(H.tryLoc==="root")return R("end");if(H.tryLoc<=this.prev){var Z=l.call(H,"catchLoc"),te=l.call(H,"finallyLoc");if(Z&&te){if(this.prev<H.catchLoc)return R(H.catchLoc,!0);if(this.prev<H.finallyLoc)return R(H.finallyLoc)}else if(Z){if(this.prev<H.catchLoc)return R(H.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<H.finallyLoc)return R(H.finallyLoc)}}}},abrupt:function(A,j){for(var R=this.tryEntries.length-1;R>=0;--R){var q=this.tryEntries[R];if(q.tryLoc<=this.prev&&l.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var H=q;break}}H&&(A==="break"||A==="continue")&&H.tryLoc<=j&&j<=H.finallyLoc&&(H=null);var Y=H?H.completion:{};return Y.type=A,Y.arg=j,H?(this.method="next",this.next=H.finallyLoc,x):this.complete(Y)},complete:function(A,j){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&j&&(this.next=j),x},finish:function(A){for(var j=this.tryEntries.length-1;j>=0;--j){var R=this.tryEntries[j];if(R.finallyLoc===A)return this.complete(R.completion,R.afterLoc),F(R),x}},catch:function(A){for(var j=this.tryEntries.length-1;j>=0;--j){var R=this.tryEntries[j];if(R.tryLoc===A){var q=R.completion;if(q.type==="throw"){var H=q.arg;F(R)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(A,j,R){return this.delegate={iterator:w(A),resultName:j,nextLoc:R},this.method==="next"&&(this.arg=void 0),x}},s})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(t,n,i){var a=t("buffer").Buffer,s=t("inherits"),c=t("hash-base"),l=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(P,D){return P<<D|P>>>32-D}function x(P,D,I,B,L,z,$,O){return m(P+(D^I^B)+z+$|0,O)+L|0}function v(P,D,I,B,L,z,$,O){return m(P+(D&I|~D&B)+z+$|0,O)+L|0}function _(P,D,I,B,L,z,$,O){return m(P+((D|~I)^B)+z+$|0,O)+L|0}function k(P,D,I,B,L,z,$,O){return m(P+(D&B|I&~B)+z+$|0,O)+L|0}function N(P,D,I,B,L,z,$,O){return m(P+(D^(I|~B))+z+$|0,O)+L|0}s(y,c),y.prototype._update=function(){for(var P=l,D=0;D<16;++D)P[D]=this._block.readInt32LE(4*D);for(var I=0|this._a,B=0|this._b,L=0|this._c,z=0|this._d,$=0|this._e,O=0|this._a,F=0|this._b,C=0|this._c,w=0|this._d,E=0|this._e,A=0;A<80;A+=1){var j,R;A<16?(j=x(I,B,L,z,$,P[o[A]],d[0],f[A]),R=N(O,F,C,w,E,P[u[A]],g[0],h[A])):A<32?(j=v(I,B,L,z,$,P[o[A]],d[1],f[A]),R=k(O,F,C,w,E,P[u[A]],g[1],h[A])):A<48?(j=_(I,B,L,z,$,P[o[A]],d[2],f[A]),R=_(O,F,C,w,E,P[u[A]],g[2],h[A])):A<64?(j=k(I,B,L,z,$,P[o[A]],d[3],f[A]),R=v(O,F,C,w,E,P[u[A]],g[3],h[A])):(j=N(I,B,L,z,$,P[o[A]],d[4],f[A]),R=x(O,F,C,w,E,P[u[A]],g[4],h[A])),I=$,$=z,z=m(L,10),L=B,B=j,O=E,E=w,w=m(C,10),C=F,F=R}var q=this._b+L+w|0;this._b=this._c+z+E|0,this._c=this._d+$+O|0,this._d=this._e+I+F|0,this._e=this._a+B+C|0,this._a=q},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var P=a.alloc?a.alloc(20):new a(20);return P.writeInt32LE(this._a,0),P.writeInt32LE(this._b,4),P.writeInt32LE(this._c,8),P.writeInt32LE(this._d,12),P.writeInt32LE(this._e,16),P},n.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=t("buffer"),s=a.Buffer;function c(o,u){for(var f in o)u[f]=o[f]}function l(o,u,f){return s(o,u,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(c(a,i),i.Buffer=l),l.prototype=Object.create(s.prototype),c(s,l),l.from=function(o,u,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,u,f)},l.alloc=function(o,u,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=s(o);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],495:[function(t,n,i){(function(a){(function(){var s,c=t("buffer"),l=c.Buffer,o={};for(s in c)c.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(o[s]=c[s]);var u=o.Buffer={};for(s in l)l.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(u[s]=l[s]);if(o.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,h,d){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return l(f,h,d)}),u.alloc||(u.alloc=function(f,h,d){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var g=l(f);return h&&h.length!==0?typeof d=="string"?g.fill(h,d):g.fill(h):g.fill(0),g}),!o.kStringMaxLength)try{o.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});const a=t("xmlchars/xml/1.0/ed5"),s=t("xmlchars/xml/1.1/ed2"),c=t("xmlchars/xmlns/1.0/ed3");var l=a.isS,o=a.isChar,u=a.isNameStartChar,f=a.isNameChar,h=a.S_LIST,d=a.NAME_RE,g=s.isChar,y=c.isNCNameStartChar,m=c.isNCNameChar,x=c.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:v,xmlns:_},N={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},P=w=>w===34||w===39,D=[34,39],I=[...D,91,62],B=[...D,60,93],L=[61,63,...h],z=[...h,62,38,60];function $(w,E,A){switch(E){case"xml":A!==v&&w.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":A!==_&&w.fail(`xmlns prefix must be bound to ${_}.`)}switch(A){case _:w.fail(E===""?`the default namespace may not be set to ${A}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case v:switch(E){case"xml":break;case"":w.fail(`the default namespace may not be set to ${A}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const O=w=>x.test(w),F=w=>d.test(w);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const E=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,E){this.nameStartCheck=y,this.nameCheck=m,this.isName=O,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const A=this.opt.additionalNamespaces;A!=null&&((function(j,R){for(const q of Object.keys(R))$(j,q,R[q])})(this,A),Object.assign(this.ns,A))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=F,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:E}=this;this.state=E?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=E,this.xmlDeclPossible=!E,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:A}=this.opt;if(A===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");A="1.0"}this.setXMLVersion(A),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(N),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,E){this[C[w]]=E}off(w){this[C[w]]=void 0}makeError(w){var E;let A=(E=this.fileName)!==null&&E!==void 0?E:"";return this.trackPosition&&(A.length>0&&(A+=":"),A+=`${this.line}:${this.column}`),A.length>0&&(A+=": "),new Error(A+w)}fail(w){const E=this.makeError(w),A=this.errorHandler;if(A===void 0)throw E;return A(E),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let E=!1;w===null?(E=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let A=w.length;const j=w.charCodeAt(A-1);!E&&(j===13||j>=55296&&j<=56319)&&(this.carriedFromPrevious=w[A-1],A--,w=w.slice(0,A));const{stateTable:R}=this;for(this.chunk=w,this.i=0;this.i<A;)R[this.state].call(this);return this.chunkPosition+=A,E?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:E}=this;if(this.prevI=E,this.i=E+1,E>=w.length)return-1;const A=w.charCodeAt(E);if(this.column++,A<55296){if(A>=32||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(E+1)===10&&(this.i=E+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const j=65536+1024*(A-55296)+(w.charCodeAt(E+1)-56320);return this.i=E+2,j>1114111&&this.fail("disallowed character."),j}getCode11(){const{chunk:w,i:E}=this;if(this.prevI=E,this.i=E+1,E>=w.length)return-1;const A=w.charCodeAt(E);if(this.column++,A<55296){if(A>31&&A<127||A>159&&A!==8232||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const R=w.charCodeAt(E+1);R!==10&&R!==133||(this.i=E+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const j=65536+1024*(A-55296)+(w.charCodeAt(E+1)-56320);return this.i=E+2,j>1114111&&this.fail("disallowed character."),j}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:E}=this;const{chunk:A}=this;for(;;){const j=this.getCode(),R=j===-2,q=R?10:j;if(q===-1||w.includes(q))return this.text+=A.slice(E,this.prevI),q;R&&(this.text+=A.slice(E,this.prevI)+`
`,E=this.i)}}captureToChar(w){let{i:E}=this;const{chunk:A}=this;for(;;){let j=this.getCode();switch(j){case-2:this.text+=A.slice(E,this.prevI)+`
`,E=this.i,j=10;break;case-1:return this.text+=A.slice(E),!1}if(j===w)return this.text+=A.slice(E,this.prevI),!0}}captureNameChars(){const{chunk:w,i:E}=this;for(;;){const A=this.getCode();if(A===-1)return this.name+=w.slice(E),-1;if(!f(A))return this.name+=w.slice(E,this.prevI),A===-2?10:A}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!l(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,E=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),E){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const E=this.captureTo(I);switch(E){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(E),E===91?this.state=4:P(E)&&(this.state=3,this.q=E)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(B);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:P(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),E=this.openWakaBang+=w;this.text+=w,E!=="-"&&(this.state=E==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:E}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=E.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:A}=this,j=this.entity+E.slice(w,this.prevI);let R;this.state=A,j===""?(this.fail("empty entity name."),R="&;"):(R=this.parseEntity(j),this.entity=""),A===13&&this.textHandler===void 0||(this.text+=R);break e}case-1:this.entity+=E.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(u(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const E=this.getCodeNorm();E===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(E),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const E=this.getCodeNorm();switch(E){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(E),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||l(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:E}=this;for(;;){const A=this.getCodeNorm();if(A===-1)return void(this.piTarget+=w.slice(E));if(!this.nameCheck(A)){this.piTarget+=w.slice(E,this.prevI);const j=A===63;j||l(A)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=j?33:27):this.state=j?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(A));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:l(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const E=this.getCodeNorm();if(E===62){const{piTarget:A}=this;A.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:A,body:this.text}),this.piTarget=this.text="",this.state=13}else E===63?this.text+="?":(this.text+="?"+String.fromCodePoint(E),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(L);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(P(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const E=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const A=E;this.xmlDecl.version=A,/^1\.[0-9]+$/.test(A)?this.opt.forceXMLVersion||this.setXMLVersion(A):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(E)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=E;break;case"standalone":E!=="yes"&&E!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=E}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(l(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const E=this.captureNameChars();if(E===-1)return;const A=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=A.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,A),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),E){case 62:this.openTag();break;case 47:this.state=35;break;default:l(E)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(u(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:l(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():u(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();P(w)?(this.q=w,this.state=40):l(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:E}=this;let{i:A}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+E.slice(A,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=E.slice(A,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=E.slice(A,this.prevI)+" ",A=this.i;break;case 60:return this.text+=E.slice(A,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=E.slice(A))}}sAttribValueClosed(){const w=this.getCodeNorm();l(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:u(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(z);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():l(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:E}=this;const{chunk:A,textHandler:j}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,j!==void 0){const{text:R}=this,q=A.slice(w,this.prevI);R.length!==0?(j(R+q),this.text=""):q.length!==0&&j(q)}E=0;break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=A.slice(w,this.prevI)),E=0;break e;case 93:switch(E){case 0:E=1;break;case 1:E=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:E===2&&this.fail('the string "]]>" is disallowed in char data.'),E=0;break;case-2:j!==void 0&&(this.text+=A.slice(w,this.prevI)+`
`),w=this.i,E=0;break;case-1:j!==void 0&&(this.text+=A.slice(w));break e;default:E=0}this.forbiddenState=E}handleTextOutsideRoot(){let{i:w}=this;const{chunk:E,textHandler:A}=this;let j=!1;e:for(;;){const R=this.getCode();switch(R){case 60:if(this.state=15,A!==void 0){const{text:q}=this,H=E.slice(w,this.prevI);q.length!==0?(A(q+H),this.text=""):H.length!==0&&A(H)}break e;case 38:this.state=14,this.entityReturnState=13,A!==void 0&&(this.text+=E.slice(w,this.prevI)),j=!0;break e;case-2:A!==void 0&&(this.text+=E.slice(w,this.prevI)+`
`),w=this.i;break;case-1:A!==void 0&&(this.text+=E.slice(w));break e;default:l(R)||(j=!0)}}j&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,E){var A;const{prefix:j,local:R}=this.qname(w),q={name:w,prefix:j,local:R,value:E};if(this.attribList.push(q),(A=this.attributeHandler)===null||A===void 0||A.call(this,q),j==="xmlns"){const H=E.trim();this.currentXMLVersion==="1.0"&&H===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[R]=H,$(this,R,H)}else if(w==="xmlns"){const H=E.trim();this.topNS[""]=H,$(this,"",H)}}pushAttribPlain(w,E){var A;const j={name:w,value:E};this.attribList.push(j),(A=this.attributeHandler)===null||A===void 0||A.call(this,j)}end(){var w,E;this.sawRoot||this.fail("document must contain a root element.");const{tags:A}=this;for(;A.length>0;){const R=A.pop();this.fail("unclosed tag: "+R.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:j}=this;return j.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,j),this.text=""),this._closed=!0,(E=this.endHandler)===null||E===void 0||E.call(this),this._init(),this}resolve(w){var E,A;let j=this.topNS[w];if(j!==void 0)return j;const{tags:R}=this;for(let q=R.length-1;q>=0;q--)if(j=R[q].ns[w],j!==void 0)return j;return j=this.ns[w],j!==void 0?j:(A=(E=this.opt).resolvePrefix)===null||A===void 0?void 0:A.call(E,w)}qname(w){const E=w.indexOf(":");if(E===-1)return{prefix:"",local:w};const A=w.slice(E+1),j=w.slice(0,E);return(j===""||A===""||A.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:j,local:A}}processAttribsNS(){var w;const{attribList:E}=this,A=this.tag;{const{prefix:q,local:H}=this.qname(A.name);A.prefix=q,A.local=H;const Y=A.uri=(w=this.resolve(q))!==null&&w!==void 0?w:"";q!==""&&(q==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Y===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),A.uri=q))}if(E.length===0)return;const{attributes:j}=A,R=new Set;for(const q of E){const{name:H,prefix:Y,local:Z}=q;let te,W;Y===""?(te=H==="xmlns"?_:"",W=H):(te=this.resolve(Y),te===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Y)}.`),te=Y),W=`{${te}}${Z}`),R.has(W)&&this.fail(`duplicate attribute: ${W}.`),R.add(W),q.uri=te,j[H]=q}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,E=this.tag.attributes;for(const{name:A,value:j}of w)E[A]!==void 0&&this.fail(`duplicate attribute: ${A}.`),E[A]=j;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:E}=this,A=this.tag;A.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,A),E.push(A),this.state=13,this.name=""}openSelfClosingTag(){var w,E,A;this.processAttribs();const{tags:j}=this,R=this.tag;R.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,R),(E=this.closeTagHandler)===null||E===void 0||E.call(this,R),(this.tag=(A=j[j.length-1])!==null&&A!==void 0?A:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:E}=this;if(this.state=13,this.name="",E==="")return this.fail("weird empty close tag."),void(this.text+="</>");const A=this.closeTagHandler;let j=w.length;for(;j-- >0;){const R=this.tag=w.pop();if(this.topNS=R.ns,A==null||A(R),R.name===E)break;this.fail("unexpected close tag.")}j===0?this.closedRoot=!0:j<0&&(this.fail(`unmatched closing tag: ${E}.`),this.text+=`</${E}>`)}parseEntity(w){if(w[0]!=="#"){const A=this.ENTITIES[w];return A!==void 0?A:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let E=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?E=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(E=parseInt(w.slice(1),10)),this.isChar(E)?String.fromCodePoint(E):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,n,i){var a=t("safe-buffer").Buffer;function s(c,l){this._block=a.alloc(c),this._finalSize=l,this._blockSize=c,this._len=0}s.prototype.update=function(c,l){typeof c=="string"&&(l=l||"utf8",c=a.from(c,l));for(var o=this._block,u=this._blockSize,f=c.length,h=this._len,d=0;d<f;){for(var g=h%u,y=Math.min(f-d,u-g),m=0;m<y;m++)o[g+m]=c[d+m];d+=y,(h+=y)%u==0&&this._update(o)}return this._len+=f,this},s.prototype.digest=function(c){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,f=(o-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return c?h.toString(c):h},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(t,n,i){var a=n.exports=function(s){s=s.toLowerCase();var c=a[s];if(!c)throw new Error(s+" is not supported (we accept pull requests)");return new c};a.sha=t("./sha"),a.sha1=t("./sha1"),a.sha224=t("./sha224"),a.sha256=t("./sha256"),a.sha384=t("./sha384"),a.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,n,i){var a=t("inherits"),s=t("./hash"),c=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,s.call(this,64,56)}function f(d){return d<<30|d>>>2}function h(d,g,y,m){return d===0?g&y|~g&m:d===2?g&y|g&m|y&m:g^y^m}a(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var g,y=this._w,m=0|this._a,x=0|this._b,v=0|this._c,_=0|this._d,k=0|this._e,N=0;N<16;++N)y[N]=d.readInt32BE(4*N);for(;N<80;++N)y[N]=y[N-3]^y[N-8]^y[N-14]^y[N-16];for(var P=0;P<80;++P){var D=~~(P/20),I=0|((g=m)<<5|g>>>27)+h(D,x,v,_)+k+y[P]+l[D];k=_,_=v,v=f(x),x=m,m=I}this._a=m+this._a|0,this._b=x+this._b|0,this._c=v+this._c|0,this._d=_+this._d|0,this._e=k+this._e|0},u.prototype._hash=function(){var d=c.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,n,i){var a=t("inherits"),s=t("./hash"),c=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,s.call(this,64,56)}function f(g){return g<<5|g>>>27}function h(g){return g<<30|g>>>2}function d(g,y,m,x){return g===0?y&m|~y&x:g===2?y&m|y&x|m&x:y^m^x}a(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(g){for(var y,m=this._w,x=0|this._a,v=0|this._b,_=0|this._c,k=0|this._d,N=0|this._e,P=0;P<16;++P)m[P]=g.readInt32BE(4*P);for(;P<80;++P)m[P]=(y=m[P-3]^m[P-8]^m[P-14]^m[P-16])<<1|y>>>31;for(var D=0;D<80;++D){var I=~~(D/20),B=f(x)+d(I,v,_,k)+N+m[D]+l[I]|0;N=k,k=_,_=h(v),v=x,x=B}this._a=x+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=k+this._d|0,this._e=N+this._e|0},u.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,n,i){var a=t("inherits"),s=t("./sha256"),c=t("./hash"),l=t("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,c.call(this,64,56)}a(u,s),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,n,i){var a=t("inherits"),s=t("./hash"),c=t("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,s.call(this,64,56)}function f(m,x,v){return v^m&(x^v)}function h(m,x,v){return m&x|v&(m|x)}function d(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}a(u,s),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(m){for(var x,v=this._w,_=0|this._a,k=0|this._b,N=0|this._c,P=0|this._d,D=0|this._e,I=0|this._f,B=0|this._g,L=0|this._h,z=0;z<16;++z)v[z]=m.readInt32BE(4*z);for(;z<64;++z)v[z]=0|(((x=v[z-2])>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)+v[z-7]+y(v[z-15])+v[z-16];for(var $=0;$<64;++$){var O=L+g(D)+f(D,I,B)+l[$]+v[$]|0,F=d(_)+h(_,k,N)|0;L=B,B=I,I=D,D=P+O|0,P=N,N=k,k=_,_=O+F|0}this._a=_+this._a|0,this._b=k+this._b|0,this._c=N+this._c|0,this._d=P+this._d|0,this._e=D+this._e|0,this._f=I+this._f|0,this._g=B+this._g|0,this._h=L+this._h|0},u.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,n,i){var a=t("inherits"),s=t("./sha512"),c=t("./hash"),l=t("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,c.call(this,128,112)}a(u,s),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=l.allocUnsafe(48);function h(d,g,y){f.writeInt32BE(d,y),f.writeInt32BE(g,y+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,n,i){var a=t("inherits"),s=t("./hash"),c=t("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,s.call(this,128,112)}function f(k,N,P){return P^k&(N^P)}function h(k,N,P){return k&N|P&(k|N)}function d(k,N){return(k>>>28|N<<4)^(N>>>2|k<<30)^(N>>>7|k<<25)}function g(k,N){return(k>>>14|N<<18)^(k>>>18|N<<14)^(N>>>9|k<<23)}function y(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^k>>>7}function m(k,N){return(k>>>1|N<<31)^(k>>>8|N<<24)^(k>>>7|N<<25)}function x(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^k>>>6}function v(k,N){return(k>>>19|N<<13)^(N>>>29|k<<3)^(k>>>6|N<<26)}function _(k,N){return k>>>0<N>>>0?1:0}a(u,s),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(k){for(var N=this._w,P=0|this._ah,D=0|this._bh,I=0|this._ch,B=0|this._dh,L=0|this._eh,z=0|this._fh,$=0|this._gh,O=0|this._hh,F=0|this._al,C=0|this._bl,w=0|this._cl,E=0|this._dl,A=0|this._el,j=0|this._fl,R=0|this._gl,q=0|this._hl,H=0;H<32;H+=2)N[H]=k.readInt32BE(4*H),N[H+1]=k.readInt32BE(4*H+4);for(;H<160;H+=2){var Y=N[H-30],Z=N[H-30+1],te=y(Y,Z),W=m(Z,Y),ee=x(Y=N[H-4],Z=N[H-4+1]),K=v(Z,Y),V=N[H-14],Q=N[H-14+1],re=N[H-32],oe=N[H-32+1],ne=W+Q|0,le=te+V+_(ne,W)|0;le=(le=le+ee+_(ne=ne+K|0,K)|0)+re+_(ne=ne+oe|0,oe)|0,N[H]=le,N[H+1]=ne}for(var me=0;me<160;me+=2){le=N[me],ne=N[me+1];var ge=h(P,D,I),se=h(F,C,w),fe=d(P,F),he=d(F,P),ve=g(L,A),xe=g(A,L),_e=l[me],Ne=l[me+1],Re=f(L,z,$),$e=f(A,j,R),tt=q+xe|0,et=O+ve+_(tt,q)|0;et=(et=(et=et+Re+_(tt=tt+$e|0,$e)|0)+_e+_(tt=tt+Ne|0,Ne)|0)+le+_(tt=tt+ne|0,ne)|0;var Ye=he+se|0,wt=fe+ge+_(Ye,he)|0;O=$,q=R,$=z,R=j,z=L,j=A,L=B+et+_(A=E+tt|0,E)|0,B=I,E=w,I=D,w=C,D=P,C=F,P=et+wt+_(F=tt+Ye|0,tt)|0}this._al=this._al+F|0,this._bl=this._bl+C|0,this._cl=this._cl+w|0,this._dl=this._dl+E|0,this._el=this._el+A|0,this._fl=this._fl+j|0,this._gl=this._gl+R|0,this._hl=this._hl+q|0,this._ah=this._ah+P+_(this._al,F)|0,this._bh=this._bh+D+_(this._bl,C)|0,this._ch=this._ch+I+_(this._cl,w)|0,this._dh=this._dh+B+_(this._dl,E)|0,this._eh=this._eh+L+_(this._el,A)|0,this._fh=this._fh+z+_(this._fl,j)|0,this._gh=this._gh+$+_(this._gl,R)|0,this._hh=this._hh+O+_(this._hl,q)|0},u.prototype._hash=function(){var k=c.allocUnsafe(64);function N(P,D,I){k.writeInt32BE(P,I),k.writeInt32BE(D,I+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),k},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,n,i){n.exports=s;var a=t("events").EventEmitter;function s(){a.call(this)}t("inherits")(s,a),s.Readable=t("readable-stream/readable.js"),s.Writable=t("readable-stream/writable.js"),s.Duplex=t("readable-stream/duplex.js"),s.Transform=t("readable-stream/transform.js"),s.PassThrough=t("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(c,l){var o=this;function u(x){c.writable&&c.write(x)===!1&&o.pause&&o.pause()}function f(){o.readable&&o.resume&&o.resume()}o.on("data",u),c.on("drain",f),c._isStdio||l&&l.end===!1||(o.on("end",d),o.on("close",g));var h=!1;function d(){h||(h=!0,c.end())}function g(){h||(h=!0,typeof c.destroy=="function"&&c.destroy())}function y(x){if(m(),a.listenerCount(this,"error")===0)throw x}function m(){o.removeListener("data",u),c.removeListener("drain",f),o.removeListener("end",d),o.removeListener("close",g),o.removeListener("error",y),c.removeListener("error",y),o.removeListener("end",m),o.removeListener("close",m),c.removeListener("close",m)}return o.on("error",y),c.on("error",y),o.on("end",m),o.on("close",m),c.on("close",m),c.emit("pipe",o),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,n,i){var a={}.toString;n.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},{}],507:[function(t,n,i){n.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,n,i){var a=t("process-nextick-args"),s=Object.keys||function(m){var x=[];for(var v in m)x.push(v);return x};n.exports=d;var c=Object.create(t("core-util-is"));c.inherits=t("inherits");var l=t("./_stream_readable"),o=t("./_stream_writable");c.inherits(d,l);for(var u=s(o.prototype),f=0;f<u.length;f++){var h=u[f];d.prototype[h]||(d.prototype[h]=o.prototype[h])}function d(m){if(!(this instanceof d))return new d(m);l.call(this,m),o.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||a.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),d.prototype._destroy=function(m,x){this.push(null),this.end(),a.nextTick(x,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,n,i){n.exports=c;var a=t("./_stream_transform"),s=Object.create(t("core-util-is"));function c(l){if(!(this instanceof c))return new c(l);a.call(this,l)}s.inherits=t("inherits"),s.inherits(c,a),c.prototype._transform=function(l,o,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,n,i){(function(a,s){(function(){var c=t("process-nextick-args");n.exports=P;var l,o=t("isarray");P.ReadableState=N,t("events").EventEmitter;var u=function(q,H){return q.listeners(H).length},f=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(t("core-util-is"));g.inherits=t("inherits");var y=t("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var x,v=t("./internal/streams/BufferList"),_=t("./internal/streams/destroy");g.inherits(P,f);var k=["error","close","destroy","pause","resume"];function N(q,H){q=q||{};var Y=H instanceof(l=l||t("./_stream_duplex"));this.objectMode=!!q.objectMode,Y&&(this.objectMode=this.objectMode||!!q.readableObjectMode);var Z=q.highWaterMark,te=q.readableHighWaterMark,W=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:Y&&(te||te===0)?te:W,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(x||(x=t("string_decoder/").StringDecoder),this.decoder=new x(q.encoding),this.encoding=q.encoding)}function P(q){if(l=l||t("./_stream_duplex"),!(this instanceof P))return new P(q);this._readableState=new N(q,this),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),f.call(this)}function D(q,H,Y,Z,te){var W,ee=q._readableState;return H===null?(ee.reading=!1,(function(K,V){if(!V.ended){if(V.decoder){var Q=V.decoder.end();Q&&Q.length&&(V.buffer.push(Q),V.length+=V.objectMode?1:Q.length)}V.ended=!0,L(K)}})(q,ee)):(te||(W=(function(K,V){var Q;re=V,h.isBuffer(re)||re instanceof d||typeof V=="string"||V===void 0||K.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk"));var re;return Q})(ee,H)),W?q.emit("error",W):ee.objectMode||H&&H.length>0?(typeof H=="string"||ee.objectMode||Object.getPrototypeOf(H)===h.prototype||(H=(function(K){return h.from(K)})(H)),Z?ee.endEmitted?q.emit("error",new Error("stream.unshift() after end event")):I(q,ee,H,!0):ee.ended?q.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!Y?(H=ee.decoder.write(H),ee.objectMode||H.length!==0?I(q,ee,H,!1):$(q,ee)):I(q,ee,H,!1))):Z||(ee.reading=!1)),(function(K){return!K.ended&&(K.needReadable||K.length<K.highWaterMark||K.length===0)})(ee)}function I(q,H,Y,Z){H.flowing&&H.length===0&&!H.sync?(q.emit("data",Y),q.read(0)):(H.length+=H.objectMode?1:Y.length,Z?H.buffer.unshift(Y):H.buffer.push(Y),H.needReadable&&L(q)),$(q,H)}Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),P.prototype.destroy=_.destroy,P.prototype._undestroy=_.undestroy,P.prototype._destroy=function(q,H){this.push(null),H(q)},P.prototype.push=function(q,H){var Y,Z=this._readableState;return Z.objectMode?Y=!0:typeof q=="string"&&((H=H||Z.defaultEncoding)!==Z.encoding&&(q=h.from(q,H),H=""),Y=!0),D(this,q,H,!1,Y)},P.prototype.unshift=function(q){return D(this,q,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(q){return x||(x=t("string_decoder/").StringDecoder),this._readableState.decoder=new x(q),this._readableState.encoding=q,this};function B(q,H){return q<=0||H.length===0&&H.ended?0:H.objectMode?1:q!=q?H.flowing&&H.length?H.buffer.head.data.length:H.length:(q>H.highWaterMark&&(H.highWaterMark=(function(Y){return Y>=8388608?Y=8388608:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y})(q)),q<=H.length?q:H.ended?H.length:(H.needReadable=!0,0))}function L(q){var H=q._readableState;H.needReadable=!1,H.emittedReadable||(m("emitReadable",H.flowing),H.emittedReadable=!0,H.sync?c.nextTick(z,q):z(q))}function z(q){m("emit readable"),q.emit("readable"),w(q)}function $(q,H){H.readingMore||(H.readingMore=!0,c.nextTick(O,q,H))}function O(q,H){for(var Y=H.length;!H.reading&&!H.flowing&&!H.ended&&H.length<H.highWaterMark&&(m("maybeReadMore read 0"),q.read(0),Y!==H.length);)Y=H.length;H.readingMore=!1}function F(q){m("readable nexttick read 0"),q.read(0)}function C(q,H){H.reading||(m("resume read 0"),q.read(0)),H.resumeScheduled=!1,H.awaitDrain=0,q.emit("resume"),w(q),H.flowing&&!H.reading&&q.read(0)}function w(q){var H=q._readableState;for(m("flow",H.flowing);H.flowing&&q.read()!==null;);}function E(q,H){return H.length===0?null:(H.objectMode?Y=H.buffer.shift():!q||q>=H.length?(Y=H.decoder?H.buffer.join(""):H.buffer.length===1?H.buffer.head.data:H.buffer.concat(H.length),H.buffer.clear()):Y=(function(Z,te,W){var ee;return Z<te.head.data.length?(ee=te.head.data.slice(0,Z),te.head.data=te.head.data.slice(Z)):ee=Z===te.head.data.length?te.shift():W?(function(K,V){var Q=V.head,re=1,oe=Q.data;for(K-=oe.length;Q=Q.next;){var ne=Q.data,le=K>ne.length?ne.length:K;if(le===ne.length?oe+=ne:oe+=ne.slice(0,K),(K-=le)===0){le===ne.length?(++re,Q.next?V.head=Q.next:V.head=V.tail=null):(V.head=Q,Q.data=ne.slice(le));break}++re}return V.length-=re,oe})(Z,te):(function(K,V){var Q=h.allocUnsafe(K),re=V.head,oe=1;for(re.data.copy(Q),K-=re.data.length;re=re.next;){var ne=re.data,le=K>ne.length?ne.length:K;if(ne.copy(Q,Q.length-K,0,le),(K-=le)===0){le===ne.length?(++oe,re.next?V.head=re.next:V.head=V.tail=null):(V.head=re,re.data=ne.slice(le));break}++oe}return V.length-=oe,Q})(Z,te),ee})(q,H.buffer,H.decoder),Y);var Y}function A(q){var H=q._readableState;if(H.length>0)throw new Error('"endReadable()" called on non-empty stream');H.endEmitted||(H.ended=!0,c.nextTick(j,H,q))}function j(q,H){q.endEmitted||q.length!==0||(q.endEmitted=!0,H.readable=!1,H.emit("end"))}function R(q,H){for(var Y=0,Z=q.length;Y<Z;Y++)if(q[Y]===H)return Y;return-1}P.prototype.read=function(q){m("read",q),q=parseInt(q,10);var H=this._readableState,Y=q;if(q!==0&&(H.emittedReadable=!1),q===0&&H.needReadable&&(H.length>=H.highWaterMark||H.ended))return m("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?A(this):L(this),null;if((q=B(q,H))===0&&H.ended)return H.length===0&&A(this),null;var Z,te=H.needReadable;return m("need readable",te),(H.length===0||H.length-q<H.highWaterMark)&&m("length less than watermark",te=!0),H.ended||H.reading?m("reading or ended",te=!1):te&&(m("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(q=B(Y,H))),(Z=q>0?E(q,H):null)===null?(H.needReadable=!0,q=0):H.length-=q,H.length===0&&(H.ended||(H.needReadable=!0),Y!==q&&H.ended&&A(this)),Z!==null&&this.emit("data",Z),Z},P.prototype._read=function(q){this.emit("error",new Error("_read() is not implemented"))},P.prototype.pipe=function(q,H){var Y=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=q;break;case 1:Z.pipes=[Z.pipes,q];break;default:Z.pipes.push(q)}Z.pipesCount+=1,m("pipe count=%d opts=%j",Z.pipesCount,H);var te=(!H||H.end!==!1)&&q!==a.stdout&&q!==a.stderr?ee:me;function W(ge,se){m("onunpipe"),ge===Y&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,m("cleanup"),q.removeListener("close",ne),q.removeListener("finish",le),q.removeListener("drain",K),q.removeListener("error",oe),q.removeListener("unpipe",W),Y.removeListener("end",ee),Y.removeListener("end",me),Y.removeListener("data",re),V=!0,!Z.awaitDrain||q._writableState&&!q._writableState.needDrain||K())}function ee(){m("onend"),q.end()}Z.endEmitted?c.nextTick(te):Y.once("end",te),q.on("unpipe",W);var K=(function(ge){return function(){var se=ge._readableState;m("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&u(ge,"data")&&(se.flowing=!0,w(ge))}})(Y);q.on("drain",K);var V=!1,Q=!1;function re(ge){m("ondata"),Q=!1,q.write(ge)!==!1||Q||((Z.pipesCount===1&&Z.pipes===q||Z.pipesCount>1&&R(Z.pipes,q)!==-1)&&!V&&(m("false write response, pause",Z.awaitDrain),Z.awaitDrain++,Q=!0),Y.pause())}function oe(ge){m("onerror",ge),me(),q.removeListener("error",oe),u(q,"error")===0&&q.emit("error",ge)}function ne(){q.removeListener("finish",le),me()}function le(){m("onfinish"),q.removeListener("close",ne),me()}function me(){m("unpipe"),Y.unpipe(q)}return Y.on("data",re),(function(ge,se,fe){if(typeof ge.prependListener=="function")return ge.prependListener(se,fe);ge._events&&ge._events[se]?o(ge._events[se])?ge._events[se].unshift(fe):ge._events[se]=[fe,ge._events[se]]:ge.on(se,fe)})(q,"error",oe),q.once("close",ne),q.once("finish",le),q.emit("pipe",Y),Z.flowing||(m("pipe resume"),Y.resume()),q},P.prototype.unpipe=function(q){var H=this._readableState,Y={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return q&&q!==H.pipes||(q||(q=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,q&&q.emit("unpipe",this,Y)),this;if(!q){var Z=H.pipes,te=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var W=0;W<te;W++)Z[W].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=R(H.pipes,q);return ee===-1||(H.pipes.splice(ee,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),q.emit("unpipe",this,Y)),this},P.prototype.on=function(q,H){var Y=f.prototype.on.call(this,q,H);if(q==="data")this._readableState.flowing!==!1&&this.resume();else if(q==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&L(this):c.nextTick(F,this))}return Y},P.prototype.addListener=P.prototype.on,P.prototype.resume=function(){var q=this._readableState;return q.flowing||(m("resume"),q.flowing=!0,(function(H,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,c.nextTick(C,H,Y))})(this,q)),this},P.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},P.prototype.wrap=function(q){var H=this,Y=this._readableState,Z=!1;for(var te in q.on("end",(function(){if(m("wrapped end"),Y.decoder&&!Y.ended){var ee=Y.decoder.end();ee&&ee.length&&H.push(ee)}H.push(null)})),q.on("data",(function(ee){m("wrapped data"),Y.decoder&&(ee=Y.decoder.write(ee)),Y.objectMode&&ee==null||(Y.objectMode||ee&&ee.length)&&(H.push(ee)||(Z=!0,q.pause()))})),q)this[te]===void 0&&typeof q[te]=="function"&&(this[te]=(function(ee){return function(){return q[ee].apply(q,arguments)}})(te));for(var W=0;W<k.length;W++)q.on(k[W],this.emit.bind(this,k[W]));return this._read=function(ee){m("wrapped _read",ee),Z&&(Z=!1,q.resume())},this},Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),P._fromList=E}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,n,i){n.exports=l;var a=t("./_stream_duplex"),s=Object.create(t("core-util-is"));function c(f,h){var d=this._transformState;d.transforming=!1;var g=d.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),g(f);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);a.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",o)}function o(){var f=this;typeof this._flush=="function"?this._flush((function(h,d){u(f,h,d)})):u(this,null,null)}function u(f,h,d){if(h)return f.emit("error",h);if(d!=null&&f.push(d),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}s.inherits=t("inherits"),s.inherits(l,a),l.prototype.push=function(f,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,h)},l.prototype._transform=function(f,h,d){throw new Error("_transform() is not implemented")},l.prototype._write=function(f,h,d){var g=this._transformState;if(g.writecb=d,g.writechunk=f,g.writeencoding=h,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},l.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(f,h){var d=this;a.prototype._destroy.call(this,f,(function(g){h(g),d.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,n,i){(function(a,s,c){(function(){var l=t("process-nextick-args");function o($){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(F,C,w){var E=F.entry;for(F.entry=null;E;){var A=E.callback;C.pendingcb--,A(w),E=E.next}C.corkedRequestsFree.next=F})(O,$)}}n.exports=N;var u,f=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?c:l.nextTick;N.WritableState=k;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var d={deprecate:t("util-deprecate")},g=t("./internal/streams/stream"),y=t("safe-buffer").Buffer,m=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},x,v=t("./internal/streams/destroy");function _(){}function k($,O){u=u||t("./_stream_duplex"),$=$||{};var F=O instanceof u;this.objectMode=!!$.objectMode,F&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var C=$.highWaterMark,w=$.writableHighWaterMark,E=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:F&&(w||w===0)?w:E,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var A=$.decodeStrings===!1;this.decodeStrings=!A,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){(function(R,q){var H=R._writableState,Y=H.sync,Z=H.writecb;if((function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0})(H),q)(function(W,ee,K,V,Q){--ee.pendingcb,K?(l.nextTick(Q,V),l.nextTick(z,W,ee),W._writableState.errorEmitted=!0,W.emit("error",V)):(Q(V),W._writableState.errorEmitted=!0,W.emit("error",V),z(W,ee))})(R,H,Y,q,Z);else{var te=B(H);te||H.corked||H.bufferProcessing||!H.bufferedRequest||I(R,H),Y?f(D,R,H,te,Z):D(R,H,te,Z)}})(O,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function N($){if(u=u||t("./_stream_duplex"),!(x.call(N,this)||this instanceof u))return new N($);this._writableState=new k($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),g.call(this)}function P($,O,F,C,w,E,A){O.writelen=C,O.writecb=A,O.writing=!0,O.sync=!0,F?$._writev(w,O.onwrite):$._write(w,E,O.onwrite),O.sync=!1}function D($,O,F,C){F||(function(w,E){E.length===0&&E.needDrain&&(E.needDrain=!1,w.emit("drain"))})($,O),O.pendingcb--,C(),z($,O)}function I($,O){O.bufferProcessing=!0;var F=O.bufferedRequest;if($._writev&&F&&F.next){var C=O.bufferedRequestCount,w=new Array(C),E=O.corkedRequestsFree;E.entry=F;for(var A=0,j=!0;F;)w[A]=F,F.isBuf||(j=!1),F=F.next,A+=1;w.allBuffers=j,P($,O,!0,O.length,w,"",E.finish),O.pendingcb++,O.lastBufferedRequest=null,E.next?(O.corkedRequestsFree=E.next,E.next=null):O.corkedRequestsFree=new o(O),O.bufferedRequestCount=0}else{for(;F;){var R=F.chunk,q=F.encoding,H=F.callback;if(P($,O,!1,O.objectMode?1:R.length,R,q,H),F=F.next,O.bufferedRequestCount--,O.writing)break}F===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=F,O.bufferProcessing=!1}function B($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function L($,O){$._final((function(F){O.pendingcb--,F&&$.emit("error",F),O.prefinished=!0,$.emit("prefinish"),z($,O)}))}function z($,O){var F=B(O);return F&&((function(C,w){w.prefinished||w.finalCalled||(typeof C._final=="function"?(w.pendingcb++,w.finalCalled=!0,l.nextTick(L,C,w)):(w.prefinished=!0,C.emit("prefinish")))})($,O),O.pendingcb===0&&(O.finished=!0,$.emit("finish"))),F}h.inherits(N,g),k.prototype.getBuffer=function(){for(var $=this.bufferedRequest,O=[];$;)O.push($),$=$.next;return O},(function(){try{Object.defineProperty(k.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function($){return!!x.call(this,$)||this===N&&$&&$._writableState instanceof k}})):x=function($){return $ instanceof this},N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},N.prototype.write=function($,O,F){var C,w=this._writableState,E=!1,A=!w.objectMode&&(C=$,y.isBuffer(C)||C instanceof m);return A&&!y.isBuffer($)&&($=(function(j){return y.from(j)})($)),typeof O=="function"&&(F=O,O=null),A?O="buffer":O||(O=w.defaultEncoding),typeof F!="function"&&(F=_),w.ended?(function(j,R){var q=new Error("write after end");j.emit("error",q),l.nextTick(R,q)})(this,F):(A||(function(j,R,q,H){var Y=!0,Z=!1;return q===null?Z=new TypeError("May not write null values to stream"):typeof q=="string"||q===void 0||R.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(j.emit("error",Z),l.nextTick(H,Z),Y=!1),Y})(this,w,$,F))&&(w.pendingcb++,E=(function(j,R,q,H,Y,Z){if(!q){var te=(function(V,Q,re){return V.objectMode||V.decodeStrings===!1||typeof Q!="string"||(Q=y.from(Q,re)),Q})(R,H,Y);H!==te&&(q=!0,Y="buffer",H=te)}var W=R.objectMode?1:H.length;R.length+=W;var ee=R.length<R.highWaterMark;if(ee||(R.needDrain=!0),R.writing||R.corked){var K=R.lastBufferedRequest;R.lastBufferedRequest={chunk:H,encoding:Y,isBuf:q,callback:Z,next:null},K?K.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else P(j,R,!1,W,H,Y,Z);return ee})(this,w,A,$,O,F)),E},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.bufferProcessing||!$.bufferedRequest||I(this,$))},N.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this},Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function($,O,F){F(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function($,O,F){var C=this._writableState;typeof $=="function"?(F=$,$=null,O=null):typeof O=="function"&&(F=O,O=null),$!=null&&this.write($,O),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(w,E,A){E.ending=!0,z(w,E),A&&(E.finished?l.nextTick(A):w.once("finish",A)),E.ended=!0,w.writable=!1})(this,C,F)},Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),N.prototype.destroy=v.destroy,N.prototype._undestroy=v.undestroy,N.prototype._destroy=function($,O){this.end(),O($)}}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,n,i){var a=t("safe-buffer").Buffer,s=t("util");n.exports=(function(){function c(){(function(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(l){var o={data:l,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},c.prototype.unshift=function(l){var o={data:l,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},c.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(l){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=l+o.data;return u},c.prototype.concat=function(l){if(this.length===0)return a.alloc(0);for(var o,u,f,h=a.allocUnsafe(l>>>0),d=this.head,g=0;d;)o=d.data,u=h,f=g,o.copy(u,f),g+=d.data.length,d=d.next;return h},c})(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var c=s.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(t,n,i){var a=t("process-nextick-args");function s(c,l){c.emit("error",l)}n.exports={destroy:function(c,l){var o=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,c)):a.nextTick(s,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,(function(h){!l&&h?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,a.nextTick(s,o,h)):a.nextTick(s,o,h):l&&l(h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(t,n,i){n.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,n,i){(i=n.exports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,n,i){n.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,n,i){n.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(t,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,n,i){(function(a,s){(function(){var c=t("process/browser.js").nextTick,l=Function.prototype.apply,o=Array.prototype.slice,u={},f=0;function h(d,g){this._id=d,this._clearFn=g}i.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(d,g){clearTimeout(d._idleTimeoutId),d._idleTimeout=g},i.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},i._unrefActive=i.active=function(d){clearTimeout(d._idleTimeoutId);var g=d._idleTimeout;g>=0&&(d._idleTimeoutId=setTimeout((function(){d._onTimeout&&d._onTimeout()}),g))},i.setImmediate=typeof a=="function"?a:function(d){var g=f++,y=!(arguments.length<2)&&o.call(arguments,1);return u[g]=!0,c((function(){u[g]&&(y?d.apply(null,y):d.call(null),i.clearImmediate(g))})),g},i.clearImmediate=typeof s=="function"?s:function(d){delete u[d]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,n,i){(function(a){(function(){function s(c){try{if(!a.localStorage)return!1}catch{return!1}var l=a.localStorage[c];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(c,l){if(s("noDeprecation"))return c;var o=!1;return function(){if(!o){if(s("throwDeprecation"))throw new Error(l);s("traceDeprecation")?console.trace(l):console.warn(l),o=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,n,i){typeof Object.create=="function"?n.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,s){a.super_=s;var c=function(){};c.prototype=s.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],526:[function(t,n,i){n.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(t,n,i){(function(a,s){(function(){var c=/%[sdj%]/g;i.format=function(w){if(!k(w)){for(var E=[],A=0;A<arguments.length;A++)E.push(u(arguments[A]));return E.join(" ")}A=1;for(var j=arguments,R=j.length,q=String(w).replace(c,(function(Y){if(Y==="%%")return"%";if(A>=R)return Y;switch(Y){case"%s":return String(j[A++]);case"%d":return Number(j[A++]);case"%j":try{return JSON.stringify(j[A++])}catch{return"[Circular]"}default:return Y}})),H=j[A];A<R;H=j[++A])v(H)||!D(H)?q+=" "+H:q+=" "+u(H);return q},i.deprecate=function(w,E){if(N(s.process))return function(){return i.deprecate(w,E).apply(this,arguments)};if(a.noDeprecation===!0)return w;var A=!1;return function(){if(!A){if(a.throwDeprecation)throw new Error(E);a.traceDeprecation?console.trace(E):console.error(E),A=!0}return w.apply(this,arguments)}};var l,o={};function u(w,E){var A={seen:[],stylize:h};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),x(E)?A.showHidden=E:E&&i._extend(A,E),N(A.showHidden)&&(A.showHidden=!1),N(A.depth)&&(A.depth=2),N(A.colors)&&(A.colors=!1),N(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=f),d(A,w,A.depth)}function f(w,E){var A=u.styles[E];return A?"\x1B["+u.colors[A][0]+"m"+w+"\x1B["+u.colors[A][1]+"m":w}function h(w,E){return w}function d(w,E,A){if(w.customInspect&&E&&L(E.inspect)&&E.inspect!==i.inspect&&(!E.constructor||E.constructor.prototype!==E)){var j=E.inspect(A,w);return k(j)||(j=d(w,j,A)),j}var R=(function(K,V){if(N(V))return K.stylize("undefined","undefined");if(k(V)){var Q="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(Q,"string")}if(_(V))return K.stylize(""+V,"number");if(x(V))return K.stylize(""+V,"boolean");if(v(V))return K.stylize("null","null")})(w,E);if(R)return R;var q=Object.keys(E),H=(function(K){var V={};return K.forEach((function(Q,re){V[Q]=!0})),V})(q);if(w.showHidden&&(q=Object.getOwnPropertyNames(E)),B(E)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return g(E);if(q.length===0){if(L(E)){var Y=E.name?": "+E.name:"";return w.stylize("[Function"+Y+"]","special")}if(P(E))return w.stylize(RegExp.prototype.toString.call(E),"regexp");if(I(E))return w.stylize(Date.prototype.toString.call(E),"date");if(B(E))return g(E)}var Z,te="",W=!1,ee=["{","}"];return m(E)&&(W=!0,ee=["[","]"]),L(E)&&(te=" [Function"+(E.name?": "+E.name:"")+"]"),P(E)&&(te=" "+RegExp.prototype.toString.call(E)),I(E)&&(te=" "+Date.prototype.toUTCString.call(E)),B(E)&&(te=" "+g(E)),q.length!==0||W&&E.length!=0?A<0?P(E)?w.stylize(RegExp.prototype.toString.call(E),"regexp"):w.stylize("[Object]","special"):(w.seen.push(E),Z=W?(function(K,V,Q,re,oe){for(var ne=[],le=0,me=V.length;le<me;++le)C(V,String(le))?ne.push(y(K,V,Q,re,String(le),!0)):ne.push("");return oe.forEach((function(ge){ge.match(/^\d+$/)||ne.push(y(K,V,Q,re,ge,!0))})),ne})(w,E,A,H,q):q.map((function(K){return y(w,E,A,H,K,W)})),w.seen.pop(),(function(K,V,Q){return K.reduce((function(re,oe){return oe.indexOf(`
`)>=0,re+oe.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Q[0]+(V===""?"":V+`
 `)+" "+K.join(`,
  `)+" "+Q[1]:Q[0]+V+" "+K.join(", ")+" "+Q[1]})(Z,te,ee)):ee[0]+te+ee[1]}function g(w){return"["+Error.prototype.toString.call(w)+"]"}function y(w,E,A,j,R,q){var H,Y,Z;if((Z=Object.getOwnPropertyDescriptor(E,R)||{value:E[R]}).get?Y=Z.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):Z.set&&(Y=w.stylize("[Setter]","special")),C(j,R)||(H="["+R+"]"),Y||(w.seen.indexOf(Z.value)<0?(Y=v(A)?d(w,Z.value,null):d(w,Z.value,A-1)).indexOf(`
`)>-1&&(Y=q?Y.split(`
`).map((function(te){return"  "+te})).join(`
`).substr(2):`
`+Y.split(`
`).map((function(te){return"   "+te})).join(`
`)):Y=w.stylize("[Circular]","special")),N(H)){if(q&&R.match(/^\d+$/))return Y;(H=JSON.stringify(""+R)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.substr(1,H.length-2),H=w.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=w.stylize(H,"string"))}return H+": "+Y}function m(w){return Array.isArray(w)}function x(w){return typeof w=="boolean"}function v(w){return w===null}function _(w){return typeof w=="number"}function k(w){return typeof w=="string"}function N(w){return w===void 0}function P(w){return D(w)&&z(w)==="[object RegExp]"}function D(w){return typeof w=="object"&&w!==null}function I(w){return D(w)&&z(w)==="[object Date]"}function B(w){return D(w)&&(z(w)==="[object Error]"||w instanceof Error)}function L(w){return typeof w=="function"}function z(w){return Object.prototype.toString.call(w)}function $(w){return w<10?"0"+w.toString(10):w.toString(10)}i.debuglog=function(w){if(N(l)&&(l=a.env.NODE_DEBUG||""),w=w.toUpperCase(),!o[w])if(new RegExp("\\b"+w+"\\b","i").test(l)){var E=a.pid;o[w]=function(){var A=i.format.apply(i,arguments);console.error("%s %d: %s",w,E,A)}}else o[w]=function(){};return o[w]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=m,i.isBoolean=x,i.isNull=v,i.isNullOrUndefined=function(w){return w==null},i.isNumber=_,i.isString=k,i.isSymbol=function(w){return typeof w=="symbol"},i.isUndefined=N,i.isRegExp=P,i.isObject=D,i.isDate=I,i.isError=B,i.isFunction=L,i.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},i.isBuffer=t("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var w=new Date,E=[$(w.getHours()),$(w.getMinutes()),$(w.getSeconds())].join(":");return[w.getDate(),O[w.getMonth()],E].join(" ")}function C(w,E){return Object.prototype.hasOwnProperty.call(w,E)}i.log=function(){console.log("%s - %s",F(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(w,E){if(!E||!D(E))return w;for(var A=Object.keys(E),j=A.length;j--;)w[A[j]]=E[A[j]];return w}}).call(this)}).call(this,t("_process"),typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return d.default}});var a=g(t("./v1.js")),s=g(t("./v3.js")),c=g(t("./v4.js")),l=g(t("./v5.js")),o=g(t("./nil.js")),u=g(t("./version.js")),f=g(t("./validate.js")),h=g(t("./stringify.js")),d=g(t("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,n,i){function a(d){return 14+(d+64>>>9<<4)+1}function s(d,g){const y=(65535&d)+(65535&g);return(d>>16)+(g>>16)+(y>>16)<<16|65535&y}function c(d,g,y,m,x,v){return s((_=s(s(g,d),s(m,v)))<<(k=x)|_>>>32-k,y);var _,k}function l(d,g,y,m,x,v,_){return c(g&y|~g&m,d,g,x,v,_)}function o(d,g,y,m,x,v,_){return c(g&m|y&~m,d,g,x,v,_)}function u(d,g,y,m,x,v,_){return c(g^y^m,d,g,x,v,_)}function f(d,g,y,m,x,v,_){return c(y^(g|~m),d,g,x,v,_)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(d){if(typeof d=="string"){const g=unescape(encodeURIComponent(d));d=new Uint8Array(g.length);for(let y=0;y<g.length;++y)d[y]=g.charCodeAt(y)}return(function(g){const y=[],m=32*g.length;for(let x=0;x<m;x+=8){const v=g[x>>5]>>>x%32&255,_=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);y.push(_)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[a(y)-1]=y;let m=1732584193,x=-271733879,v=-1732584194,_=271733878;for(let k=0;k<g.length;k+=16){const N=m,P=x,D=v,I=_;m=l(m,x,v,_,g[k],7,-680876936),_=l(_,m,x,v,g[k+1],12,-389564586),v=l(v,_,m,x,g[k+2],17,606105819),x=l(x,v,_,m,g[k+3],22,-1044525330),m=l(m,x,v,_,g[k+4],7,-176418897),_=l(_,m,x,v,g[k+5],12,1200080426),v=l(v,_,m,x,g[k+6],17,-1473231341),x=l(x,v,_,m,g[k+7],22,-45705983),m=l(m,x,v,_,g[k+8],7,1770035416),_=l(_,m,x,v,g[k+9],12,-1958414417),v=l(v,_,m,x,g[k+10],17,-42063),x=l(x,v,_,m,g[k+11],22,-1990404162),m=l(m,x,v,_,g[k+12],7,1804603682),_=l(_,m,x,v,g[k+13],12,-40341101),v=l(v,_,m,x,g[k+14],17,-1502002290),x=l(x,v,_,m,g[k+15],22,1236535329),m=o(m,x,v,_,g[k+1],5,-165796510),_=o(_,m,x,v,g[k+6],9,-1069501632),v=o(v,_,m,x,g[k+11],14,643717713),x=o(x,v,_,m,g[k],20,-373897302),m=o(m,x,v,_,g[k+5],5,-701558691),_=o(_,m,x,v,g[k+10],9,38016083),v=o(v,_,m,x,g[k+15],14,-660478335),x=o(x,v,_,m,g[k+4],20,-405537848),m=o(m,x,v,_,g[k+9],5,568446438),_=o(_,m,x,v,g[k+14],9,-1019803690),v=o(v,_,m,x,g[k+3],14,-187363961),x=o(x,v,_,m,g[k+8],20,1163531501),m=o(m,x,v,_,g[k+13],5,-1444681467),_=o(_,m,x,v,g[k+2],9,-51403784),v=o(v,_,m,x,g[k+7],14,1735328473),x=o(x,v,_,m,g[k+12],20,-1926607734),m=u(m,x,v,_,g[k+5],4,-378558),_=u(_,m,x,v,g[k+8],11,-2022574463),v=u(v,_,m,x,g[k+11],16,1839030562),x=u(x,v,_,m,g[k+14],23,-35309556),m=u(m,x,v,_,g[k+1],4,-1530992060),_=u(_,m,x,v,g[k+4],11,1272893353),v=u(v,_,m,x,g[k+7],16,-155497632),x=u(x,v,_,m,g[k+10],23,-1094730640),m=u(m,x,v,_,g[k+13],4,681279174),_=u(_,m,x,v,g[k],11,-358537222),v=u(v,_,m,x,g[k+3],16,-722521979),x=u(x,v,_,m,g[k+6],23,76029189),m=u(m,x,v,_,g[k+9],4,-640364487),_=u(_,m,x,v,g[k+12],11,-421815835),v=u(v,_,m,x,g[k+15],16,530742520),x=u(x,v,_,m,g[k+2],23,-995338651),m=f(m,x,v,_,g[k],6,-198630844),_=f(_,m,x,v,g[k+7],10,1126891415),v=f(v,_,m,x,g[k+14],15,-1416354905),x=f(x,v,_,m,g[k+5],21,-57434055),m=f(m,x,v,_,g[k+12],6,1700485571),_=f(_,m,x,v,g[k+3],10,-1894986606),v=f(v,_,m,x,g[k+10],15,-1051523),x=f(x,v,_,m,g[k+1],21,-2054922799),m=f(m,x,v,_,g[k+8],6,1873313359),_=f(_,m,x,v,g[k+15],10,-30611744),v=f(v,_,m,x,g[k+6],15,-1560198380),x=f(x,v,_,m,g[k+13],21,1309151649),m=f(m,x,v,_,g[k+4],6,-145523070),_=f(_,m,x,v,g[k+11],10,-1120210379),v=f(v,_,m,x,g[k+2],15,718787259),x=f(x,v,_,m,g[k+9],21,-343485551),m=s(m,N),x=s(x,P),v=s(v,D),_=s(_,I)}return[m,x,v,_]})((function(g){if(g.length===0)return[];const y=8*g.length,m=new Uint32Array(a(y));for(let x=0;x<y;x+=8)m[x>>5]|=(255&g[x/8])<<x%32;return m})(d),8*d.length))};i.default=h},{}],530:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./validate.js"))&&a.__esModule?a:{default:a},c=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(l.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(l.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(l.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(l.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};i.default=c},{"./validate.js":541}],532:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,n,i){let a;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)};const s=new Uint8Array(16)},{}],534:[function(t,n,i){function a(l,o,u,f){switch(l){case 0:return o&u^~o&f;case 1:return o^u^f;case 2:return o&u^o&f^u&f;case 3:return o^u^f}}function s(l,o){return l<<o|l>>>32-o}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var c=function(l){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const g=unescape(encodeURIComponent(l));l=[];for(let y=0;y<g.length;++y)l.push(g.charCodeAt(y))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const f=l.length/4+2,h=Math.ceil(f/16),d=new Array(h);for(let g=0;g<h;++g){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=l[64*g+4*m]<<24|l[64*g+4*m+1]<<16|l[64*g+4*m+2]<<8|l[64*g+4*m+3];d[g]=y}d[h-1][14]=8*(l.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(l.length-1)&4294967295;for(let g=0;g<h;++g){const y=new Uint32Array(80);for(let N=0;N<16;++N)y[N]=d[g][N];for(let N=16;N<80;++N)y[N]=s(y[N-3]^y[N-8]^y[N-14]^y[N-16],1);let m=u[0],x=u[1],v=u[2],_=u[3],k=u[4];for(let N=0;N<80;++N){const P=Math.floor(N/20),D=s(m,5)+a(P,x,v,_)+k+o[P]+y[N]>>>0;k=_,_=v,v=s(x,30)>>>0,x=m,m=D}u[0]=u[0]+m>>>0,u[1]=u[1]+x>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+_>>>0,u[4]=u[4]+k>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=c},{}],535:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./validate.js"))&&a.__esModule?a:{default:a};const c=[];for(let o=0;o<256;++o)c.push((o+256).toString(16).substr(1));var l=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(c[o[u+0]]+c[o[u+1]]+c[o[u+2]]+c[o[u+3]]+"-"+c[o[u+4]]+c[o[u+5]]+"-"+c[o[u+6]]+c[o[u+7]]+"-"+c[o[u+8]]+c[o[u+9]]+"-"+c[o[u+10]]+c[o[u+11]]+c[o[u+12]]+c[o[u+13]]+c[o[u+14]]+c[o[u+15]]).toLowerCase();if(!(0,s.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=l},{"./validate.js":541}],536:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(t("./rng.js")),s=c(t("./stringify.js"));function c(d){return d&&d.__esModule?d:{default:d}}let l,o,u=0,f=0;var h=function(d,g,y){let m=g&&y||0;const x=g||new Array(16);let v=(d=d||{}).node||l,_=d.clockseq!==void 0?d.clockseq:o;if(v==null||_==null){const B=d.random||(d.rng||a.default)();v==null&&(v=l=[1|B[0],B[1],B[2],B[3],B[4],B[5]]),_==null&&(_=o=16383&(B[6]<<8|B[7]))}let k=d.msecs!==void 0?d.msecs:Date.now(),N=d.nsecs!==void 0?d.nsecs:f+1;const P=k-u+(N-f)/1e4;if(P<0&&d.clockseq===void 0&&(_=_+1&16383),(P<0||k>u)&&d.nsecs===void 0&&(N=0),N>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=k,f=N,o=_,k+=122192928e5;const D=(1e4*(268435455&k)+N)%4294967296;x[m++]=D>>>24&255,x[m++]=D>>>16&255,x[m++]=D>>>8&255,x[m++]=255&D;const I=k/4294967296*1e4&268435455;x[m++]=I>>>8&255,x[m++]=255&I,x[m++]=I>>>24&15|16,x[m++]=I>>>16&255,x[m++]=_>>>8|128,x[m++]=255&_;for(let B=0;B<6;++B)x[m+B]=v[B];return g||(0,s.default)(x)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(t("./v35.js")),s=c(t("./md5.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=(0,a.default)("v3",48,s.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,f,h){function d(g,y,m,x){if(typeof g=="string"&&(g=(function(_){_=unescape(encodeURIComponent(_));const k=[];for(let N=0;N<_.length;++N)k.push(_.charCodeAt(N));return k})(g)),typeof y=="string"&&(y=(0,s.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+g.length);if(v.set(y),v.set(g,y.length),v=h(v),v[6]=15&v[6]|f,v[8]=63&v[8]|128,m){x=x||0;for(let _=0;_<16;++_)m[x+_]=v[_];return m}return(0,a.default)(v)}try{d.name=u}catch{}return d.DNS=l,d.URL=o,d},i.URL=i.DNS=void 0;var a=c(t("./stringify.js")),s=c(t("./parse.js"));function c(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(t("./rng.js")),s=c(t("./stringify.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=function(o,u,f){const h=(o=o||{}).random||(o.rng||a.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){f=f||0;for(let d=0;d<16;++d)u[f+d]=h[d];return u}return(0,s.default)(h)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(t("./v35.js")),s=c(t("./sha1.js"));function c(o){return o&&o.__esModule?o:{default:o}}var l=(0,a.default)("v5",80,s.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./regex.js"))&&a.__esModule?a:{default:a},c=function(l){return typeof l=="string"&&s.default.test(l)};i.default=c},{"./regex.js":532}],542:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=t("./validate.js"))&&a.__esModule?a:{default:a},c=function(l){if(!(0,s.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=c},{"./validate.js":541}],543:[function(t,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(t,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},i.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(t,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(s){return a(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)}))})(W1)),W1.exports}var LK=BK();const Pc=Cr(LK);var J0={exports:{}},FK=J0.exports,uk;function $K(){return uk||(uk=1,(function(r,e){(function(t,n){n()})(FK,function(){function t(o,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function n(o,u,f){var h=new XMLHttpRequest;h.open("GET",o),h.responseType="blob",h.onload=function(){l(h.response,u,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(o){var u=new XMLHttpRequest;u.open("HEAD",o,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function a(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Zt=="object"&&Zt.global===Zt?Zt:void 0,c=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(o,u,f){var h=s.URL||s.webkitURL,d=document.createElement("a");u=u||o.name||"download",d.download=u,d.rel="noopener",typeof o=="string"?(d.href=o,d.origin===location.origin?a(d):i(d.href)?n(o,u,f):a(d,d.target="_blank")):(d.href=h.createObjectURL(o),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){a(d)},0))}:"msSaveOrOpenBlob"in navigator?function(o,u,f){if(u=u||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(t(o,f),u);else if(i(o))n(o,u,f);else{var h=document.createElement("a");h.href=o,h.target="_blank",setTimeout(function(){a(h)})}}:function(o,u,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof o=="string")return n(o,u,f);var d=o.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||d&&g||c)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var _=m.result;_=y?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=_:location=_,h=null},m.readAsDataURL(o)}else{var x=s.URL||s.webkitURL,v=x.createObjectURL(o);h?h.location=v:location.href=v,h=null,setTimeout(function(){x.revokeObjectURL(v)},4e4)}});s.saveAs=l.saveAs=l,r.exports=l})})(J0)),J0.exports}var Dc=$K();const fk=r=>{if(!r||!r.includes(":"))return null;const[e,t]=r.split(":").map(Number);return e*60+t},up=(r,e)=>{const t=fk(r),n=fk(e);if(t===null||n===null)return 0;let i=n;return i<t&&(i+=1440),Math.max(0,i-t)},Wn=r=>{const e=up(r.startTime,r.endTime),t=e>0?Number((e/60).toFixed(2)):0;let n=0,i=0;const a=r.unitWeight||0,s=r.qtyPerHour||0,c=Math.max(1,r.cavities||1),l=s*c/60;r.breakdowns&&r.breakdowns.forEach(D=>{const I=up(D.startTime,D.endTime);n+=I;const B=Math.floor(l*I);i+=B});const o=r.achievedQty||0,u=r.rejectionQty||0,f=r.startupQty||0,h=o-u-f,d=Math.floor(s*c*(e/60)),g=Number((d*a/1e3).toFixed(2)),y=Number((o*a/1e3).toFixed(2)),m=Number((h*a/1e3).toFixed(2)),x=d-o,v=Number((x*a/1e3).toFixed(2)),_=Number((i*a/1e3).toFixed(2)),k=x-i,N=Number((k*a/1e3).toFixed(2)),P=d>0?o/d*100:0;return{timeHr:t,planQty:d,planKg:g,achievedQty:o,achievedKg:y,rejectionQty:u,startupQty:f,acceptedQty:h,acceptedKg:m,lostQty:x,lostKg:v,bdMins:n,bdLostQty:i,bdLostKg:_,efficiencyLossQty:k,efficiencyLossKg:N,efficiency:P}},Tc=(r,e)=>{const t=[],n=new Date(r),i=new Date(e);for(;n<=i;)t.push(n.toISOString().split("T")[0]),n.setDate(n.getDate()+1);return t},VK=async(r,e)=>{const t=new Pc.Workbook,n=t.addWorksheet("Breakdown Log");n.columns=[{header:"Date",key:"date",width:12},{header:"Machine",key:"machine",width:10},{header:"Product",key:"product",width:25},{header:"Category",key:"category",width:20},{header:"Reason",key:"reason",width:30},{header:"Start",key:"start",width:10},{header:"End",key:"end",width:10},{header:"Mins",key:"mins",width:10},{header:"Cavity",key:"cav",width:8},{header:"Cyc (s)",key:"cycle",width:8},{header:"Lost Qty",key:"lqty",width:12},{header:"Lost Kg",key:"lkg",width:12}],n.getRow(1).eachCell(f=>{f.font={bold:!0,color:{argb:"FFFFFFFF"}},f.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E293B"}},f.alignment={vertical:"middle",horizontal:"center"}});let a=0,s=0,c=0;r.forEach(f=>{a+=f.mins,s+=f.lostQty,c+=f.lostKg,n.addRow({date:f.date,machine:f.machine,product:f.product,category:f.category,reason:f.description,start:f.startTime,end:f.endTime,mins:f.mins,cav:f.cavities,cycle:f.cycleTime,lqty:f.lostQty,lkg:f.lostKg.toFixed(2)})});const l=n.addRow(["TOTAL","","","","","","",a,"","",s,c.toFixed(2)]);l.eachCell(f=>{f.font={bold:!0},f.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"}},f.alignment={horizontal:"right"},f.border={top:{style:"double"}}}),n.mergeCells(`A${l.number}:G${l.number}`),n.getCell(`A${l.number}`).alignment={horizontal:"center",vertical:"middle"};const o=await t.xlsx.writeBuffer(),u=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Dc.saveAs(u,`Breakdown_Log_${e.start}_to_${e.end}.xlsx`)},zK=async(r,e)=>{const t=new Pc.Workbook,n=t.addWorksheet("Production Report");n.columns=[{header:"Date",key:"date",width:12},{header:"Shift",key:"shift",width:8},{header:"Machine",key:"machine",width:15},{header:"Product",key:"product",width:30},{header:"Wt (g)",key:"wt",width:10},{header:"Plan Qty",key:"planQty",width:12},{header:"Achv Qty",key:"achvQty",width:12},{header:"Rej Qty",key:"rejQty",width:12},{header:"Start Qty",key:"startQty",width:12},{header:"Acc Qty",key:"accQty",width:12},{header:"Plan Kg",key:"planKg",width:12},{header:"Achv Kg",key:"achvKg",width:12},{header:"Lost Qty",key:"lostQty",width:12},{header:"Lost Kg",key:"lostKg",width:12}];const i={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E293B"}},a={color:{argb:"FFFFFFFF"},bold:!0,size:11},s=n.getRow(1);s.values=["Date","Shift","Machine","Product","Wt(g)","Plan Qty","Gross Qty","Rej Qty","Start Qty","Good Qty","Plan Kg","Gross Kg","Lost Qty","Lost Kg"],s.eachCell(_=>{_.fill=i,_.font=a,_.alignment={vertical:"middle",horizontal:"center"}});let c=0,l=0,o=0,u=0,f=0,h=0,d=0,g=0,y=0;r.forEach(_=>{const k=Wn(_);c+=k.planQty,l+=_.achievedQty,o+=_.rejectionQty||0,u+=_.startupQty||0,f+=k.acceptedQty,h+=k.planKg,d+=k.achievedKg,g+=k.lostQty,y+=k.lostKg,n.addRow([_.date||"",_.shift.toUpperCase(),_.machine,_.product,_.unitWeight,k.planQty,_.achievedQty,_.rejectionQty||0,_.startupQty||0,k.acceptedQty,k.planKg,k.achievedKg,k.lostQty,k.lostKg])});const m=n.addRow(["TOTAL","","","","",c,l,o,u,f,h.toFixed(2),d.toFixed(2),g,y.toFixed(2)]);m.eachCell(_=>{_.font={bold:!0},_.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"}},_.alignment={horizontal:"right"},_.border={top:{style:"double"},bottom:{style:"thick"}}}),n.mergeCells(`A${m.number}:E${m.number}`),n.getCell(`A${m.number}`).alignment={horizontal:"center",vertical:"middle"};const x=await t.xlsx.writeBuffer(),v=new Blob([x],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Dc.saveAs(v,`Production_Report_${e.type}.xlsx`)},ts=r=>r==null||isNaN(r)?"0":Number(r.toFixed(1)).toString(),Ul=({value:r,onSave:e,placeholder:t,className:n,type:i="text",label:a,icon:s,colorClass:c="bg-slate-100 dark:bg-slate-800 border-slate-300 dark:border-slate-600 text-slate-800 dark:text-slate-100",readOnly:l=!1})=>{const[o,u]=ye.useState(r),[f,h]=ye.useState(!1);ye.useEffect(()=>{f||u(r===0?"":ts(r))},[r,f]);const d=()=>{if(l)return;h(!1);let g=o;if(i==="number"){(!g||g===""||g==="."||g==="-")&&(g="0");const y=parseFloat(g);y!==r&&e(y)}else g!==r&&e(g)};return T.jsxs("div",{className:`relative group/input w-full h-10 rounded-xl border-2 overflow-hidden transition-all duration-200 flex flex-col justify-center ${c} ${n}`,children:[T.jsxs("div",{className:"absolute top-[2px] left-2 flex items-center gap-1 z-10 pointer-events-none",children:[s&&T.jsx(s,{size:9,strokeWidth:3,className:"opacity-70"}),T.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider leading-none text-slate-600 dark:text-slate-400",children:a})]}),T.jsx("input",{type:"text",inputMode:i==="number"?"decimal":"text",value:o===0&&!f?"":o,onChange:g=>!l&&u(g.target.value),onBlur:d,onFocus:g=>{l||(h(!0),g.target.select())},onKeyDown:g=>g.key==="Enter"&&g.currentTarget.blur(),readOnly:l,className:`w-full h-full bg-transparent text-center font-black text-sm pt-3 outline-none px-1 ${l?"cursor-default":""}`,placeholder:t})]})},hk=({rows:r,onUpdateRow:e,onDeleteRow:t,onOpenBreakdowns:n,adminConfig:i})=>{const a=(i==null?void 0:i.productionItems)||[],s=Array.from(new Set(a.map(f=>f.machine))).sort(),[c,l]=ye.useState(null),o=f=>l(c===f?null:f),u=`
    /* Hides the clock icon in time inputs */
    input[type="time"]::-webkit-calendar-picker-indicator { display: none; }
    
    /* Better Dropdown Colors in Dark Mode */
    select option { background-color: #ffffff; color: #334155; }
    :root.dark select option { background-color: #0f172a; color: #e2e8f0; }

    /* Electric Button Animation */
    .electric-btn-container { position: relative; display: inline-block; width: 100%; height: 100%; overflow: hidden; border-radius: 0.5rem; background: #0f172a; }
    .electric-btn-container span { position: absolute; display: block; }
    .electric-btn-container span:nth-child(1) { top: 0; left: -100%; width: 100%; height: 2px; background: linear-gradient(90deg, transparent, #00f2ff, #00f2ff); animation: btn-anim1 1.5s linear infinite; }
    .electric-btn-container span:nth-child(2) { top: -100%; right: 0; width: 2px; height: 100%; background: linear-gradient(180deg, transparent, #00f2ff, #00f2ff); animation: btn-anim2 1.5s linear infinite; animation-delay: 0.375s; }
    .electric-btn-container span:nth-child(3) { bottom: 0; right: -100%; width: 100%; height: 2px; background: linear-gradient(270deg, transparent, #00f2ff, #00f2ff); animation: btn-anim3 1.5s linear infinite; animation-delay: 0.75s; }
    .electric-btn-container span:nth-child(4) { bottom: -100%; left: 0; width: 2px; height: 100%; background: linear-gradient(360deg, transparent, #00f2ff, #00f2ff); animation: btn-anim4 1.5s linear infinite; animation-delay: 1.125s; }
    @keyframes btn-anim1 { 0% { left: -100%; } 50%, 100% { left: 100%; } }
    @keyframes btn-anim2 { 0% { top: -100%; } 50%, 100% { top: 100%; } }
    @keyframes btn-anim3 { 0% { right: -100%; } 50%, 100% { right: 100%; } }
    @keyframes btn-anim4 { 0% { bottom: -100%; } 50%, 100% { bottom: 100%; } }
    .electric-btn-content { position: absolute; inset: 2px; background: #1e293b; border-radius: 0.4rem; z-index: 10; display: flex; align-items: center; justify-content: center; gap: 0.5rem; color: #38bdf8; font-weight: 900; text-transform: uppercase; font-size: 0.6rem; transition: all 0.3s; }
    .electric-btn-container:hover .electric-btn-content { background: #0f172a; box-shadow: 0 0 10px #00f2ff, 0 0 20px #00f2ff; color: #fff; }
    :root:not(.dark) .electric-btn-content { background: #f8fafc; color: #0284c7; }
    :root:not(.dark) .electric-btn-container:hover .electric-btn-content { background: #e0f2fe; }
  `;return r.length===0?null:T.jsxs("div",{className:"space-y-3 pb-10",children:[T.jsx("style",{children:u}),r.map(f=>{const h=Wn(f),d=a.filter(y=>y.machine===f.machine),g=c===f.id;return T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-lg transition-all duration-300 animate-fade-in overflow-hidden",children:[T.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 sm:p-3",children:[T.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 rounded-lg border-2 border-slate-200 dark:border-slate-700 overflow-hidden h-9 items-center px-1 shadow-inner",children:[T.jsx(Gp,{size:12,className:"text-slate-400 mr-1 shrink-0"}),T.jsx("input",{type:"time",value:f.startTime,onChange:y=>e(f.id,{startTime:y.target.value}),className:"w-14 bg-transparent text-center font-black text-xs text-slate-700 dark:text-white outline-none p-0 tracking-tighter"}),T.jsx("span",{className:"text-[10px] text-slate-400 mx-0.5 font-bold",children:"-"}),T.jsx("input",{type:"time",value:f.endTime,onChange:y=>e(f.id,{endTime:y.target.value}),className:"w-14 bg-transparent text-center font-black text-xs text-slate-700 dark:text-white outline-none p-0 tracking-tighter"})]}),T.jsx("div",{className:"relative w-20 h-9 shrink-0",children:T.jsxs("select",{value:f.machine,onChange:y=>e(f.id,{machine:y.target.value,product:""}),className:"w-full h-full pl-2 pr-1 bg-indigo-100 dark:bg-indigo-950/50 border-2 border-indigo-200 dark:border-indigo-800 rounded-lg font-black text-indigo-700 dark:text-indigo-300 outline-none text-[10px] uppercase cursor-pointer text-center appearance-none hover:bg-indigo-200 dark:hover:bg-indigo-900/40 transition-colors",children:[T.jsx("option",{value:"",children:"MC"}),s.map(y=>T.jsx("option",{value:y,children:y},y))]})}),T.jsxs("div",{className:"flex-grow min-w-[120px] h-9 relative",children:[T.jsx(g5,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-500 z-10"}),T.jsxs("select",{value:f.product,onChange:y=>{const m=d.find(x=>x.itemName===y.target.value);e(f.id,{product:y.target.value,unitWeight:m?m.unitWeight:f.unitWeight})},className:"w-full h-full pl-7 pr-6 bg-slate-50 dark:bg-slate-900 border-2 border-slate-200 dark:border-slate-700 rounded-lg font-bold text-slate-700 dark:text-slate-200 outline-none text-[11px] truncate cursor-pointer appearance-none hover:border-slate-300 transition-colors",children:[T.jsx("option",{value:"",children:"Select Product..."}),d.map(y=>T.jsx("option",{value:y.itemName,children:y.itemName},y.id)),T.jsx("option",{value:"Manual Entry",children:"Manual Entry"})]}),T.jsx(qa,{size:12,className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),T.jsxs("div",{className:"hidden md:flex items-center gap-3 bg-slate-50 dark:bg-slate-900 px-3 py-0.5 rounded-lg border-2 border-slate-100 dark:border-slate-800 h-9 ml-auto",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[45px]",children:[T.jsx("span",{className:"text-[7px] font-black text-slate-400 uppercase tracking-wider leading-none mb-0.5",children:"Plan"}),T.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-white leading-none",children:ts(h.planQty)})]}),T.jsx("div",{className:"w-px h-5 bg-slate-200 dark:bg-slate-700"}),T.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[45px]",children:[T.jsx("span",{className:"text-[7px] font-black text-emerald-500 uppercase tracking-wider leading-none mb-0.5",children:"Done"}),T.jsx("span",{className:"text-xs font-black text-emerald-600 dark:text-emerald-400 leading-none",children:ts(f.achievedQty)})]}),T.jsx("div",{className:"w-px h-5 bg-slate-200 dark:bg-slate-700"}),T.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[45px]",children:[T.jsx("span",{className:"text-[7px] font-black text-amber-500 uppercase tracking-wider leading-none mb-0.5",children:"Loss"}),T.jsx("span",{className:"text-xs font-black text-amber-600 dark:text-amber-400 leading-none",children:ts(h.efficiencyLossQty)})]})]}),T.jsxs("div",{className:"flex items-center gap-1 ml-auto md:ml-0 h-9",children:[T.jsx("button",{onClick:()=>o(f.id),className:`h-9 w-9 flex items-center justify-center rounded-lg border-2 transition-all ${g?"bg-indigo-50 border-indigo-200 text-indigo-600":"bg-transparent border-transparent text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:g?T.jsx(Ud,{size:16,strokeWidth:3}):T.jsx(K$,{size:16,strokeWidth:3})}),T.jsx("button",{onClick:()=>t(f.id),className:"h-9 w-9 flex items-center justify-center text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-lg transition-colors",children:T.jsx(Fs,{size:16})})]})]}),T.jsx("div",{className:"md:hidden flex border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/30",children:T.jsxs("div",{className:"flex-1 flex items-center justify-between px-4 py-1.5",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wide",children:"PLAN"}),T.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-white",children:ts(h.planQty)})]}),T.jsx("div",{className:"w-px h-3 bg-slate-300 dark:border-slate-600"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase tracking-wide",children:"DONE"}),T.jsx("span",{className:"text-xs font-black text-emerald-600 dark:text-emerald-400",children:ts(f.achievedQty)})]}),T.jsx("div",{className:"w-px h-3 bg-slate-300 dark:border-slate-600"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-[9px] font-black text-amber-500 uppercase tracking-wide",children:"LOSS"}),T.jsx("span",{className:"text-xs font-black text-amber-600 dark:text-amber-400",children:ts(h.efficiencyLossQty)})]})]})}),(g||window.innerWidth>=1280)&&T.jsx("div",{className:`px-3 pb-3 pt-2 text-xs border-t border-slate-100 dark:border-slate-800/50 ${g?"block":"hidden xl:block"}`,children:T.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[T.jsxs("div",{className:"col-span-12 sm:col-span-6 xl:col-span-3 grid grid-cols-4 gap-2 items-end",children:[T.jsx(Ul,{type:"number",value:f.unitWeight,onSave:y=>e(f.id,{unitWeight:y}),placeholder:"0",label:"Weight"}),T.jsx(Ul,{type:"number",value:f.cycleTime||0,onSave:y=>e(f.id,{cycleTime:y}),placeholder:"0",label:"Cycle"}),T.jsx(Ul,{type:"number",value:f.cavities,onSave:y=>e(f.id,{cavities:y}),placeholder:"1",label:"Cavity"}),T.jsx(Ul,{type:"number",value:f.qtyPerHour,onSave:y=>e(f.id,{qtyPerHour:y}),placeholder:"0",label:"Q/Hr",colorClass:"bg-indigo-50 dark:bg-indigo-900/10 border-indigo-200 dark:border-indigo-800 text-indigo-700 dark:text-indigo-300"})]}),T.jsxs("div",{className:"col-span-12 sm:col-span-6 xl:col-span-5 grid grid-cols-4 gap-2 items-end",children:[T.jsx("div",{className:"col-span-1",children:T.jsx(Ul,{type:"number",value:f.achievedQty,onSave:y=>e(f.id,{achievedQty:y}),placeholder:"0",label:"GROSS",icon:Ob,colorClass:"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white shadow-sm"})}),T.jsx("div",{className:"col-span-1",children:T.jsx(Ul,{type:"number",value:f.rejectionQty||0,onSave:y=>e(f.id,{rejectionQty:y}),placeholder:"0",label:"REJECT",icon:Kd,colorClass:"bg-rose-50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-800 text-rose-600 dark:text-rose-400"})}),T.jsx("div",{className:"col-span-1",children:T.jsx(Ul,{type:"number",value:f.startupQty||0,onSave:y=>e(f.id,{startupQty:y}),placeholder:"0",label:"START",icon:$$,colorClass:"bg-amber-50 dark:bg-amber-900/10 border-amber-200 dark:border-amber-800 text-amber-600 dark:text-amber-400"})}),T.jsx("div",{className:"col-span-1",children:T.jsxs("div",{className:"relative w-full h-10 flex flex-col justify-center bg-emerald-50 dark:bg-emerald-900/10 rounded-xl border-2 border-emerald-200 dark:border-emerald-800 shadow-sm",children:[T.jsxs("div",{className:"absolute top-[2px] left-2 flex items-center gap-1 opacity-90",children:[T.jsx(Ua,{size:8,strokeWidth:3,className:"text-emerald-600 dark:text-emerald-400"}),T.jsx("span",{className:"text-[9px] font-black text-emerald-600 dark:text-emerald-400 uppercase tracking-wider",children:"GOOD"})]}),T.jsx("div",{className:"text-center font-black text-sm text-emerald-700 dark:text-emerald-300 pt-3",children:ts(h.acceptedQty)})]})})]}),T.jsxs("div",{className:"col-span-12 xl:col-span-4 grid grid-cols-3 gap-2",children:[T.jsx("button",{onClick:()=>n(f.id),className:"h-10 w-full relative group outline-none",children:h.bdMins>0?T.jsxs("div",{className:"w-full h-full bg-rose-500 rounded-xl flex items-center justify-center gap-1.5 shadow-lg shadow-rose-500/30 text-white border-2 border-rose-400 hover:bg-rose-600 transition-all",children:[T.jsx(Kd,{size:12,strokeWidth:3}),T.jsxs("span",{className:"text-[10px] font-black uppercase",children:[h.bdMins,"m Down"]})]}):T.jsxs("div",{className:"electric-btn-container",children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{}),T.jsxs("div",{className:"electric-btn-content",children:[T.jsx(yc,{size:12})," Log BD"]})]})}),T.jsxs("div",{className:"h-10 flex flex-col items-center justify-center px-1 bg-amber-50 dark:bg-amber-900/10 rounded-xl border-2 border-amber-100 dark:border-amber-900/30",children:[T.jsxs("div",{className:"flex items-center gap-1 opacity-80 mb-0.5",children:[T.jsx(Xp,{size:9,className:"text-amber-600 dark:text-amber-400"}),T.jsx("span",{className:"text-[8px] font-black text-amber-600 dark:text-amber-400 uppercase tracking-widest",children:"EFF LOSS"})]}),T.jsx("span",{className:"text-xs font-black text-amber-700 dark:text-amber-300 leading-none",children:ts(h.efficiencyLossQty)})]}),T.jsxs("div",{className:"h-10 flex flex-col items-center justify-center px-1 bg-slate-100 dark:bg-slate-800 rounded-xl border-2 border-slate-200 dark:border-slate-700",children:[T.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"LOSS KG"}),T.jsx("span",{className:"text-xs font-black text-slate-600 dark:text-slate-300 leading-none",children:ts(h.lostKg)})]})]})]})})]},f.id)})]})},qK=["Mold Issue","Machine Fault","Material","Manpower","Power","Quality","Cleaning","Other"],UK=({row:r,onClose:e,onSave:t,categories:n})=>{const[i,a]=ye.useState(r.breakdowns.length>0?[...r.breakdowns]:[{id:`bd_${Date.now()}`,category:"",description:"",startTime:"",endTime:""}]),s=n&&n.length>0?n:qK,c=()=>{a([...i,{id:`bd_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,category:"",description:"",startTime:"",endTime:""}])},l=h=>{a(i.filter(d=>d.id!==h))},o=(h,d)=>{a(i.map(g=>g.id===h?{...g,...d}:g))},u=h=>{const d=up(h.startTime,h.endTime);if(d<=0)return{mins:0,lossQty:0,lossKg:0};const g=(r.qtyPerHour||0)*(r.cavities||1)/60,y=Math.floor(g*d),m=Number((y*(r.unitWeight||0)/1e3).toFixed(2));return{mins:d,lossQty:y,lossKg:m}},f=i.reduce((h,d)=>{const g=u(d);return{mins:h.mins+g.mins,lossKg:h.lossKg+g.lossKg}},{mins:0,lossKg:0});return T.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[T.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e}),T.jsxs("div",{className:"relative w-full max-w-6xl bg-white dark:bg-slate-900 rounded-3xl shadow-2xl overflow-hidden animate-fade-in flex flex-col max-h-[90vh]",children:[T.jsxs("header",{className:"bg-slate-800 text-white p-6 flex items-center justify-between shrink-0",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"bg-rose-500 p-2.5 rounded-xl shadow-lg shadow-rose-500/20",children:T.jsx(Ua,{className:"w-6 h-6 text-white"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Breakdown Entry"}),T.jsxs("div",{className:"flex items-center gap-3 mt-1 text-slate-400 text-xs font-bold uppercase tracking-widest",children:[T.jsx("span",{className:"flex items-center gap-1",children:T.jsx("span",{className:"text-white",children:r.machine})}),T.jsx("span",{className:"w-1 h-1 bg-slate-500 rounded-full"}),T.jsx("span",{children:r.product||"No Product"})]})]})]}),T.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:T.jsx(zf,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"flex-1 overflow-auto p-6 bg-slate-50 dark:bg-slate-950/50 custom-scrollbar",children:T.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-sm overflow-hidden",children:[T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-900 text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest border-b border-slate-200 dark:border-slate-700",children:[T.jsx("th",{className:"p-4 w-48",children:"Category"}),T.jsx("th",{className:"p-4 w-[30%]",children:"Description / Action"}),T.jsx("th",{className:"p-4 w-32 text-center text-slate-600 dark:text-slate-400",children:"Start Time"}),T.jsx("th",{className:"p-4 w-32 text-center text-slate-600 dark:text-slate-400",children:"End Time"}),T.jsx("th",{className:"p-4 w-24 text-center",children:"Mins"}),T.jsx("th",{className:"p-4 w-28 text-center bg-rose-50 dark:bg-rose-900/10 text-rose-700 dark:text-rose-400",children:"Loss Kg"}),T.jsx("th",{className:"p-4 w-16 text-center"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:i.map(h=>{const d=u(h);return T.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors group",children:[T.jsx("td",{className:"p-2 pl-4",children:T.jsxs("select",{value:h.category,onChange:g=>o(h.id,{category:g.target.value}),className:"w-full p-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-bold text-slate-700 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 dark:focus:ring-indigo-900 outline-none cursor-pointer",children:[T.jsx("option",{value:"",children:"Select Category..."}),s.map(g=>T.jsx("option",{value:g,children:g},g))]})}),T.jsx("td",{className:"p-2",children:T.jsx("input",{type:"text",placeholder:"Root cause or details...",value:h.description,onChange:g=>o(h.id,{description:g.target.value}),className:"w-full p-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium dark:text-slate-200 outline-none placeholder:text-slate-400"})}),T.jsx("td",{className:"p-2",children:T.jsx("div",{className:"relative",children:T.jsx("input",{type:"time",value:h.startTime,onChange:g=>o(h.id,{startTime:g.target.value}),className:"w-full p-2.5 text-center bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-black outline-none focus:border-indigo-500 dark:text-slate-200 dark:[color-scheme:dark]"})})}),T.jsx("td",{className:"p-2",children:T.jsx("div",{className:"relative",children:T.jsx("input",{type:"time",value:h.endTime,onChange:g=>o(h.id,{endTime:g.target.value}),className:"w-full p-2.5 text-center bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-black outline-none focus:border-indigo-500 dark:text-slate-200 dark:[color-scheme:dark]"})})}),T.jsx("td",{className:"p-2 text-center",children:T.jsx("span",{className:`inline-block min-w-[3rem] py-1 px-2 rounded-lg text-xs font-black ${d.mins>0?"bg-slate-800 dark:bg-slate-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-300 dark:text-slate-500"}`,children:d.mins>0?`${d.mins}m`:"-"})}),T.jsx("td",{className:"p-2 text-center bg-rose-50/30 dark:bg-rose-900/10",children:T.jsx("span",{className:`font-black text-sm ${d.lossKg>0?"text-rose-600 dark:text-rose-400":"text-slate-300 dark:text-slate-600"}`,children:d.lossKg>0?d.lossKg.toFixed(2):"-"})}),T.jsx("td",{className:"p-2 text-center",children:T.jsx("button",{onClick:()=>l(h.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-xl transition-all",children:T.jsx(Fs,{className:"w-4 h-4"})})})]},h.id)})})]}),T.jsxs("button",{onClick:c,className:"w-full py-4 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-700 text-indigo-600 dark:text-indigo-400 text-xs font-black uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors flex items-center justify-center gap-2",children:[T.jsx(zu,{className:"w-4 h-4"})," Add Breakdown Line"]})]})}),T.jsxs("div",{className:"bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 p-6 flex items-center justify-between shrink-0 z-10 shadow-[0_-10px_40px_rgba(0,0,0,0.05)]",children:[T.jsxs("div",{className:"flex gap-8",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Downtime"}),T.jsxs("span",{className:"text-2xl font-black text-slate-800 dark:text-white flex items-baseline gap-1",children:[f.mins," ",T.jsx("span",{className:"text-sm text-slate-400 font-bold",children:"min"})]})]}),T.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700"}),T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[10px] font-black text-rose-300 uppercase tracking-widest mb-1",children:"Total Lost Kg"}),T.jsxs("span",{className:"text-2xl font-black text-rose-500 flex items-baseline gap-1",children:[f.lossKg.toFixed(2)," ",T.jsx("span",{className:"text-sm text-rose-300 font-bold",children:"kg"})]})]})]}),T.jsxs("button",{onClick:()=>t(i.filter(h=>h.category&&h.startTime&&h.endTime)),className:"px-8 py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-xl shadow-indigo-600/30 text-sm font-black uppercase tracking-wide flex items-center gap-2 transition-all active:scale-95",children:[T.jsx(_M,{className:"w-4 h-4"})," Save Changes"]})]})]})]})};function lP(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=lP(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Jt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=lP(r))&&(n&&(n+=" "),n+=e);return n}var X1,dk;function Mi(){if(dk)return X1;dk=1;var r=Array.isArray;return X1=r,X1}var Y1,pk;function cP(){if(pk)return Y1;pk=1;var r=typeof Zt=="object"&&Zt&&Zt.Object===Object&&Zt;return Y1=r,Y1}var Q1,mk;function ms(){if(mk)return Q1;mk=1;var r=cP(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Q1=t,Q1}var Z1,gk;function im(){if(gk)return Z1;gk=1;var r=ms(),e=r.Symbol;return Z1=e,Z1}var J1,bk;function HK(){if(bk)return J1;bk=1;var r=im(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(s){var c=t.call(s,i),l=s[i];try{s[i]=void 0;var o=!0}catch{}var u=n.call(s);return o&&(c?s[i]=l:delete s[i]),u}return J1=a,J1}var ex,yk;function KK(){if(yk)return ex;yk=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return ex=t,ex}var tx,vk;function to(){if(vk)return tx;vk=1;var r=im(),e=HK(),t=KK(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function s(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):t(c)}return tx=s,tx}var rx,xk;function ro(){if(xk)return rx;xk=1;function r(e){return e!=null&&typeof e=="object"}return rx=r,rx}var nx,wk;function Xf(){if(wk)return nx;wk=1;var r=to(),e=ro(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return nx=n,nx}var ix,_k;function h6(){if(_k)return ix;_k=1;var r=Mi(),e=Xf(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(r(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:n.test(a)||!t.test(a)||s!=null&&a in Object(s)}return ix=i,ix}var ax,Sk;function ul(){if(Sk)return ax;Sk=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return ax=r,ax}var sx,Ak;function d6(){if(Ak)return sx;Ak=1;var r=to(),e=ul(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(c){if(!e(c))return!1;var l=r(c);return l==n||l==i||l==t||l==a}return sx=s,sx}var ox,Ek;function GK(){if(Ek)return ox;Ek=1;var r=ms(),e=r["__core-js_shared__"];return ox=e,ox}var lx,Tk;function WK(){if(Tk)return lx;Tk=1;var r=GK(),e=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function t(n){return!!e&&e in n}return lx=t,lx}var cx,kk;function uP(){if(kk)return cx;kk=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return cx=t,cx}var ux,jk;function XK(){if(jk)return ux;jk=1;var r=d6(),e=WK(),t=ul(),n=uP(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,o=c.hasOwnProperty,u=RegExp("^"+l.call(o).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!t(h)||e(h))return!1;var d=r(h)?u:a;return d.test(n(h))}return ux=f,ux}var fx,Ck;function YK(){if(Ck)return fx;Ck=1;function r(e,t){return e==null?void 0:e[t]}return fx=r,fx}var hx,Ok;function Bc(){if(Ok)return hx;Ok=1;var r=XK(),e=YK();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return hx=t,hx}var dx,Nk;function ey(){if(Nk)return dx;Nk=1;var r=Bc(),e=r(Object,"create");return dx=e,dx}var px,Mk;function QK(){if(Mk)return px;Mk=1;var r=ey();function e(){this.__data__=r?r(null):{},this.size=0}return px=e,px}var mx,Rk;function ZK(){if(Rk)return mx;Rk=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return mx=r,mx}var gx,Ik;function JK(){if(Ik)return gx;Ik=1;var r=ey(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var s=this.__data__;if(r){var c=s[a];return c===e?void 0:c}return n.call(s,a)?s[a]:void 0}return gx=i,gx}var bx,Pk;function eG(){if(Pk)return bx;Pk=1;var r=ey(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return bx=n,bx}var yx,Dk;function tG(){if(Dk)return yx;Dk=1;var r=ey(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return yx=t,yx}var vx,Bk;function rG(){if(Bk)return vx;Bk=1;var r=QK(),e=ZK(),t=JK(),n=eG(),i=tG();function a(s){var c=-1,l=s==null?0:s.length;for(this.clear();++c<l;){var o=s[c];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,vx=a,vx}var xx,Lk;function nG(){if(Lk)return xx;Lk=1;function r(){this.__data__=[],this.size=0}return xx=r,xx}var wx,Fk;function p6(){if(Fk)return wx;Fk=1;function r(e,t){return e===t||e!==e&&t!==t}return wx=r,wx}var _x,$k;function ty(){if($k)return _x;$k=1;var r=p6();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return _x=e,_x}var Sx,Vk;function iG(){if(Vk)return Sx;Vk=1;var r=ty(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,s=r(a,i);if(s<0)return!1;var c=a.length-1;return s==c?a.pop():t.call(a,s,1),--this.size,!0}return Sx=n,Sx}var Ax,zk;function aG(){if(zk)return Ax;zk=1;var r=ty();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return Ax=e,Ax}var Ex,qk;function sG(){if(qk)return Ex;qk=1;var r=ty();function e(t){return r(this.__data__,t)>-1}return Ex=e,Ex}var Tx,Uk;function oG(){if(Uk)return Tx;Uk=1;var r=ty();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return Tx=e,Tx}var kx,Hk;function ry(){if(Hk)return kx;Hk=1;var r=nG(),e=iG(),t=aG(),n=sG(),i=oG();function a(s){var c=-1,l=s==null?0:s.length;for(this.clear();++c<l;){var o=s[c];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,kx=a,kx}var jx,Kk;function m6(){if(Kk)return jx;Kk=1;var r=Bc(),e=ms(),t=r(e,"Map");return jx=t,jx}var Cx,Gk;function lG(){if(Gk)return Cx;Gk=1;var r=rG(),e=ry(),t=m6();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Cx=n,Cx}var Ox,Wk;function cG(){if(Wk)return Ox;Wk=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Ox=r,Ox}var Nx,Xk;function ny(){if(Xk)return Nx;Xk=1;var r=cG();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Nx=e,Nx}var Mx,Yk;function uG(){if(Yk)return Mx;Yk=1;var r=ny();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return Mx=e,Mx}var Rx,Qk;function fG(){if(Qk)return Rx;Qk=1;var r=ny();function e(t){return r(this,t).get(t)}return Rx=e,Rx}var Ix,Zk;function hG(){if(Zk)return Ix;Zk=1;var r=ny();function e(t){return r(this,t).has(t)}return Ix=e,Ix}var Px,Jk;function dG(){if(Jk)return Px;Jk=1;var r=ny();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return Px=e,Px}var Dx,e9;function g6(){if(e9)return Dx;e9=1;var r=lG(),e=uG(),t=fG(),n=hG(),i=dG();function a(s){var c=-1,l=s==null?0:s.length;for(this.clear();++c<l;){var o=s[c];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Dx=a,Dx}var Bx,t9;function fP(){if(t9)return Bx;t9=1;var r=g6(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,c=i?i.apply(this,s):s[0],l=a.cache;if(l.has(c))return l.get(c);var o=n.apply(this,s);return a.cache=l.set(c,o)||l,o};return a.cache=new(t.Cache||r),a}return t.Cache=r,Bx=t,Bx}var Lx,r9;function pG(){if(r9)return Lx;r9=1;var r=fP(),e=500;function t(n){var i=r(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Lx=t,Lx}var Fx,n9;function mG(){if(n9)return Fx;n9=1;var r=pG(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,c,l,o){a.push(l?o.replace(t,"$1"):c||s)}),a});return Fx=n,Fx}var $x,i9;function b6(){if(i9)return $x;i9=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}return $x=r,$x}var Vx,a9;function gG(){if(a9)return Vx;a9=1;var r=im(),e=b6(),t=Mi(),n=Xf(),i=r?r.prototype:void 0,a=i?i.toString:void 0;function s(c){if(typeof c=="string")return c;if(t(c))return e(c,s)+"";if(n(c))return a?a.call(c):"";var l=c+"";return l=="0"&&1/c==-1/0?"-0":l}return Vx=s,Vx}var zx,s9;function hP(){if(s9)return zx;s9=1;var r=gG();function e(t){return t==null?"":r(t)}return zx=e,zx}var qx,o9;function dP(){if(o9)return qx;o9=1;var r=Mi(),e=h6(),t=mG(),n=hP();function i(a,s){return r(a)?a:e(a,s)?[a]:t(n(a))}return qx=i,qx}var Ux,l9;function iy(){if(l9)return Ux;l9=1;var r=Xf();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return Ux=e,Ux}var Hx,c9;function y6(){if(c9)return Hx;c9=1;var r=dP(),e=iy();function t(n,i){i=r(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return Hx=t,Hx}var Kx,u9;function pP(){if(u9)return Kx;u9=1;var r=y6();function e(t,n,i){var a=t==null?void 0:r(t,n);return a===void 0?i:a}return Kx=e,Kx}var bG=pP();const Yi=Cr(bG);var Gx,f9;function yG(){if(f9)return Gx;f9=1;function r(e){return e==null}return Gx=r,Gx}var vG=yG();const Ft=Cr(vG);var Wx,h9;function xG(){if(h9)return Wx;h9=1;var r=to(),e=Mi(),t=ro(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&t(a)&&r(a)==n}return Wx=i,Wx}var wG=xG();const am=Cr(wG);var _G=d6();const Lt=Cr(_G);var SG=ul();const Yf=Cr(SG);var Xx={exports:{}},Rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d9;function AG(){if(d9)return Rr;d9=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function y(m){if(typeof m=="object"&&m!==null){var x=m.$$typeof;switch(x){case r:switch(m=m.type,m){case t:case i:case n:case o:case u:return m;default:switch(m=m&&m.$$typeof,m){case c:case s:case l:case h:case f:case a:return m;default:return x}}case e:return x}}}return Rr.ContextConsumer=s,Rr.ContextProvider=a,Rr.Element=r,Rr.ForwardRef=l,Rr.Fragment=t,Rr.Lazy=h,Rr.Memo=f,Rr.Portal=e,Rr.Profiler=i,Rr.StrictMode=n,Rr.Suspense=o,Rr.SuspenseList=u,Rr.isAsyncMode=function(){return!1},Rr.isConcurrentMode=function(){return!1},Rr.isContextConsumer=function(m){return y(m)===s},Rr.isContextProvider=function(m){return y(m)===a},Rr.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===r},Rr.isForwardRef=function(m){return y(m)===l},Rr.isFragment=function(m){return y(m)===t},Rr.isLazy=function(m){return y(m)===h},Rr.isMemo=function(m){return y(m)===f},Rr.isPortal=function(m){return y(m)===e},Rr.isProfiler=function(m){return y(m)===i},Rr.isStrictMode=function(m){return y(m)===n},Rr.isSuspense=function(m){return y(m)===o},Rr.isSuspenseList=function(m){return y(m)===u},Rr.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===t||m===i||m===n||m===o||m===u||m===d||typeof m=="object"&&m!==null&&(m.$$typeof===h||m.$$typeof===f||m.$$typeof===a||m.$$typeof===s||m.$$typeof===l||m.$$typeof===g||m.getModuleId!==void 0)},Rr.typeOf=y,Rr}var p9;function EG(){return p9||(p9=1,Xx.exports=AG()),Xx.exports}var TG=EG(),Yx,m9;function mP(){if(m9)return Yx;m9=1;var r=to(),e=ro(),t="[object Number]";function n(i){return typeof i=="number"||e(i)&&r(i)==t}return Yx=n,Yx}var Qx,g9;function kG(){if(g9)return Qx;g9=1;var r=mP();function e(t){return r(t)&&t!=+t}return Qx=e,Qx}var jG=kG();const Qf=Cr(jG);var CG=mP();const OG=Cr(CG);var xi=function(e){return e===0?0:e>0?1:-1},ac=function(e){return am(e)&&e.indexOf("%")===e.length-1},Qe=function(e){return OG(e)&&!Qf(e)},Ln=function(e){return Qe(e)||am(e)},NG=0,fl=function(e){var t=++NG;return"".concat(e||"").concat(t)},wi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&!am(e))return n;var a;if(ac(e)){var s=e.indexOf("%");a=t*parseFloat(e.slice(0,s))/100}else a=+e;return Qf(a)&&(a=n),i&&a>t&&(a=t),a},$o=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},MG=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},un=function(e,t){return Qe(e)&&Qe(t)?function(n){return e+n*(t-e)}:function(){return t}};function Tg(r,e,t){return!r||!r.length?null:r.find(function(n){return n&&(typeof e=="function"?e(n):Yi(n,e))===t})}var RG=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,i=0,a=0,s=0,c=1/0,l=-1/0,o=0,u=0,f=0;f<t;f++)o=e[f].cx||0,u=e[f].cy||0,n+=o,i+=u,a+=o*u,s+=o*o,c=Math.min(c,o),l=Math.max(l,o);var h=t*s!==n*n?(t*a-n*i)/(t*s-n*n):0;return{xmin:c,xmax:l,a:h,b:(i-h*n)/t}};function Ku(r,e){for(var t in r)if({}.hasOwnProperty.call(r,t)&&(!{}.hasOwnProperty.call(e,t)||r[t]!==e[t]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function $3(r){"@babel/helpers - typeof";return $3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$3(r)}var IG=["viewBox","children"],PG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b9=["points","pathLength"],Zx={svg:IG,polygon:b9,polyline:b9},v6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kg=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(ye.isValidElement(e)&&(n=e.props),!Yf(n))return null;var i={};return Object.keys(n).forEach(function(a){v6.includes(a)&&(i[a]=t||function(s){return n[a](n,s)})}),i},DG=function(e,t,n){return function(i){return e(t,n,i),null}},rl=function(e,t,n){if(!Yf(e)||$3(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];v6.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=DG(s,t,n))}),i},BG=["children"],LG=["children"];function y9(r,e){if(r==null)return{};var t=FG(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function FG(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function V3(r){"@babel/helpers - typeof";return V3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V3(r)}var v9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Us=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},x9=null,Jx=null,x6=function r(e){if(e===x9&&Array.isArray(Jx))return Jx;var t=[];return ye.Children.forEach(e,function(n){Ft(n)||(TG.isFragment(n)?t=t.concat(r(n.props.children)):t.push(n))}),Jx=t,x9=e,t};function Ai(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Us(i)}):n=[Us(e)],x6(r).forEach(function(i){var a=Yi(i,"type.displayName")||Yi(i,"type.name");n.indexOf(a)!==-1&&t.push(i)}),t}function Hi(r,e){var t=Ai(r,e);return t&&t[0]}var w9=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,i=t.height;return!(!Qe(n)||n<=0||!Qe(i)||i<=0)},$G=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],VG=function(e){return e&&e.type&&am(e.type)&&$G.indexOf(e.type)>=0},gP=function(e){return e&&V3(e)==="object"&&"clipDot"in e},zG=function(e,t,n,i){var a,s=(a=Zx==null?void 0:Zx[i])!==null&&a!==void 0?a:[];return!Lt(e)&&(i&&s.includes(t)||PG.includes(t))||n&&v6.includes(t)},St=function(e,t,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ye.isValidElement(e)&&(i=e.props),!Yf(i))return null;var a={};return Object.keys(i).forEach(function(s){var c;zG((c=i)===null||c===void 0?void 0:c[s],s,t,n)&&(a[s]=i[s])}),a},z3=function r(e,t){if(e===t)return!0;var n=ye.Children.count(e);if(n!==ye.Children.count(t))return!1;if(n===0)return!0;if(n===1)return _9(Array.isArray(e)?e[0]:e,Array.isArray(t)?t[0]:t);for(var i=0;i<n;i++){var a=e[i],s=t[i];if(Array.isArray(a)||Array.isArray(s)){if(!r(a,s))return!1}else if(!_9(a,s))return!1}return!0},_9=function(e,t){if(Ft(e)&&Ft(t))return!0;if(!Ft(e)&&!Ft(t)){var n=e.props||{},i=n.children,a=y9(n,BG),s=t.props||{},c=s.children,l=y9(s,LG);return i&&c?Ku(a,l)&&z3(i,c):!i&&!c?Ku(a,l):!1}return!1},S9=function(e,t){var n=[],i={};return x6(e).forEach(function(a,s){if(VG(a))n.push(a);else if(a){var c=Us(a.type),l=t[c]||{},o=l.handler,u=l.once;if(o&&(!u||!i[c])){var f=o(a,c,s);n.push(f),i[c]=!0}}}),n},qG=function(e){var t=e&&e.type;return t&&v9[t]?v9[t]:null},UG=function(e,t){return x6(t).indexOf(e)},HG=["children","width","height","viewBox","className","style","title","desc"];function q3(){return q3=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},q3.apply(this,arguments)}function KG(r,e){if(r==null)return{};var t=GG(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function GG(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function U3(r){var e=r.children,t=r.width,n=r.height,i=r.viewBox,a=r.className,s=r.style,c=r.title,l=r.desc,o=KG(r,HG),u=i||{width:t,height:n,x:0,y:0},f=Jt("recharts-surface",a);return pe.createElement("svg",q3({},St(o,!0,"svg"),{className:f,width:t,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),pe.createElement("title",null,c),pe.createElement("desc",null,l),e)}var WG=["children","className"];function H3(){return H3=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},H3.apply(this,arguments)}function XG(r,e){if(r==null)return{};var t=YG(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function YG(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var nr=pe.forwardRef(function(r,e){var t=r.children,n=r.className,i=XG(r,WG),a=Jt("recharts-layer",n);return pe.createElement("g",H3({className:a},St(i,!0),{ref:e}),t)}),Va=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},e2,A9;function QG(){if(A9)return e2;A9=1;function r(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+t];return s}return e2=r,e2}var t2,E9;function ZG(){if(E9)return t2;E9=1;var r=QG();function e(t,n,i){var a=t.length;return i=i===void 0?a:i,!n&&i>=a?t:r(t,n,i)}return t2=e,t2}var r2,T9;function bP(){if(T9)return r2;T9=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+r+i+a+"]");function l(o){return c.test(o)}return r2=l,r2}var n2,k9;function JG(){if(k9)return n2;k9=1;function r(e){return e.split("")}return n2=r,n2}var i2,j9;function eW(){if(j9)return i2;j9=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+t+n,a="\\ufe0e\\ufe0f",s="["+r+"]",c="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",o="(?:"+c+"|"+l+")",u="[^"+r+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",g=o+"?",y="["+a+"]?",m="(?:"+d+"(?:"+[u,f,h].join("|")+")"+y+g+")*",x=y+g+m,v="(?:"+[u+c+"?",c,f,h,s].join("|")+")",_=RegExp(l+"(?="+l+")|"+v+x,"g");function k(N){return N.match(_)||[]}return i2=k,i2}var a2,C9;function tW(){if(C9)return a2;C9=1;var r=JG(),e=bP(),t=eW();function n(i){return e(i)?t(i):r(i)}return a2=n,a2}var s2,O9;function rW(){if(O9)return s2;O9=1;var r=ZG(),e=bP(),t=tW(),n=hP();function i(a){return function(s){s=n(s);var c=e(s)?t(s):void 0,l=c?c[0]:s.charAt(0),o=c?r(c,1).join(""):s.slice(1);return l[a]()+o}}return s2=i,s2}var o2,N9;function nW(){if(N9)return o2;N9=1;var r=rW(),e=r("toUpperCase");return o2=e,o2}var iW=nW();const ay=Cr(iW);function Zr(r){return function(){return r}}const yP=Math.cos,jg=Math.sin,Ha=Math.sqrt,Cg=Math.PI,sy=2*Cg,K3=Math.PI,G3=2*K3,Ql=1e-6,aW=G3-Ql;function vP(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function sW(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return vP;const t=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+n[i]}}class oW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?vP:sW(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,i){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,t,n,i,a,s){this._append`C${+e},${+t},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,t,n,i,a){if(e=+e,t=+t,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,l=n-e,o=i-t,u=s-e,f=c-t,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(h>Ql)if(!(Math.abs(f*l-o*u)>Ql)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let d=n-s,g=i-c,y=l*l+o*o,m=d*d+g*g,x=Math.sqrt(y),v=Math.sqrt(h),_=a*Math.tan((K3-Math.acos((y+h-m)/(2*x*v)))/2),k=_/v,N=_/x;Math.abs(k-1)>Ql&&this._append`L${e+k*u},${t+k*f}`,this._append`A${a},${a},0,0,${+(f*d>u*g)},${this._x1=e+N*l},${this._y1=t+N*o}`}}arc(e,t,n,i,a,s){if(e=+e,t=+t,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),l=n*Math.sin(i),o=e+c,u=t+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${o},${u}`:(Math.abs(this._x1-o)>Ql||Math.abs(this._y1-u)>Ql)&&this._append`L${o},${u}`,n&&(h<0&&(h=h%G3+G3),h>aW?this._append`A${n},${n},0,1,${f},${e-c},${t-l}A${n},${n},0,1,${f},${this._x1=o},${this._y1=u}`:h>Ql&&this._append`A${n},${n},0,${+(h>=K3)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function w6(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new oW(e)}function _6(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function xP(r){this._context=r}xP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function oy(r){return new xP(r)}function wP(r){return r[0]}function _P(r){return r[1]}function SP(r,e){var t=Zr(!0),n=null,i=oy,a=null,s=w6(c);r=typeof r=="function"?r:r===void 0?wP:Zr(r),e=typeof e=="function"?e:e===void 0?_P:Zr(e);function c(l){var o,u=(l=_6(l)).length,f,h=!1,d;for(n==null&&(a=i(d=s())),o=0;o<=u;++o)!(o<u&&t(f=l[o],o,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+r(f,o,l),+e(f,o,l));if(d)return a=null,d+""||null}return c.x=function(l){return arguments.length?(r=typeof l=="function"?l:Zr(+l),c):r},c.y=function(l){return arguments.length?(e=typeof l=="function"?l:Zr(+l),c):e},c.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Zr(!!l),c):t},c.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),c):i},c.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),c):n},c}function T0(r,e,t){var n=null,i=Zr(!0),a=null,s=oy,c=null,l=w6(o);r=typeof r=="function"?r:r===void 0?wP:Zr(+r),e=typeof e=="function"?e:Zr(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?_P:Zr(+t);function o(f){var h,d,g,y=(f=_6(f)).length,m,x=!1,v,_=new Array(y),k=new Array(y);for(a==null&&(c=s(v=l())),h=0;h<=y;++h){if(!(h<y&&i(m=f[h],h,f))===x)if(x=!x)d=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=h-1;g>=d;--g)c.point(_[g],k[g]);c.lineEnd(),c.areaEnd()}x&&(_[h]=+r(m,h,f),k[h]=+e(m,h,f),c.point(n?+n(m,h,f):_[h],t?+t(m,h,f):k[h]))}if(v)return c=null,v+""||null}function u(){return SP().defined(i).curve(s).context(a)}return o.x=function(f){return arguments.length?(r=typeof f=="function"?f:Zr(+f),n=null,o):r},o.x0=function(f){return arguments.length?(r=typeof f=="function"?f:Zr(+f),o):r},o.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Zr(+f),o):n},o.y=function(f){return arguments.length?(e=typeof f=="function"?f:Zr(+f),t=null,o):e},o.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Zr(+f),o):e},o.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:Zr(+f),o):t},o.lineX0=o.lineY0=function(){return u().x(r).y(e)},o.lineY1=function(){return u().x(r).y(t)},o.lineX1=function(){return u().x(n).y(e)},o.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Zr(!!f),o):i},o.curve=function(f){return arguments.length?(s=f,a!=null&&(c=s(a)),o):s},o.context=function(f){return arguments.length?(f==null?a=c=null:c=s(a=f),o):a},o}class AP{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function lW(r){return new AP(r,!0)}function cW(r){return new AP(r,!1)}const S6={draw(r,e){const t=Ha(e/Cg);r.moveTo(t,0),r.arc(0,0,t,0,sy)}},uW={draw(r,e){const t=Ha(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},EP=Ha(1/3),fW=EP*2,hW={draw(r,e){const t=Ha(e/fW),n=t*EP;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},dW={draw(r,e){const t=Ha(e),n=-t/2;r.rect(n,n,t,t)}},pW=.8908130915292852,TP=jg(Cg/10)/jg(7*Cg/10),mW=jg(sy/10)*TP,gW=-yP(sy/10)*TP,bW={draw(r,e){const t=Ha(e*pW),n=mW*t,i=gW*t;r.moveTo(0,-t),r.lineTo(n,i);for(let a=1;a<5;++a){const s=sy*a/5,c=yP(s),l=jg(s);r.lineTo(l*t,-c*t),r.lineTo(c*n-l*i,l*n+c*i)}r.closePath()}},l2=Ha(3),yW={draw(r,e){const t=-Ha(e/(l2*3));r.moveTo(0,t*2),r.lineTo(-l2*t,-t),r.lineTo(l2*t,-t),r.closePath()}},ha=-.5,da=Ha(3)/2,W3=1/Ha(12),vW=(W3/2+1)*3,xW={draw(r,e){const t=Ha(e/vW),n=t/2,i=t*W3,a=n,s=t*W3+t,c=-a,l=s;r.moveTo(n,i),r.lineTo(a,s),r.lineTo(c,l),r.lineTo(ha*n-da*i,da*n+ha*i),r.lineTo(ha*a-da*s,da*a+ha*s),r.lineTo(ha*c-da*l,da*c+ha*l),r.lineTo(ha*n+da*i,ha*i-da*n),r.lineTo(ha*a+da*s,ha*s-da*a),r.lineTo(ha*c+da*l,ha*l-da*c),r.closePath()}};function wW(r,e){let t=null,n=w6(i);r=typeof r=="function"?r:Zr(r||S6),e=typeof e=="function"?e:Zr(e===void 0?64:+e);function i(){let a;if(t||(t=a=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),a)return t=null,a+""||null}return i.type=function(a){return arguments.length?(r=typeof a=="function"?a:Zr(a),i):r},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Zr(+a),i):e},i.context=function(a){return arguments.length?(t=a??null,i):t},i}function Og(){}function Ng(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function kP(r){this._context=r}kP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function _W(r){return new kP(r)}function jP(r){this._context=r}jP.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:Ng(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function SW(r){return new jP(r)}function CP(r){this._context=r}CP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:Ng(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function AW(r){return new CP(r)}function OP(r){this._context=r}OP.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function EW(r){return new OP(r)}function M9(r){return r<0?-1:1}function R9(r,e,t){var n=r._x1-r._x0,i=e-r._x1,a=(r._y1-r._y0)/(n||i<0&&-0),s=(t-r._y1)/(i||n<0&&-0),c=(a*i+s*n)/(n+i);return(M9(a)+M9(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function I9(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function c2(r,e,t){var n=r._x0,i=r._y0,a=r._x1,s=r._y1,c=(a-n)/3;r._context.bezierCurveTo(n+c,i+c*e,a-c,s-c*t,a,s)}function Mg(r){this._context=r}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c2(this,this._t0,I9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,c2(this,I9(this,t=R9(this,r,e)),t);break;default:c2(this,this._t0,t=R9(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function NP(r){this._context=new MP(r)}(NP.prototype=Object.create(Mg.prototype)).point=function(r,e){Mg.prototype.point.call(this,e,r)};function MP(r){this._context=r}MP.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,i,a){this._context.bezierCurveTo(e,r,n,t,a,i)}};function TW(r){return new Mg(r)}function kW(r){return new NP(r)}function RP(r){this._context=r}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=P9(r),i=P9(e),a=0,s=1;s<t;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],r[s],e[s]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function P9(r){var e,t=r.length-1,n,i=new Array(t),a=new Array(t),s=new Array(t);for(i[0]=0,a[0]=2,s[0]=r[0]+2*r[1],e=1;e<t-1;++e)i[e]=1,a[e]=4,s[e]=4*r[e]+2*r[e+1];for(i[t-1]=2,a[t-1]=7,s[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[t-1]=s[t-1]/a[t-1],e=t-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[t-1]=(r[t]+i[t-1])/2,e=0;e<t-1;++e)a[e]=2*r[e+1]-i[e+1];return[i,a]}function jW(r){return new RP(r)}function ly(r,e){this._context=r,this._t=e}ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function CW(r){return new ly(r,.5)}function OW(r){return new ly(r,0)}function NW(r){return new ly(r,1)}function df(r,e){if((s=r.length)>1)for(var t=1,n,i,a=r[e[0]],s,c=a.length;t<s;++t)for(i=a,a=r[e[t]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function X3(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function MW(r,e){return r[e]}function RW(r){const e=[];return e.key=r,e}function IW(){var r=Zr([]),e=X3,t=df,n=MW;function i(a){var s=Array.from(r.apply(this,arguments),RW),c,l=s.length,o=-1,u;for(const f of a)for(c=0,++o;c<l;++c)(s[c][o]=[0,+n(f,s[c].key,o,a)]).data=f;for(c=0,u=_6(e(s));c<l;++c)s[u[c]].index=c;return t(s,u),s}return i.keys=function(a){return arguments.length?(r=typeof a=="function"?a:Zr(Array.from(a)),i):r},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Zr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?X3:typeof a=="function"?a:Zr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(t=a??df,i):t},i}function PW(r,e){if((n=r.length)>0){for(var t,n,i=0,a=r[0].length,s;i<a;++i){for(s=t=0;t<n;++t)s+=r[t][i][1]||0;if(s)for(t=0;t<n;++t)r[t][i][1]/=s}df(r,e)}}function DW(r,e){if((i=r.length)>0){for(var t=0,n=r[e[0]],i,a=n.length;t<a;++t){for(var s=0,c=0;s<i;++s)c+=r[s][t][1]||0;n[t][1]+=n[t][0]=-c/2}df(r,e)}}function BW(r,e){if(!(!((s=r.length)>0)||!((a=(i=r[e[0]]).length)>0))){for(var t=0,n=1,i,a,s;n<a;++n){for(var c=0,l=0,o=0;c<s;++c){for(var u=r[e[c]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,g=0;g<c;++g){var y=r[e[g]],m=y[n][1]||0,x=y[n-1][1]||0;d+=m-x}l+=f,o+=d*f}i[n-1][1]+=i[n-1][0]=t,l&&(t-=o/l)}i[n-1][1]+=i[n-1][0]=t,df(r,e)}}function fp(r){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(r)}var LW=["type","size","sizeType"];function Y3(){return Y3=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Y3.apply(this,arguments)}function D9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function B9(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(t),!0).forEach(function(n){FW(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):D9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function FW(r,e,t){return e=$W(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function $W(r){var e=VW(r,"string");return fp(e)=="symbol"?e:e+""}function VW(r,e){if(fp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zW(r,e){if(r==null)return{};var t=qW(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function qW(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var IP={symbolCircle:S6,symbolCross:uW,symbolDiamond:hW,symbolSquare:dW,symbolStar:bW,symbolTriangle:yW,symbolWye:xW},UW=Math.PI/180,HW=function(e){var t="symbol".concat(ay(e));return IP[t]||S6},KW=function(e,t,n){if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*UW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GW=function(e,t){IP["symbol".concat(ay(e))]=t},cy=function(e){var t=e.type,n=t===void 0?"circle":t,i=e.size,a=i===void 0?64:i,s=e.sizeType,c=s===void 0?"area":s,l=zW(e,LW),o=B9(B9({},l),{},{type:n,size:a,sizeType:c}),u=function(){var m=HW(n),x=wW().type(m).size(KW(a,c,n));return x()},f=o.className,h=o.cx,d=o.cy,g=St(o,!0);return h===+h&&d===+d&&a===+a?pe.createElement("path",Y3({},g,{className:Jt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};cy.registerSymbol=GW;function pf(r){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(r)}function Q3(){return Q3=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Q3.apply(this,arguments)}function L9(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function WW(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(t),!0).forEach(function(n){hp(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):L9(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function XW(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function YW(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,DP(n.key),n)}}function QW(r,e,t){return e&&YW(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function ZW(r,e,t){return e=Rg(e),JW(r,PP()?Reflect.construct(e,t||[],Rg(r).constructor):e.apply(r,t))}function JW(r,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eX(r)}function eX(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PP=function(){return!!r})()}function Rg(r){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rg(r)}function tX(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Z3(r,e)}function Z3(r,e){return Z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z3(r,e)}function hp(r,e,t){return e=DP(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function DP(r){var e=rX(r,"string");return pf(e)=="symbol"?e:e+""}function rX(r,e){if(pf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var pa=32,A6=(function(r){function e(){return XW(this,e),ZW(this,e,arguments)}return tX(e,r),QW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=pa/2,s=pa/6,c=pa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return pe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:pa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return pe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(pa,"M").concat(2*c,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return pe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(pa/8,"h").concat(pa,"v").concat(pa*3/4,"h").concat(-pa,"z"),className:"recharts-legend-icon"});if(pe.isValidElement(n.legendIcon)){var o=WW({},n);return delete o.legendIcon,pe.cloneElement(n.legendIcon,o)}return pe.createElement(cy,{fill:l,cx:a,cy:a,size:pa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,c=i.layout,l=i.formatter,o=i.inactiveColor,u={x:0,y:0,width:pa,height:pa},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(d,g){var y=d.formatter||l,m=Jt(hp(hp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",d.inactive));if(d.type==="none")return null;var x=Lt(d.value)?null:d.value;Va(!Lt(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=d.inactive?o:d.color;return pe.createElement("li",Q3({className:m,style:f,key:"legend-item-".concat(g)},rl(n.props,d,g)),pe.createElement(U3,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),pe.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y?y(x,d,g):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return pe.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(ye.PureComponent);hp(A6,"displayName","Legend");hp(A6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var u2,F9;function nX(){if(F9)return u2;F9=1;var r=ry();function e(){this.__data__=new r,this.size=0}return u2=e,u2}var f2,$9;function iX(){if($9)return f2;$9=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return f2=r,f2}var h2,V9;function aX(){if(V9)return h2;V9=1;function r(e){return this.__data__.get(e)}return h2=r,h2}var d2,z9;function sX(){if(z9)return d2;z9=1;function r(e){return this.__data__.has(e)}return d2=r,d2}var p2,q9;function oX(){if(q9)return p2;q9=1;var r=ry(),e=m6(),t=g6(),n=200;function i(a,s){var c=this.__data__;if(c instanceof r){var l=c.__data__;if(!e||l.length<n-1)return l.push([a,s]),this.size=++c.size,this;c=this.__data__=new t(l)}return c.set(a,s),this.size=c.size,this}return p2=i,p2}var m2,U9;function BP(){if(U9)return m2;U9=1;var r=ry(),e=nX(),t=iX(),n=aX(),i=sX(),a=oX();function s(c){var l=this.__data__=new r(c);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,m2=s,m2}var g2,H9;function lX(){if(H9)return g2;H9=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return g2=e,g2}var b2,K9;function cX(){if(K9)return b2;K9=1;function r(e){return this.__data__.has(e)}return b2=r,b2}var y2,G9;function LP(){if(G9)return y2;G9=1;var r=g6(),e=lX(),t=cX();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new r;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,y2=n,y2}var v2,W9;function FP(){if(W9)return v2;W9=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return v2=r,v2}var x2,X9;function $P(){if(X9)return x2;X9=1;function r(e,t){return e.has(t)}return x2=r,x2}var w2,Y9;function VP(){if(Y9)return w2;Y9=1;var r=LP(),e=FP(),t=$P(),n=1,i=2;function a(s,c,l,o,u,f){var h=l&n,d=s.length,g=c.length;if(d!=g&&!(h&&g>d))return!1;var y=f.get(s),m=f.get(c);if(y&&m)return y==c&&m==s;var x=-1,v=!0,_=l&i?new r:void 0;for(f.set(s,c),f.set(c,s);++x<d;){var k=s[x],N=c[x];if(o)var P=h?o(N,k,x,c,s,f):o(k,N,x,s,c,f);if(P!==void 0){if(P)continue;v=!1;break}if(_){if(!e(c,function(D,I){if(!t(_,I)&&(k===D||u(k,D,l,o,f)))return _.push(I)})){v=!1;break}}else if(!(k===N||u(k,N,l,o,f))){v=!1;break}}return f.delete(s),f.delete(c),v}return w2=a,w2}var _2,Q9;function uX(){if(Q9)return _2;Q9=1;var r=ms(),e=r.Uint8Array;return _2=e,_2}var S2,Z9;function fX(){if(Z9)return S2;Z9=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return S2=r,S2}var A2,J9;function E6(){if(J9)return A2;J9=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return A2=r,A2}var E2,e7;function hX(){if(e7)return E2;e7=1;var r=im(),e=uX(),t=p6(),n=VP(),i=fX(),a=E6(),s=1,c=2,l="[object Boolean]",o="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",d="[object RegExp]",g="[object Set]",y="[object String]",m="[object Symbol]",x="[object ArrayBuffer]",v="[object DataView]",_=r?r.prototype:void 0,k=_?_.valueOf:void 0;function N(P,D,I,B,L,z,$){switch(I){case v:if(P.byteLength!=D.byteLength||P.byteOffset!=D.byteOffset)return!1;P=P.buffer,D=D.buffer;case x:return!(P.byteLength!=D.byteLength||!z(new e(P),new e(D)));case l:case o:case h:return t(+P,+D);case u:return P.name==D.name&&P.message==D.message;case d:case y:return P==D+"";case f:var O=i;case g:var F=B&s;if(O||(O=a),P.size!=D.size&&!F)return!1;var C=$.get(P);if(C)return C==D;B|=c,$.set(P,D);var w=n(O(P),O(D),B,L,z,$);return $.delete(P),w;case m:if(k)return k.call(P)==k.call(D)}return!1}return E2=N,E2}var T2,t7;function zP(){if(t7)return T2;t7=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return T2=r,T2}var k2,r7;function dX(){if(r7)return k2;r7=1;var r=zP(),e=Mi();function t(n,i,a){var s=i(n);return e(n)?s:r(s,a(n))}return k2=t,k2}var j2,n7;function pX(){if(n7)return j2;n7=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var c=e[n];t(c,n,e)&&(s[a++]=c)}return s}return j2=r,j2}var C2,i7;function mX(){if(i7)return C2;i7=1;function r(){return[]}return C2=r,C2}var O2,a7;function gX(){if(a7)return O2;a7=1;var r=pX(),e=mX(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),r(i(s),function(c){return n.call(s,c)}))}:e;return O2=a,O2}var N2,s7;function bX(){if(s7)return N2;s7=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return N2=r,N2}var M2,o7;function yX(){if(o7)return M2;o7=1;var r=to(),e=ro(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return M2=n,M2}var R2,l7;function T6(){if(l7)return R2;l7=1;var r=yX(),e=ro(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r((function(){return arguments})())?r:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return R2=a,R2}var wd={exports:{}},I2,c7;function vX(){if(c7)return I2;c7=1;function r(){return!1}return I2=r,I2}wd.exports;var u7;function qP(){return u7||(u7=1,(function(r,e){var t=ms(),n=vX(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,s=a&&a.exports===i,c=s?t.Buffer:void 0,l=c?c.isBuffer:void 0,o=l||n;r.exports=o})(wd,wd.exports)),wd.exports}var P2,f7;function k6(){if(f7)return P2;f7=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return P2=t,P2}var D2,h7;function j6(){if(h7)return D2;h7=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return D2=e,D2}var B2,d7;function xX(){if(d7)return B2;d7=1;var r=to(),e=j6(),t=ro(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",c="[object Error]",l="[object Function]",o="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",d="[object Set]",g="[object String]",y="[object WeakMap]",m="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",k="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",D="[object Uint8Array]",I="[object Uint8ClampedArray]",B="[object Uint16Array]",L="[object Uint32Array]",z={};z[v]=z[_]=z[k]=z[N]=z[P]=z[D]=z[I]=z[B]=z[L]=!0,z[n]=z[i]=z[m]=z[a]=z[x]=z[s]=z[c]=z[l]=z[o]=z[u]=z[f]=z[h]=z[d]=z[g]=z[y]=!1;function $(O){return t(O)&&e(O.length)&&!!z[r(O)]}return B2=$,B2}var L2,p7;function UP(){if(p7)return L2;p7=1;function r(e){return function(t){return e(t)}}return L2=r,L2}var _d={exports:{}};_d.exports;var m7;function wX(){return m7||(m7=1,(function(r,e){var t=cP(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,s=a&&t.process,c=(function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();r.exports=c})(_d,_d.exports)),_d.exports}var F2,g7;function HP(){if(g7)return F2;g7=1;var r=xX(),e=UP(),t=wX(),n=t&&t.isTypedArray,i=n?e(n):r;return F2=i,F2}var $2,b7;function _X(){if(b7)return $2;b7=1;var r=bX(),e=T6(),t=Mi(),n=qP(),i=k6(),a=HP(),s=Object.prototype,c=s.hasOwnProperty;function l(o,u){var f=t(o),h=!f&&e(o),d=!f&&!h&&n(o),g=!f&&!h&&!d&&a(o),y=f||h||d||g,m=y?r(o.length,String):[],x=m.length;for(var v in o)(u||c.call(o,v))&&!(y&&(v=="length"||d&&(v=="offset"||v=="parent")||g&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,x)))&&m.push(v);return m}return $2=l,$2}var V2,y7;function SX(){if(y7)return V2;y7=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return V2=e,V2}var z2,v7;function KP(){if(v7)return z2;v7=1;function r(e,t){return function(n){return e(t(n))}}return z2=r,z2}var q2,x7;function AX(){if(x7)return q2;x7=1;var r=KP(),e=r(Object.keys,Object);return q2=e,q2}var U2,w7;function EX(){if(w7)return U2;w7=1;var r=SX(),e=AX(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var s=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&s.push(c);return s}return U2=i,U2}var H2,_7;function sm(){if(_7)return H2;_7=1;var r=d6(),e=j6();function t(n){return n!=null&&e(n.length)&&!r(n)}return H2=t,H2}var K2,S7;function uy(){if(S7)return K2;S7=1;var r=_X(),e=EX(),t=sm();function n(i){return t(i)?r(i):e(i)}return K2=n,K2}var G2,A7;function TX(){if(A7)return G2;A7=1;var r=dX(),e=gX(),t=uy();function n(i){return r(i,t,e)}return G2=n,G2}var W2,E7;function kX(){if(E7)return W2;E7=1;var r=TX(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,s,c,l,o,u){var f=c&e,h=r(a),d=h.length,g=r(s),y=g.length;if(d!=y&&!f)return!1;for(var m=d;m--;){var x=h[m];if(!(f?x in s:n.call(s,x)))return!1}var v=u.get(a),_=u.get(s);if(v&&_)return v==s&&_==a;var k=!0;u.set(a,s),u.set(s,a);for(var N=f;++m<d;){x=h[m];var P=a[x],D=s[x];if(l)var I=f?l(D,P,x,s,a,u):l(P,D,x,a,s,u);if(!(I===void 0?P===D||o(P,D,c,l,u):I)){k=!1;break}N||(N=x=="constructor")}if(k&&!N){var B=a.constructor,L=s.constructor;B!=L&&"constructor"in a&&"constructor"in s&&!(typeof B=="function"&&B instanceof B&&typeof L=="function"&&L instanceof L)&&(k=!1)}return u.delete(a),u.delete(s),k}return W2=i,W2}var X2,T7;function jX(){if(T7)return X2;T7=1;var r=Bc(),e=ms(),t=r(e,"DataView");return X2=t,X2}var Y2,k7;function CX(){if(k7)return Y2;k7=1;var r=Bc(),e=ms(),t=r(e,"Promise");return Y2=t,Y2}var Q2,j7;function GP(){if(j7)return Q2;j7=1;var r=Bc(),e=ms(),t=r(e,"Set");return Q2=t,Q2}var Z2,C7;function OX(){if(C7)return Z2;C7=1;var r=Bc(),e=ms(),t=r(e,"WeakMap");return Z2=t,Z2}var J2,O7;function NX(){if(O7)return J2;O7=1;var r=jX(),e=m6(),t=CX(),n=GP(),i=OX(),a=to(),s=uP(),c="[object Map]",l="[object Object]",o="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",d=s(r),g=s(e),y=s(t),m=s(n),x=s(i),v=a;return(r&&v(new r(new ArrayBuffer(1)))!=h||e&&v(new e)!=c||t&&v(t.resolve())!=o||n&&v(new n)!=u||i&&v(new i)!=f)&&(v=function(_){var k=a(_),N=k==l?_.constructor:void 0,P=N?s(N):"";if(P)switch(P){case d:return h;case g:return c;case y:return o;case m:return u;case x:return f}return k}),J2=v,J2}var ew,N7;function MX(){if(N7)return ew;N7=1;var r=BP(),e=VP(),t=hX(),n=kX(),i=NX(),a=Mi(),s=qP(),c=HP(),l=1,o="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function g(y,m,x,v,_,k){var N=a(y),P=a(m),D=N?u:i(y),I=P?u:i(m);D=D==o?f:D,I=I==o?f:I;var B=D==f,L=I==f,z=D==I;if(z&&s(y)){if(!s(m))return!1;N=!0,B=!1}if(z&&!B)return k||(k=new r),N||c(y)?e(y,m,x,v,_,k):t(y,m,D,x,v,_,k);if(!(x&l)){var $=B&&d.call(y,"__wrapped__"),O=L&&d.call(m,"__wrapped__");if($||O){var F=$?y.value():y,C=O?m.value():m;return k||(k=new r),_(F,C,x,v,k)}}return z?(k||(k=new r),n(y,m,x,v,_,k)):!1}return ew=g,ew}var tw,M7;function C6(){if(M7)return tw;M7=1;var r=MX(),e=ro();function t(n,i,a,s,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,s,t,c)}return tw=t,tw}var rw,R7;function RX(){if(R7)return rw;R7=1;var r=BP(),e=C6(),t=1,n=2;function i(a,s,c,l){var o=c.length,u=o,f=!l;if(a==null)return!u;for(a=Object(a);o--;){var h=c[o];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++o<u;){h=c[o];var d=h[0],g=a[d],y=h[1];if(f&&h[2]){if(g===void 0&&!(d in a))return!1}else{var m=new r;if(l)var x=l(g,y,d,a,s,m);if(!(x===void 0?e(y,g,t|n,l,m):x))return!1}}return!0}return rw=i,rw}var nw,I7;function WP(){if(I7)return nw;I7=1;var r=ul();function e(t){return t===t&&!r(t)}return nw=e,nw}var iw,P7;function IX(){if(P7)return iw;P7=1;var r=WP(),e=uy();function t(n){for(var i=e(n),a=i.length;a--;){var s=i[a],c=n[s];i[a]=[s,c,r(c)]}return i}return iw=t,iw}var aw,D7;function XP(){if(D7)return aw;D7=1;function r(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}return aw=r,aw}var sw,B7;function PX(){if(B7)return sw;B7=1;var r=RX(),e=IX(),t=XP();function n(i){var a=e(i);return a.length==1&&a[0][2]?t(a[0][0],a[0][1]):function(s){return s===i||r(s,i,a)}}return sw=n,sw}var ow,L7;function DX(){if(L7)return ow;L7=1;function r(e,t){return e!=null&&t in Object(e)}return ow=r,ow}var lw,F7;function BX(){if(F7)return lw;F7=1;var r=dP(),e=T6(),t=Mi(),n=k6(),i=j6(),a=iy();function s(c,l,o){l=r(l,c);for(var u=-1,f=l.length,h=!1;++u<f;){var d=a(l[u]);if(!(h=c!=null&&o(c,d)))break;c=c[d]}return h||++u!=f?h:(f=c==null?0:c.length,!!f&&i(f)&&n(d,f)&&(t(c)||e(c)))}return lw=s,lw}var cw,$7;function LX(){if($7)return cw;$7=1;var r=DX(),e=BX();function t(n,i){return n!=null&&e(n,i,r)}return cw=t,cw}var uw,V7;function FX(){if(V7)return uw;V7=1;var r=C6(),e=pP(),t=LX(),n=h6(),i=WP(),a=XP(),s=iy(),c=1,l=2;function o(u,f){return n(u)&&i(f)?a(s(u),f):function(h){var d=e(h,u);return d===void 0&&d===f?t(h,u):r(f,d,c|l)}}return uw=o,uw}var fw,z7;function Zf(){if(z7)return fw;z7=1;function r(e){return e}return fw=r,fw}var hw,q7;function $X(){if(q7)return hw;q7=1;function r(e){return function(t){return t==null?void 0:t[e]}}return hw=r,hw}var dw,U7;function VX(){if(U7)return dw;U7=1;var r=y6();function e(t){return function(n){return r(n,t)}}return dw=e,dw}var pw,H7;function zX(){if(H7)return pw;H7=1;var r=$X(),e=VX(),t=h6(),n=iy();function i(a){return t(a)?r(n(a)):e(a)}return pw=i,pw}var mw,K7;function gs(){if(K7)return mw;K7=1;var r=PX(),e=FX(),t=Zf(),n=Mi(),i=zX();function a(s){return typeof s=="function"?s:s==null?t:typeof s=="object"?n(s)?e(s[0],s[1]):r(s):i(s)}return mw=a,mw}var gw,G7;function YP(){if(G7)return gw;G7=1;function r(e,t,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(t(e[s],s,e))return s;return-1}return gw=r,gw}var bw,W7;function qX(){if(W7)return bw;W7=1;function r(e){return e!==e}return bw=r,bw}var yw,X7;function UX(){if(X7)return yw;X7=1;function r(e,t,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}return yw=r,yw}var vw,Y7;function HX(){if(Y7)return vw;Y7=1;var r=YP(),e=qX(),t=UX();function n(i,a,s){return a===a?t(i,a,s):r(i,e,s)}return vw=n,vw}var xw,Q7;function KX(){if(Q7)return xw;Q7=1;var r=HX();function e(t,n){var i=t==null?0:t.length;return!!i&&r(t,n,0)>-1}return xw=e,xw}var ww,Z7;function GX(){if(Z7)return ww;Z7=1;function r(e,t,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}return ww=r,ww}var _w,J7;function WX(){if(J7)return _w;J7=1;function r(){}return _w=r,_w}var Sw,ej;function XX(){if(ej)return Sw;ej=1;var r=GP(),e=WX(),t=E6(),n=1/0,i=r&&1/t(new r([,-0]))[1]==n?function(a){return new r(a)}:e;return Sw=i,Sw}var Aw,tj;function YX(){if(tj)return Aw;tj=1;var r=LP(),e=KX(),t=GX(),n=$P(),i=XX(),a=E6(),s=200;function c(l,o,u){var f=-1,h=e,d=l.length,g=!0,y=[],m=y;if(u)g=!1,h=t;else if(d>=s){var x=o?null:i(l);if(x)return a(x);g=!1,h=n,m=new r}else m=o?[]:y;e:for(;++f<d;){var v=l[f],_=o?o(v):v;if(v=u||v!==0?v:0,g&&_===_){for(var k=m.length;k--;)if(m[k]===_)continue e;o&&m.push(_),y.push(v)}else h(m,_,u)||(m!==y&&m.push(_),y.push(v))}return y}return Aw=c,Aw}var Ew,rj;function QX(){if(rj)return Ew;rj=1;var r=gs(),e=YX();function t(n,i){return n&&n.length?e(n,r(i,2)):[]}return Ew=t,Ew}var ZX=QX();const nj=Cr(ZX);function QP(r,e,t){return e===!0?nj(r,t):Lt(e)?nj(r,e):r}function mf(r){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(r)}var JX=["ref"];function ij(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Bs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(t),!0).forEach(function(n){fy(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ij(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function eY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,JP(n.key),n)}}function tY(r,e,t){return e&&aj(r.prototype,e),t&&aj(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function rY(r,e,t){return e=Ig(e),nY(r,ZP()?Reflect.construct(e,t||[],Ig(r).constructor):e.apply(r,t))}function nY(r,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(r)}function iY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ZP(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!r})()}function Ig(r){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ig(r)}function aY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&J3(r,e)}function J3(r,e){return J3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J3(r,e)}function fy(r,e,t){return e=JP(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function JP(r){var e=sY(r,"string");return mf(e)=="symbol"?e:e+""}function sY(r,e){if(mf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function oY(r,e){if(r==null)return{};var t=lY(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function lY(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function cY(r){return r.value}function uY(r,e){if(pe.isValidElement(r))return pe.cloneElement(r,e);if(typeof r=="function")return pe.createElement(r,e);e.ref;var t=oY(e,JX);return pe.createElement(A6,t)}var sj=1,us=(function(r){function e(){var t;eY(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=rY(this,e,[].concat(i)),fy(t,"lastBoundingBox",{width:-1,height:-1}),t}return aY(e,r),tY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>sj||Math.abs(i.height-this.lastBoundingBox.height)>sj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,c=i.verticalAlign,l=i.margin,o=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var d=this.getBBoxSnapshot();f={left:((o||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Bs(Bs({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,c=i.height,l=i.wrapperStyle,o=i.payloadUniqBy,u=i.payload,f=Bs(Bs({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return pe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},uY(a,Bs(Bs({},this.props),{},{payload:QP(u,o,cY)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Bs(Bs({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&Qe(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(ye.PureComponent);fy(us,"displayName","Legend");fy(us,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Tw,oj;function fY(){if(oj)return Tw;oj=1;var r=im(),e=T6(),t=Mi(),n=r?r.isConcatSpreadable:void 0;function i(a){return t(a)||e(a)||!!(n&&a&&a[n])}return Tw=i,Tw}var kw,lj;function eD(){if(lj)return kw;lj=1;var r=zP(),e=fY();function t(n,i,a,s,c){var l=-1,o=n.length;for(a||(a=e),c||(c=[]);++l<o;){var u=n[l];i>0&&a(u)?i>1?t(u,i-1,a,s,c):r(c,u):s||(c[c.length]=u)}return c}return kw=t,kw}var jw,cj;function hY(){if(cj)return jw;cj=1;function r(e){return function(t,n,i){for(var a=-1,s=Object(t),c=i(t),l=c.length;l--;){var o=c[e?l:++a];if(n(s[o],o,s)===!1)break}return t}}return jw=r,jw}var Cw,uj;function dY(){if(uj)return Cw;uj=1;var r=hY(),e=r();return Cw=e,Cw}var Ow,fj;function tD(){if(fj)return Ow;fj=1;var r=dY(),e=uy();function t(n,i){return n&&r(n,i,e)}return Ow=t,Ow}var Nw,hj;function pY(){if(hj)return Nw;hj=1;var r=sm();function e(t,n){return function(i,a){if(i==null)return i;if(!r(i))return t(i,a);for(var s=i.length,c=n?s:-1,l=Object(i);(n?c--:++c<s)&&a(l[c],c,l)!==!1;);return i}}return Nw=e,Nw}var Mw,dj;function O6(){if(dj)return Mw;dj=1;var r=tD(),e=pY(),t=e(r);return Mw=t,Mw}var Rw,pj;function rD(){if(pj)return Rw;pj=1;var r=O6(),e=sm();function t(n,i){var a=-1,s=e(n)?Array(n.length):[];return r(n,function(c,l,o){s[++a]=i(c,l,o)}),s}return Rw=t,Rw}var Iw,mj;function mY(){if(mj)return Iw;mj=1;function r(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}return Iw=r,Iw}var Pw,gj;function gY(){if(gj)return Pw;gj=1;var r=Xf();function e(t,n){if(t!==n){var i=t!==void 0,a=t===null,s=t===t,c=r(t),l=n!==void 0,o=n===null,u=n===n,f=r(n);if(!o&&!f&&!c&&t>n||c&&l&&u&&!o&&!f||a&&l&&u||!i&&u||!s)return 1;if(!a&&!c&&!f&&t<n||f&&i&&s&&!a&&!c||o&&i&&s||!l&&s||!u)return-1}return 0}return Pw=e,Pw}var Dw,bj;function bY(){if(bj)return Dw;bj=1;var r=gY();function e(t,n,i){for(var a=-1,s=t.criteria,c=n.criteria,l=s.length,o=i.length;++a<l;){var u=r(s[a],c[a]);if(u){if(a>=o)return u;var f=i[a];return u*(f=="desc"?-1:1)}}return t.index-n.index}return Dw=e,Dw}var Bw,yj;function yY(){if(yj)return Bw;yj=1;var r=b6(),e=y6(),t=gs(),n=rD(),i=mY(),a=UP(),s=bY(),c=Zf(),l=Mi();function o(u,f,h){f.length?f=r(f,function(y){return l(y)?function(m){return e(m,y.length===1?y[0]:y)}:y}):f=[c];var d=-1;f=r(f,a(t));var g=n(u,function(y,m,x){var v=r(f,function(_){return _(y)});return{criteria:v,index:++d,value:y}});return i(g,function(y,m){return s(y,m,h)})}return Bw=o,Bw}var Lw,vj;function vY(){if(vj)return Lw;vj=1;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return Lw=r,Lw}var Fw,xj;function xY(){if(xj)return Fw;xj=1;var r=vY(),e=Math.max;function t(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,c=-1,l=e(s.length-i,0),o=Array(l);++c<l;)o[c]=s[i+c];c=-1;for(var u=Array(i+1);++c<i;)u[c]=s[c];return u[i]=a(o),r(n,this,u)}}return Fw=t,Fw}var $w,wj;function wY(){if(wj)return $w;wj=1;function r(e){return function(){return e}}return $w=r,$w}var Vw,_j;function nD(){if(_j)return Vw;_j=1;var r=Bc(),e=(function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}})();return Vw=e,Vw}var zw,Sj;function _Y(){if(Sj)return zw;Sj=1;var r=wY(),e=nD(),t=Zf(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:t;return zw=n,zw}var qw,Aj;function SY(){if(Aj)return qw;Aj=1;var r=800,e=16,t=Date.now;function n(i){var a=0,s=0;return function(){var c=t(),l=e-(c-s);if(s=c,l>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return qw=n,qw}var Uw,Ej;function AY(){if(Ej)return Uw;Ej=1;var r=_Y(),e=SY(),t=e(r);return Uw=t,Uw}var Hw,Tj;function EY(){if(Tj)return Hw;Tj=1;var r=Zf(),e=xY(),t=AY();function n(i,a){return t(e(i,a,r),i+"")}return Hw=n,Hw}var Kw,kj;function hy(){if(kj)return Kw;kj=1;var r=p6(),e=sm(),t=k6(),n=ul();function i(a,s,c){if(!n(c))return!1;var l=typeof s;return(l=="number"?e(c)&&t(s,c.length):l=="string"&&s in c)?r(c[s],a):!1}return Kw=i,Kw}var Gw,jj;function TY(){if(jj)return Gw;jj=1;var r=eD(),e=yY(),t=EY(),n=hy(),i=t(function(a,s){if(a==null)return[];var c=s.length;return c>1&&n(a,s[0],s[1])?s=[]:c>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,r(s,1),[])});return Gw=i,Gw}var kY=TY();const N6=Cr(kY);function dp(r){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(r)}function e4(){return e4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},e4.apply(this,arguments)}function jY(r,e){return MY(r)||NY(r,e)||OY(r,e)||CY()}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(r,e){if(r){if(typeof r=="string")return Cj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cj(r,e)}}function Cj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function NY(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function MY(r){if(Array.isArray(r))return r}function Oj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ww(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(t),!0).forEach(function(n){RY(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Oj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function RY(r,e,t){return e=IY(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function IY(r){var e=PY(r,"string");return dp(e)=="symbol"?e:e+""}function PY(r,e){if(dp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function DY(r){return Array.isArray(r)&&Ln(r[0])&&Ln(r[1])?r.join(" ~ "):r}var BY=function(e){var t=e.separator,n=t===void 0?" : ":t,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,c=s===void 0?{}:s,l=e.labelStyle,o=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,d=e.wrapperClassName,g=e.labelClassName,y=e.label,m=e.labelFormatter,x=e.accessibilityLayer,v=x===void 0?!1:x,_=function(){if(u&&u.length){var $={padding:0,margin:0},O=(h?N6(u,h):u).map(function(F,C){if(F.type==="none")return null;var w=Ww({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},c),E=F.formatter||f||DY,A=F.value,j=F.name,R=A,q=j;if(E&&R!=null&&q!=null){var H=E(A,j,F,C,u);if(Array.isArray(H)){var Y=jY(H,2);R=Y[0],q=Y[1]}else R=H}return pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:w},Ln(q)?pe.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Ln(q)?pe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,pe.createElement("span",{className:"recharts-tooltip-item-value"},R),pe.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return pe.createElement("ul",{className:"recharts-tooltip-item-list",style:$},O)}return null},k=Ww({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=Ww({margin:0},o),P=!Ft(y),D=P?y:"",I=Jt("recharts-default-tooltip",d),B=Jt("recharts-tooltip-label",g);P&&m&&u!==void 0&&u!==null&&(D=m(y,u));var L=v?{role:"status","aria-live":"assertive"}:{};return pe.createElement("div",e4({className:I,style:k},L),pe.createElement("p",{className:B,style:N},pe.isValidElement(D)?D:"".concat(D)),_())};function pp(r){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(r)}function k0(r,e,t){return e=LY(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function LY(r){var e=FY(r,"string");return pp(e)=="symbol"?e:e+""}function FY(r,e){if(pp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var id="recharts-tooltip-wrapper",$Y={visibility:"hidden"};function VY(r){var e=r.coordinate,t=r.translateX,n=r.translateY;return Jt(id,k0(k0(k0(k0({},"".concat(id,"-right"),Qe(t)&&e&&Qe(e.x)&&t>=e.x),"".concat(id,"-left"),Qe(t)&&e&&Qe(e.x)&&t<e.x),"".concat(id,"-bottom"),Qe(n)&&e&&Qe(e.y)&&n>=e.y),"".concat(id,"-top"),Qe(n)&&e&&Qe(e.y)&&n<e.y))}function Nj(r){var e=r.allowEscapeViewBox,t=r.coordinate,n=r.key,i=r.offsetTopLeft,a=r.position,s=r.reverseDirection,c=r.tooltipDimension,l=r.viewBox,o=r.viewBoxDimension;if(a&&Qe(a[n]))return a[n];var u=t[n]-c-i,f=t[n]+i;if(e[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+c,y=l[n]+o;return g>y?Math.max(u,l[n]):Math.max(f,l[n])}function zY(r){var e=r.translateX,t=r.translateY,n=r.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function qY(r){var e=r.allowEscapeViewBox,t=r.coordinate,n=r.offsetTopLeft,i=r.position,a=r.reverseDirection,s=r.tooltipBox,c=r.useTranslate3d,l=r.viewBox,o,u,f;return s.height>0&&s.width>0&&t?(u=Nj({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Nj({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),o=zY({translateX:u,translateY:f,useTranslate3d:c})):o=$Y,{cssProperties:o,cssClasses:VY({translateX:u,translateY:f,coordinate:t})}}function gf(r){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(r)}function Mj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Rj(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(t),!0).forEach(function(n){r4(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Mj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function UY(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function HY(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,aD(n.key),n)}}function KY(r,e,t){return e&&HY(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function GY(r,e,t){return e=Pg(e),WY(r,iD()?Reflect.construct(e,t||[],Pg(r).constructor):e.apply(r,t))}function WY(r,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XY(r)}function XY(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function iD(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!r})()}function Pg(r){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pg(r)}function YY(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&t4(r,e)}function t4(r,e){return t4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t4(r,e)}function r4(r,e,t){return e=aD(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aD(r){var e=QY(r,"string");return gf(e)=="symbol"?e:e+""}function QY(r,e){if(gf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Ij=1,ZY=(function(r){function e(){var t;UY(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=GY(this,e,[].concat(i)),r4(t,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),r4(t,"handleKeyDown",function(s){if(s.key==="Escape"){var c,l,o,u;t.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=t.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(o=(u=t.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&o!==void 0?o:0}})}}),t}return YY(e,r),KY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Ij||Math.abs(n.height-this.state.lastBoundingBox.height)>Ij)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,l=i.animationEasing,o=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,d=i.offset,g=i.position,y=i.reverseDirection,m=i.useTranslate3d,x=i.viewBox,v=i.wrapperStyle,_=qY({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:x}),k=_.cssClasses,N=_.cssProperties,P=Rj(Rj({transition:h&&a?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return pe.createElement("div",{tabIndex:-1,className:k,style:P,ref:function(I){n.wrapperNode=I}},o)}}])})(ye.PureComponent),JY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},no={isSsr:JY()};function bf(r){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(r)}function Pj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Dj(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(t),!0).forEach(function(n){M6(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Pj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function eQ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function tQ(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,oD(n.key),n)}}function rQ(r,e,t){return e&&tQ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function nQ(r,e,t){return e=Dg(e),iQ(r,sD()?Reflect.construct(e,t||[],Dg(r).constructor):e.apply(r,t))}function iQ(r,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aQ(r)}function aQ(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sD(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!r})()}function Dg(r){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dg(r)}function sQ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&n4(r,e)}function n4(r,e){return n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n4(r,e)}function M6(r,e,t){return e=oD(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function oD(r){var e=oQ(r,"string");return bf(e)=="symbol"?e:e+""}function oQ(r,e){if(bf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function lQ(r){return r.dataKey}function cQ(r,e){return pe.isValidElement(r)?pe.cloneElement(r,e):typeof r=="function"?pe.createElement(r,e):pe.createElement(BY,e)}var Kn=(function(r){function e(){return eQ(this,e),nQ(this,e,arguments)}return sQ(e,r),rQ(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,c=i.animationDuration,l=i.animationEasing,o=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,d=i.offset,g=i.payload,y=i.payloadUniqBy,m=i.position,x=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,k=i.wrapperStyle,N=g??[];f&&N.length&&(N=QP(g.filter(function(D){return D.value!=null&&(D.hide!==!0||n.props.includeHidden)}),y,lQ));var P=N.length>0;return pe.createElement(ZY,{allowEscapeViewBox:s,animationDuration:c,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:P,offset:d,position:m,reverseDirection:x,useTranslate3d:v,viewBox:_,wrapperStyle:k},cQ(o,Dj(Dj({},this.props),{},{payload:N})))}}])})(ye.PureComponent);M6(Kn,"displayName","Tooltip");M6(Kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!no.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xw,Bj;function uQ(){if(Bj)return Xw;Bj=1;var r=ms(),e=function(){return r.Date.now()};return Xw=e,Xw}var Yw,Lj;function fQ(){if(Lj)return Yw;Lj=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return Yw=e,Yw}var Qw,Fj;function hQ(){if(Fj)return Qw;Fj=1;var r=fQ(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return Qw=t,Qw}var Zw,$j;function lD(){if($j)return Zw;$j=1;var r=hQ(),e=ul(),t=Xf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function l(o){if(typeof o=="number")return o;if(t(o))return n;if(e(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=e(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=r(o);var f=a.test(o);return f||s.test(o)?c(o.slice(2),f?2:8):i.test(o)?n:+o}return Zw=l,Zw}var Jw,Vj;function dQ(){if(Vj)return Jw;Vj=1;var r=ul(),e=uQ(),t=lD(),n="Expected a function",i=Math.max,a=Math.min;function s(c,l,o){var u,f,h,d,g,y,m=0,x=!1,v=!1,_=!0;if(typeof c!="function")throw new TypeError(n);l=t(l)||0,r(o)&&(x=!!o.leading,v="maxWait"in o,h=v?i(t(o.maxWait)||0,l):h,_="trailing"in o?!!o.trailing:_);function k(O){var F=u,C=f;return u=f=void 0,m=O,d=c.apply(C,F),d}function N(O){return m=O,g=setTimeout(I,l),x?k(O):d}function P(O){var F=O-y,C=O-m,w=l-F;return v?a(w,h-C):w}function D(O){var F=O-y,C=O-m;return y===void 0||F>=l||F<0||v&&C>=h}function I(){var O=e();if(D(O))return B(O);g=setTimeout(I,P(O))}function B(O){return g=void 0,_&&u?k(O):(u=f=void 0,d)}function L(){g!==void 0&&clearTimeout(g),m=0,u=y=f=g=void 0}function z(){return g===void 0?d:B(e())}function $(){var O=e(),F=D(O);if(u=arguments,f=this,y=O,F){if(g===void 0)return N(y);if(v)return clearTimeout(g),g=setTimeout(I,l),k(y)}return g===void 0&&(g=setTimeout(I,l)),d}return $.cancel=L,$.flush=z,$}return Jw=s,Jw}var e_,zj;function pQ(){if(zj)return e_;zj=1;var r=dQ(),e=ul(),t="Expected a function";function n(i,a,s){var c=!0,l=!0;if(typeof i!="function")throw new TypeError(t);return e(s)&&(c="leading"in s?!!s.leading:c,l="trailing"in s?!!s.trailing:l),r(i,a,{leading:c,maxWait:a,trailing:l})}return e_=n,e_}var mQ=pQ();const cD=Cr(mQ);function mp(r){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(r)}function qj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function j0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(t),!0).forEach(function(n){gQ(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):qj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gQ(r,e,t){return e=bQ(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bQ(r){var e=yQ(r,"string");return mp(e)=="symbol"?e:e+""}function yQ(r,e){if(mp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function vQ(r,e){return SQ(r)||_Q(r,e)||wQ(r,e)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(r,e){if(r){if(typeof r=="string")return Uj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Uj(r,e)}}function Uj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function _Q(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function SQ(r){if(Array.isArray(r))return r}var nl=ye.forwardRef(function(r,e){var t=r.aspect,n=r.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=r.width,s=a===void 0?"100%":a,c=r.height,l=c===void 0?"100%":c,o=r.minWidth,u=o===void 0?0:o,f=r.minHeight,h=r.maxHeight,d=r.children,g=r.debounce,y=g===void 0?0:g,m=r.id,x=r.className,v=r.onResize,_=r.style,k=_===void 0?{}:_,N=ye.useRef(null),P=ye.useRef();P.current=v,ye.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var D=ye.useState({containerWidth:i.width,containerHeight:i.height}),I=vQ(D,2),B=I[0],L=I[1],z=ye.useCallback(function(O,F){L(function(C){var w=Math.round(O),E=Math.round(F);return C.containerWidth===w&&C.containerHeight===E?C:{containerWidth:w,containerHeight:E}})},[]);ye.useEffect(function(){var O=function(j){var R,q=j[0].contentRect,H=q.width,Y=q.height;z(H,Y),(R=P.current)===null||R===void 0||R.call(P,H,Y)};y>0&&(O=cD(O,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(O),C=N.current.getBoundingClientRect(),w=C.width,E=C.height;return z(w,E),F.observe(N.current),function(){F.disconnect()}},[z,y]);var $=ye.useMemo(function(){var O=B.containerWidth,F=B.containerHeight;if(O<0||F<0)return null;Va(ac(s)||ac(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Va(!t||t>0,"The aspect(%s) must be greater than zero.",t);var C=ac(s)?O:s,w=ac(l)?F:l;t&&t>0&&(C?w=C/t:w&&(C=w*t),h&&w>h&&(w=h)),Va(C>0||w>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,w,s,l,u,f,t);var E=!Array.isArray(d)&&Us(d.type).endsWith("Chart");return pe.Children.map(d,function(A){return pe.isValidElement(A)?ye.cloneElement(A,j0({width:C,height:w},E?{style:j0({height:"100%",width:"100%",maxHeight:w,maxWidth:C},A.props.style)}:{})):A})},[t,d,l,h,f,u,B,s]);return pe.createElement("div",{id:m?"".concat(m):void 0,className:Jt("recharts-responsive-container",x),style:j0(j0({},k),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:N},$)}),kc=function(e){return null};kc.displayName="Cell";function gp(r){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(r)}function Hj(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function i4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(t),!0).forEach(function(n){AQ(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Hj(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function AQ(r,e,t){return e=EQ(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function EQ(r){var e=TQ(r,"string");return gp(e)=="symbol"?e:e+""}function TQ(r,e){if(gp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Eu={widthCache:{},cacheCount:0},kQ=2e3,jQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kj="recharts_measurement_span";function CQ(r){var e=i4({},r);return Object.keys(e).forEach(function(t){e[t]||delete e[t]}),e}var Id=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||no.isSsr)return{width:0,height:0};var n=CQ(t),i=JSON.stringify({text:e,copyStyle:n});if(Eu.widthCache[i])return Eu.widthCache[i];try{var a=document.getElementById(Kj);a||(a=document.createElement("span"),a.setAttribute("id",Kj),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=i4(i4({},jQ),n);Object.assign(a.style,s),a.textContent="".concat(e);var c=a.getBoundingClientRect(),l={width:c.width,height:c.height};return Eu.widthCache[i]=l,++Eu.cacheCount>kQ&&(Eu.cacheCount=0,Eu.widthCache={}),l}catch{return{width:0,height:0}}},OQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function bp(r){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(r)}function Bg(r,e){return IQ(r)||RQ(r,e)||MQ(r,e)||NQ()}function NQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(r,e){if(r){if(typeof r=="string")return Gj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gj(r,e)}}function Gj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function RQ(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function IQ(r){if(Array.isArray(r))return r}function PQ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Wj(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,BQ(n.key),n)}}function DQ(r,e,t){return e&&Wj(r.prototype,e),t&&Wj(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function BQ(r){var e=LQ(r,"string");return bp(e)=="symbol"?e:e+""}function LQ(r,e){if(bp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Xj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$Q=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VQ=Object.keys(uD),Bu="NaN";function zQ(r,e){return r*uD[e]}var C0=(function(){function r(e,t){PQ(this,r),this.num=e,this.unit=t,this.num=e,this.unit=t,Number.isNaN(e)&&(this.unit=""),t!==""&&!FQ.test(t)&&(this.num=NaN,this.unit=""),VQ.includes(t)&&(this.num=zQ(e,t),this.unit="px")}return DQ(r,[{key:"add",value:function(t){return this.unit!==t.unit?new r(NaN,""):new r(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new r(NaN,""):new r(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new r(NaN,""):new r(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new r(NaN,""):new r(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var n,i=(n=$Q.exec(t))!==null&&n!==void 0?n:[],a=Bg(i,3),s=a[1],c=a[2];return new r(parseFloat(s),c??"")}}])})();function fD(r){if(r.includes(Bu))return Bu;for(var e=r;e.includes("*")||e.includes("/");){var t,n=(t=Xj.exec(e))!==null&&t!==void 0?t:[],i=Bg(n,4),a=i[1],s=i[2],c=i[3],l=C0.parse(a??""),o=C0.parse(c??""),u=s==="*"?l.multiply(o):l.divide(o);if(u.isNaN())return Bu;e=e.replace(Xj,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=Yj.exec(e))!==null&&f!==void 0?f:[],d=Bg(h,4),g=d[1],y=d[2],m=d[3],x=C0.parse(g??""),v=C0.parse(m??""),_=y==="+"?x.add(v):x.subtract(v);if(_.isNaN())return Bu;e=e.replace(Yj,_.toString())}return e}var Qj=/\(([^()]*)\)/;function qQ(r){for(var e=r;e.includes("(");){var t=Qj.exec(e),n=Bg(t,2),i=n[1];e=e.replace(Qj,fD(i))}return e}function UQ(r){var e=r.replace(/\s+/g,"");return e=qQ(e),e=fD(e),e}function HQ(r){try{return UQ(r)}catch{return Bu}}function t_(r){var e=HQ(r.slice(5,-1));return e===Bu?"":e}var KQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GQ=["dx","dy","angle","className","breakAll"];function a4(){return a4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a4.apply(this,arguments)}function Zj(r,e){if(r==null)return{};var t=WQ(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function WQ(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Jj(r,e){return ZQ(r)||QQ(r,e)||YQ(r,e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(r,e){if(r){if(typeof r=="string")return eC(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eC(r,e)}}function eC(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function QQ(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function ZQ(r){if(Array.isArray(r))return r}var hD=/[ \f\n\r\t\v\u2028\u2029]+/,dD=function(e){var t=e.children,n=e.breakAll,i=e.style;try{var a=[];Ft(t)||(n?a=t.toString().split(""):a=t.toString().split(hD));var s=a.map(function(l){return{word:l,width:Id(l,i).width}}),c=n?0:Id("",i).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},JQ=function(e,t,n,i,a){var s=e.maxLines,c=e.children,l=e.style,o=e.breakAll,u=Qe(s),f=c,h=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(w,E){var A=E.word,j=E.width,R=w[w.length-1];if(R&&(i==null||a||R.width+j+n<Number(i)))R.words.push(A),R.width+=j+n;else{var q={words:[A],width:j};w.push(q)}return w},[])},d=h(t),g=function(C){return C.reduce(function(w,E){return w.width>E.width?w:E})};if(!u)return d;for(var y="",m=function(C){var w=f.slice(0,C),E=dD({breakAll:o,style:l,children:w+y}).wordsWithComputedWidth,A=h(E),j=A.length>s||g(A).width>Number(i);return[j,A]},x=0,v=f.length-1,_=0,k;x<=v&&_<=f.length-1;){var N=Math.floor((x+v)/2),P=N-1,D=m(P),I=Jj(D,2),B=I[0],L=I[1],z=m(N),$=Jj(z,1),O=$[0];if(!B&&!O&&(x=N+1),B&&O&&(v=N-1),!B&&O){k=L;break}_++}return k||d},tC=function(e){var t=Ft(e)?[]:e.toString().split(hD);return[{words:t}]},eZ=function(e){var t=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,c=e.maxLines;if((t||n)&&!no.isSsr){var l,o,u=dD({breakAll:s,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,o=h}else return tC(i);return JQ({breakAll:s,children:i,maxLines:c,style:a},l,o,t,n)}return tC(i)},rC="#808080",jc=function(e){var t=e.x,n=t===void 0?0:t,i=e.y,a=i===void 0?0:i,s=e.lineHeight,c=s===void 0?"1em":s,l=e.capHeight,o=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,d=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,m=e.fill,x=m===void 0?rC:m,v=Zj(e,KQ),_=ye.useMemo(function(){return eZ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),k=v.dx,N=v.dy,P=v.angle,D=v.className,I=v.breakAll,B=Zj(v,GQ);if(!Ln(n)||!Ln(a))return null;var L=n+(Qe(k)?k:0),z=a+(Qe(N)?N:0),$;switch(y){case"start":$=t_("calc(".concat(o,")"));break;case"middle":$=t_("calc(".concat((_.length-1)/2," * -").concat(c," + (").concat(o," / 2))"));break;default:$=t_("calc(".concat(_.length-1," * -").concat(c,")"));break}var O=[];if(f){var F=_[0].width,C=v.width;O.push("scale(".concat((Qe(C)?C/F:1)/F,")"))}return P&&O.push("rotate(".concat(P,", ").concat(L,", ").concat(z,")")),O.length&&(B.transform=O.join(" ")),pe.createElement("text",a4({},St(B,!0),{x:L,y:z,className:Jt("recharts-text",D),textAnchor:d,fill:x.includes("url")?rC:x}),_.map(function(w,E){var A=w.words.join(I?"":" ");return pe.createElement("tspan",{x:L,dy:E===0?$:c,key:"".concat(A,"-").concat(E)},A)}))};function Xo(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function tZ(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function R6(r){let e,t,n;r.length!==2?(e=Xo,t=(c,l)=>Xo(r(c),l),n=(c,l)=>r(c)-l):(e=r===Xo||r===tZ?r:rZ,t=r,n=r);function i(c,l,o=0,u=c.length){if(o<u){if(e(l,l)!==0)return u;do{const f=o+u>>>1;t(c[f],l)<0?o=f+1:u=f}while(o<u)}return o}function a(c,l,o=0,u=c.length){if(o<u){if(e(l,l)!==0)return u;do{const f=o+u>>>1;t(c[f],l)<=0?o=f+1:u=f}while(o<u)}return o}function s(c,l,o=0,u=c.length){const f=i(c,l,o,u-1);return f>o&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:i,center:s,right:a}}function rZ(){return 0}function pD(r){return r===null?NaN:+r}function*nZ(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const iZ=R6(Xo),om=iZ.right;R6(pD).center;class nC extends Map{constructor(e,t=oZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(iC(this,e))}has(e){return super.has(iC(this,e))}set(e,t){return super.set(aZ(this,e),t)}delete(e){return super.delete(sZ(this,e))}}function iC({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function aZ({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function sZ({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function oZ(r){return r!==null&&typeof r=="object"?r.valueOf():r}function lZ(r=Xo){if(r===Xo)return mD;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function mD(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const cZ=Math.sqrt(50),uZ=Math.sqrt(10),fZ=Math.sqrt(2);function Lg(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=cZ?10:a>=uZ?5:a>=fZ?2:1;let c,l,o;return i<0?(o=Math.pow(10,-i)/s,c=Math.round(r*o),l=Math.round(e*o),c/o<r&&++c,l/o>e&&--l,o=-o):(o=Math.pow(10,i)*s,c=Math.round(r/o),l=Math.round(e/o),c*o<r&&++c,l*o>e&&--l),l<c&&.5<=t&&t<2?Lg(r,e,t*2):[c,l,o]}function s4(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,a,s]=n?Lg(e,r,t):Lg(r,e,t);if(!(a>=i))return[];const c=a-i+1,l=new Array(c);if(n)if(s<0)for(let o=0;o<c;++o)l[o]=(a-o)/-s;else for(let o=0;o<c;++o)l[o]=(a-o)*s;else if(s<0)for(let o=0;o<c;++o)l[o]=(i+o)/-s;else for(let o=0;o<c;++o)l[o]=(i+o)*s;return l}function o4(r,e,t){return e=+e,r=+r,t=+t,Lg(r,e,t)[2]}function l4(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?o4(e,r,t):o4(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function aC(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function sC(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function gD(r,e,t=0,n=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(i=i===void 0?mD:lZ(i);n>t;){if(n-t>600){const l=n-t+1,o=e-t+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(o-l/2<0?-1:1),d=Math.max(t,Math.floor(e-o*f/l+h)),g=Math.min(n,Math.floor(e+(l-o)*f/l+h));gD(r,e,d,g,i)}const a=r[e];let s=t,c=n;for(ad(r,t,e),i(r[n],a)>0&&ad(r,t,n);s<c;){for(ad(r,s,c),++s,--c;i(r[s],a)<0;)++s;for(;i(r[c],a)>0;)--c}i(r[t],a)===0?ad(r,t,c):(++c,ad(r,c,n)),c<=e&&(t=c+1),e<=c&&(n=c-1)}return r}function ad(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function hZ(r,e,t){if(r=Float64Array.from(nZ(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return sC(r);if(e>=1)return aC(r);var n,i=(n-1)*e,a=Math.floor(i),s=aC(gD(r,a).subarray(0,a+1)),c=sC(r.subarray(a+1));return s+(c-s)*(i-a)}}function dZ(r,e,t=pD){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,i=(n-1)*e,a=Math.floor(i),s=+t(r[a],a,r),c=+t(r[a+1],a+1,r);return s+(c-s)*(i-a)}}function pZ(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0,a=new Array(i);++n<i;)a[n]=r+n*t;return a}function wa(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function io(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const c4=Symbol("implicit");function I6(){var r=new nC,e=[],t=[],n=c4;function i(a){let s=r.get(a);if(s===void 0){if(n!==c4)return n;r.set(a,s=e.push(a)-1)}return t[s%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],r=new nC;for(const s of a)r.has(s)||r.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I6(e,t).unknown(n)},wa.apply(i,arguments),i}function yp(){var r=I6().unknown(void 0),e=r.domain,t=r.range,n=0,i=1,a,s,c=!1,l=0,o=0,u=.5;delete r.unknown;function f(){var h=e().length,d=i<n,g=d?i:n,y=d?n:i;a=(y-g)/Math.max(1,h-l+o*2),c&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*u,s=a*(1-l),c&&(g=Math.round(g),s=Math.round(s));var m=pZ(h).map(function(x){return g+a*x});return t(d?m.reverse():m)}return r.domain=function(h){return arguments.length?(e(h),f()):e()},r.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},r.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,c=!0,f()},r.bandwidth=function(){return s},r.step=function(){return a},r.round=function(h){return arguments.length?(c=!!h,f()):c},r.padding=function(h){return arguments.length?(l=Math.min(1,o=+h),f()):l},r.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},r.paddingOuter=function(h){return arguments.length?(o=+h,f()):o},r.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},r.copy=function(){return yp(e(),[n,i]).round(c).paddingInner(l).paddingOuter(o).align(u)},wa.apply(f(),arguments)}function bD(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return bD(e())},r}function Pd(){return bD(yp.apply(null,arguments).paddingInner(1))}function P6(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function yD(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function lm(){}var vp=.7,Fg=1/vp,Gu="\\s*([+-]?\\d+)\\s*",xp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mZ=/^#([0-9a-f]{3,8})$/,gZ=new RegExp(`^rgb\\(${Gu},${Gu},${Gu}\\)$`),bZ=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),yZ=new RegExp(`^rgba\\(${Gu},${Gu},${Gu},${xp}\\)$`),vZ=new RegExp(`^rgba\\(${fs},${fs},${fs},${xp}\\)$`),xZ=new RegExp(`^hsl\\(${xp},${fs},${fs}\\)$`),wZ=new RegExp(`^hsla\\(${xp},${fs},${fs},${xp}\\)$`),oC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P6(lm,wp,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:lC,formatHex:lC,formatHex8:_Z,formatHsl:SZ,formatRgb:cC,toString:cC});function lC(){return this.rgb().formatHex()}function _Z(){return this.rgb().formatHex8()}function SZ(){return vD(this).formatHsl()}function cC(){return this.rgb().formatRgb()}function wp(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=mZ.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?uC(e):t===3?new Ni(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?O0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?O0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gZ.exec(r))?new Ni(e[1],e[2],e[3],1):(e=bZ.exec(r))?new Ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yZ.exec(r))?O0(e[1],e[2],e[3],e[4]):(e=vZ.exec(r))?O0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xZ.exec(r))?dC(e[1],e[2]/100,e[3]/100,1):(e=wZ.exec(r))?dC(e[1],e[2]/100,e[3]/100,e[4]):oC.hasOwnProperty(r)?uC(oC[r]):r==="transparent"?new Ni(NaN,NaN,NaN,0):null}function uC(r){return new Ni(r>>16&255,r>>8&255,r&255,1)}function O0(r,e,t,n){return n<=0&&(r=e=t=NaN),new Ni(r,e,t,n)}function AZ(r){return r instanceof lm||(r=wp(r)),r?(r=r.rgb(),new Ni(r.r,r.g,r.b,r.opacity)):new Ni}function u4(r,e,t,n){return arguments.length===1?AZ(r):new Ni(r,e,t,n??1)}function Ni(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}P6(Ni,u4,yD(lm,{brighter(r){return r=r==null?Fg:Math.pow(Fg,r),new Ni(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?vp:Math.pow(vp,r),new Ni(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Ni(gc(this.r),gc(this.g),gc(this.b),$g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fC,formatHex:fC,formatHex8:EZ,formatRgb:hC,toString:hC}));function fC(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}`}function EZ(){return`#${sc(this.r)}${sc(this.g)}${sc(this.b)}${sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function hC(){const r=$g(this.opacity);return`${r===1?"rgb(":"rgba("}${gc(this.r)}, ${gc(this.g)}, ${gc(this.b)}${r===1?")":`, ${r})`}`}function $g(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function gc(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function sc(r){return r=gc(r),(r<16?"0":"")+r.toString(16)}function dC(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new $a(r,e,t,n)}function vD(r){if(r instanceof $a)return new $a(r.h,r.s,r.l,r.opacity);if(r instanceof lm||(r=wp(r)),!r)return new $a;if(r instanceof $a)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=NaN,c=a-i,l=(a+i)/2;return c?(e===a?s=(t-n)/c+(t<n)*6:t===a?s=(n-e)/c+2:s=(e-t)/c+4,c/=l<.5?a+i:2-a-i,s*=60):c=l>0&&l<1?0:s,new $a(s,c,l,r.opacity)}function TZ(r,e,t,n){return arguments.length===1?vD(r):new $a(r,e,t,n??1)}function $a(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}P6($a,TZ,yD(lm,{brighter(r){return r=r==null?Fg:Math.pow(Fg,r),new $a(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?vp:Math.pow(vp,r),new $a(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new Ni(r_(r>=240?r-240:r+120,i,n),r_(r,i,n),r_(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new $a(pC(this.h),N0(this.s),N0(this.l),$g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=$g(this.opacity);return`${r===1?"hsl(":"hsla("}${pC(this.h)}, ${N0(this.s)*100}%, ${N0(this.l)*100}%${r===1?")":`, ${r})`}`}}));function pC(r){return r=(r||0)%360,r<0?r+360:r}function N0(r){return Math.max(0,Math.min(1,r||0))}function r_(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const D6=r=>()=>r;function kZ(r,e){return function(t){return r+t*e}}function jZ(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function CZ(r){return(r=+r)==1?xD:function(e,t){return t-e?jZ(e,t,r):D6(isNaN(e)?t:e)}}function xD(r,e){var t=e-r;return t?kZ(r,t):D6(isNaN(r)?e:r)}const mC=(function r(e){var t=CZ(e);function n(i,a){var s=t((i=u4(i)).r,(a=u4(a)).r),c=t(i.g,a.g),l=t(i.b,a.b),o=xD(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=c(u),i.b=l(u),i.opacity=o(u),i+""}}return n.gamma=r,n})(1);function OZ(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(a){for(i=0;i<t;++i)n[i]=r[i]*(1-a)+e[i]*a;return n}}function NZ(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function MZ(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),a=new Array(t),s;for(s=0;s<n;++s)i[s]=Jf(r[s],e[s]);for(;s<t;++s)a[s]=e[s];return function(c){for(s=0;s<n;++s)a[s]=i[s](c);return a}}function RZ(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function Vg(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function IZ(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=Jf(r[i],e[i]):n[i]=e[i];return function(a){for(i in t)n[i]=t[i](a);return n}}var f4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n_=new RegExp(f4.source,"g");function PZ(r){return function(){return r}}function DZ(r){return function(e){return r(e)+""}}function BZ(r,e){var t=f4.lastIndex=n_.lastIndex=0,n,i,a,s=-1,c=[],l=[];for(r=r+"",e=e+"";(n=f4.exec(r))&&(i=n_.exec(e));)(a=i.index)>t&&(a=e.slice(t,a),c[s]?c[s]+=a:c[++s]=a),(n=n[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,l.push({i:s,x:Vg(n,i)})),t=n_.lastIndex;return t<e.length&&(a=e.slice(t),c[s]?c[s]+=a:c[++s]=a),c.length<2?l[0]?DZ(l[0].x):PZ(e):(e=l.length,function(o){for(var u=0,f;u<e;++u)c[(f=l[u]).i]=f.x(o);return c.join("")})}function Jf(r,e){var t=typeof e,n;return e==null||t==="boolean"?D6(e):(t==="number"?Vg:t==="string"?(n=wp(e))?(e=n,mC):BZ:e instanceof wp?mC:e instanceof Date?RZ:NZ(e)?OZ:Array.isArray(e)?MZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IZ:Vg)(r,e)}function B6(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function LZ(r,e){e===void 0&&(e=r,r=Jf);for(var t=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);t<n;)a[t]=r(i,i=e[++t]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[c](s-c)}}function FZ(r){return function(){return r}}function zg(r){return+r}var gC=[0,1];function _i(r){return r}function h4(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:FZ(isNaN(e)?NaN:.5)}function $Z(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function VZ(r,e,t){var n=r[0],i=r[1],a=e[0],s=e[1];return i<n?(n=h4(i,n),a=t(s,a)):(n=h4(n,i),a=t(a,s)),function(c){return a(n(c))}}function zZ(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=h4(r[s],r[s+1]),a[s]=t(e[s],e[s+1]);return function(c){var l=om(r,c,1,n)-1;return a[l](i[l](c))}}function cm(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function dy(){var r=gC,e=gC,t=Jf,n,i,a,s=_i,c,l,o;function u(){var h=Math.min(r.length,e.length);return s!==_i&&(s=$Z(r[0],r[h-1])),c=h>2?zZ:VZ,l=o=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=c(r.map(n),e,t)))(n(s(h)))}return f.invert=function(h){return s(i((o||(o=c(e,r.map(n),Vg)))(h)))},f.domain=function(h){return arguments.length?(r=Array.from(h,zg),u()):r.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),t=B6,u()},f.clamp=function(h){return arguments.length?(s=h?!0:_i,u()):s!==_i},f.interpolate=function(h){return arguments.length?(t=h,u()):t},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return n=h,i=d,u()}}function L6(){return dy()(_i,_i)}function qZ(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function qg(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function yf(r){return r=qg(Math.abs(r)),r?r[1]:NaN}function UZ(r,e){return function(t,n){for(var i=t.length,a=[],s=0,c=r[0],l=0;i>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),a.push(t.substring(i-=c,i+c)),!((l+=c+1)>n));)c=r[s=(s+1)%r.length];return a.reverse().join(e)}}function HZ(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var KZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _p(r){if(!(e=KZ.exec(r)))throw new Error("invalid format: "+r);var e;return new F6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_p.prototype=F6.prototype;function F6(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}F6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GZ(r){e:for(var e=r.length,t=1,n=-1,i;t<e;++t)switch(r[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var wD;function WZ(r,e){var t=qg(r,e);if(!t)return r+"";var n=t[0],i=t[1],a=i-(wD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+qg(r,Math.max(0,e+a-1))[0]}function bC(r,e){var t=qg(r,e);if(!t)return r+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const yC={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:qZ,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>bC(r*100,e),r:bC,s:WZ,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function vC(r){return r}var xC=Array.prototype.map,wC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XZ(r){var e=r.grouping===void 0||r.thousands===void 0?vC:UZ(xC.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",a=r.numerals===void 0?vC:HZ(xC.call(r.numerals,String)),s=r.percent===void 0?"%":r.percent+"",c=r.minus===void 0?"":r.minus+"",l=r.nan===void 0?"NaN":r.nan+"";function o(f){f=_p(f);var h=f.fill,d=f.align,g=f.sign,y=f.symbol,m=f.zero,x=f.width,v=f.comma,_=f.precision,k=f.trim,N=f.type;N==="n"?(v=!0,N="g"):yC[N]||(_===void 0&&(_=12),k=!0,N="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var P=y==="$"?t:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",D=y==="$"?n:/[%p]/.test(N)?s:"",I=yC[N],B=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function L(z){var $=P,O=D,F,C,w;if(N==="c")O=I(z)+O,z="";else{z=+z;var E=z<0||1/z<0;if(z=isNaN(z)?l:I(Math.abs(z),_),k&&(z=GZ(z)),E&&+z==0&&g!=="+"&&(E=!1),$=(E?g==="("?g:c:g==="-"||g==="("?"":g)+$,O=(N==="s"?wC[8+wD/3]:"")+O+(E&&g==="("?")":""),B){for(F=-1,C=z.length;++F<C;)if(w=z.charCodeAt(F),48>w||w>57){O=(w===46?i+z.slice(F+1):z.slice(F))+O,z=z.slice(0,F);break}}}v&&!m&&(z=e(z,1/0));var A=$.length+z.length+O.length,j=A<x?new Array(x-A+1).join(h):"";switch(v&&m&&(z=e(j+z,j.length?x-O.length:1/0),j=""),d){case"<":z=$+z+O+j;break;case"=":z=$+j+z+O;break;case"^":z=j.slice(0,A=j.length>>1)+$+z+O+j.slice(A);break;default:z=j+$+z+O;break}return a(z)}return L.toString=function(){return f+""},L}function u(f,h){var d=o((f=_p(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(yf(h)/3)))*3,y=Math.pow(10,-g),m=wC[8+g/3];return function(x){return d(y*x)+m}}return{format:o,formatPrefix:u}}var M0,$6,_D;YZ({thousands:",",grouping:[3],currency:["$",""]});function YZ(r){return M0=XZ(r),$6=M0.format,_D=M0.formatPrefix,M0}function QZ(r){return Math.max(0,-yf(Math.abs(r)))}function ZZ(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yf(e)/3)))*3-yf(Math.abs(r)))}function JZ(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,yf(e)-yf(r))+1}function SD(r,e,t,n){var i=l4(r,e,t),a;switch(n=_p(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(a=ZZ(i,s))&&(n.precision=a),_D(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=JZ(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=QZ(i))&&(n.precision=a-(n.type==="%")*2);break}}return $6(n)}function hl(r){var e=r.domain;return r.ticks=function(t){var n=e();return s4(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return SD(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,a=n.length-1,s=n[i],c=n[a],l,o,u=10;for(c<s&&(o=s,s=c,c=o,o=i,i=a,a=o);u-- >0;){if(o=o4(s,c,t),o===l)return n[i]=s,n[a]=c,e(n);if(o>0)s=Math.floor(s/o)*o,c=Math.ceil(c/o)*o;else if(o<0)s=Math.ceil(s*o)/o,c=Math.floor(c*o)/o;else break;l=o}return r},r}function Ug(){var r=L6();return r.copy=function(){return cm(r,Ug())},wa.apply(r,arguments),hl(r)}function AD(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,zg),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return AD(r).unknown(e)},r=arguments.length?Array.from(r,zg):[0,1],hl(t)}function ED(r,e){r=r.slice();var t=0,n=r.length-1,i=r[t],a=r[n],s;return a<i&&(s=t,t=n,n=s,s=i,i=a,a=s),r[t]=e.floor(i),r[n]=e.ceil(a),r}function _C(r){return Math.log(r)}function SC(r){return Math.exp(r)}function eJ(r){return-Math.log(-r)}function tJ(r){return-Math.exp(-r)}function rJ(r){return isFinite(r)?+("1e"+r):r<0?0:r}function nJ(r){return r===10?rJ:r===Math.E?Math.exp:e=>Math.pow(r,e)}function iJ(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function AC(r){return(e,t)=>-r(-e,t)}function V6(r){const e=r(_C,SC),t=e.domain;let n=10,i,a;function s(){return i=iJ(n),a=nJ(n),t()[0]<0?(i=AC(i),a=AC(a),r(eJ,tJ)):r(_C,SC),e}return e.base=function(c){return arguments.length?(n=+c,s()):n},e.domain=function(c){return arguments.length?(t(c),s()):t()},e.ticks=c=>{const l=t();let o=l[0],u=l[l.length-1];const f=u<o;f&&([o,u]=[u,o]);let h=i(o),d=i(u),g,y;const m=c==null?10:+c;let x=[];if(!(n%1)&&d-h<m){if(h=Math.floor(h),d=Math.ceil(d),o>0){for(;h<=d;++h)for(g=1;g<n;++g)if(y=h<0?g/a(-h):g*a(h),!(y<o)){if(y>u)break;x.push(y)}}else for(;h<=d;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<o)){if(y>u)break;x.push(y)}x.length*2<m&&(x=s4(o,u,m))}else x=s4(h,d,Math.min(d-h,m)).map(a);return f?x.reverse():x},e.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=_p(l)).precision==null&&(l.trim=!0),l=$6(l)),c===1/0)return l;const o=Math.max(1,n*c/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=o?l(u):""}},e.nice=()=>t(ED(t(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function TD(){const r=V6(dy()).domain([1,10]);return r.copy=()=>cm(r,TD()).base(r.base()),wa.apply(r,arguments),r}function EC(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function TC(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function z6(r){var e=1,t=r(EC(e),TC(e));return t.constant=function(n){return arguments.length?r(EC(e=+n),TC(e)):e},hl(t)}function kD(){var r=z6(dy());return r.copy=function(){return cm(r,kD()).constant(r.constant())},wa.apply(r,arguments)}function kC(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function aJ(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function sJ(r){return r<0?-r*r:r*r}function q6(r){var e=r(_i,_i),t=1;function n(){return t===1?r(_i,_i):t===.5?r(aJ,sJ):r(kC(t),kC(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,n()):t},hl(e)}function U6(){var r=q6(dy());return r.copy=function(){return cm(r,U6()).exponent(r.exponent())},wa.apply(r,arguments),r}function oJ(){return U6.apply(null,arguments).exponent(.5)}function jC(r){return Math.sign(r)*r*r}function lJ(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function jD(){var r=L6(),e=[0,1],t=!1,n;function i(a){var s=lJ(r(a));return isNaN(s)?n:t?Math.round(s):s}return i.invert=function(a){return r.invert(jC(a))},i.domain=function(a){return arguments.length?(r.domain(a),i):r.domain()},i.range=function(a){return arguments.length?(r.range((e=Array.from(a,zg)).map(jC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(t=!!a,i):t},i.clamp=function(a){return arguments.length?(r.clamp(a),i):r.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return jD(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},wa.apply(i,arguments),hl(i)}function CD(){var r=[],e=[],t=[],n;function i(){var s=0,c=Math.max(1,e.length);for(t=new Array(c-1);++s<c;)t[s-1]=dZ(r,s/c);return a}function a(s){return s==null||isNaN(s=+s)?n:e[om(t,s)]}return a.invertExtent=function(s){var c=e.indexOf(s);return c<0?[NaN,NaN]:[c>0?t[c-1]:r[0],c<t.length?t[c]:r[r.length-1]]},a.domain=function(s){if(!arguments.length)return r.slice();r=[];for(let c of s)c!=null&&!isNaN(c=+c)&&r.push(c);return r.sort(Xo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return t.slice()},a.copy=function(){return CD().domain(r).range(e).unknown(n)},wa.apply(a,arguments)}function OD(){var r=0,e=1,t=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[om(n,l,0,t)]:a}function c(){var l=-1;for(n=new Array(t);++l<t;)n[l]=((l+1)*e-(l-t)*r)/(t+1);return s}return s.domain=function(l){return arguments.length?([r,e]=l,r=+r,e=+e,c()):[r,e]},s.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,c()):i.slice()},s.invertExtent=function(l){var o=i.indexOf(l);return o<0?[NaN,NaN]:o<1?[r,n[0]]:o>=t?[n[t-1],e]:[n[o-1],n[o]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return OD().domain([r,e]).range(i).unknown(a)},wa.apply(hl(s),arguments)}function ND(){var r=[.5],e=[0,1],t,n=1;function i(a){return a!=null&&a<=a?e[om(r,a,0,n)]:t}return i.domain=function(a){return arguments.length?(r=Array.from(a),n=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[r[s-1],r[s]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return ND().domain(r).range(e).unknown(t)},wa.apply(i,arguments)}const i_=new Date,a_=new Date;function $n(r,e,t,n){function i(a){return r(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(r(a=new Date(+a)),a),i.ceil=a=>(r(a=new Date(a-1)),e(a,1),r(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const l=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return l;let o;do l.push(o=new Date(+a)),e(a,c),r(a);while(o<a&&a<s);return l},i.filter=a=>$n(s=>{if(s>=s)for(;r(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;e(s,-1),!a(s););else for(;--c>=0;)for(;e(s,1),!a(s););}),t&&(i.count=(a,s)=>(i_.setTime(+a),a_.setTime(+s),r(i_),r(a_),Math.floor(t(i_,a_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Hg=$n(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);Hg.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?$n(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):Hg);Hg.range;const Vs=1e3,ya=Vs*60,zs=ya*60,Xs=zs*24,H6=Xs*7,CC=Xs*30,s_=Xs*365,oc=$n(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*Vs)},(r,e)=>(e-r)/Vs,r=>r.getUTCSeconds());oc.range;const K6=$n(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Vs)},(r,e)=>{r.setTime(+r+e*ya)},(r,e)=>(e-r)/ya,r=>r.getMinutes());K6.range;const G6=$n(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*ya)},(r,e)=>(e-r)/ya,r=>r.getUTCMinutes());G6.range;const W6=$n(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Vs-r.getMinutes()*ya)},(r,e)=>{r.setTime(+r+e*zs)},(r,e)=>(e-r)/zs,r=>r.getHours());W6.range;const X6=$n(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*zs)},(r,e)=>(e-r)/zs,r=>r.getUTCHours());X6.range;const um=$n(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*ya)/Xs,r=>r.getDate()-1);um.range;const py=$n(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Xs,r=>r.getUTCDate()-1);py.range;const MD=$n(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Xs,r=>Math.floor(r/Xs));MD.range;function Lc(r){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ya)/H6)}const my=Lc(0),Kg=Lc(1),cJ=Lc(2),uJ=Lc(3),vf=Lc(4),fJ=Lc(5),hJ=Lc(6);my.range;Kg.range;cJ.range;uJ.range;vf.range;fJ.range;hJ.range;function Fc(r){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/H6)}const gy=Fc(0),Gg=Fc(1),dJ=Fc(2),pJ=Fc(3),xf=Fc(4),mJ=Fc(5),gJ=Fc(6);gy.range;Gg.range;dJ.range;pJ.range;xf.range;mJ.range;gJ.range;const Y6=$n(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());Y6.range;const Q6=$n(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());Q6.range;const Ys=$n(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());Ys.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});Ys.range;const Qs=$n(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());Qs.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});Qs.range;function RD(r,e,t,n,i,a){const s=[[oc,1,Vs],[oc,5,5*Vs],[oc,15,15*Vs],[oc,30,30*Vs],[a,1,ya],[a,5,5*ya],[a,15,15*ya],[a,30,30*ya],[i,1,zs],[i,3,3*zs],[i,6,6*zs],[i,12,12*zs],[n,1,Xs],[n,2,2*Xs],[t,1,H6],[e,1,CC],[e,3,3*CC],[r,1,s_]];function c(o,u,f){const h=u<o;h&&([o,u]=[u,o]);const d=f&&typeof f.range=="function"?f:l(o,u,f),g=d?d.range(o,+u+1):[];return h?g.reverse():g}function l(o,u,f){const h=Math.abs(u-o)/f,d=R6(([,,m])=>m).right(s,h);if(d===s.length)return r.every(l4(o/s_,u/s_,f));if(d===0)return Hg.every(Math.max(l4(o,u,f),1));const[g,y]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(y)}return[c,l]}const[bJ,yJ]=RD(Qs,Q6,gy,MD,X6,G6),[vJ,xJ]=RD(Ys,Y6,my,um,W6,K6);function o_(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function l_(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function sd(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function wJ(r){var e=r.dateTime,t=r.date,n=r.time,i=r.periods,a=r.days,s=r.shortDays,c=r.months,l=r.shortMonths,o=od(i),u=ld(i),f=od(a),h=ld(a),d=od(s),g=ld(s),y=od(c),m=ld(c),x=od(l),v=ld(l),_={a:E,A,b:j,B:R,c:null,d:PC,e:PC,f:UJ,g:eee,G:ree,H:VJ,I:zJ,j:qJ,L:ID,m:HJ,M:KJ,p:q,q:H,Q:LC,s:FC,S:GJ,u:WJ,U:XJ,V:YJ,w:QJ,W:ZJ,x:null,X:null,y:JJ,Y:tee,Z:nee,"%":BC},k={a:Y,A:Z,b:te,B:W,c:null,d:DC,e:DC,f:oee,g:bee,G:vee,H:iee,I:aee,j:see,L:DD,m:lee,M:cee,p:ee,q:K,Q:LC,s:FC,S:uee,u:fee,U:hee,V:dee,w:pee,W:mee,x:null,X:null,y:gee,Y:yee,Z:xee,"%":BC},N={a:L,A:z,b:$,B:O,c:F,d:RC,e:RC,f:BJ,g:MC,G:NC,H:IC,I:IC,j:RJ,L:DJ,m:MJ,M:IJ,p:B,q:NJ,Q:FJ,s:$J,S:PJ,u:TJ,U:kJ,V:jJ,w:EJ,W:CJ,x:C,X:w,y:MC,Y:NC,Z:OJ,"%":LJ};_.x=P(t,_),_.X=P(n,_),_.c=P(e,_),k.x=P(t,k),k.X=P(n,k),k.c=P(e,k);function P(V,Q){return function(re){var oe=[],ne=-1,le=0,me=V.length,ge,se,fe;for(re instanceof Date||(re=new Date(+re));++ne<me;)V.charCodeAt(ne)===37&&(oe.push(V.slice(le,ne)),(se=OC[ge=V.charAt(++ne)])!=null?ge=V.charAt(++ne):se=ge==="e"?" ":"0",(fe=Q[ge])&&(ge=fe(re,se)),oe.push(ge),le=ne+1);return oe.push(V.slice(le,ne)),oe.join("")}}function D(V,Q){return function(re){var oe=sd(1900,void 0,1),ne=I(oe,V,re+="",0),le,me;if(ne!=re.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Q&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(le=l_(sd(oe.y,0,1)),me=le.getUTCDay(),le=me>4||me===0?Gg.ceil(le):Gg(le),le=py.offset(le,(oe.V-1)*7),oe.y=le.getUTCFullYear(),oe.m=le.getUTCMonth(),oe.d=le.getUTCDate()+(oe.w+6)%7):(le=o_(sd(oe.y,0,1)),me=le.getDay(),le=me>4||me===0?Kg.ceil(le):Kg(le),le=um.offset(le,(oe.V-1)*7),oe.y=le.getFullYear(),oe.m=le.getMonth(),oe.d=le.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),me="Z"in oe?l_(sd(oe.y,0,1)).getUTCDay():o_(sd(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(me+5)%7:oe.w+oe.U*7-(me+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,l_(oe)):o_(oe)}}function I(V,Q,re,oe){for(var ne=0,le=Q.length,me=re.length,ge,se;ne<le;){if(oe>=me)return-1;if(ge=Q.charCodeAt(ne++),ge===37){if(ge=Q.charAt(ne++),se=N[ge in OC?Q.charAt(ne++):ge],!se||(oe=se(V,re,oe))<0)return-1}else if(ge!=re.charCodeAt(oe++))return-1}return oe}function B(V,Q,re){var oe=o.exec(Q.slice(re));return oe?(V.p=u.get(oe[0].toLowerCase()),re+oe[0].length):-1}function L(V,Q,re){var oe=d.exec(Q.slice(re));return oe?(V.w=g.get(oe[0].toLowerCase()),re+oe[0].length):-1}function z(V,Q,re){var oe=f.exec(Q.slice(re));return oe?(V.w=h.get(oe[0].toLowerCase()),re+oe[0].length):-1}function $(V,Q,re){var oe=x.exec(Q.slice(re));return oe?(V.m=v.get(oe[0].toLowerCase()),re+oe[0].length):-1}function O(V,Q,re){var oe=y.exec(Q.slice(re));return oe?(V.m=m.get(oe[0].toLowerCase()),re+oe[0].length):-1}function F(V,Q,re){return I(V,e,Q,re)}function C(V,Q,re){return I(V,t,Q,re)}function w(V,Q,re){return I(V,n,Q,re)}function E(V){return s[V.getDay()]}function A(V){return a[V.getDay()]}function j(V){return l[V.getMonth()]}function R(V){return c[V.getMonth()]}function q(V){return i[+(V.getHours()>=12)]}function H(V){return 1+~~(V.getMonth()/3)}function Y(V){return s[V.getUTCDay()]}function Z(V){return a[V.getUTCDay()]}function te(V){return l[V.getUTCMonth()]}function W(V){return c[V.getUTCMonth()]}function ee(V){return i[+(V.getUTCHours()>=12)]}function K(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var Q=P(V+="",_);return Q.toString=function(){return V},Q},parse:function(V){var Q=D(V+="",!1);return Q.toString=function(){return V},Q},utcFormat:function(V){var Q=P(V+="",k);return Q.toString=function(){return V},Q},utcParse:function(V){var Q=D(V+="",!0);return Q.toString=function(){return V},Q}}}var OC={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,_J=/^%/,SJ=/[\\^$*+?|[\]().{}]/g;function jr(r,e,t){var n=r<0?"-":"",i=(n?-r:r)+"",a=i.length;return n+(a<t?new Array(t-a+1).join(e)+i:i)}function AJ(r){return r.replace(SJ,"\\$&")}function od(r){return new RegExp("^(?:"+r.map(AJ).join("|")+")","i")}function ld(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function EJ(r,e,t){var n=Xn.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function TJ(r,e,t){var n=Xn.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function kJ(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function jJ(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function CJ(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function NC(r,e,t){var n=Xn.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function MC(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function OJ(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function NJ(r,e,t){var n=Xn.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function MJ(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function RC(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function RJ(r,e,t){var n=Xn.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function IC(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function IJ(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function PJ(r,e,t){var n=Xn.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function DJ(r,e,t){var n=Xn.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function BJ(r,e,t){var n=Xn.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function LJ(r,e,t){var n=_J.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function FJ(r,e,t){var n=Xn.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function $J(r,e,t){var n=Xn.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function PC(r,e){return jr(r.getDate(),e,2)}function VJ(r,e){return jr(r.getHours(),e,2)}function zJ(r,e){return jr(r.getHours()%12||12,e,2)}function qJ(r,e){return jr(1+um.count(Ys(r),r),e,3)}function ID(r,e){return jr(r.getMilliseconds(),e,3)}function UJ(r,e){return ID(r,e)+"000"}function HJ(r,e){return jr(r.getMonth()+1,e,2)}function KJ(r,e){return jr(r.getMinutes(),e,2)}function GJ(r,e){return jr(r.getSeconds(),e,2)}function WJ(r){var e=r.getDay();return e===0?7:e}function XJ(r,e){return jr(my.count(Ys(r)-1,r),e,2)}function PD(r){var e=r.getDay();return e>=4||e===0?vf(r):vf.ceil(r)}function YJ(r,e){return r=PD(r),jr(vf.count(Ys(r),r)+(Ys(r).getDay()===4),e,2)}function QJ(r){return r.getDay()}function ZJ(r,e){return jr(Kg.count(Ys(r)-1,r),e,2)}function JJ(r,e){return jr(r.getFullYear()%100,e,2)}function eee(r,e){return r=PD(r),jr(r.getFullYear()%100,e,2)}function tee(r,e){return jr(r.getFullYear()%1e4,e,4)}function ree(r,e){var t=r.getDay();return r=t>=4||t===0?vf(r):vf.ceil(r),jr(r.getFullYear()%1e4,e,4)}function nee(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jr(e/60|0,"0",2)+jr(e%60,"0",2)}function DC(r,e){return jr(r.getUTCDate(),e,2)}function iee(r,e){return jr(r.getUTCHours(),e,2)}function aee(r,e){return jr(r.getUTCHours()%12||12,e,2)}function see(r,e){return jr(1+py.count(Qs(r),r),e,3)}function DD(r,e){return jr(r.getUTCMilliseconds(),e,3)}function oee(r,e){return DD(r,e)+"000"}function lee(r,e){return jr(r.getUTCMonth()+1,e,2)}function cee(r,e){return jr(r.getUTCMinutes(),e,2)}function uee(r,e){return jr(r.getUTCSeconds(),e,2)}function fee(r){var e=r.getUTCDay();return e===0?7:e}function hee(r,e){return jr(gy.count(Qs(r)-1,r),e,2)}function BD(r){var e=r.getUTCDay();return e>=4||e===0?xf(r):xf.ceil(r)}function dee(r,e){return r=BD(r),jr(xf.count(Qs(r),r)+(Qs(r).getUTCDay()===4),e,2)}function pee(r){return r.getUTCDay()}function mee(r,e){return jr(Gg.count(Qs(r)-1,r),e,2)}function gee(r,e){return jr(r.getUTCFullYear()%100,e,2)}function bee(r,e){return r=BD(r),jr(r.getUTCFullYear()%100,e,2)}function yee(r,e){return jr(r.getUTCFullYear()%1e4,e,4)}function vee(r,e){var t=r.getUTCDay();return r=t>=4||t===0?xf(r):xf.ceil(r),jr(r.getUTCFullYear()%1e4,e,4)}function xee(){return"+0000"}function BC(){return"%"}function LC(r){return+r}function FC(r){return Math.floor(+r/1e3)}var Tu,LD,FD;wee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wee(r){return Tu=wJ(r),LD=Tu.format,Tu.parse,FD=Tu.utcFormat,Tu.utcParse,Tu}function _ee(r){return new Date(r)}function See(r){return r instanceof Date?+r:+new Date(+r)}function Z6(r,e,t,n,i,a,s,c,l,o){var u=L6(),f=u.invert,h=u.domain,d=o(".%L"),g=o(":%S"),y=o("%I:%M"),m=o("%I %p"),x=o("%a %d"),v=o("%b %d"),_=o("%B"),k=o("%Y");function N(P){return(l(P)<P?d:c(P)<P?g:s(P)<P?y:a(P)<P?m:n(P)<P?i(P)<P?x:v:t(P)<P?_:k)(P)}return u.invert=function(P){return new Date(f(P))},u.domain=function(P){return arguments.length?h(Array.from(P,See)):h().map(_ee)},u.ticks=function(P){var D=h();return r(D[0],D[D.length-1],P??10)},u.tickFormat=function(P,D){return D==null?N:o(D)},u.nice=function(P){var D=h();return(!P||typeof P.range!="function")&&(P=e(D[0],D[D.length-1],P??10)),P?h(ED(D,P)):u},u.copy=function(){return cm(u,Z6(r,e,t,n,i,a,s,c,l,o))},u}function Aee(){return wa.apply(Z6(vJ,xJ,Ys,Y6,my,um,W6,K6,oc,LD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Eee(){return wa.apply(Z6(bJ,yJ,Qs,Q6,gy,py,X6,G6,oc,FD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function by(){var r=0,e=1,t,n,i,a,s=_i,c=!1,l;function o(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-t)*i,c?Math.max(0,Math.min(1,f)):f))}o.domain=function(f){return arguments.length?([r,e]=f,t=a(r=+r),n=a(e=+e),i=t===n?0:1/(n-t),o):[r,e]},o.clamp=function(f){return arguments.length?(c=!!f,o):c},o.interpolator=function(f){return arguments.length?(s=f,o):s};function u(f){return function(h){var d,g;return arguments.length?([d,g]=h,s=f(d,g),o):[s(0),s(1)]}}return o.range=u(Jf),o.rangeRound=u(B6),o.unknown=function(f){return arguments.length?(l=f,o):l},function(f){return a=f,t=f(r),n=f(e),i=t===n?0:1/(n-t),o}}function dl(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function $D(){var r=hl(by()(_i));return r.copy=function(){return dl(r,$D())},io.apply(r,arguments)}function VD(){var r=V6(by()).domain([1,10]);return r.copy=function(){return dl(r,VD()).base(r.base())},io.apply(r,arguments)}function zD(){var r=z6(by());return r.copy=function(){return dl(r,zD()).constant(r.constant())},io.apply(r,arguments)}function J6(){var r=q6(by());return r.copy=function(){return dl(r,J6()).exponent(r.exponent())},io.apply(r,arguments)}function Tee(){return J6.apply(null,arguments).exponent(.5)}function qD(){var r=[],e=_i;function t(n){if(n!=null&&!isNaN(n=+n))return e((om(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let i of n)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(Xo),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,i)=>e(i/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(i,a)=>hZ(r,a/n))},t.copy=function(){return qD(e).domain(r)},io.apply(t,arguments)}function yy(){var r=0,e=.5,t=1,n=1,i,a,s,c,l,o=_i,u,f=!1,h;function d(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-a)*(n*y<n*a?c:l),o(f?Math.max(0,Math.min(1,y)):y))}d.domain=function(y){return arguments.length?([r,e,t]=y,i=u(r=+r),a=u(e=+e),s=u(t=+t),c=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,d):[r,e,t]},d.clamp=function(y){return arguments.length?(f=!!y,d):f},d.interpolator=function(y){return arguments.length?(o=y,d):o};function g(y){return function(m){var x,v,_;return arguments.length?([x,v,_]=m,o=LZ(y,[x,v,_]),d):[o(0),o(.5),o(1)]}}return d.range=g(Jf),d.rangeRound=g(B6),d.unknown=function(y){return arguments.length?(h=y,d):h},function(y){return u=y,i=y(r),a=y(e),s=y(t),c=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,d}}function UD(){var r=hl(yy()(_i));return r.copy=function(){return dl(r,UD())},io.apply(r,arguments)}function HD(){var r=V6(yy()).domain([.1,1,10]);return r.copy=function(){return dl(r,HD()).base(r.base())},io.apply(r,arguments)}function KD(){var r=z6(yy());return r.copy=function(){return dl(r,KD()).constant(r.constant())},io.apply(r,arguments)}function eS(){var r=q6(yy());return r.copy=function(){return dl(r,eS()).exponent(r.exponent())},io.apply(r,arguments)}function kee(){return eS.apply(null,arguments).exponent(.5)}const $C=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yp,scaleDiverging:UD,scaleDivergingLog:HD,scaleDivergingPow:eS,scaleDivergingSqrt:kee,scaleDivergingSymlog:KD,scaleIdentity:AD,scaleImplicit:c4,scaleLinear:Ug,scaleLog:TD,scaleOrdinal:I6,scalePoint:Pd,scalePow:U6,scaleQuantile:CD,scaleQuantize:OD,scaleRadial:jD,scaleSequential:$D,scaleSequentialLog:VD,scaleSequentialPow:J6,scaleSequentialQuantile:qD,scaleSequentialSqrt:Tee,scaleSequentialSymlog:zD,scaleSqrt:oJ,scaleSymlog:kD,scaleThreshold:ND,scaleTime:Aee,scaleUtc:Eee,tickFormat:SD},Symbol.toStringTag,{value:"Module"}));var c_,VC;function vy(){if(VC)return c_;VC=1;var r=Xf();function e(t,n,i){for(var a=-1,s=t.length;++a<s;){var c=t[a],l=n(c);if(l!=null&&(o===void 0?l===l&&!r(l):i(l,o)))var o=l,u=c}return u}return c_=e,c_}var u_,zC;function GD(){if(zC)return u_;zC=1;function r(e,t){return e>t}return u_=r,u_}var f_,qC;function jee(){if(qC)return f_;qC=1;var r=vy(),e=GD(),t=Zf();function n(i){return i&&i.length?r(i,t,e):void 0}return f_=n,f_}var Cee=jee();const zo=Cr(Cee);var h_,UC;function WD(){if(UC)return h_;UC=1;function r(e,t){return e<t}return h_=r,h_}var d_,HC;function Oee(){if(HC)return d_;HC=1;var r=vy(),e=WD(),t=Zf();function n(i){return i&&i.length?r(i,t,e):void 0}return d_=n,d_}var Nee=Oee();const xy=Cr(Nee);var p_,KC;function Mee(){if(KC)return p_;KC=1;var r=b6(),e=gs(),t=rD(),n=Mi();function i(a,s){var c=n(a)?r:t;return c(a,e(s,3))}return p_=i,p_}var m_,GC;function Ree(){if(GC)return m_;GC=1;var r=eD(),e=Mee();function t(n,i){return r(e(n,i),1)}return m_=t,m_}var Iee=Ree();const Pee=Cr(Iee);var g_,WC;function Dee(){if(WC)return g_;WC=1;var r=C6();function e(t,n){return r(t,n)}return g_=e,g_}var Bee=Dee();const il=Cr(Bee);var eh=1e9,Lee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rS,on=!0,va="[DecimalError] ",bc=va+"Invalid argument: ",tS=va+"Exponent out of range: ",th=Math.floor,Zl=Math.pow,Fee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gi,Hn=1e7,rn=7,XD=9007199254740991,Wg=th(XD/rn),dt={};dt.absoluteValue=dt.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};dt.comparedTo=dt.cmp=function(r){var e,t,n,i,a=this;if(r=new a.constructor(r),a.s!==r.s)return a.s||-r.s;if(a.e!==r.e)return a.e>r.e^a.s<0?1:-1;for(n=a.d.length,i=r.d.length,e=0,t=n<i?n:i;e<t;++e)if(a.d[e]!==r.d[e])return a.d[e]>r.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};dt.decimalPlaces=dt.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*rn;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};dt.dividedBy=dt.div=function(r){return Hs(this,new this.constructor(r))};dt.dividedToIntegerBy=dt.idiv=function(r){var e=this,t=e.constructor;return Kr(Hs(e,new t(r),0,1),t.precision)};dt.equals=dt.eq=function(r){return!this.cmp(r)};dt.exponent=function(){return Nn(this)};dt.greaterThan=dt.gt=function(r){return this.cmp(r)>0};dt.greaterThanOrEqualTo=dt.gte=function(r){return this.cmp(r)>=0};dt.isInteger=dt.isint=function(){return this.e>this.d.length-2};dt.isNegative=dt.isneg=function(){return this.s<0};dt.isPositive=dt.ispos=function(){return this.s>0};dt.isZero=function(){return this.s===0};dt.lessThan=dt.lt=function(r){return this.cmp(r)<0};dt.lessThanOrEqualTo=dt.lte=function(r){return this.cmp(r)<1};dt.logarithm=dt.log=function(r){var e,t=this,n=t.constructor,i=n.precision,a=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(Gi))throw Error(va+"NaN");if(t.s<1)throw Error(va+(t.s?"NaN":"-Infinity"));return t.eq(Gi)?new n(0):(on=!1,e=Hs(Sp(t,a),Sp(r,a),a),on=!0,Kr(e,i))};dt.minus=dt.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?ZD(e,r):YD(e,(r.s=-r.s,r))};dt.modulo=dt.mod=function(r){var e,t=this,n=t.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(va+"NaN");return t.s?(on=!1,e=Hs(t,r,0,1).times(r),on=!0,t.minus(e)):Kr(new n(t),i)};dt.naturalExponential=dt.exp=function(){return QD(this)};dt.naturalLogarithm=dt.ln=function(){return Sp(this)};dt.negated=dt.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};dt.plus=dt.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?YD(e,r):ZD(e,(r.s=-r.s,r))};dt.precision=dt.sd=function(r){var e,t,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(bc+r);if(e=Nn(i)+1,n=i.d.length-1,t=n*rn+1,n=i.d[n],n){for(;n%10==0;n/=10)t--;for(n=i.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};dt.squareRoot=dt.sqrt=function(){var r,e,t,n,i,a,s,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(va+"NaN")}for(r=Nn(c),on=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ss(c.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=th((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new l(e)):n=new l(i.toString()),t=l.precision,i=s=t+3;;)if(a=n,n=a.plus(Hs(c,a,s+2)).times(.5),ss(a.d).slice(0,s)===(e=ss(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Kr(a,t+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;s+=4}return on=!0,Kr(n,t)};dt.times=dt.mul=function(r){var e,t,n,i,a,s,c,l,o,u=this,f=u.constructor,h=u.d,d=(r=new f(r)).d;if(!u.s||!r.s)return new f(0);for(r.s*=u.s,t=u.e+r.e,l=h.length,o=d.length,l<o&&(a=h,h=d,d=a,s=l,l=o,o=s),a=[],s=l+o,n=s;n--;)a.push(0);for(n=o;--n>=0;){for(e=0,i=l+n;i>n;)c=a[i]+d[n]*h[i-n-1]+e,a[i--]=c%Hn|0,e=c/Hn|0;a[i]=(a[i]+e)%Hn|0}for(;!a[--s];)a.pop();return e?++t:a.shift(),r.d=a,r.e=t,on?Kr(r,f.precision):r};dt.toDecimalPlaces=dt.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(ps(r,0,eh),e===void 0?e=n.rounding:ps(e,0,8),Kr(t,r+Nn(t)+1,e))};dt.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Cc(n,!0):(ps(r,0,eh),e===void 0?e=i.rounding:ps(e,0,8),n=Kr(new i(n),r+1,e),t=Cc(n,!0,r+1)),t};dt.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?Cc(i):(ps(r,0,eh),e===void 0?e=a.rounding:ps(e,0,8),n=Kr(new a(i),r+Nn(i)+1,e),t=Cc(n.abs(),!1,r+Nn(n)+1),i.isneg()&&!i.isZero()?"-"+t:t)};dt.toInteger=dt.toint=function(){var r=this,e=r.constructor;return Kr(new e(r),Nn(r)+1,e.rounding)};dt.toNumber=function(){return+this};dt.toPower=dt.pow=function(r){var e,t,n,i,a,s,c=this,l=c.constructor,o=12,u=+(r=new l(r));if(!r.s)return new l(Gi);if(c=new l(c),!c.s){if(r.s<1)throw Error(va+"Infinity");return c}if(c.eq(Gi))return c;if(n=l.precision,r.eq(Gi))return Kr(c,n);if(e=r.e,t=r.d.length-1,s=e>=t,a=c.s,s){if((t=u<0?-u:u)<=XD){for(i=new l(Gi),e=Math.ceil(n/rn+4),on=!1;t%2&&(i=i.times(c),YC(i.d,e)),t=th(t/2),t!==0;)c=c.times(c),YC(c.d,e);return on=!0,r.s<0?new l(Gi).div(i):Kr(i,n)}}else if(a<0)throw Error(va+"NaN");return a=a<0&&r.d[Math.max(e,t)]&1?-1:1,c.s=1,on=!1,i=r.times(Sp(c,n+o)),on=!0,i=QD(i),i.s=a,i};dt.toPrecision=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?(t=Nn(i),n=Cc(i,t<=a.toExpNeg||t>=a.toExpPos)):(ps(r,1,eh),e===void 0?e=a.rounding:ps(e,0,8),i=Kr(new a(i),r,e),t=Nn(i),n=Cc(i,r<=t||t<=a.toExpNeg,r)),n};dt.toSignificantDigits=dt.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(ps(r,1,eh),e===void 0?e=n.rounding:ps(e,0,8)),Kr(new n(t),r,e)};dt.toString=dt.valueOf=dt.val=dt.toJSON=dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Nn(r),t=r.constructor;return Cc(r,e<=t.toExpNeg||e>=t.toExpPos)};function YD(r,e){var t,n,i,a,s,c,l,o,u=r.constructor,f=u.precision;if(!r.s||!e.s)return e.s||(e=new u(r)),on?Kr(e,f):e;if(l=r.d,o=e.d,s=r.e,i=e.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,c=o.length):(n=o,i=s,c=l.length),s=Math.ceil(f/rn),c=s>c?s+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=l.length,a=o.length,c-a<0&&(a=c,n=o,o=l,l=n),t=0;a;)t=(l[--a]=l[a]+o[a]+t)/Hn|0,l[a]%=Hn;for(t&&(l.unshift(t),++i),c=l.length;l[--c]==0;)l.pop();return e.d=l,e.e=i,on?Kr(e,f):e}function ps(r,e,t){if(r!==~~r||r<e||r>t)throw Error(bc+r)}function ss(r){var e,t,n,i=r.length-1,a="",s=r[0];if(i>0){for(a+=s,e=1;e<i;e++)n=r[e]+"",t=rn-n.length,t&&(a+=Lo(t)),a+=n;s=r[e],n=s+"",t=rn-n.length,t&&(a+=Lo(t))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Hs=(function(){function r(n,i){var a,s=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+s,n[c]=a%Hn|0,s=a/Hn|0;return s&&n.unshift(s),n}function e(n,i,a,s){var c,l;if(a!=s)l=a>s?1:-1;else for(c=l=0;c<a;c++)if(n[c]!=i[c]){l=n[c]>i[c]?1:-1;break}return l}function t(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Hn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var c,l,o,u,f,h,d,g,y,m,x,v,_,k,N,P,D,I,B=n.constructor,L=n.s==i.s?1:-1,z=n.d,$=i.d;if(!n.s)return new B(n);if(!i.s)throw Error(va+"Division by zero");for(l=n.e-i.e,D=$.length,N=z.length,d=new B(L),g=d.d=[],o=0;$[o]==(z[o]||0);)++o;if($[o]>(z[o]||0)&&--l,a==null?v=a=B.precision:s?v=a+(Nn(n)-Nn(i))+1:v=a,v<0)return new B(0);if(v=v/rn+2|0,o=0,D==1)for(u=0,$=$[0],v++;(o<N||u)&&v--;o++)_=u*Hn+(z[o]||0),g[o]=_/$|0,u=_%$|0;else{for(u=Hn/($[0]+1)|0,u>1&&($=r($,u),z=r(z,u),D=$.length,N=z.length),k=D,y=z.slice(0,D),m=y.length;m<D;)y[m++]=0;I=$.slice(),I.unshift(0),P=$[0],$[1]>=Hn/2&&++P;do u=0,c=e($,y,D,m),c<0?(x=y[0],D!=m&&(x=x*Hn+(y[1]||0)),u=x/P|0,u>1?(u>=Hn&&(u=Hn-1),f=r($,u),h=f.length,m=y.length,c=e(f,y,h,m),c==1&&(u--,t(f,D<h?I:$,h))):(u==0&&(c=u=1),f=$.slice()),h=f.length,h<m&&f.unshift(0),t(y,f,m),c==-1&&(m=y.length,c=e($,y,D,m),c<1&&(u++,t(y,D<m?I:$,m))),m=y.length):c===0&&(u++,y=[0]),g[o++]=u,c&&y[0]?y[m++]=z[k]||0:(y=[z[k]],m=1);while((k++<N||y[0]!==void 0)&&v--)}return g[0]||g.shift(),d.e=l,Kr(d,s?a+Nn(d)+1:a)}})();function QD(r,e){var t,n,i,a,s,c,l=0,o=0,u=r.constructor,f=u.precision;if(Nn(r)>16)throw Error(tS+Nn(r));if(!r.s)return new u(Gi);for(on=!1,c=f,s=new u(.03125);r.abs().gte(.1);)r=r.times(s),o+=5;for(n=Math.log(Zl(2,o))/Math.LN10*2+5|0,c+=n,t=i=a=new u(Gi),u.precision=c;;){if(i=Kr(i.times(r),c),t=t.times(++l),s=a.plus(Hs(i,t,c)),ss(s.d).slice(0,c)===ss(a.d).slice(0,c)){for(;o--;)a=Kr(a.times(a),c);return u.precision=f,e==null?(on=!0,Kr(a,f)):a}a=s}}function Nn(r){for(var e=r.e*rn,t=r.d[0];t>=10;t/=10)e++;return e}function b_(r,e,t){if(e>r.LN10.sd())throw on=!0,t&&(r.precision=t),Error(va+"LN10 precision limit exceeded");return Kr(new r(r.LN10),e)}function Lo(r){for(var e="";r--;)e+="0";return e}function Sp(r,e){var t,n,i,a,s,c,l,o,u,f=1,h=10,d=r,g=d.d,y=d.constructor,m=y.precision;if(d.s<1)throw Error(va+(d.s?"NaN":"-Infinity"));if(d.eq(Gi))return new y(0);if(e==null?(on=!1,o=m):o=e,d.eq(10))return e==null&&(on=!0),b_(y,o);if(o+=h,y.precision=o,t=ss(g),n=t.charAt(0),a=Nn(d),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)d=d.times(r),t=ss(d.d),n=t.charAt(0),f++;a=Nn(d),n>1?(d=new y("0."+t),a++):d=new y(n+"."+t.slice(1))}else return l=b_(y,o+2,m).times(a+""),d=Sp(new y(n+"."+t.slice(1)),o-h).plus(l),y.precision=m,e==null?(on=!0,Kr(d,m)):d;for(c=s=d=Hs(d.minus(Gi),d.plus(Gi),o),u=Kr(d.times(d),o),i=3;;){if(s=Kr(s.times(u),o),l=c.plus(Hs(s,new y(i),o)),ss(l.d).slice(0,o)===ss(c.d).slice(0,o))return c=c.times(2),a!==0&&(c=c.plus(b_(y,o+2,m).times(a+""))),c=Hs(c,new y(f),o),y.precision=m,e==null?(on=!0,Kr(c,m)):c;c=l,i+=2}}function XC(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,t=t-n-1,r.e=th(t/rn),r.d=[],n=(t+1)%rn,t<0&&(n+=rn),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=rn;n<i;)r.d.push(+e.slice(n,n+=rn));e=e.slice(n),n=rn-e.length}else n-=i;for(;n--;)e+="0";if(r.d.push(+e),on&&(r.e>Wg||r.e<-Wg))throw Error(tS+t)}else r.s=0,r.e=0,r.d=[0];return r}function Kr(r,e,t){var n,i,a,s,c,l,o,u,f=r.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=rn,i=e,o=f[u=0];else{if(u=Math.ceil((n+1)/rn),a=f.length,u>=a)return r;for(o=a=f[u],s=1;a>=10;a/=10)s++;n%=rn,i=n-rn+s}if(t!==void 0&&(a=Zl(10,s-i-1),c=o/a%10|0,l=e<0||f[u+1]!==void 0||o%a,l=t<4?(c||l)&&(t==0||t==(r.s<0?3:2)):c>5||c==5&&(t==4||l||t==6&&(n>0?i>0?o/Zl(10,s-i):0:f[u-1])%10&1||t==(r.s<0?8:7))),e<1||!f[0])return l?(a=Nn(r),f.length=1,e=e-a-1,f[0]=Zl(10,(rn-e%rn)%rn),r.e=th(-e/rn)||0):(f.length=1,f[0]=r.e=r.s=0),r;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Zl(10,rn-n),f[u]=i>0?(o/Zl(10,s-i)%Zl(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Hn&&(f[0]=1,++r.e);break}else{if(f[u]+=a,f[u]!=Hn)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(on&&(r.e>Wg||r.e<-Wg))throw Error(tS+Nn(r));return r}function ZD(r,e){var t,n,i,a,s,c,l,o,u,f,h=r.constructor,d=h.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new h(r),on?Kr(e,d):e;if(l=r.d,f=e.d,n=e.e,o=r.e,l=l.slice(),s=o-n,s){for(u=s<0,u?(t=l,s=-s,c=f.length):(t=f,n=o,c=l.length),i=Math.max(Math.ceil(d/rn),c)+2,s>i&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for(i=l.length,c=f.length,u=i<c,u&&(c=i),i=0;i<c;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(t=l,l=f,f=t,e.s=-e.s),c=l.length,i=f.length-c;i>0;--i)l[c++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Hn-1;--l[a],l[i]+=Hn}l[i]-=f[i]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,on?Kr(e,d):e):new h(0)}function Cc(r,e,t){var n,i=Nn(r),a=ss(r.d),s=a.length;return e?(t&&(n=t-s)>0?a=a.charAt(0)+"."+a.slice(1)+Lo(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Lo(-i-1)+a,t&&(n=t-s)>0&&(a+=Lo(n))):i>=s?(a+=Lo(i+1-s),t&&(n=t-i-1)>0&&(a=a+"."+Lo(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-s)>0&&(i+1===s&&(a+="."),a+=Lo(n))),r.s<0?"-"+a:a}function YC(r,e){if(r.length>e)return r.length=e,!0}function JD(r){var e,t,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(bc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return XC(s,a.toString())}else if(typeof a!="string")throw Error(bc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Fee.test(a))XC(s,a);else throw Error(bc+a)}if(i.prototype=dt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JD,i.config=i.set=$ee,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function $ee(r){if(!r||typeof r!="object")throw Error(va+"Object expected");var e,t,n,i=["precision",1,eh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=r[t=i[e]])!==void 0)if(th(n)===n&&n>=i[e+1]&&n<=i[e+2])this[t]=n;else throw Error(bc+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(bc+t+": "+n);return this}var rS=JD(Lee);Gi=new rS(1);const Vr=rS;function Vee(r){return Hee(r)||Uee(r)||qee(r)||zee()}function zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qee(r,e){if(r){if(typeof r=="string")return d4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d4(r,e)}}function Uee(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Hee(r){if(Array.isArray(r))return d4(r)}function d4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var Kee=function(e){return e},eB={},tB=function(e){return e===eB},QC=function(e){return function t(){return arguments.length===0||arguments.length===1&&tB(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Gee=function r(e,t){return e===1?t:QC(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(c){return c!==eB}).length;return s>=e?t.apply(void 0,i):r(e-s,QC(function(){for(var c=arguments.length,l=new Array(c),o=0;o<c;o++)l[o]=arguments[o];var u=i.map(function(f){return tB(f)?l.shift():f});return t.apply(void 0,Vee(u).concat(l))}))})},wy=function(e){return Gee(e.length,e)},p4=function(e,t){for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},Wee=wy(function(r,e){return Array.isArray(e)?e.map(r):Object.keys(e).map(function(t){return e[t]}).map(r)}),Xee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Kee;var i=t.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(c,l){return l(c)},a.apply(void 0,arguments))}},m4=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rB=function(e){var t=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t&&a.every(function(c,l){return c===t[l]})||(t=a,n=e.apply(void 0,a)),n}};function Yee(r){var e;return r===0?e=1:e=Math.floor(new Vr(r).abs().log(10).toNumber())+1,e}function Qee(r,e,t){for(var n=new Vr(r),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(t),i++;return a}var Zee=wy(function(r,e,t){var n=+r,i=+e;return n+t*(i-n)}),Jee=wy(function(r,e,t){var n=e-+r;return n=n||1/0,(t-r)/n}),ete=wy(function(r,e,t){var n=e-+r;return n=n||1/0,Math.max(0,Math.min(1,(t-r)/n))});const _y={rangeStep:Qee,getDigitCount:Yee,interpolateNumber:Zee,uninterpolateNumber:Jee,uninterpolateTruncation:ete};function g4(r){return nte(r)||rte(r)||nB(r)||tte()}function tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function nte(r){if(Array.isArray(r))return b4(r)}function Ap(r,e){return ste(r)||ate(r,e)||nB(r,e)||ite()}function ite(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(r,e){if(r){if(typeof r=="string")return b4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b4(r,e)}}function b4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function ate(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var t=[],n=!0,i=!1,a=void 0;try{for(var s=r[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(t.push(c.value),!(e&&t.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return t}}function ste(r){if(Array.isArray(r))return r}function iB(r){var e=Ap(r,2),t=e[0],n=e[1],i=t,a=n;return t>n&&(i=n,a=t),[i,a]}function aB(r,e,t){if(r.lte(0))return new Vr(0);var n=_y.getDigitCount(r.toNumber()),i=new Vr(10).pow(n),a=r.div(i),s=n!==1?.05:.1,c=new Vr(Math.ceil(a.div(s).toNumber())).add(t).mul(s),l=c.mul(i);return e?l:new Vr(Math.ceil(l))}function ote(r,e,t){var n=1,i=new Vr(r);if(!i.isint()&&t){var a=Math.abs(r);a<1?(n=new Vr(10).pow(_y.getDigitCount(r)-1),i=new Vr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Vr(Math.floor(r)))}else r===0?i=new Vr(Math.floor((e-1)/2)):t||(i=new Vr(Math.floor(r)));var s=Math.floor((e-1)/2),c=Xee(Wee(function(l){return i.add(new Vr(l-s).mul(n)).toNumber()}),p4);return c(0,e)}function sB(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-r)/(t-1)))return{step:new Vr(0),tickMin:new Vr(0),tickMax:new Vr(0)};var a=aB(new Vr(e).sub(r).div(t-1),n,i),s;r<=0&&e>=0?s=new Vr(0):(s=new Vr(r).add(e).div(2),s=s.sub(new Vr(s).mod(a)));var c=Math.ceil(s.sub(r).div(a).toNumber()),l=Math.ceil(new Vr(e).sub(s).div(a).toNumber()),o=c+l+1;return o>t?sB(r,e,t,n,i+1):(o<t&&(l=e>0?l+(t-o):l,c=e>0?c:c+(t-o)),{step:a,tickMin:s.sub(new Vr(c).mul(a)),tickMax:s.add(new Vr(l).mul(a))})}function lte(r){var e=Ap(r,2),t=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),c=iB([t,n]),l=Ap(c,2),o=l[0],u=l[1];if(o===-1/0||u===1/0){var f=u===1/0?[o].concat(g4(p4(0,i-1).map(function(){return 1/0}))):[].concat(g4(p4(0,i-1).map(function(){return-1/0})),[u]);return t>n?m4(f):f}if(o===u)return ote(o,i,a);var h=sB(o,u,s,a),d=h.step,g=h.tickMin,y=h.tickMax,m=_y.rangeStep(g,y.add(new Vr(.1).mul(d)),d);return t>n?m4(m):m}function cte(r,e){var t=Ap(r,2),n=t[0],i=t[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=iB([n,i]),c=Ap(s,2),l=c[0],o=c[1];if(l===-1/0||o===1/0)return[n,i];if(l===o)return[l];var u=Math.max(e,2),f=aB(new Vr(o).sub(l).div(u-1),a,0),h=[].concat(g4(_y.rangeStep(new Vr(l),new Vr(o).sub(new Vr(.99).mul(f)),f)),[o]);return n>i?m4(h):h}var ute=rB(lte),fte=rB(cte),hte="Invariant failed";function Oc(r,e){throw new Error(hte)}var dte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wf(r){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(r)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Xg.apply(this,arguments)}function pte(r,e){return yte(r)||bte(r,e)||gte(r,e)||mte()}function mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(r,e){if(r){if(typeof r=="string")return ZC(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZC(r,e)}}function ZC(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function bte(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function yte(r){if(Array.isArray(r))return r}function vte(r,e){if(r==null)return{};var t=xte(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function xte(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function wte(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _te(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,cB(n.key),n)}}function Ste(r,e,t){return e&&_te(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Ate(r,e,t){return e=Yg(e),Ete(r,oB()?Reflect.construct(e,t||[],Yg(r).constructor):e.apply(r,t))}function Ete(r,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tte(r)}function Tte(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oB=function(){return!!r})()}function Yg(r){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yg(r)}function kte(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&y4(r,e)}function y4(r,e){return y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y4(r,e)}function lB(r,e,t){return e=cB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cB(r){var e=jte(r,"string");return wf(e)=="symbol"?e:e+""}function jte(r,e){if(wf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var rh=(function(r){function e(){return wte(this,e),Ate(this,e,arguments)}return kte(e,r),Ste(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,c=n.dataKey,l=n.data,o=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=vte(n,dte),d=St(h,!1);this.props.direction==="x"&&u.type!=="number"&&Oc();var g=l.map(function(y){var m=o(y,c),x=m.x,v=m.y,_=m.value,k=m.errorVal;if(!k)return null;var N=[],P,D;if(Array.isArray(k)){var I=pte(k,2);P=I[0],D=I[1]}else P=D=k;if(a==="vertical"){var B=u.scale,L=v+i,z=L+s,$=L-s,O=B(_-P),F=B(_+D);N.push({x1:F,y1:z,x2:F,y2:$}),N.push({x1:O,y1:L,x2:F,y2:L}),N.push({x1:O,y1:z,x2:O,y2:$})}else if(a==="horizontal"){var C=f.scale,w=x+i,E=w-s,A=w+s,j=C(_-P),R=C(_+D);N.push({x1:E,y1:R,x2:A,y2:R}),N.push({x1:w,y1:j,x2:w,y2:R}),N.push({x1:E,y1:j,x2:A,y2:j})}return pe.createElement(nr,Xg({className:"recharts-errorBar",key:"bar-".concat(N.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},d),N.map(function(q){return pe.createElement("line",Xg({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return pe.createElement(nr,{className:"recharts-errorBars"},g)}}])})(pe.Component);lB(rh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lB(rh,"displayName","ErrorBar");function Ep(r){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(r)}function JC(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Hl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(n){Cte(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cte(r,e,t){return e=Ote(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ote(r){var e=Nte(r,"string");return Ep(e)=="symbol"?e:e+""}function Nte(r,e){if(Ep(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var uB=function(e){var t=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Hi(t,us);if(!s)return null;var c=us.defaultProps,l=c!==void 0?Hl(Hl({},c),s.props):{},o;return s.props&&s.props.payload?o=s.props&&s.props.payload:a==="children"?o=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,g=d.sectors||d.data||[];return u.concat(g.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):o=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?Hl(Hl({},h),f.props):{},g=d.dataKey,y=d.name,m=d.legendType,x=d.hide;return{inactive:x,dataKey:g,type:l.iconType||m||"square",color:nS(f),value:y||g,payload:d}}),Hl(Hl(Hl({},l),us.getWithHeight(s,i)),{},{payload:o,item:s})};function Tp(r){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(r)}function eO(r){return Pte(r)||Ite(r)||Rte(r)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rte(r,e){if(r){if(typeof r=="string")return v4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v4(r,e)}}function Ite(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Pte(r){if(Array.isArray(r))return v4(r)}function v4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function tO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(t),!0).forEach(function(n){Wu(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wu(r,e,t){return e=Dte(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dte(r){var e=Bte(r,"string");return Tp(e)=="symbol"?e:e+""}function Bte(r,e){if(Tp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function nn(r,e,t){return Ft(r)||Ft(e)?t:Ln(e)?Yi(r,e,t):Lt(e)?e(r):t}function Dd(r,e,t,n){var i=Pee(r,function(c){return nn(c,e)});if(t==="number"){var a=i.filter(function(c){return Qe(c)||parseFloat(c)});return a.length?[xy(a),zo(a)]:[1/0,-1/0]}var s=n?i.filter(function(c){return!Ft(c)}):i;return s.map(function(c){return Ln(c)||c instanceof Date?c:""})}var Lte=function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,c=(t=n==null?void 0:n.length)!==null&&t!==void 0?t:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,o=0;o<c;o++){var u=o>0?i[o-1].coordinate:i[c-1].coordinate,f=i[o].coordinate,h=o>=c-1?i[0].coordinate:i[o+1].coordinate,d=void 0;if(xi(f-u)!==xi(h-f)){var g=[];if(xi(h-f)===xi(l[1]-l[0])){d=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+u)/2),g[1]=Math.max(y,(y+u)/2)}else{d=u;var m=h+l[1]-l[0];g[0]=Math.min(f,(m+f)/2),g[1]=Math.max(f,(m+f)/2)}var x=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){s=i[o].index;break}}else{var v=Math.min(u,h),_=Math.max(u,h);if(e>(v+f)/2&&e<=(_+f)/2){s=i[o].index;break}}}else for(var k=0;k<c;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<c-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===c-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){s=n[k].index;break}return s},nS=function(e){var t,n=e,i=n.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?gn(gn({},e.type.defaultProps),e.props):e.props,s=a.stroke,c=a.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:c;break;default:l=c;break}return l},Fte=function(e){var t=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},c=Object.keys(a),l=0,o=c.length;l<o;l++)for(var u=a[c[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var g=u[f[h]],y=g.items,m=g.cateAxisId,x=y.filter(function(D){return Us(D.type).indexOf("Bar")>=0});if(x&&x.length){var v=x[0].type.defaultProps,_=v!==void 0?gn(gn({},v),x[0].props):x[0].props,k=_.barSize,N=_[m];s[N]||(s[N]=[]);var P=Ft(k)?t:k;s[N].push({item:x[0],stackList:x.slice(1),barSize:Ft(P)?void 0:wi(P,n,0)})}}return s},$te=function(e){var t=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,c=e.maxBarSize,l=s.length;if(l<1)return null;var o=wi(t,i,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=i/l,g=s.reduce(function(k,N){return k+N.barSize||0},0);g+=(l-1)*o,g>=i&&(g-=(l-1)*o,o=0),g>=i&&d>0&&(h=!0,d*=.9,g=l*d);var y=(i-g)/2>>0,m={offset:y-o,size:0};u=s.reduce(function(k,N){var P={item:N.item,position:{offset:m.offset+m.size+o,size:h?d:N.barSize}},D=[].concat(eO(k),[P]);return m=D[D.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(I){D.push({item:I,position:m})}),D},f)}else{var x=wi(n,i,0,!0);i-2*x-(l-1)*o<=0&&(o=0);var v=(i-2*x-(l-1)*o)/l;v>1&&(v>>=0);var _=c===+c?Math.min(v,c):v;u=s.reduce(function(k,N,P){var D=[].concat(eO(k),[{item:N.item,position:{offset:x+(v+o)*P+(v-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(I){D.push({item:I,position:D[D.length-1].position})}),D},f)}return u},Vte=function(e,t,n,i){var a=n.children,s=n.width,c=n.margin,l=s-(c.left||0)-(c.right||0),o=uB({children:a,legendWidth:l});if(o){var u=i||{},f=u.width,h=u.height,d=o.align,g=o.verticalAlign,y=o.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&d!=="center"&&Qe(e[d]))return gn(gn({},e),{},Wu({},d,e[d]+(f||0)));if((y==="horizontal"||y==="vertical"&&d==="center")&&g!=="middle"&&Qe(e[g]))return gn(gn({},e),{},Wu({},g,e[g]+(h||0)))}return e},zte=function(e,t,n){return Ft(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||n==="x"?t==="xAxis":n==="y"?t==="yAxis":!0},fB=function(e,t,n,i,a){var s=t.props.children,c=Ai(s,rh).filter(function(o){return zte(i,a,o.props.direction)});if(c&&c.length){var l=c.map(function(o){return o.props.dataKey});return e.reduce(function(o,u){var f=nn(u,n);if(Ft(f))return o;var h=Array.isArray(f)?[xy(f),zo(f)]:[f,f],d=l.reduce(function(g,y){var m=nn(u,y,0),x=h[0]-Math.abs(Array.isArray(m)?m[0]:m),v=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(x,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(d[0],o[0]),Math.max(d[1],o[1])]},[1/0,-1/0])}return null},qte=function(e,t,n,i,a){var s=t.map(function(c){return fB(e,c,n,a,i)}).filter(function(c){return!Ft(c)});return s&&s.length?s.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},hB=function(e,t,n,i,a){var s=t.map(function(l){var o=l.props.dataKey;return n==="number"&&o&&fB(e,l,o,i)||Dd(e,o,n,a)});if(n==="number")return s.reduce(function(l,o){return[Math.min(l[0],o[0]),Math.max(l[1],o[1])]},[1/0,-1/0]);var c={};return s.reduce(function(l,o){for(var u=0,f=o.length;u<f;u++)c[o[u]]||(c[o[u]]=!0,l.push(o[u]));return l},[])},dB=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},pB=function(e,t,n,i){if(i)return e.map(function(l){return l.coordinate});var a,s,c=e.map(function(l){return l.coordinate===t&&(a=!0),l.coordinate===n&&(s=!0),l.coordinate});return a||c.push(t),s||c.push(n),c},qs=function(e,t,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,c=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,o=(t||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(o=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?xi(c[0]-c[1])*2*o:o,t&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+o,value:f,offset:o}});return u.filter(function(f){return!Qf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+o,value:f,index:h,offset:o}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+o,value:f,offset:o}}):i.domain().map(function(f,h){return{coordinate:i(f)+o,value:a?a[f]:f,index:h,offset:o}})},y_=new WeakMap,R0=function(e,t){if(typeof t!="function")return e;y_.has(e)||y_.set(e,new WeakMap);var n=y_.get(e);if(n.has(t))return n.get(t);var i=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,i),i},mB=function(e,t,n){var i=e.scale,a=e.type,s=e.layout,c=e.axisType;if(i==="auto")return s==="radial"&&c==="radiusAxis"?{scale:yp(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:Ug(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:Pd(),realScaleType:"point"}:a==="category"?{scale:yp(),realScaleType:"band"}:{scale:Ug(),realScaleType:"linear"};if(am(i)){var l="scale".concat(ay(i));return{scale:($C[l]||Pd)(),realScaleType:$C[l]?l:"point"}}return Lt(i)?{scale:i}:{scale:Pd(),realScaleType:"point"}},rO=1e-4,gB=function(e){var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),a=Math.min(i[0],i[1])-rO,s=Math.max(i[0],i[1])+rO,c=e(t[0]),l=e(t[n-1]);(c<a||c>s||l<a||l>s)&&e.domain([t[0],t[n-1]])}},Ute=function(e,t){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===t)return e[n].position;return null},Hte=function(e,t){if(!t||t.length!==2||!Qe(t[0])||!Qe(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qe(e[0])||e[0]<n)&&(a[0]=n),(!Qe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Kte=function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,c=0;c<t;++c){var l=Qf(e[c][n][1])?e[c][n][0]:e[c][n][1];l>=0?(e[c][n][0]=a,e[c][n][1]=a+l,a=e[c][n][1]):(e[c][n][0]=s,e[c][n][1]=s+l,s=e[c][n][1])}},Gte=function(e){var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<t;++s){var c=Qf(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Wte={sign:Kte,expand:PW,none:df,silhouette:DW,wiggle:BW,positive:Gte},Xte=function(e,t,n){var i=t.map(function(c){return c.props.dataKey}),a=Wte[n],s=IW().keys(i).value(function(c,l){return+nn(c,l,0)}).order(X3).offset(a);return s(e)},Yte=function(e,t,n,i,a,s){if(!e)return null;var c=s?t.reverse():t,l={},o=c.reduce(function(f,h){var d,g=(d=h.type)!==null&&d!==void 0&&d.defaultProps?gn(gn({},h.type.defaultProps),h.props):h.props,y=g.stackId,m=g.hide;if(m)return f;var x=g[n],v=f[x]||{hasStack:!1,stackGroups:{}};if(Ln(y)){var _=v.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(h),v.hasStack=!0,v.stackGroups[y]=_}else v.stackGroups[fl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return gn(gn({},f),{},Wu({},x,v))},l),u={};return Object.keys(o).reduce(function(f,h){var d=o[h];if(d.hasStack){var g={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(y,m){var x=d.stackGroups[m];return gn(gn({},y),{},Wu({},m,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Xte(e,x.items,a)}))},g)}return gn(gn({},f),{},Wu({},h,d))},u)},bB=function(e,t){var n=t.realScaleType,i=t.type,a=t.tickCount,s=t.originalDomain,c=t.allowDecimals,l=n||t.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var o=e.domain();if(!o.length)return null;var u=ute(o,a,c);return e.domain([xy(u),zo(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=fte(f,a,c);return{niceTicks:h}}return null};function _f(r){var e=r.axis,t=r.ticks,n=r.bandSize,i=r.entry,a=r.index,s=r.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ft(i[e.dataKey])){var c=Tg(t,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return t[a]?t[a].coordinate+n/2:null}var l=nn(i,Ft(s)?e.dataKey:s);return Ft(l)?null:e.scale(l)}var nO=function(e){var t=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,c=e.index;if(t.type==="category")return n[c]?n[c].coordinate+i:null;var l=nn(s,t.dataKey,t.domain[c]);return Ft(l)?null:t.scale(l)-a/2+i},Qte=function(e){var t=e.numericAxis,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Zte=function(e,t){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gn(gn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ln(a)){var s=t[a];if(s){var c=s.items.indexOf(e);return c>=0?s.stackedData[c]:null}}return null},Jte=function(e){return e.reduce(function(t,n){return[xy(n.concat([t[0]]).filter(Qe)),zo(n.concat([t[1]]).filter(Qe))]},[1/0,-1/0])},yB=function(e,t,n){return Object.keys(e).reduce(function(i,a){var s=e[a],c=s.stackedData,l=c.reduce(function(o,u){var f=Jte(u.slice(t,n+1));return[Math.min(o[0],f[0]),Math.max(o[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x4=function(e,t,n){if(Lt(e))return e(t,n);if(!Array.isArray(e))return t;var i=[];if(Qe(e[0]))i[0]=n?e[0]:Math.min(e[0],t[0]);else if(iO.test(e[0])){var a=+iO.exec(e[0])[1];i[0]=t[0]-a}else Lt(e[0])?i[0]=e[0](t[0]):i[0]=t[0];if(Qe(e[1]))i[1]=n?e[1]:Math.max(e[1],t[1]);else if(aO.test(e[1])){var s=+aO.exec(e[1])[1];i[1]=t[1]+s}else Lt(e[1])?i[1]=e[1](t[1]):i[1]=t[1];return i},Qg=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var a=N6(t,function(f){return f.coordinate}),s=1/0,c=1,l=a.length;c<l;c++){var o=a[c],u=a[c-1];s=Math.min((o.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},sO=function(e,t,n){return!e||!e.length||il(e,Yi(n,"type.defaultProps.domain"))?t:e},vB=function(e,t){var n=e.type.defaultProps?gn(gn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,c=n.formatter,l=n.tooltipType,o=n.chartType,u=n.hide;return gn(gn({},St(e,!1)),{},{dataKey:i,unit:s,formatter:c,name:a||i,color:nS(e),value:nn(t,i),type:l,payload:t,chartType:o,hide:u})};function kp(r){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(r)}function oO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ls(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(t),!0).forEach(function(n){xB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function xB(r,e,t){return e=ere(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ere(r){var e=tre(r,"string");return kp(e)=="symbol"?e:e+""}function tre(r,e){if(kp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function rre(r,e){return sre(r)||are(r,e)||ire(r,e)||nre()}function nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(r,e){if(r){if(typeof r=="string")return lO(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lO(r,e)}}function lO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function are(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function sre(r){if(Array.isArray(r))return r}var Zg=Math.PI/180,ore=function(e){return e*180/Math.PI},Jr=function(e,t,n,i){return{x:e+Math.cos(-Zg*i)*n,y:t+Math.sin(-Zg*i)*n}},wB=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},lre=function(e,t,n,i,a){var s=e.width,c=e.height,l=e.startAngle,o=e.endAngle,u=wi(e.cx,s,s/2),f=wi(e.cy,c,c/2),h=wB(s,c,n),d=wi(e.innerRadius,h,0),g=wi(e.outerRadius,h,h*.8),y=Object.keys(t);return y.reduce(function(m,x){var v=t[x],_=v.domain,k=v.reversed,N;if(Ft(v.range))i==="angleAxis"?N=[l,o]:i==="radiusAxis"&&(N=[d,g]),k&&(N=[N[1],N[0]]);else{N=v.range;var P=N,D=rre(P,2);l=D[0],o=D[1]}var I=mB(v,a),B=I.realScaleType,L=I.scale;L.domain(_).range(N),gB(L);var z=bB(L,Ls(Ls({},v),{},{realScaleType:B})),$=Ls(Ls(Ls({},v),z),{},{range:N,radius:g,realScaleType:B,scale:L,cx:u,cy:f,innerRadius:d,outerRadius:g,startAngle:l,endAngle:o});return Ls(Ls({},m),{},xB({},x,$))},{})},cre=function(e,t){var n=e.x,i=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},ure=function(e,t){var n=e.x,i=e.y,a=t.cx,s=t.cy,c=cre({x:n,y:i},{x:a,y:s});if(c<=0)return{radius:c};var l=(n-a)/c,o=Math.acos(l);return i>s&&(o=2*Math.PI-o),{radius:c,angle:ore(o),angleInRadian:o}},fre=function(e){var t=e.startAngle,n=e.endAngle,i=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:t-s*360,endAngle:n-s*360}},hre=function(e,t){var n=t.startAngle,i=t.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),c=Math.min(a,s);return e+c*360},cO=function(e,t){var n=e.x,i=e.y,a=ure({x:n,y:i},t),s=a.radius,c=a.angle,l=t.innerRadius,o=t.outerRadius;if(s<l||s>o)return!1;if(s===0)return!0;var u=fre(t),f=u.startAngle,h=u.endAngle,d=c,g;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}return g?Ls(Ls({},t),{},{radius:s,angle:hre(d,t)}):null},_B=function(e){return!ye.isValidElement(e)&&!Lt(e)&&typeof e!="boolean"?e.className:""};function jp(r){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(r)}var dre=["offset"];function pre(r){return yre(r)||bre(r)||gre(r)||mre()}function mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(r,e){if(r){if(typeof r=="string")return w4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w4(r,e)}}function bre(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function yre(r){if(Array.isArray(r))return w4(r)}function w4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function vre(r,e){if(r==null)return{};var t=xre(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function xre(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function uO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Pn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(t),!0).forEach(function(n){wre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wre(r,e,t){return e=_re(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _re(r){var e=Sre(r,"string");return jp(e)=="symbol"?e:e+""}function Sre(r,e){if(jp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Cp.apply(this,arguments)}var Are=function(e){var t=e.value,n=e.formatter,i=Ft(e.children)?t:e.children;return Lt(n)?n(i):i},Ere=function(e,t){var n=xi(t-e),i=Math.min(Math.abs(t-e),360);return n*i},Tre=function(e,t,n){var i=e.position,a=e.viewBox,s=e.offset,c=e.className,l=a,o=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,g=l.endAngle,y=l.clockWise,m=(f+h)/2,x=Ere(d,g),v=x>=0?1:-1,_,k;i==="insideStart"?(_=d+v*s,k=y):i==="insideEnd"?(_=g-v*s,k=!y):i==="end"&&(_=g+v*s,k=y),k=x<=0?k:!k;var N=Jr(o,u,m,_),P=Jr(o,u,m,_+(k?1:-1)*359),D="M".concat(N.x,",").concat(N.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(k?0:1,`,
    `).concat(P.x,",").concat(P.y),I=Ft(e.id)?fl("recharts-radial-line-"):e.id;return pe.createElement("text",Cp({},n,{dominantBaseline:"central",className:Jt("recharts-radial-bar-label",c)}),pe.createElement("defs",null,pe.createElement("path",{id:I,d:D})),pe.createElement("textPath",{xlinkHref:"#".concat(I)},t))},kre=function(e){var t=e.viewBox,n=e.offset,i=e.position,a=t,s=a.cx,c=a.cy,l=a.innerRadius,o=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var d=Jr(s,c,o+n,h),g=d.x,y=d.y;return{x:g,y,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var m=(l+o)/2,x=Jr(s,c,m,h),v=x.x,_=x.y;return{x:v,y:_,textAnchor:"middle",verticalAnchor:"middle"}},jre=function(e){var t=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=t,c=s.x,l=s.y,o=s.width,u=s.height,f=u>=0?1:-1,h=f*i,d=f>0?"end":"start",g=f>0?"start":"end",y=o>=0?1:-1,m=y*i,x=y>0?"end":"start",v=y>0?"start":"end";if(a==="top"){var _={x:c+o/2,y:l-f*i,textAnchor:"middle",verticalAnchor:d};return Pn(Pn({},_),n?{height:Math.max(l-n.y,0),width:o}:{})}if(a==="bottom"){var k={x:c+o/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Pn(Pn({},k),n?{height:Math.max(n.y+n.height-(l+u),0),width:o}:{})}if(a==="left"){var N={x:c-m,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Pn(Pn({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(a==="right"){var P={x:c+o+m,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Pn(Pn({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:u}:{})}var D=n?{width:o,height:u}:{};return a==="insideLeft"?Pn({x:c+m,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},D):a==="insideRight"?Pn({x:c+o-m,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},D):a==="insideTop"?Pn({x:c+o/2,y:l+h,textAnchor:"middle",verticalAnchor:g},D):a==="insideBottom"?Pn({x:c+o/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},D):a==="insideTopLeft"?Pn({x:c+m,y:l+h,textAnchor:v,verticalAnchor:g},D):a==="insideTopRight"?Pn({x:c+o-m,y:l+h,textAnchor:x,verticalAnchor:g},D):a==="insideBottomLeft"?Pn({x:c+m,y:l+u-h,textAnchor:v,verticalAnchor:d},D):a==="insideBottomRight"?Pn({x:c+o-m,y:l+u-h,textAnchor:x,verticalAnchor:d},D):Yf(a)&&(Qe(a.x)||ac(a.x))&&(Qe(a.y)||ac(a.y))?Pn({x:c+wi(a.x,o),y:l+wi(a.y,u),textAnchor:"end",verticalAnchor:"end"},D):Pn({x:c+o/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Cre=function(e){return"cx"in e&&Qe(e.cx)};function Gn(r){var e=r.offset,t=e===void 0?5:e,n=vre(r,dre),i=Pn({offset:t},n),a=i.viewBox,s=i.position,c=i.value,l=i.children,o=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||Ft(c)&&Ft(l)&&!ye.isValidElement(o)&&!Lt(o))return null;if(ye.isValidElement(o))return ye.cloneElement(o,i);var d;if(Lt(o)){if(d=ye.createElement(o,i),ye.isValidElement(d))return d}else d=Are(i);var g=Cre(a),y=St(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Tre(i,d,y);var m=g?kre(i):jre(i);return pe.createElement(jc,Cp({className:Jt("recharts-label",f)},y,m,{breakAll:h}),d)}Gn.displayName="Label";var SB=function(e){var t=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,c=e.r,l=e.radius,o=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,d=e.top,g=e.left,y=e.width,m=e.height,x=e.clockWise,v=e.labelViewBox;if(v)return v;if(Qe(y)&&Qe(m)){if(Qe(f)&&Qe(h))return{x:f,y:h,width:y,height:m};if(Qe(d)&&Qe(g))return{x:d,y:g,width:y,height:m}}return Qe(f)&&Qe(h)?{x:f,y:h,width:0,height:0}:Qe(t)&&Qe(n)?{cx:t,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:o||0,outerRadius:u||l||c||0,clockWise:x}:e.viewBox?e.viewBox:{}},Ore=function(e,t){return e?e===!0?pe.createElement(Gn,{key:"label-implicit",viewBox:t}):Ln(e)?pe.createElement(Gn,{key:"label-implicit",viewBox:t,value:e}):ye.isValidElement(e)?e.type===Gn?ye.cloneElement(e,{key:"label-implicit",viewBox:t}):pe.createElement(Gn,{key:"label-implicit",content:e,viewBox:t}):Lt(e)?pe.createElement(Gn,{key:"label-implicit",content:e,viewBox:t}):Yf(e)?pe.createElement(Gn,Cp({viewBox:t},e,{key:"label-implicit"})):null:null},Nre=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=SB(e),s=Ai(i,Gn).map(function(l,o){return ye.cloneElement(l,{viewBox:t||a,key:"label-".concat(o)})});if(!n)return s;var c=Ore(e.label,t||a);return[c].concat(pre(s))};Gn.parseViewBox=SB;Gn.renderCallByParent=Nre;var v_,fO;function Mre(){if(fO)return v_;fO=1;function r(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return v_=r,v_}var Rre=Mre();const Ire=Cr(Rre);function Op(r){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(r)}var Pre=["valueAccessor"],Dre=["data","dataKey","clockWise","id","textBreakAll"];function Bre(r){return Vre(r)||$re(r)||Fre(r)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fre(r,e){if(r){if(typeof r=="string")return _4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _4(r,e)}}function $re(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Vre(r){if(Array.isArray(r))return _4(r)}function _4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Jg(){return Jg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Jg.apply(this,arguments)}function hO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(t),!0).forEach(function(n){zre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zre(r,e,t){return e=qre(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qre(r){var e=Ure(r,"string");return Op(e)=="symbol"?e:e+""}function Ure(r,e){if(Op(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pO(r,e){if(r==null)return{};var t=Hre(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Hre(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var Kre=function(e){return Array.isArray(e.value)?Ire(e.value):e.value};function za(r){var e=r.valueAccessor,t=e===void 0?Kre:e,n=pO(r,Pre),i=n.data,a=n.dataKey,s=n.clockWise,c=n.id,l=n.textBreakAll,o=pO(n,Dre);return!i||!i.length?null:pe.createElement(nr,{className:"recharts-label-list"},i.map(function(u,f){var h=Ft(a)?t(u,f):nn(u&&u.payload,a),d=Ft(c)?{}:{id:"".concat(c,"-").concat(f)};return pe.createElement(Gn,Jg({},St(u,!0),o,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Gn.parseViewBox(Ft(s)?u:dO(dO({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}za.displayName="LabelList";function Gre(r,e){return r?r===!0?pe.createElement(za,{key:"labelList-implicit",data:e}):pe.isValidElement(r)||Lt(r)?pe.createElement(za,{key:"labelList-implicit",data:e,content:r}):Yf(r)?pe.createElement(za,Jg({data:e},r,{key:"labelList-implicit"})):null:null}function Wre(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&t&&!r.label)return null;var n=r.children,i=Ai(n,za).map(function(s,c){return ye.cloneElement(s,{data:e,key:"labelList-".concat(c)})});if(!t)return i;var a=Gre(r.label,e);return[a].concat(Bre(i))}za.renderCallByParent=Wre;function Np(r){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(r)}function S4(){return S4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},S4.apply(this,arguments)}function mO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(t),!0).forEach(function(n){Xre(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Xre(r,e,t){return e=Yre(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yre(r){var e=Qre(r,"string");return Np(e)=="symbol"?e:e+""}function Qre(r,e){if(Np(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Zre=function(e,t){var n=xi(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},I0=function(e){var t=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,c=e.isExternal,l=e.cornerRadius,o=e.cornerIsExternal,u=l*(c?1:-1)+i,f=Math.asin(l/u)/Zg,h=o?a:a+s*f,d=Jr(t,n,u,h),g=Jr(t,n,i,h),y=o?a-s*f:a,m=Jr(t,n,u*Math.cos(f*Zg),y);return{center:d,circleTangency:g,lineTangency:m,theta:f}},AB=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,c=e.endAngle,l=Zre(s,c),o=s+l,u=Jr(t,n,a,s),f=Jr(t,n,a,o),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>o),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var d=Jr(t,n,i,s),g=Jr(t,n,i,o);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=o),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(t,",").concat(n," Z");return h},Jre=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,c=e.forceCornerRadius,l=e.cornerIsExternal,o=e.startAngle,u=e.endAngle,f=xi(u-o),h=I0({cx:t,cy:n,radius:a,angle:o,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,g=h.lineTangency,y=h.theta,m=I0({cx:t,cy:n,radius:a,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),x=m.circleTangency,v=m.lineTangency,_=m.theta,k=l?Math.abs(o-u):Math.abs(o-u)-y-_;if(k<0)return c?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AB({cx:t,cy:n,innerRadius:i,outerRadius:a,startAngle:o,endAngle:u});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var P=I0({cx:t,cy:n,radius:i,angle:o,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=P.circleTangency,I=P.lineTangency,B=P.theta,L=I0({cx:t,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),z=L.circleTangency,$=L.lineTangency,O=L.theta,F=l?Math.abs(o-u):Math.abs(o-u)-B-O;if(F<0&&s===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},ene={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EB=function(e){var t=gO(gO({},ene),e),n=t.cx,i=t.cy,a=t.innerRadius,s=t.outerRadius,c=t.cornerRadius,l=t.forceCornerRadius,o=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,h=t.className;if(s<a||u===f)return null;var d=Jt("recharts-sector",h),g=s-a,y=wi(c,g,0,!0),m;return y>0&&Math.abs(u-f)<360?m=Jre({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:o,startAngle:u,endAngle:f}):m=AB({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f}),pe.createElement("path",S4({},St(t,!0),{className:d,d:m,role:"img"}))};function Mp(r){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(r)}function A4(){return A4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},A4.apply(this,arguments)}function bO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(t),!0).forEach(function(n){tne(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tne(r,e,t){return e=rne(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rne(r){var e=nne(r,"string");return Mp(e)=="symbol"?e:e+""}function nne(r,e){if(Mp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var vO={curveBasisClosed:SW,curveBasisOpen:AW,curveBasis:_W,curveBumpX:lW,curveBumpY:cW,curveLinearClosed:EW,curveLinear:oy,curveMonotoneX:TW,curveMonotoneY:kW,curveNatural:jW,curveStep:CW,curveStepAfter:NW,curveStepBefore:OW},P0=function(e){return e.x===+e.x&&e.y===+e.y},cd=function(e){return e.x},ud=function(e){return e.y},ine=function(e,t){if(Lt(e))return e;var n="curve".concat(ay(e));return(n==="curveMonotone"||n==="curveBump")&&t?vO["".concat(n).concat(t==="vertical"?"Y":"X")]:vO[n]||oy},ane=function(e){var t=e.type,n=t===void 0?"linear":t,i=e.points,a=i===void 0?[]:i,s=e.baseLine,c=e.layout,l=e.connectNulls,o=l===void 0?!1:l,u=ine(n,c),f=o?a.filter(function(y){return P0(y)}):a,h;if(Array.isArray(s)){var d=o?s.filter(function(y){return P0(y)}):s,g=f.map(function(y,m){return yO(yO({},y),{},{base:d[m]})});return c==="vertical"?h=T0().y(ud).x1(cd).x0(function(y){return y.base.x}):h=T0().x(cd).y1(ud).y0(function(y){return y.base.y}),h.defined(P0).curve(u),h(g)}return c==="vertical"&&Qe(s)?h=T0().y(ud).x1(cd).x0(s):Qe(s)?h=T0().x(cd).y1(ud).y0(s):h=SP().x(cd).y(ud),h.defined(P0).curve(u),h(f)},Yo=function(e){var t=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?ane(e):i;return pe.createElement("path",A4({},St(e,!1),kg(e),{className:Jt("recharts-curve",t),d:s,ref:a}))},x_={exports:{}},w_,xO;function sne(){if(xO)return w_;xO=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w_=r,w_}var __,wO;function one(){if(wO)return __;wO=1;var r=sne();function e(){}function t(){}return t.resetWarningCache=e,__=function(){function n(s,c,l,o,u,f){if(f!==r){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},__}var _O;function lne(){return _O||(_O=1,x_.exports=one()()),x_.exports}var cne=lne();const Ir=Cr(cne),{getOwnPropertyNames:une,getOwnPropertySymbols:fne}=Object,{hasOwnProperty:hne}=Object.prototype;function S_(r,e){return function(n,i,a){return r(n,i,a)&&e(n,i,a)}}function D0(r){return function(t,n,i){if(!t||!n||typeof t!="object"||typeof n!="object")return r(t,n,i);const{cache:a}=i,s=a.get(t),c=a.get(n);if(s&&c)return s===n&&c===t;a.set(t,n),a.set(n,t);const l=r(t,n,i);return a.delete(t),a.delete(n),l}}function dne(r){return r!=null?r[Symbol.toStringTag]:void 0}function SO(r){return une(r).concat(fne(r))}const pne=Object.hasOwn||((r,e)=>hne.call(r,e));function $c(r,e){return r===e||!r&&!e&&r!==r&&e!==e}const mne="__v",gne="__o",bne="_owner",{getOwnPropertyDescriptor:AO,keys:EO}=Object;function yne(r,e){return r.byteLength===e.byteLength&&eb(new Uint8Array(r),new Uint8Array(e))}function vne(r,e,t){let n=r.length;if(e.length!==n)return!1;for(;n-- >0;)if(!t.equals(r[n],e[n],n,n,r,e,t))return!1;return!0}function xne(r,e){return r.byteLength===e.byteLength&&eb(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function wne(r,e){return $c(r.getTime(),e.getTime())}function _ne(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function Sne(r,e){return r===e}function TO(r,e,t){const n=r.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=r.entries();let s,c,l=0;for(;(s=a.next())&&!s.done;){const o=e.entries();let u=!1,f=0;for(;(c=o.next())&&!c.done;){if(i[f]){f++;continue}const h=s.value,d=c.value;if(t.equals(h[0],d[0],l,f,r,e,t)&&t.equals(h[1],d[1],h[0],d[0],r,e,t)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}const Ane=$c;function Ene(r,e,t){const n=EO(r);let i=n.length;if(EO(e).length!==i)return!1;for(;i-- >0;)if(!TB(r,e,t,n[i]))return!1;return!0}function fd(r,e,t){const n=SO(r);let i=n.length;if(SO(e).length!==i)return!1;let a,s,c;for(;i-- >0;)if(a=n[i],!TB(r,e,t,a)||(s=AO(r,a),c=AO(e,a),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function Tne(r,e){return $c(r.valueOf(),e.valueOf())}function kne(r,e){return r.source===e.source&&r.flags===e.flags}function kO(r,e,t){const n=r.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=r.values();let s,c;for(;(s=a.next())&&!s.done;){const l=e.values();let o=!1,u=0;for(;(c=l.next())&&!c.done;){if(!i[u]&&t.equals(s.value,c.value,s.value,c.value,r,e,t)){o=i[u]=!0;break}u++}if(!o)return!1}return!0}function eb(r,e){let t=r.byteLength;if(e.byteLength!==t||r.byteOffset!==e.byteOffset)return!1;for(;t-- >0;)if(r[t]!==e[t])return!1;return!0}function jne(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function TB(r,e,t,n){return(n===bne||n===gne||n===mne)&&(r.$$typeof||e.$$typeof)?!0:pne(e,n)&&t.equals(r[n],e[n],n,n,r,e,t)}const Cne="[object ArrayBuffer]",One="[object Arguments]",Nne="[object Boolean]",Mne="[object DataView]",Rne="[object Date]",Ine="[object Error]",Pne="[object Map]",Dne="[object Number]",Bne="[object Object]",Lne="[object RegExp]",Fne="[object Set]",$ne="[object String]",Vne={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},zne="[object URL]",qne=Object.prototype.toString;function Une({areArrayBuffersEqual:r,areArraysEqual:e,areDataViewsEqual:t,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:c,areObjectsEqual:l,arePrimitiveWrappersEqual:o,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:d,unknownTagComparators:g}){return function(m,x,v){if(m===x)return!0;if(m==null||x==null)return!1;const _=typeof m;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?c(m,x,v):_==="function"?a(m,x,v):!1;const k=m.constructor;if(k!==x.constructor)return!1;if(k===Object)return l(m,x,v);if(Array.isArray(m))return e(m,x,v);if(k===Date)return n(m,x,v);if(k===RegExp)return u(m,x,v);if(k===Map)return s(m,x,v);if(k===Set)return f(m,x,v);const N=qne.call(m);if(N===Rne)return n(m,x,v);if(N===Lne)return u(m,x,v);if(N===Pne)return s(m,x,v);if(N===Fne)return f(m,x,v);if(N===Bne)return typeof m.then!="function"&&typeof x.then!="function"&&l(m,x,v);if(N===zne)return d(m,x,v);if(N===Ine)return i(m,x,v);if(N===One)return l(m,x,v);if(Vne[N])return h(m,x,v);if(N===Cne)return r(m,x,v);if(N===Mne)return t(m,x,v);if(N===Nne||N===Dne||N===$ne)return o(m,x,v);if(g){let P=g[N];if(!P){const D=dne(m);D&&(P=g[D])}if(P)return P(m,x,v)}return!1}}function Hne({circular:r,createCustomConfig:e,strict:t}){let n={areArrayBuffersEqual:yne,areArraysEqual:t?fd:vne,areDataViewsEqual:xne,areDatesEqual:wne,areErrorsEqual:_ne,areFunctionsEqual:Sne,areMapsEqual:t?S_(TO,fd):TO,areNumbersEqual:Ane,areObjectsEqual:t?fd:Ene,arePrimitiveWrappersEqual:Tne,areRegExpsEqual:kne,areSetsEqual:t?S_(kO,fd):kO,areTypedArraysEqual:t?S_(eb,fd):eb,areUrlsEqual:jne,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),r){const i=D0(n.areArraysEqual),a=D0(n.areMapsEqual),s=D0(n.areObjectsEqual),c=D0(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return n}function Kne(r){return function(e,t,n,i,a,s,c){return r(e,t,c)}}function Gne({circular:r,comparator:e,createState:t,equals:n,strict:i}){if(t)return function(c,l){const{cache:o=r?new WeakMap:void 0,meta:u}=t();return e(c,l,{cache:o,equals:n,meta:u,strict:i})};if(r)return function(c,l){return e(c,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,l){return e(c,l,a)}}const Wne=pl();pl({strict:!0});pl({circular:!0});pl({circular:!0,strict:!0});pl({createInternalComparator:()=>$c});pl({strict:!0,createInternalComparator:()=>$c});pl({circular:!0,createInternalComparator:()=>$c});pl({circular:!0,createInternalComparator:()=>$c,strict:!0});function pl(r={}){const{circular:e=!1,createInternalComparator:t,createState:n,strict:i=!1}=r,a=Hne(r),s=Une(a),c=t?t(s):Kne(s);return Gne({circular:e,comparator:s,createState:n,equals:c,strict:i})}function Xne(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function jO(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=-1,n=function i(a){t<0&&(t=a),a-t>e?(r(a),t=-1):Xne(i)};requestAnimationFrame(n)}function E4(r){"@babel/helpers - typeof";return E4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E4(r)}function Yne(r){return eie(r)||Jne(r)||Zne(r)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zne(r,e){if(r){if(typeof r=="string")return CO(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return CO(r,e)}}function CO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Jne(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function eie(r){if(Array.isArray(r))return r}function tie(){var r={},e=function(){return null},t=!1,n=function i(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var s=a,c=Yne(s),l=c[0],o=c.slice(1);if(typeof l=="number"){jO(i.bind(null,o),l);return}i(l),jO(i.bind(null,o));return}E4(a)==="object"&&(r=a,e(r)),typeof a=="function"&&a()}};return{stop:function(){t=!0},start:function(a){t=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Rp(r){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(r)}function OO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function NO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(t),!0).forEach(function(n){kB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kB(r,e,t){return e=rie(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rie(r){var e=nie(r,"string");return Rp(e)==="symbol"?e:String(e)}function nie(r,e){if(Rp(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Rp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var iie=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},aie=function(e){return e},sie=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},Bd=function(e,t){return Object.keys(t).reduce(function(n,i){return NO(NO({},n),{},kB({},i,e(i,t[i])))},{})},MO=function(e,t,n){return e.map(function(i){return"".concat(sie(i)," ").concat(t,"ms ").concat(n)}).join(",")};function oie(r,e){return uie(r)||cie(r,e)||jB(r,e)||lie()}function lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function uie(r){if(Array.isArray(r))return r}function fie(r){return pie(r)||die(r)||jB(r)||hie()}function hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jB(r,e){if(r){if(typeof r=="string")return T4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T4(r,e)}}function die(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function pie(r){if(Array.isArray(r))return T4(r)}function T4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var tb=1e-4,CB=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},OB=function(e,t){return e.map(function(n,i){return n*Math.pow(t,i)}).reduce(function(n,i){return n+i})},RO=function(e,t){return function(n){var i=CB(e,t);return OB(i,n)}},mie=function(e,t){return function(n){var i=CB(e,t),a=[].concat(fie(i.map(function(s,c){return s*c}).slice(1)),[0]);return OB(a,n)}},IO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],a=t[1],s=t[2],c=t[3];if(t.length===1)switch(t[0]){case"linear":i=0,a=0,s=1,c=1;break;case"ease":i=.25,a=.1,s=.25,c=1;break;case"ease-in":i=.42,a=0,s=1,c=1;break;case"ease-out":i=.42,a=0,s=.58,c=1;break;case"ease-in-out":i=0,a=0,s=.58,c=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var o=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),u=oie(o,4);i=u[0],a=u[1],s=u[2],c=u[3]}}}var f=RO(i,s),h=RO(a,c),d=mie(i,s),g=function(x){return x>1?1:x<0?0:x},y=function(x){for(var v=x>1?1:x,_=v,k=0;k<8;++k){var N=f(_)-v,P=d(_);if(Math.abs(N-v)<tb||P<tb)return h(_);_=g(_-N/P)}return h(_)};return y.isStepper=!1,y},gie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,n=t===void 0?100:t,i=e.damping,a=i===void 0?8:i,s=e.dt,c=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,g=h*a,y=h+(d-g)*c/1e3,m=h*c/1e3+u;return Math.abs(m-f)<tb&&Math.abs(y)<tb?[f,0]:[m,y]};return l.isStepper=!0,l.dt=c,l},bie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IO(i);case"spring":return gie();default:if(i.split("(")[0]==="cubic-bezier")return IO(i)}return typeof i=="function"?i:null};function Ip(r){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(r)}function PO(r){return xie(r)||vie(r)||NB(r)||yie()}function yie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vie(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function xie(r){if(Array.isArray(r))return j4(r)}function DO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ei(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(t),!0).forEach(function(n){k4(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function k4(r,e,t){return e=wie(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wie(r){var e=_ie(r,"string");return Ip(e)==="symbol"?e:String(e)}function _ie(r,e){if(Ip(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ip(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Sie(r,e){return Tie(r)||Eie(r,e)||NB(r,e)||Aie()}function Aie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NB(r,e){if(r){if(typeof r=="string")return j4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j4(r,e)}}function j4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Eie(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Tie(r){if(Array.isArray(r))return r}var rb=function(e,t,n){return e+(t-e)*n},C4=function(e){var t=e.from,n=e.to;return t!==n},kie=function r(e,t,n){var i=Bd(function(a,s){if(C4(s)){var c=e(s.from,s.to,s.velocity),l=Sie(c,2),o=l[0],u=l[1];return ei(ei({},s),{},{from:o,velocity:u})}return s},t);return n<1?Bd(function(a,s){return C4(s)?ei(ei({},s),{},{velocity:rb(s.velocity,i[a].velocity,n),from:rb(s.from,i[a].from,n)}):s},t):r(e,i,n-1)};const jie=(function(r,e,t,n,i){var a=iie(r,e),s=a.reduce(function(m,x){return ei(ei({},m),{},k4({},x,[r[x],e[x]]))},{}),c=a.reduce(function(m,x){return ei(ei({},m),{},k4({},x,{from:r[x],velocity:0,to:e[x]}))},{}),l=-1,o,u,f=function(){return null},h=function(){return Bd(function(x,v){return v.from},c)},d=function(){return!Object.values(c).filter(C4).length},g=function(x){o||(o=x);var v=x-o,_=v/t.dt;c=kie(t,c,_),i(ei(ei(ei({},r),e),h())),o=x,d()||(l=requestAnimationFrame(f))},y=function(x){u||(u=x);var v=(x-u)/n,_=Bd(function(N,P){return rb.apply(void 0,PO(P).concat([t(v)]))},s);if(i(ei(ei(ei({},r),e),_)),v<1)l=requestAnimationFrame(f);else{var k=Bd(function(N,P){return rb.apply(void 0,PO(P).concat([t(1)]))},s);i(ei(ei(ei({},r),e),k))}};return f=t.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}});function Sf(r){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(r)}var Cie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Oie(r,e){if(r==null)return{};var t=Nie(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Nie(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function A_(r){return Pie(r)||Iie(r)||Rie(r)||Mie()}function Mie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rie(r,e){if(r){if(typeof r=="string")return O4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O4(r,e)}}function Iie(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Pie(r){if(Array.isArray(r))return O4(r)}function O4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function BO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Pa(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(t),!0).forEach(function(n){Sd(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Sd(r,e,t){return e=MB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Die(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Bie(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,MB(n.key),n)}}function Lie(r,e,t){return e&&Bie(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function MB(r){var e=Fie(r,"string");return Sf(e)==="symbol"?e:String(e)}function Fie(r,e){if(Sf(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Sf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $ie(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&N4(r,e)}function N4(r,e){return N4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N4(r,e)}function Vie(r){var e=zie();return function(){var n=nb(r),i;if(e){var a=nb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return M4(this,i)}}function M4(r,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R4(r)}function R4(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nb(r){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nb(r)}var xa=(function(r){$ie(t,r);var e=Vie(t);function t(n,i){var a;Die(this,t),a=e.call(this,n,i);var s=a.props,c=s.isActive,l=s.attributeName,o=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(R4(a)),a.changeStyle=a.changeStyle.bind(R4(a)),!c||d<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),M4(a);if(f&&f.length)a.state={style:f[0].style};else if(o){if(typeof h=="function")return a.state={style:o},M4(a);a.state={style:l?Sd({},l,o):o}}else a.state={style:{}};return a}return Lie(t,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,c=a.canBegin,l=a.attributeName,o=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(c){if(!s){var d={style:l?Sd({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(Wne(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||o?f:i.to;if(this.state&&h){var m={style:l?Sd({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(m)}this.runAnimation(Pa(Pa({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,c=i.to,l=i.duration,o=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,d=jie(s,c,bie(o),l,this.changeStyle),g=function(){a.stopJSAnimation=d()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,c=i.begin,l=i.onAnimationStart,o=s[0],u=o.style,f=o.duration,h=f===void 0?0:f,d=function(y,m,x){if(x===0)return y;var v=m.duration,_=m.easing,k=_===void 0?"ease":_,N=m.style,P=m.properties,D=m.onAnimationEnd,I=x>0?s[x-1]:m,B=P||Object.keys(N);if(typeof k=="function"||k==="spring")return[].concat(A_(y),[a.runJSAnimation.bind(a,{from:I.style,to:N,duration:v,easing:k}),v]);var L=MO(B,v,k),z=Pa(Pa(Pa({},I.style),N),{},{transition:L});return[].concat(A_(y),[z,v,D]).filter(aie)};return this.manager.start([l].concat(A_(s.reduce(d,[u,Math.max(h,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=tie());var a=i.begin,s=i.duration,c=i.attributeName,l=i.to,o=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,d=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=c?Sd({},c,l):l,m=MO(Object.keys(y),s,o);g.start([u,a,Pa(Pa({},y),{},{transition:m}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Oie(i,Cie),o=ye.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!c||o===0||s<=0)return a;var f=function(d){var g=d.props,y=g.style,m=y===void 0?{}:y,x=g.className,v=ye.cloneElement(d,Pa(Pa({},l),{},{style:Pa(Pa({},m),u),className:x}));return v};return o===1?f(ye.Children.only(a)):pe.createElement("div",null,ye.Children.map(a,function(h){return f(h)}))}}]),t})(ye.PureComponent);xa.displayName="Animate";xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xa.propTypes={from:Ir.oneOfType([Ir.object,Ir.string]),to:Ir.oneOfType([Ir.object,Ir.string]),attributeName:Ir.string,duration:Ir.number,begin:Ir.number,easing:Ir.oneOfType([Ir.string,Ir.func]),steps:Ir.arrayOf(Ir.shape({duration:Ir.number.isRequired,style:Ir.object.isRequired,easing:Ir.oneOfType([Ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ir.func]),properties:Ir.arrayOf("string"),onAnimationEnd:Ir.func})),children:Ir.oneOfType([Ir.node,Ir.func]),isActive:Ir.bool,canBegin:Ir.bool,onAnimationEnd:Ir.func,shouldReAnimate:Ir.bool,onAnimationStart:Ir.func,onAnimationReStart:Ir.func};function Pp(r){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(r)}function ib(){return ib=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ib.apply(this,arguments)}function qie(r,e){return Gie(r)||Kie(r,e)||Hie(r,e)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(r,e){if(r){if(typeof r=="string")return LO(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return LO(r,e)}}function LO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Kie(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Gie(r){if(Array.isArray(r))return r}function FO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $O(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(t),!0).forEach(function(n){Wie(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wie(r,e,t){return e=Xie(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xie(r){var e=Yie(r,"string");return Pp(e)=="symbol"?e:e+""}function Yie(r,e){if(Pp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var VO=function(e,t,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,l=n>=0?1:-1,o=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=a[h]>s?s:a[h];u="M".concat(e,",").concat(t+c*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(o,",").concat(e+l*f[0],",").concat(t)),u+="L ".concat(e+n-l*f[1],",").concat(t),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(o,`,
        `).concat(e+n,",").concat(t+c*f[1])),u+="L ".concat(e+n,",").concat(t+i-c*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(o,`,
        `).concat(e+n-l*f[2],",").concat(t+i)),u+="L ".concat(e+l*f[3],",").concat(t+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(o,`,
        `).concat(e,",").concat(t+i-c*f[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);u="M ".concat(e,",").concat(t+c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+l*g,",").concat(t,`
            L `).concat(e+n-l*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+n,",").concat(t+c*g,`
            L `).concat(e+n,",").concat(t+i-c*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e+n-l*g,",").concat(t+i,`
            L `).concat(e+l*g,",").concat(t+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(o,",").concat(e,",").concat(t+i-c*g," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},Qie=function(e,t){if(!e||!t)return!1;var n=e.x,i=e.y,a=t.x,s=t.y,c=t.width,l=t.height;if(Math.abs(c)>0&&Math.abs(l)>0){var o=Math.min(a,a+c),u=Math.max(a,a+c),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=o&&n<=u&&i>=f&&i<=h}return!1},Zie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iS=function(e){var t=$O($O({},Zie),e),n=ye.useRef(),i=ye.useState(-1),a=qie(i,2),s=a[0],c=a[1];ye.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&c(k)}catch{}},[]);var l=t.x,o=t.y,u=t.width,f=t.height,h=t.radius,d=t.className,g=t.animationEasing,y=t.animationDuration,m=t.animationBegin,x=t.isAnimationActive,v=t.isUpdateAnimationActive;if(l!==+l||o!==+o||u!==+u||f!==+f||u===0||f===0)return null;var _=Jt("recharts-rectangle",d);return v?pe.createElement(xa,{canBegin:s>0,from:{width:u,height:f,x:l,y:o},to:{width:u,height:f,x:l,y:o},duration:y,animationEasing:g,isActive:v},function(k){var N=k.width,P=k.height,D=k.x,I=k.y;return pe.createElement(xa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,isActive:x,easing:g},pe.createElement("path",ib({},St(t,!0),{className:_,d:VO(D,I,N,P,h),ref:n})))}):pe.createElement("path",ib({},St(t,!0),{className:_,d:VO(l,o,u,f,h)}))},Jie=["points","className","baseLinePoints","connectNulls"];function Lu(){return Lu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Lu.apply(this,arguments)}function eae(r,e){if(r==null)return{};var t=tae(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function tae(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function zO(r){return aae(r)||iae(r)||nae(r)||rae()}function rae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(r,e){if(r){if(typeof r=="string")return I4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I4(r,e)}}function iae(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function aae(r){if(Array.isArray(r))return I4(r)}function I4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var qO=function(e){return e&&e.x===+e.x&&e.y===+e.y},sae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(n){qO(n)?t[t.length-1].push(n):t[t.length-1].length>0&&t.push([])}),qO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},Ld=function(e,t){var n=sae(e);t&&(n=[n.reduce(function(a,s){return[].concat(zO(a),zO(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,c,l){return"".concat(s).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},oae=function(e,t,n){var i=Ld(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ld(t.reverse(),n).slice(1))},lae=function(e){var t=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=eae(e,Jie);if(!t||!t.length)return null;var c=Jt("recharts-polygon",n);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",o=oae(t,i,a);return pe.createElement("g",{className:c},pe.createElement("path",Lu({},St(s,!0),{fill:o.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:o})),l?pe.createElement("path",Lu({},St(s,!0),{fill:"none",d:Ld(t,a)})):null,l?pe.createElement("path",Lu({},St(s,!0),{fill:"none",d:Ld(i,a)})):null)}var u=Ld(t,a);return pe.createElement("path",Lu({},St(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:c,d:u}))};function P4(){return P4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},P4.apply(this,arguments)}var fm=function(e){var t=e.cx,n=e.cy,i=e.r,a=e.className,s=Jt("recharts-dot",a);return t===+t&&n===+n&&i===+i?pe.createElement("circle",P4({},St(e,!1),kg(e),{className:s,cx:t,cy:n,r:i})):null};function Dp(r){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(r)}var cae=["x","y","top","left","width","height","className"];function D4(){return D4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},D4.apply(this,arguments)}function UO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function uae(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(t),!0).forEach(function(n){fae(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fae(r,e,t){return e=hae(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hae(r){var e=dae(r,"string");return Dp(e)=="symbol"?e:e+""}function dae(r,e){if(Dp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pae(r,e){if(r==null)return{};var t=mae(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function mae(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var gae=function(e,t,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(t,"h").concat(n)},bae=function(e){var t=e.x,n=t===void 0?0:t,i=e.y,a=i===void 0?0:i,s=e.top,c=s===void 0?0:s,l=e.left,o=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,d=h===void 0?0:h,g=e.className,y=pae(e,cae),m=uae({x:n,y:a,top:c,left:o,width:f,height:d},y);return!Qe(n)||!Qe(a)||!Qe(f)||!Qe(d)||!Qe(c)||!Qe(o)?null:pe.createElement("path",D4({},St(m,!0),{className:Jt("recharts-cross",g),d:gae(n,a,f,d,c,o)}))},E_,HO;function yae(){if(HO)return E_;HO=1;var r=vy(),e=GD(),t=gs();function n(i,a){return i&&i.length?r(i,t(a,2),e):void 0}return E_=n,E_}var vae=yae();const xae=Cr(vae);var T_,KO;function wae(){if(KO)return T_;KO=1;var r=vy(),e=gs(),t=WD();function n(i,a){return i&&i.length?r(i,e(a,2),t):void 0}return T_=n,T_}var _ae=wae();const Sae=Cr(_ae);var Aae=["cx","cy","angle","ticks","axisLine"],Eae=["ticks","tick","angle","tickFormatter","stroke"];function Af(r){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(r)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fd.apply(this,arguments)}function GO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Kl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(t),!0).forEach(function(n){Sy(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):GO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function WO(r,e){if(r==null)return{};var t=Tae(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Tae(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function kae(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,IB(n.key),n)}}function jae(r,e,t){return e&&XO(r.prototype,e),t&&XO(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Cae(r,e,t){return e=ab(e),Oae(r,RB()?Reflect.construct(e,t||[],ab(r).constructor):e.apply(r,t))}function Oae(r,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nae(r)}function Nae(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function RB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!r})()}function ab(r){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ab(r)}function Mae(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&B4(r,e)}function B4(r,e){return B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B4(r,e)}function Sy(r,e,t){return e=IB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function IB(r){var e=Rae(r,"string");return Af(e)=="symbol"?e:e+""}function Rae(r,e){if(Af(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Ay=(function(r){function e(){return kae(this,e),Cae(this,e,arguments)}return Mae(e,r),jae(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,c=a.cx,l=a.cy;return Jr(c,l,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,c=n.ticks,l=xae(c,function(u){return u.coordinate||0}),o=Sae(c,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:o.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,c=n.ticks,l=n.axisLine,o=WO(n,Aae),u=c.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=Jr(i,a,u[0],s),h=Jr(i,a,u[1],s),d=Kl(Kl(Kl({},St(o,!1)),{},{fill:"none"},St(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return pe.createElement("line",Fd({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,c=i.angle,l=i.tickFormatter,o=i.stroke,u=WO(i,Eae),f=this.getTickTextAnchor(),h=St(u,!1),d=St(s,!1),g=a.map(function(y,m){var x=n.getTickValueCoord(y),v=Kl(Kl(Kl(Kl({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:o},d),{},{index:m},x),{},{payload:y});return pe.createElement(nr,Fd({className:Jt("recharts-polar-radius-axis-tick",_B(s)),key:"tick-".concat(y.coordinate)},rl(n.props,y,m)),e.renderTickItem(s,v,l?l(y.value,m):y.value))});return pe.createElement(nr,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:pe.createElement(nr,{className:Jt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Gn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return pe.isValidElement(n)?s=pe.cloneElement(n,i):Lt(n)?s=n(i):s=pe.createElement(jc,Fd({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(ye.PureComponent);Sy(Ay,"displayName","PolarRadiusAxis");Sy(Ay,"axisType","radiusAxis");Sy(Ay,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ef(r){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(r)}function nc(){return nc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},nc.apply(this,arguments)}function YO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Gl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(t),!0).forEach(function(n){Ey(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Iae(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,DB(n.key),n)}}function Pae(r,e,t){return e&&QO(r.prototype,e),t&&QO(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Dae(r,e,t){return e=sb(e),Bae(r,PB()?Reflect.construct(e,t||[],sb(r).constructor):e.apply(r,t))}function Bae(r,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lae(r)}function Lae(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function PB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PB=function(){return!!r})()}function sb(r){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sb(r)}function Fae(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&L4(r,e)}function L4(r,e){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L4(r,e)}function Ey(r,e,t){return e=DB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function DB(r){var e=$ae(r,"string");return Ef(e)=="symbol"?e:e+""}function $ae(r,e){if(Ef(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Vae=Math.PI/180,ZO=1e-5,Ty=(function(r){function e(){return Iae(this,e),Dae(this,e,arguments)}return Fae(e,r),Pae(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,c=i.radius,l=i.orientation,o=i.tickSize,u=o||8,f=Jr(a,s,c,n.coordinate),h=Jr(a,s,c+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Vae),s;return a>ZO?s=i==="outer"?"start":"end":a<-ZO?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,c=n.axisLine,l=n.axisLineType,o=Gl(Gl({},St(this.props,!1)),{},{fill:"none"},St(c,!1));if(l==="circle")return pe.createElement(fm,nc({className:"recharts-polar-angle-axis-line"},o,{cx:i,cy:a,r:s}));var u=this.props.ticks,f=u.map(function(h){return Jr(i,a,s,h.coordinate)});return pe.createElement(lae,nc({className:"recharts-polar-angle-axis-line"},o,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,c=i.tickLine,l=i.tickFormatter,o=i.stroke,u=St(this.props,!1),f=St(s,!1),h=Gl(Gl({},u),{},{fill:"none"},St(c,!1)),d=a.map(function(g,y){var m=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),v=Gl(Gl(Gl({textAnchor:x},u),{},{stroke:"none",fill:o},f),{},{index:y,payload:g,x:m.x2,y:m.y2});return pe.createElement(nr,nc({className:Jt("recharts-polar-angle-axis-tick",_B(s)),key:"tick-".concat(g.coordinate)},rl(n.props,g,y)),c&&pe.createElement("line",nc({className:"recharts-polar-angle-axis-tick-line"},h,m)),s&&e.renderTickItem(s,v,l?l(g.value,y):g.value))});return pe.createElement(nr,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:pe.createElement(nr,{className:Jt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return pe.isValidElement(n)?s=pe.cloneElement(n,i):Lt(n)?s=n(i):s=pe.createElement(jc,nc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(ye.PureComponent);Ey(Ty,"displayName","PolarAngleAxis");Ey(Ty,"axisType","angleAxis");Ey(Ty,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var k_,JO;function zae(){if(JO)return k_;JO=1;var r=KP(),e=r(Object.getPrototypeOf,Object);return k_=e,k_}var j_,eN;function qae(){if(eN)return j_;eN=1;var r=to(),e=zae(),t=ro(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,c=a.hasOwnProperty,l=s.call(Object);function o(u){if(!t(u)||r(u)!=n)return!1;var f=e(u);if(f===null)return!0;var h=c.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return j_=o,j_}var Uae=qae();const Hae=Cr(Uae);var C_,tN;function Kae(){if(tN)return C_;tN=1;var r=to(),e=ro(),t="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&r(i)==t}return C_=n,C_}var Gae=Kae();const Wae=Cr(Gae);function Bp(r){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(r)}function ob(){return ob=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ob.apply(this,arguments)}function Xae(r,e){return Jae(r)||Zae(r,e)||Qae(r,e)||Yae()}function Yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(r,e){if(r){if(typeof r=="string")return rN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rN(r,e)}}function rN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Zae(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Jae(r){if(Array.isArray(r))return r}function nN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function iN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(t),!0).forEach(function(n){ese(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ese(r,e,t){return e=tse(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tse(r){var e=rse(r,"string");return Bp(e)=="symbol"?e:e+""}function rse(r,e){if(Bp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var aN=function(e,t,n,i,a){var s=n-i,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-s/2,",").concat(t+a),c+="L ".concat(e+n-s/2-i,",").concat(t+a),c+="L ".concat(e,",").concat(t," Z"),c},nse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ise=function(e){var t=iN(iN({},nse),e),n=ye.useRef(),i=ye.useState(-1),a=Xae(i,2),s=a[0],c=a[1];ye.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&c(_)}catch{}},[]);var l=t.x,o=t.y,u=t.upperWidth,f=t.lowerWidth,h=t.height,d=t.className,g=t.animationEasing,y=t.animationDuration,m=t.animationBegin,x=t.isUpdateAnimationActive;if(l!==+l||o!==+o||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var v=Jt("recharts-trapezoid",d);return x?pe.createElement(xa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:o},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:o},duration:y,animationEasing:g,isActive:x},function(_){var k=_.upperWidth,N=_.lowerWidth,P=_.height,D=_.x,I=_.y;return pe.createElement(xa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,easing:g},pe.createElement("path",ob({},St(t,!0),{className:v,d:aN(D,I,k,N,P),ref:n})))}):pe.createElement("g",null,pe.createElement("path",ob({},St(t,!0),{className:v,d:aN(l,o,u,f,h)})))},ase=["option","shapeType","propTransformer","activeClassName","isActive"];function Lp(r){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(r)}function sse(r,e){if(r==null)return{};var t=ose(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ose(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function sN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function lb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(t),!0).forEach(function(n){lse(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lse(r,e,t){return e=cse(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cse(r){var e=use(r,"string");return Lp(e)=="symbol"?e:e+""}function use(r,e){if(Lp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function fse(r,e){return lb(lb({},e),r)}function hse(r,e){return r==="symbols"}function oN(r){var e=r.shapeType,t=r.elementProps;switch(e){case"rectangle":return pe.createElement(iS,t);case"trapezoid":return pe.createElement(ise,t);case"sector":return pe.createElement(EB,t);case"symbols":if(hse(e))return pe.createElement(cy,t);break;default:return null}}function dse(r){return ye.isValidElement(r)?r.props:r}function cb(r){var e=r.option,t=r.shapeType,n=r.propTransformer,i=n===void 0?fse:n,a=r.activeClassName,s=a===void 0?"recharts-active-shape":a,c=r.isActive,l=sse(r,ase),o;if(ye.isValidElement(e))o=ye.cloneElement(e,lb(lb({},l),dse(e)));else if(Lt(e))o=e(l);else if(Hae(e)&&!Wae(e)){var u=i(e,l);o=pe.createElement(oN,{shapeType:t,elementProps:u})}else{var f=l;o=pe.createElement(oN,{shapeType:t,elementProps:f})}return c?pe.createElement(nr,{className:s},o):o}function ky(r,e){return e!=null&&"trapezoids"in r.props}function jy(r,e){return e!=null&&"sectors"in r.props}function Fp(r,e){return e!=null&&"points"in r.props}function pse(r,e){var t,n,i=r.x===(e==null||(t=e.labelViewBox)===null||t===void 0?void 0:t.x)||r.x===e.x,a=r.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||r.y===e.y;return i&&a}function mse(r,e){var t=r.endAngle===e.endAngle,n=r.startAngle===e.startAngle;return t&&n}function gse(r,e){var t=r.x===e.x,n=r.y===e.y,i=r.z===e.z;return t&&n&&i}function bse(r,e){var t;return ky(r,e)?t=pse:jy(r,e)?t=mse:Fp(r,e)&&(t=gse),t}function yse(r,e){var t;return ky(r,e)?t="trapezoids":jy(r,e)?t="sectors":Fp(r,e)&&(t="points"),t}function vse(r,e){if(ky(r,e)){var t;return(t=e.tooltipPayload)===null||t===void 0||(t=t[0])===null||t===void 0||(t=t.payload)===null||t===void 0?void 0:t.payload}if(jy(r,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Fp(r,e)?e.payload:{}}function xse(r){var e=r.activeTooltipItem,t=r.graphicalItem,n=r.itemData,i=yse(t,e),a=vse(t,e),s=n.filter(function(l,o){var u=il(a,l),f=t.props[i].filter(function(g){var y=bse(t,e);return y(g,e)}),h=t.props[i].indexOf(f[f.length-1]),d=o===h;return u&&d}),c=n.indexOf(s[s.length-1]);return c}var eg;function Tf(r){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(r)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fu.apply(this,arguments)}function lN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Qr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(t),!0).forEach(function(n){ba(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wse(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function cN(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,LB(n.key),n)}}function _se(r,e,t){return e&&cN(r.prototype,e),t&&cN(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Sse(r,e,t){return e=ub(e),Ase(r,BB()?Reflect.construct(e,t||[],ub(r).constructor):e.apply(r,t))}function Ase(r,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ese(r)}function Ese(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function BB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!r})()}function ub(r){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ub(r)}function Tse(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&F4(r,e)}function F4(r,e){return F4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F4(r,e)}function ba(r,e,t){return e=LB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function LB(r){var e=kse(r,"string");return Tf(e)=="symbol"?e:e+""}function kse(r,e){if(Tf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var ao=(function(r){function e(t){var n;return wse(this,e),n=Sse(this,e,[t]),ba(n,"pieRef",null),ba(n,"sectorRefs",[]),ba(n,"id",fl("recharts-pie-")),ba(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Lt(i)&&i()}),ba(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Lt(i)&&i()}),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return Tse(e,r),_se(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,c=a.labelLine,l=a.dataKey,o=a.valueKey,u=St(this.props,!1),f=St(s,!1),h=St(c,!1),d=s&&s.offsetRadius||20,g=n.map(function(y,m){var x=(y.startAngle+y.endAngle)/2,v=Jr(y.cx,y.cy,y.outerRadius+d,x),_=Qr(Qr(Qr(Qr({},u),y),{},{stroke:"none"},f),{},{index:m,textAnchor:e.getTextAnchor(v.x,y.cx)},v),k=Qr(Qr(Qr(Qr({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:m,points:[Jr(y.cx,y.cy,y.outerRadius,x),v]}),N=l;return Ft(l)&&Ft(o)?N="value":Ft(l)&&(N=o),pe.createElement(nr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(m)},c&&e.renderLabelLineItem(c,k,"line"),e.renderLabelItem(s,_,nn(y,N)))});return pe.createElement(nr,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,c=a.blendStroke,l=a.inactiveShape;return n.map(function(o,u){if((o==null?void 0:o.startAngle)===0&&(o==null?void 0:o.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,d=f?s:h,g=Qr(Qr({},o),{},{stroke:c?o.fill:o.stroke,tabIndex:-1});return pe.createElement(nr,Fu({ref:function(m){m&&!i.sectorRefs.includes(m)&&i.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},rl(i.props,o,u),{key:"sector-".concat(o==null?void 0:o.startAngle,"-").concat(o==null?void 0:o.endAngle,"-").concat(o.midAngle,"-").concat(u)}),pe.createElement(cb,Fu({option:d,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,o=i.animationEasing,u=i.animationId,f=this.state,h=f.prevSectors,d=f.prevIsAnimationActive;return pe.createElement(xa,{begin:c,duration:l,isActive:s,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,m=[],x=a&&a[0],v=x.startAngle;return a.forEach(function(_,k){var N=h&&h[k],P=k>0?Yi(_,"paddingAngle",0):0;if(N){var D=un(N.endAngle-N.startAngle,_.endAngle-_.startAngle),I=Qr(Qr({},_),{},{startAngle:v+P,endAngle:v+D(y)+P});m.push(I),v=I.endAngle}else{var B=_.endAngle,L=_.startAngle,z=un(0,B-L),$=z(y),O=Qr(Qr({},_),{},{startAngle:v+P,endAngle:v+$+P});m.push(O),v=O.endAngle}}),pe.createElement(nr,null,n.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!il(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,c=i.className,l=i.label,o=i.cx,u=i.cy,f=i.innerRadius,h=i.outerRadius,d=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!s||!s.length||!Qe(o)||!Qe(u)||!Qe(f)||!Qe(h))return null;var y=Jt("recharts-pie",c);return pe.createElement(nr,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(s),Gn.renderCallByParent(this.props,null,!1),(!d||g)&&za.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(pe.isValidElement(n))return pe.cloneElement(n,i);if(Lt(n))return n(i);var s=Jt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return pe.createElement(Yo,Fu({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(pe.isValidElement(n))return pe.cloneElement(n,i);var s=a;if(Lt(n)&&(s=n(i),pe.isValidElement(s)))return s;var c=Jt("recharts-pie-label-text",typeof n!="boolean"&&!Lt(n)?n.className:"");return pe.createElement(jc,Fu({},i,{alignmentBaseline:"middle",className:c}),s)}}])})(ye.PureComponent);eg=ao;ba(ao,"displayName","Pie");ba(ao,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!no.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ba(ao,"parseDeltaAngle",function(r,e){var t=xi(e-r),n=Math.min(Math.abs(e-r),360);return t*n});ba(ao,"getRealPieData",function(r){var e=r.data,t=r.children,n=St(r,!1),i=Ai(t,kc);return e&&e.length?e.map(function(a,s){return Qr(Qr(Qr({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Qr(Qr({},n),a.props)}):[]});ba(ao,"parseCoordinateOfPie",function(r,e){var t=e.top,n=e.left,i=e.width,a=e.height,s=wB(i,a),c=n+wi(r.cx,i,i/2),l=t+wi(r.cy,a,a/2),o=wi(r.innerRadius,s,0),u=wi(r.outerRadius,s,s*.8),f=r.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:l,innerRadius:o,outerRadius:u,maxRadius:f}});ba(ao,"getComposedData",function(r){var e=r.item,t=r.offset,n=e.type.defaultProps!==void 0?Qr(Qr({},e.type.defaultProps),e.props):e.props,i=eg.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,c=n.endAngle,l=n.paddingAngle,o=n.dataKey,u=n.nameKey,f=n.valueKey,h=n.tooltipType,d=Math.abs(n.minAngle),g=eg.parseCoordinateOfPie(n,t),y=eg.parseDeltaAngle(s,c),m=Math.abs(y),x=o;Ft(o)&&Ft(f)?(Va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ft(o)&&(Va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var v=i.filter(function(I){return nn(I,x,0)!==0}).length,_=(m>=360?v:v-1)*l,k=m-v*d-_,N=i.reduce(function(I,B){var L=nn(B,x,0);return I+(Qe(L)?L:0)},0),P;if(N>0){var D;P=i.map(function(I,B){var L=nn(I,x,0),z=nn(I,u,B),$=(Qe(L)?L:0)/N,O;B?O=D.endAngle+xi(y)*l*(L!==0?1:0):O=s;var F=O+xi(y)*((L!==0?d:0)+$*k),C=(O+F)/2,w=(g.innerRadius+g.outerRadius)/2,E=[{name:z,value:L,payload:I,dataKey:x,type:h}],A=Jr(g.cx,g.cy,w,C);return D=Qr(Qr(Qr({percent:$,cornerRadius:a,name:z,tooltipPayload:E,midAngle:C,middleRadius:w,tooltipPosition:A},I),g),{},{value:nn(I,x),startAngle:O,endAngle:F,payload:I,paddingAngle:xi(y)*l}),D})}return Qr(Qr({},g),{},{sectors:P,data:i})});var O_,uN;function jse(){if(uN)return O_;uN=1;var r=Math.ceil,e=Math.max;function t(n,i,a,s){for(var c=-1,l=e(r((i-n)/(a||1)),0),o=Array(l);l--;)o[s?l:++c]=n,n+=a;return o}return O_=t,O_}var N_,fN;function FB(){if(fN)return N_;fN=1;var r=lD(),e=1/0,t=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=r(i),i===e||i===-e){var a=i<0?-1:1;return a*t}return i===i?i:0}return N_=n,N_}var M_,hN;function Cse(){if(hN)return M_;hN=1;var r=jse(),e=hy(),t=FB();function n(i){return function(a,s,c){return c&&typeof c!="number"&&e(a,s,c)&&(s=c=void 0),a=t(a),s===void 0?(s=a,a=0):s=t(s),c=c===void 0?a<s?1:-1:t(c),r(a,s,c,i)}}return M_=n,M_}var R_,dN;function Ose(){if(dN)return R_;dN=1;var r=Cse(),e=r();return R_=e,R_}var Nse=Ose();const fb=Cr(Nse);function $p(r){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(r)}function pN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function mN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(t),!0).forEach(function(n){$B(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $B(r,e,t){return e=Mse(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mse(r){var e=Rse(r,"string");return $p(e)=="symbol"?e:e+""}function Rse(r,e){if($p(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ise=["Webkit","Moz","O","ms"],Pse=function(e,t){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ise.reduce(function(a,s){return mN(mN({},a),{},$B({},s+n,t))},{});return i[e]=t,i};function kf(r){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(r)}function hb(){return hb=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hb.apply(this,arguments)}function gN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function I_(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(t),!0).forEach(function(n){Ui(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Dse(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bN(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,zB(n.key),n)}}function Bse(r,e,t){return e&&bN(r.prototype,e),t&&bN(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Lse(r,e,t){return e=db(e),Fse(r,VB()?Reflect.construct(e,t||[],db(r).constructor):e.apply(r,t))}function Fse(r,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(r)}function $se(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function VB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!r})()}function db(r){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},db(r)}function Vse(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&$4(r,e)}function $4(r,e){return $4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$4(r,e)}function Ui(r,e,t){return e=zB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function zB(r){var e=zse(r,"string");return kf(e)=="symbol"?e:e+""}function zse(r,e){if(kf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var qse=function(e){var t=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,c=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,o=Pd().domain(fb(0,l)).range([a,a+s-c]),u=o.domain().map(function(f){return o(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:o(n),endX:o(i),scale:o,scaleValues:u}},yN=function(e){return e.changedTouches&&!!e.changedTouches.length},jf=(function(r){function e(t){var n;return Dse(this,e),n=Lse(this,e,[t]),Ui(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ui(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ui(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,c=i.startIndex;s==null||s({endIndex:a,startIndex:c})}),n.detachDragEndListener()}),Ui(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ui(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ui(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ui(n,"handleSlideDragStart",function(i){var a=yN(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Vse(e,r),Bse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,c=this.props,l=c.gap,o=c.data,u=o.length-1,f=Math.min(i,a),h=Math.max(i,a),d=e.getIndexInRange(s,f),g=e.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,c=i.dataKey,l=nn(a[n],c,n);return Lt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,c=i.endX,l=this.props,o=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,g=l.onChange,y=n.pageX-a;y>0?y=Math.min(y,o+u-f-c,o+u-f-s):y<0&&(y=Math.max(y,o-s,o-c));var m=this.getIndex({startX:s+y,endX:c+y});(m.startIndex!==h||m.endIndex!==d)&&g&&g(m),this.setState({startX:s+y,endX:c+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=yN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,c=i.endX,l=i.startX,o=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,g=u.onChange,y=u.gap,m=u.data,x={startX:this.state.startX,endX:this.state.endX},v=n.pageX-a;v>0?v=Math.min(v,f+h-d-o):v<0&&(v=Math.max(v,f-o)),x[s]=o+v;var _=this.getIndex(x),k=_.startIndex,N=_.endIndex,P=function(){var I=m.length-1;return s==="startX"&&(c>l?k%y===0:N%y===0)||c<l&&N===I||s==="endX"&&(c>l?N%y===0:k%y===0)||c>l&&N===I};this.setState(Ui(Ui({},s,o+v),"brushMoveStartX",n.pageX),function(){g&&P()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,c=s.scaleValues,l=s.startX,o=s.endX,u=this.state[i],f=c.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var d=c[h];i==="startX"&&d>=o||i==="endX"&&d<=l||this.setState(Ui({},i,d),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,l=n.fill,o=n.stroke;return pe.createElement("rect",{stroke:o,fill:l,x:i,y:a,width:s,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,l=n.data,o=n.children,u=n.padding,f=ye.Children.only(o);return f?pe.cloneElement(f,{x:i,y:a,width:s,height:c,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,c=this,l=this.props,o=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,g=l.data,y=l.startIndex,m=l.endIndex,x=Math.max(n,this.props.x),v=I_(I_({},St(this.props,!1)),{},{x,y:o,width:u,height:f}),_=d||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[m])===null||s===void 0?void 0:s.name);return pe.createElement(nr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,c=a.height,l=a.stroke,o=a.travellerWidth,u=Math.min(n,i)+o,f=Math.max(Math.abs(i-n)-o,0);return pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,c=n.height,l=n.travellerWidth,o=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,g={pointerEvents:"none",fill:o};return pe.createElement(nr,{className:"recharts-brush-texts"},pe.createElement(jc,hb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+c/2},g),this.getTextOfTick(i)),pe.createElement(jc,hb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+c/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,c=n.x,l=n.y,o=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,g=h.endX,y=h.isTextActive,m=h.isSlideMoving,x=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!Qe(c)||!Qe(l)||!Qe(o)||!Qe(u)||o<=0||u<=0)return null;var _=Jt("recharts-brush",a),k=pe.Children.count(s)===1,N=Pse("userSelect","none");return pe.createElement(nr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(d,g),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(g,"endX"),(y||m||x||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,c=n.height,l=n.stroke,o=Math.floor(a+c/2)-1;return pe.createElement(pe.Fragment,null,pe.createElement("rect",{x:i,y:a,width:s,height:c,fill:l,stroke:"none"}),pe.createElement("line",{x1:i+1,y1:o,x2:i+s-1,y2:o,fill:"none",stroke:"#fff"}),pe.createElement("line",{x1:i+1,y1:o+2,x2:i+s-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return pe.isValidElement(n)?a=pe.cloneElement(n,i):Lt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,c=n.x,l=n.travellerWidth,o=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||o!==i.prevUpdateId)return I_({prevData:a,prevTravellerWidth:l,prevUpdateId:o,prevX:c,prevWidth:s},a&&a.length?qse({data:a,width:s,x:c,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||c!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([c,c+s-l]);var h=i.scale.domain().map(function(d){return i.scale(d)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:o,prevX:c,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,c=a-1;c-s>1;){var l=Math.floor((s+c)/2);n[l]>i?c=l:s=l}return i>=n[c]?c:s}}])})(ye.PureComponent);Ui(jf,"displayName","Brush");Ui(jf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var P_,vN;function Use(){if(vN)return P_;vN=1;var r=O6();function e(t,n){var i;return r(t,function(a,s,c){return i=n(a,s,c),!i}),!!i}return P_=e,P_}var D_,xN;function Hse(){if(xN)return D_;xN=1;var r=FP(),e=gs(),t=Use(),n=Mi(),i=hy();function a(s,c,l){var o=n(s)?r:t;return l&&i(s,c,l)&&(c=void 0),o(s,e(c,3))}return D_=a,D_}var Kse=Hse();const Gse=Cr(Kse);var hs=function(e,t){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===t},B_,wN;function Wse(){if(wN)return B_;wN=1;var r=nD();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return B_=e,B_}var L_,_N;function Xse(){if(_N)return L_;_N=1;var r=Wse(),e=tD(),t=gs();function n(i,a){var s={};return a=t(a,3),e(i,function(c,l,o){r(s,l,a(c,l,o))}),s}return L_=n,L_}var Yse=Xse();const Qse=Cr(Yse);var F_,SN;function Zse(){if(SN)return F_;SN=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}return F_=r,F_}var $_,AN;function Jse(){if(AN)return $_;AN=1;var r=O6();function e(t,n){var i=!0;return r(t,function(a,s,c){return i=!!n(a,s,c),i}),i}return $_=e,$_}var V_,EN;function eoe(){if(EN)return V_;EN=1;var r=Zse(),e=Jse(),t=gs(),n=Mi(),i=hy();function a(s,c,l){var o=n(s)?r:e;return l&&i(s,c,l)&&(c=void 0),o(s,t(c,3))}return V_=a,V_}var toe=eoe();const qB=Cr(toe);var roe=["x","y"];function Vp(r){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(r)}function V4(){return V4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},V4.apply(this,arguments)}function TN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(t),!0).forEach(function(n){noe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function noe(r,e,t){return e=ioe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ioe(r){var e=aoe(r,"string");return Vp(e)=="symbol"?e:e+""}function aoe(r,e){if(Vp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function soe(r,e){if(r==null)return{};var t=ooe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ooe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function loe(r,e){var t=r.x,n=r.y,i=soe(r,roe),a="".concat(t),s=parseInt(a,10),c="".concat(n),l=parseInt(c,10),o="".concat(e.height||i.height),u=parseInt(o,10),f="".concat(e.width||i.width),h=parseInt(f,10);return hd(hd(hd(hd(hd({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function kN(r){return pe.createElement(cb,V4({shapeType:"rectangle",propTransformer:loe,activeClassName:"recharts-active-bar"},r))}var coe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||Oc(),t)}},uoe=["value","background"],UB;function Cf(r){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(r)}function foe(r,e){if(r==null)return{};var t=hoe(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function hoe(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function pb(){return pb=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},pb.apply(this,arguments)}function jN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Cn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(t),!0).forEach(function(n){qo(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function doe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function CN(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,KB(n.key),n)}}function poe(r,e,t){return e&&CN(r.prototype,e),t&&CN(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function moe(r,e,t){return e=mb(e),goe(r,HB()?Reflect.construct(e,t||[],mb(r).constructor):e.apply(r,t))}function goe(r,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return boe(r)}function boe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function HB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!r})()}function mb(r){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mb(r)}function yoe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&z4(r,e)}function z4(r,e){return z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z4(r,e)}function qo(r,e,t){return e=KB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KB(r){var e=voe(r,"string");return Cf(e)=="symbol"?e:e+""}function voe(r,e){if(Cf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Zi=(function(r){function e(){var t;doe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=moe(this,e,[].concat(i)),qo(t,"state",{isAnimationFinished:!1}),qo(t,"id",fl("recharts-bar-")),qo(t,"handleAnimationEnd",function(){var s=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),s&&s()}),qo(t,"handleAnimationStart",function(){var s=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),s&&s()}),t}return yoe(e,r),poe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,c=a.dataKey,l=a.activeIndex,o=a.activeBar,u=St(this.props,!1);return n&&n.map(function(f,h){var d=h===l,g=d?o:s,y=Cn(Cn(Cn({},u),f),{},{isActive:d,option:g,index:h,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return pe.createElement(nr,pb({className:"recharts-bar-rectangle"},rl(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),pe.createElement(kN,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,c=i.isAnimationActive,l=i.animationBegin,o=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return pe.createElement(xa,{begin:l,duration:o,isActive:c,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g=d.t,y=a.map(function(m,x){var v=h&&h[x];if(v){var _=un(v.x,m.x),k=un(v.y,m.y),N=un(v.width,m.width),P=un(v.height,m.height);return Cn(Cn({},m),{},{x:_(g),y:k(g),width:N(g),height:P(g)})}if(s==="horizontal"){var D=un(0,m.height),I=D(g);return Cn(Cn({},m),{},{y:m.y+m.height-I,height:I})}var B=un(0,m.width),L=B(g);return Cn(Cn({},m),{},{width:L})});return pe.createElement(nr,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!il(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,c=i.activeIndex,l=St(this.props.background,!1);return a.map(function(o,u){o.value;var f=o.background,h=foe(o,uoe);if(!f)return null;var d=Cn(Cn(Cn(Cn(Cn({},h),{},{fill:"#eee"},f),l),rl(n.props,o,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return pe.createElement(kN,pb({key:"background-bar-".concat(u),option:n.props.background,isActive:u===c},d))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,c=a.xAxis,l=a.yAxis,o=a.layout,u=a.children,f=Ai(u,rh);if(!f)return null;var h=o==="vertical"?s[0].height/2:s[0].width/2,d=function(m,x){var v=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:v,errorVal:nn(m,x)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return pe.createElement(nr,g,f.map(function(y){return pe.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:c,yAxis:l,layout:o,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,c=n.xAxis,l=n.yAxis,o=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,g=n.background,y=n.id;if(i||!a||!a.length)return null;var m=this.state.isAnimationFinished,x=Jt("recharts-bar",s),v=c&&c.allowDataOverflow,_=l&&l.allowDataOverflow,k=v||_,N=Ft(y)?this.id:y;return pe.createElement(nr,{className:x},v||_?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(N)},pe.createElement("rect",{x:v?o:o-f/2,y:_?u:u-h/2,width:v?f:f*2,height:_?h:h*2}))):null,pe.createElement(nr,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,N),(!d||m)&&za.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(ye.PureComponent);UB=Zi;qo(Zi,"displayName","Bar");qo(Zi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!no.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qo(Zi,"getComposedData",function(r){var e=r.props,t=r.item,n=r.barPosition,i=r.bandSize,a=r.xAxis,s=r.yAxis,c=r.xAxisTicks,l=r.yAxisTicks,o=r.stackedData,u=r.dataStartIndex,f=r.displayedData,h=r.offset,d=Ute(n,t);if(!d)return null;var g=e.layout,y=t.type.defaultProps,m=y!==void 0?Cn(Cn({},y),t.props):t.props,x=m.dataKey,v=m.children,_=m.minPointSize,k=g==="horizontal"?s:a,N=o?k.scale.domain():null,P=Qte({numericAxis:k}),D=Ai(v,kc),I=f.map(function(B,L){var z,$,O,F,C,w;o?z=Hte(o[u+L],N):(z=nn(B,x),Array.isArray(z)||(z=[P,z]));var E=coe(_,UB.defaultProps.minPointSize)(z[1],L);if(g==="horizontal"){var A,j=[s.scale(z[0]),s.scale(z[1])],R=j[0],q=j[1];$=nO({axis:a,ticks:c,bandSize:i,offset:d.offset,entry:B,index:L}),O=(A=q??R)!==null&&A!==void 0?A:void 0,F=d.size;var H=R-q;if(C=Number.isNaN(H)?0:H,w={x:$,y:s.y,width:F,height:s.height},Math.abs(E)>0&&Math.abs(C)<Math.abs(E)){var Y=xi(C||E)*(Math.abs(E)-Math.abs(C));O-=Y,C+=Y}}else{var Z=[a.scale(z[0]),a.scale(z[1])],te=Z[0],W=Z[1];if($=te,O=nO({axis:s,ticks:l,bandSize:i,offset:d.offset,entry:B,index:L}),F=W-te,C=d.size,w={x:a.x,y:O,width:a.width,height:C},Math.abs(E)>0&&Math.abs(F)<Math.abs(E)){var ee=xi(F||E)*(Math.abs(E)-Math.abs(F));F+=ee}}return Cn(Cn(Cn({},B),{},{x:$,y:O,width:F,height:C,value:o?z:z[1],payload:B,background:w},D&&D[L]&&D[L].props),{},{tooltipPayload:[vB(t,B)],tooltipPosition:{x:$+F/2,y:O+C/2}})});return Cn({data:I,layout:g},h)});function zp(r){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(r)}function xoe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function ON(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,GB(n.key),n)}}function woe(r,e,t){return e&&ON(r.prototype,e),t&&ON(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function NN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function La(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(t),!0).forEach(function(n){Cy(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cy(r,e,t){return e=GB(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function GB(r){var e=_oe(r,"string");return zp(e)=="symbol"?e:e+""}function _oe(r,e){if(zp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var aS=function(e,t,n,i,a){var s=e.width,c=e.height,l=e.layout,o=e.children,u=Object.keys(t),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!Hi(o,Zi);return u.reduce(function(d,g){var y=t[g],m=y.orientation,x=y.domain,v=y.padding,_=v===void 0?{}:v,k=y.mirror,N=y.reversed,P="".concat(m).concat(k?"Mirror":""),D,I,B,L,z;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var $=x[1]-x[0],O=1/0,F=y.categoricalDomain.sort();if(F.forEach(function(Z,te){te>0&&(O=Math.min((Z||0)-(F[te-1]||0),O))}),Number.isFinite(O)){var C=O/$,w=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(D=C*w/2),y.padding==="no-gap"){var E=wi(e.barCategoryGap,C*w),A=C*w/2;D=A-E-(A-E)/w*E}}}i==="xAxis"?I=[n.left+(_.left||0)+(D||0),n.left+n.width-(_.right||0)-(D||0)]:i==="yAxis"?I=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(D||0),n.top+n.height-(_.bottom||0)-(D||0)]:I=y.range,N&&(I=[I[1],I[0]]);var j=mB(y,a,h),R=j.scale,q=j.realScaleType;R.domain(x).range(I),gB(R);var H=bB(R,La(La({},y),{},{realScaleType:q}));i==="xAxis"?(z=m==="top"&&!k||m==="bottom"&&k,B=n.left,L=f[P]-z*y.height):i==="yAxis"&&(z=m==="left"&&!k||m==="right"&&k,B=f[P]-z*y.width,L=n.top);var Y=La(La(La({},y),H),{},{realScaleType:q,x:B,y:L,scale:R,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return Y.bandSize=Qg(Y,H),!y.hide&&i==="xAxis"?f[P]+=(z?-1:1)*Y.height:y.hide||(f[P]+=(z?-1:1)*Y.width),La(La({},d),{},Cy({},g,Y))},{})},WB=function(e,t){var n=e.x,i=e.y,a=t.x,s=t.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Soe=function(e){var t=e.x1,n=e.y1,i=e.x2,a=e.y2;return WB({x:t,y:n},{x:i,y:a})},XB=(function(){function r(e){xoe(this,r),this.scale=e}return woe(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(t)+c}default:return this.scale(t)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?t>=i&&t<=a:t>=a&&t<=i}}],[{key:"create",value:function(t){return new r(t)}}])})();Cy(XB,"EPS",1e-4);var sS=function(e){var t=Object.keys(e).reduce(function(n,i){return La(La({},n),{},Cy({},i,XB.create(e[i])))},{});return La(La({},t),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,c=a.position;return Qse(i,function(l,o){return t[o].apply(l,{bandAware:s,position:c})})},isInRange:function(i){return qB(i,function(a,s){return t[s].isInRange(a)})}})};function Aoe(r){return(r%180+180)%180}var Eoe=function(e){var t=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Aoe(i),s=a*Math.PI/180,c=Math.atan(n/t),l=s>c&&s<Math.PI-c?n/Math.sin(s):t/Math.cos(s);return Math.abs(l)},z_,MN;function Toe(){if(MN)return z_;MN=1;var r=gs(),e=sm(),t=uy();function n(i){return function(a,s,c){var l=Object(a);if(!e(a)){var o=r(s,3);a=t(a),s=function(f){return o(l[f],f,l)}}var u=i(a,s,c);return u>-1?l[o?a[u]:u]:void 0}}return z_=n,z_}var q_,RN;function koe(){if(RN)return q_;RN=1;var r=FB();function e(t){var n=r(t),i=n%1;return n===n?i?n-i:n:0}return q_=e,q_}var U_,IN;function joe(){if(IN)return U_;IN=1;var r=YP(),e=gs(),t=koe(),n=Math.max;function i(a,s,c){var l=a==null?0:a.length;if(!l)return-1;var o=c==null?0:t(c);return o<0&&(o=n(l+o,0)),r(a,e(s,3),o)}return U_=i,U_}var H_,PN;function Coe(){if(PN)return H_;PN=1;var r=Toe(),e=joe(),t=r(e);return H_=t,H_}var Ooe=Coe();const Noe=Cr(Ooe);var Moe=fP();const Roe=Cr(Moe);var Ioe=Roe(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),oS=ye.createContext(void 0),lS=ye.createContext(void 0),YB=ye.createContext(void 0),QB=ye.createContext({}),ZB=ye.createContext(void 0),JB=ye.createContext(0),eL=ye.createContext(0),DN=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,a=t.offset,s=e.clipPathId,c=e.children,l=e.width,o=e.height,u=Ioe(a);return pe.createElement(oS.Provider,{value:n},pe.createElement(lS.Provider,{value:i},pe.createElement(QB.Provider,{value:a},pe.createElement(YB.Provider,{value:u},pe.createElement(ZB.Provider,{value:s},pe.createElement(JB.Provider,{value:o},pe.createElement(eL.Provider,{value:l},c)))))))},Poe=function(){return ye.useContext(ZB)},tL=function(e){var t=ye.useContext(oS);t==null&&Oc();var n=t[e];return n==null&&Oc(),n},Doe=function(){var e=ye.useContext(oS);return $o(e)},Boe=function(){var e=ye.useContext(lS),t=Noe(e,function(n){return qB(n.domain,Number.isFinite)});return t||$o(e)},rL=function(e){var t=ye.useContext(lS);t==null&&Oc();var n=t[e];return n==null&&Oc(),n},Loe=function(){var e=ye.useContext(YB);return e},Foe=function(){return ye.useContext(QB)},cS=function(){return ye.useContext(eL)},uS=function(){return ye.useContext(JB)};function Of(r){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(r)}function $oe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Voe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,iL(n.key),n)}}function zoe(r,e,t){return e&&Voe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function qoe(r,e,t){return e=gb(e),Uoe(r,nL()?Reflect.construct(e,t||[],gb(r).constructor):e.apply(r,t))}function Uoe(r,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hoe(r)}function Hoe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nL=function(){return!!r})()}function gb(r){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gb(r)}function Koe(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&q4(r,e)}function q4(r,e){return q4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q4(r,e)}function BN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function LN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(t),!0).forEach(function(n){fS(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fS(r,e,t){return e=iL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function iL(r){var e=Goe(r,"string");return Of(e)=="symbol"?e:e+""}function Goe(r,e){if(Of(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Woe(r,e){return Zoe(r)||Qoe(r,e)||Yoe(r,e)||Xoe()}function Xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yoe(r,e){if(r){if(typeof r=="string")return FN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FN(r,e)}}function FN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Qoe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Zoe(r){if(Array.isArray(r))return r}function U4(){return U4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},U4.apply(this,arguments)}var Joe=function(e,t){var n;return pe.isValidElement(e)?n=pe.cloneElement(e,t):Lt(e)?n=e(t):n=pe.createElement("line",U4({},t,{className:"recharts-reference-line-line"})),n},ele=function(e,t,n,i,a,s,c,l,o){var u=a.x,f=a.y,h=a.width,d=a.height;if(n){var g=o.y,y=e.y.apply(g,{position:s});if(hs(o,"discard")&&!e.y.isInRange(y))return null;var m=[{x:u+h,y},{x:u,y}];return l==="left"?m.reverse():m}if(t){var x=o.x,v=e.x.apply(x,{position:s});if(hs(o,"discard")&&!e.x.isInRange(v))return null;var _=[{x:v,y:f+d},{x:v,y:f}];return c==="top"?_.reverse():_}if(i){var k=o.segment,N=k.map(function(P){return e.apply(P,{position:s})});return hs(o,"discard")&&Gse(N,function(P){return!e.isInRange(P)})?null:N}return null};function tle(r){var e=r.x,t=r.y,n=r.segment,i=r.xAxisId,a=r.yAxisId,s=r.shape,c=r.className,l=r.alwaysShow,o=Poe(),u=tL(i),f=rL(a),h=Loe();if(!o||!h)return null;Va(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=sS({x:u.scale,y:f.scale}),g=Ln(e),y=Ln(t),m=n&&n.length===2,x=ele(d,g,y,m,h,r.position,u.orientation,f.orientation,r);if(!x)return null;var v=Woe(x,2),_=v[0],k=_.x,N=_.y,P=v[1],D=P.x,I=P.y,B=hs(r,"hidden")?"url(#".concat(o,")"):void 0,L=LN(LN({clipPath:B},St(r,!0)),{},{x1:k,y1:N,x2:D,y2:I});return pe.createElement(nr,{className:Jt("recharts-reference-line",c)},Joe(s,L),Gn.renderCallByParent(r,Soe({x1:k,y1:N,x2:D,y2:I})))}var hS=(function(r){function e(){return $oe(this,e),qoe(this,e,arguments)}return Koe(e,r),zoe(e,[{key:"render",value:function(){return pe.createElement(tle,this.props)}}])})(pe.Component);fS(hS,"displayName","ReferenceLine");fS(hS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function H4(){return H4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},H4.apply(this,arguments)}function Nf(r){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(r)}function $N(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function VN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(t),!0).forEach(function(n){Oy(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$N(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rle(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function nle(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,sL(n.key),n)}}function ile(r,e,t){return e&&nle(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function ale(r,e,t){return e=bb(e),sle(r,aL()?Reflect.construct(e,t||[],bb(r).constructor):e.apply(r,t))}function sle(r,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ole(r)}function ole(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function aL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aL=function(){return!!r})()}function bb(r){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bb(r)}function lle(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&K4(r,e)}function K4(r,e){return K4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K4(r,e)}function Oy(r,e,t){return e=sL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sL(r){var e=cle(r,"string");return Nf(e)=="symbol"?e:e+""}function cle(r,e){if(Nf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var ule=function(e){var t=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=sS({x:i.scale,y:a.scale}),c=s.apply({x:t,y:n},{bandAware:!0});return hs(e,"discard")&&!s.isInRange(c)?null:c},Ny=(function(r){function e(){return rle(this,e),ale(this,e,arguments)}return lle(e,r),ile(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,c=n.alwaysShow,l=n.clipPathId,o=Ln(i),u=Ln(a);if(Va(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!u)return null;var f=ule(this.props);if(!f)return null;var h=f.x,d=f.y,g=this.props,y=g.shape,m=g.className,x=hs(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=VN(VN({clipPath:x},St(this.props,!0)),{},{cx:h,cy:d});return pe.createElement(nr,{className:Jt("recharts-reference-dot",m)},e.renderDot(y,v),Gn.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])})(pe.Component);Oy(Ny,"displayName","ReferenceDot");Oy(Ny,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Oy(Ny,"renderDot",function(r,e){var t;return pe.isValidElement(r)?t=pe.cloneElement(r,e):Lt(r)?t=r(e):t=pe.createElement(fm,H4({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),t});function G4(){return G4=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},G4.apply(this,arguments)}function Mf(r){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(r)}function zN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qN(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(t),!0).forEach(function(n){My(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fle(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hle(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,lL(n.key),n)}}function dle(r,e,t){return e&&hle(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function ple(r,e,t){return e=yb(e),mle(r,oL()?Reflect.construct(e,t||[],yb(r).constructor):e.apply(r,t))}function mle(r,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gle(r)}function gle(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!r})()}function yb(r){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yb(r)}function ble(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&W4(r,e)}function W4(r,e){return W4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W4(r,e)}function My(r,e,t){return e=lL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function lL(r){var e=yle(r,"string");return Mf(e)=="symbol"?e:e+""}function yle(r,e){if(Mf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var vle=function(e,t,n,i,a){var s=a.x1,c=a.x2,l=a.y1,o=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=sS({x:u.scale,y:f.scale}),d={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:t?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(o,{position:"end"}):h.y.rangeMax};return hs(a,"discard")&&(!h.isInRange(d)||!h.isInRange(g))?null:WB(d,g)},Ry=(function(r){function e(){return fle(this,e),ple(this,e,arguments)}return ble(e,r),dle(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,c=n.y2,l=n.className,o=n.alwaysShow,u=n.clipPathId;Va(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ln(i),h=Ln(a),d=Ln(s),g=Ln(c),y=this.props.shape;if(!f&&!h&&!d&&!g&&!y)return null;var m=vle(f,h,d,g,this.props);if(!m&&!y)return null;var x=hs(this.props,"hidden")?"url(#".concat(u,")"):void 0;return pe.createElement(nr,{className:Jt("recharts-reference-area",l)},e.renderRect(y,qN(qN({clipPath:x},St(this.props,!0)),m)),Gn.renderCallByParent(this.props,m))}}])})(pe.Component);My(Ry,"displayName","ReferenceArea");My(Ry,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});My(Ry,"renderRect",function(r,e){var t;return pe.isValidElement(r)?t=pe.cloneElement(r,e):Lt(r)?t=r(e):t=pe.createElement(iS,G4({},e,{className:"recharts-reference-area-rect"})),t});function cL(r,e,t){if(e<1)return[];if(e===1&&t===void 0)return r;for(var n=[],i=0;i<r.length;i+=e)n.push(r[i]);return n}function xle(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return Eoe(n,t)}function wle(r,e,t){var n=t==="width",i=r.x,a=r.y,s=r.width,c=r.height;return e===1?{start:n?i:a,end:n?i+s:a+c}:{start:n?i+s:a+c,end:n?i:a}}function vb(r,e,t,n,i){if(r*e<r*n||r*e>r*i)return!1;var a=t();return r*(e-r*a/2-n)>=0&&r*(e+r*a/2-i)<=0}function _le(r,e){return cL(r,e+1)}function Sle(r,e,t,n,i){for(var a=(n||[]).slice(),s=e.start,c=e.end,l=0,o=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:cL(n,o)};var y=l,m,x=function(){return m===void 0&&(m=t(g,y)),m},v=g.coordinate,_=l===0||vb(r,v,x,u,c);_||(l=0,u=s,o+=1),_&&(u=v+r*(x()/2+i),l+=o)},h;o<=a.length;)if(h=f(),h)return h.v;return[]}function qp(r){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(r)}function UN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function li(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(t),!0).forEach(function(n){Ale(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ale(r,e,t){return e=Ele(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ele(r){var e=Tle(r,"string");return qp(e)=="symbol"?e:e+""}function Tle(r,e){if(qp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kle(r,e,t,n,i){for(var a=(n||[]).slice(),s=a.length,c=e.start,l=e.end,o=function(h){var d=a[h],g,y=function(){return g===void 0&&(g=t(d,h)),g};if(h===s-1){var m=r*(d.coordinate+r*y()/2-l);a[h]=d=li(li({},d),{},{tickCoord:m>0?d.coordinate-m*r:d.coordinate})}else a[h]=d=li(li({},d),{},{tickCoord:d.coordinate});var x=vb(r,d.tickCoord,y,c,l);x&&(l=d.tickCoord-r*(y()/2+i),a[h]=li(li({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)o(u);return a}function jle(r,e,t,n,i,a){var s=(n||[]).slice(),c=s.length,l=e.start,o=e.end;if(a){var u=n[c-1],f=t(u,c-1),h=r*(u.coordinate+r*f/2-o);s[c-1]=u=li(li({},u),{},{tickCoord:h>0?u.coordinate-h*r:u.coordinate});var d=vb(r,u.tickCoord,function(){return f},l,o);d&&(o=u.tickCoord-r*(f/2+i),s[c-1]=li(li({},u),{},{isShow:!0}))}for(var g=a?c-1:c,y=function(v){var _=s[v],k,N=function(){return k===void 0&&(k=t(_,v)),k};if(v===0){var P=r*(_.coordinate-r*N()/2-l);s[v]=_=li(li({},_),{},{tickCoord:P<0?_.coordinate-P*r:_.coordinate})}else s[v]=_=li(li({},_),{},{tickCoord:_.coordinate});var D=vb(r,_.tickCoord,N,l,o);D&&(l=_.tickCoord+r*(N()/2+i),s[v]=li(li({},_),{},{isShow:!0}))},m=0;m<g;m++)y(m);return s}function dS(r,e,t){var n=r.tick,i=r.ticks,a=r.viewBox,s=r.minTickGap,c=r.orientation,l=r.interval,o=r.tickFormatter,u=r.unit,f=r.angle;if(!i||!i.length||!n)return[];if(Qe(l)||no.isSsr)return _le(i,typeof l=="number"&&Qe(l)?l:0);var h=[],d=c==="top"||c==="bottom"?"width":"height",g=u&&d==="width"?Id(u,{fontSize:e,letterSpacing:t}):{width:0,height:0},y=function(_,k){var N=Lt(o)?o(_.value,k):_.value;return d==="width"?xle(Id(N,{fontSize:e,letterSpacing:t}),g,f):Id(N,{fontSize:e,letterSpacing:t})[d]},m=i.length>=2?xi(i[1].coordinate-i[0].coordinate):1,x=wle(a,m,d);return l==="equidistantPreserveStart"?Sle(m,x,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=jle(m,x,y,i,s,l==="preserveStartEnd"):h=kle(m,x,y,i,s),h.filter(function(v){return v.isShow}))}var Cle=["viewBox"],Ole=["viewBox"],Nle=["ticks"];function Rf(r){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(r)}function $u(){return $u=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},$u.apply(this,arguments)}function HN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function vi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(t),!0).forEach(function(n){pS(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function K_(r,e){if(r==null)return{};var t=Mle(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Mle(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Rle(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function KN(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,fL(n.key),n)}}function Ile(r,e,t){return e&&KN(r.prototype,e),t&&KN(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Ple(r,e,t){return e=xb(e),Dle(r,uL()?Reflect.construct(e,t||[],xb(r).constructor):e.apply(r,t))}function Dle(r,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ble(r)}function Ble(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function uL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!r})()}function xb(r){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xb(r)}function Lle(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&X4(r,e)}function X4(r,e){return X4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X4(r,e)}function pS(r,e,t){return e=fL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fL(r){var e=Fle(r,"string");return Rf(e)=="symbol"?e:e+""}function Fle(r,e){if(Rf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var nh=(function(r){function e(t){var n;return Rle(this,e),n=Ple(this,e,[t]),n.state={fontSize:"",letterSpacing:""},n}return Lle(e,r),Ile(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=K_(n,Cle),c=this.props,l=c.viewBox,o=K_(c,Ole);return!Ku(a,l)||!Ku(s,o)||!Ku(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,c=i.width,l=i.height,o=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,d,g,y,m,x,v,_=f?-1:1,k=n.tickSize||u,N=Qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(o){case"top":d=g=n.coordinate,m=s+ +!f*l,y=m-_*k,v=y-_*h,x=N;break;case"left":y=m=n.coordinate,g=a+ +!f*c,d=g-_*k,x=d-_*h,v=N;break;case"right":y=m=n.coordinate,g=a+ +f*c,d=g+_*k,x=d+_*h,v=N;break;default:d=g=n.coordinate,m=s+ +f*l,y=m+_*k,v=y+_*h,x=N;break}return{line:{x1:d,y1:y,x2:g,y2:m},tick:{x,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,c=n.height,l=n.orientation,o=n.mirror,u=n.axisLine,f=vi(vi(vi({},St(this.props,!1)),St(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!o||l==="bottom"&&o);f=vi(vi({},f),{},{x1:i,y1:a+h*c,x2:i+s,y2:a+h*c})}else{var d=+(l==="left"&&!o||l==="right"&&o);f=vi(vi({},f),{},{x1:i+d*s,y1:a,x2:i+d*s,y2:a+c})}return pe.createElement("line",$u({},f,{className:Jt("recharts-cartesian-axis-line",Yi(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,c=this.props,l=c.tickLine,o=c.stroke,u=c.tick,f=c.tickFormatter,h=c.unit,d=dS(vi(vi({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),m=St(this.props,!1),x=St(u,!1),v=vi(vi({},m),{},{fill:"none"},St(l,!1)),_=d.map(function(k,N){var P=s.getTickLineCoord(k),D=P.line,I=P.tick,B=vi(vi(vi(vi({textAnchor:g,verticalAnchor:y},m),{},{stroke:"none",fill:o},x),I),{},{index:N,payload:k,visibleTicksCount:d.length,tickFormatter:f});return pe.createElement(nr,$u({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},rl(s.props,k,N)),l&&pe.createElement("line",$u({},v,D,{className:Jt("recharts-cartesian-axis-tick-line",Yi(l,"className"))})),u&&e.renderTickItem(u,B,"".concat(Lt(f)?f(k.value,N):k.value).concat(h||"")))});return pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,c=i.height,l=i.ticksGenerator,o=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,d=K_(f,Nle),g=h;return Lt(l)&&(g=h&&h.length>0?l(this.props):l(d)),s<=0||c<=0||!g||!g.length?null:pe.createElement(nr,{className:Jt("recharts-cartesian-axis",o),ref:function(m){n.layerReference=m}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return pe.isValidElement(n)?s=pe.cloneElement(n,i):Lt(n)?s=n(i):s=pe.createElement(jc,$u({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(ye.Component);pS(nh,"displayName","CartesianAxis");pS(nh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $le=["x1","y1","x2","y2","key"],Vle=["offset"];function Nc(r){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(r)}function GN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function fi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(t),!0).forEach(function(n){zle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):GN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zle(r,e,t){return e=qle(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qle(r){var e=Ule(r,"string");return Nc(e)=="symbol"?e:e+""}function Ule(r,e){if(Nc(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lc(){return lc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lc.apply(this,arguments)}function WN(r,e){if(r==null)return{};var t=Hle(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Hle(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}var Kle=function(e){var t=e.fill;if(!t||t==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,c=e.height,l=e.ry;return pe.createElement("rect",{x:i,y:a,ry:l,width:s,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function hL(r,e){var t;if(pe.isValidElement(r))t=pe.cloneElement(r,e);else if(Lt(r))t=r(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,c=e.key,l=WN(e,$le),o=St(l,!1);o.offset;var u=WN(o,Vle);t=pe.createElement("line",lc({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:c}))}return t}function Gle(r){var e=r.x,t=r.width,n=r.horizontal,i=n===void 0?!0:n,a=r.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(c,l){var o=fi(fi({},r),{},{x1:e,y1:c,x2:e+t,y2:c,key:"line-".concat(l),index:l});return hL(i,o)});return pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Wle(r){var e=r.y,t=r.height,n=r.vertical,i=n===void 0?!0:n,a=r.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(c,l){var o=fi(fi({},r),{},{x1:c,y1:e,x2:c,y2:e+t,key:"line-".concat(l),index:l});return hL(i,o)});return pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Xle(r){var e=r.horizontalFill,t=r.fillOpacity,n=r.x,i=r.y,a=r.width,s=r.height,c=r.horizontalPoints,l=r.horizontal,o=l===void 0?!0:l;if(!o||!e||!e.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],y=g?i+s-h:u[d+1]-h;if(y<=0)return null;var m=d%e.length;return pe.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:y,width:a,stroke:"none",fill:e[m],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Yle(r){var e=r.vertical,t=e===void 0?!0:e,n=r.verticalFill,i=r.fillOpacity,a=r.x,s=r.y,c=r.width,l=r.height,o=r.verticalPoints;if(!t||!n||!n.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],y=g?a+c-h:u[d+1]-h;if(y<=0)return null;var m=d%n.length;return pe.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:y,height:l,stroke:"none",fill:n[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Qle=function(e,t){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return pB(dS(fi(fi(fi({},nh.defaultProps),n),{},{ticks:qs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,t)},Zle=function(e,t){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return pB(dS(fi(fi(fi({},nh.defaultProps),n),{},{ticks:qs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,t)},ku={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Zs(r){var e,t,n,i,a,s,c=cS(),l=uS(),o=Foe(),u=fi(fi({},r),{},{stroke:(e=r.stroke)!==null&&e!==void 0?e:ku.stroke,fill:(t=r.fill)!==null&&t!==void 0?t:ku.fill,horizontal:(n=r.horizontal)!==null&&n!==void 0?n:ku.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:ku.horizontalFill,vertical:(a=r.vertical)!==null&&a!==void 0?a:ku.vertical,verticalFill:(s=r.verticalFill)!==null&&s!==void 0?s:ku.verticalFill,x:Qe(r.x)?r.x:o.left,y:Qe(r.y)?r.y:o.top,width:Qe(r.width)?r.width:o.width,height:Qe(r.height)?r.height:o.height}),f=u.x,h=u.y,d=u.width,g=u.height,y=u.syncWithTicks,m=u.horizontalValues,x=u.verticalValues,v=Doe(),_=Boe();if(!Qe(d)||d<=0||!Qe(g)||g<=0||!Qe(f)||f!==+f||!Qe(h)||h!==+h)return null;var k=u.verticalCoordinatesGenerator||Qle,N=u.horizontalCoordinatesGenerator||Zle,P=u.horizontalPoints,D=u.verticalPoints;if((!P||!P.length)&&Lt(N)){var I=m&&m.length,B=N({yAxis:_?fi(fi({},_),{},{ticks:I?m:_.ticks}):void 0,width:c,height:l,offset:o},I?!0:y);Va(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nc(B),"]")),Array.isArray(B)&&(P=B)}if((!D||!D.length)&&Lt(k)){var L=x&&x.length,z=k({xAxis:v?fi(fi({},v),{},{ticks:L?x:v.ticks}):void 0,width:c,height:l,offset:o},L?!0:y);Va(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nc(z),"]")),Array.isArray(z)&&(D=z)}return pe.createElement("g",{className:"recharts-cartesian-grid"},pe.createElement(Kle,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),pe.createElement(Gle,lc({},u,{offset:o,horizontalPoints:P,xAxis:v,yAxis:_})),pe.createElement(Wle,lc({},u,{offset:o,verticalPoints:D,xAxis:v,yAxis:_})),pe.createElement(Xle,lc({},u,{horizontalPoints:P})),pe.createElement(Yle,lc({},u,{verticalPoints:D})))}Zs.displayName="CartesianGrid";var Jle=["type","layout","connectNulls","ref"],ece=["key"];function If(r){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(r)}function XN(r,e){if(r==null)return{};var t=tce(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function tce(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function $d(){return $d=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},$d.apply(this,arguments)}function YN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function qi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(t),!0).forEach(function(n){Fa(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ju(r){return ace(r)||ice(r)||nce(r)||rce()}function rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nce(r,e){if(r){if(typeof r=="string")return Y4(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y4(r,e)}}function ice(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ace(r){if(Array.isArray(r))return Y4(r)}function Y4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function sce(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function QN(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,pL(n.key),n)}}function oce(r,e,t){return e&&QN(r.prototype,e),t&&QN(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function lce(r,e,t){return e=wb(e),cce(r,dL()?Reflect.construct(e,t||[],wb(r).constructor):e.apply(r,t))}function cce(r,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uce(r)}function uce(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function dL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!r})()}function wb(r){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wb(r)}function fce(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Q4(r,e)}function Q4(r,e){return Q4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q4(r,e)}function Fa(r,e,t){return e=pL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pL(r){var e=hce(r,"string");return If(e)=="symbol"?e:e+""}function hce(r,e){if(If(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var al=(function(r){function e(){var t;sce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=lce(this,e,[].concat(i)),Fa(t,"state",{isAnimationFinished:!0,totalLength:0}),Fa(t,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),Fa(t,"getStrokeDasharray",function(s,c,l){var o=l.reduce(function(x,v){return x+v});if(!o)return t.generateSimpleStrokeDasharray(c,s);for(var u=Math.floor(s/o),f=s%o,h=c-s,d=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>f){d=[].concat(ju(l.slice(0,g)),[f-y]);break}var m=d.length%2===0?[0,h]:[h];return[].concat(ju(e.repeat(l,u)),ju(d),m).map(function(x){return"".concat(x,"px")}).join(", ")}),Fa(t,"id",fl("recharts-line-")),Fa(t,"pathRef",function(s){t.mainCurve=s}),Fa(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),Fa(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return fce(e,r),oce(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,c=a.xAxis,l=a.yAxis,o=a.layout,u=a.children,f=Ai(u,rh);if(!f)return null;var h=function(y,m){return{x:y.x,y:y.y,value:y.value,errorVal:nn(y.payload,m)}},d={clipPath:n?"url(#clipPath-".concat(i,")"):null};return pe.createElement(nr,d,f.map(function(g){return pe.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:c,yAxis:l,layout:o,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,o=c.points,u=c.dataKey,f=St(this.props,!1),h=St(l,!0),d=o.map(function(y,m){var x=qi(qi(qi({key:"dot-".concat(m),r:3},f),h),{},{value:y.value,dataKey:u,cx:y.x,cy:y.y,index:m,payload:y.payload});return e.renderDotItem(l,x)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return pe.createElement(nr,$d({className:"recharts-line-dots",key:"dots"},g),d)}},{key:"renderCurveStatically",value:function(n,i,a,s){var c=this.props,l=c.type,o=c.layout,u=c.connectNulls;c.ref;var f=XN(c,Jle),h=qi(qi(qi({},St(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:l,layout:o,connectNulls:u});return pe.createElement(Yo,$d({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,c=s.points,l=s.strokeDasharray,o=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=s.animateNewValues,y=s.width,m=s.height,x=this.state,v=x.prevPoints,_=x.totalLength;return pe.createElement(xa,{begin:u,duration:f,isActive:o,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var N=k.t;if(v){var P=v.length/c.length,D=c.map(function($,O){var F=Math.floor(O*P);if(v[F]){var C=v[F],w=un(C.x,$.x),E=un(C.y,$.y);return qi(qi({},$),{},{x:w(N),y:E(N)})}if(g){var A=un(y*2,$.x),j=un(m/2,$.y);return qi(qi({},$),{},{x:A(N),y:j(N)})}return qi(qi({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(D,n,i)}var I=un(0,_),B=I(N),L;if(l){var z="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});L=a.getStrokeDasharray(B,_,z)}else L=a.generateSimpleStrokeDasharray(_,B);return a.renderCurveStatically(c,n,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,c=a.isAnimationActive,l=this.state,o=l.prevPoints,u=l.totalLength;return c&&s&&s.length&&(!o&&u>0||!il(o,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,c=i.points,l=i.className,o=i.xAxis,u=i.yAxis,f=i.top,h=i.left,d=i.width,g=i.height,y=i.isAnimationActive,m=i.id;if(a||!c||!c.length)return null;var x=this.state.isAnimationFinished,v=c.length===1,_=Jt("recharts-line",l),k=o&&o.allowDataOverflow,N=u&&u.allowDataOverflow,P=k||N,D=Ft(m)?this.id:m,I=(n=St(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},B=I.r,L=B===void 0?3:B,z=I.strokeWidth,$=z===void 0?2:z,O=gP(s)?s:{},F=O.clipDot,C=F===void 0?!0:F,w=L*2+$;return pe.createElement(nr,{className:_},k||N?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(D)},pe.createElement("rect",{x:k?h:h-d/2,y:N?f:f-g/2,width:k?d:d*2,height:N?g:g*2})),!C&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(D)},pe.createElement("rect",{x:h-w/2,y:f-w/2,width:d+w,height:g+w}))):null,!v&&this.renderCurve(P,D),this.renderErrorBar(P,D),(v||s)&&this.renderDots(P,C,D),(!y||x)&&za.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(ju(n),[0]):n,s=[],c=0;c<i;++c)s=[].concat(ju(s),ju(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(pe.isValidElement(n))a=pe.cloneElement(n,i);else if(Lt(n))a=n(i);else{var s=i.key,c=XN(i,ece),l=Jt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=pe.createElement(fm,$d({key:s},c,{className:l}))}return a}}])})(ye.PureComponent);Fa(al,"displayName","Line");Fa(al,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!no.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fa(al,"getComposedData",function(r){var e=r.props,t=r.xAxis,n=r.yAxis,i=r.xAxisTicks,a=r.yAxisTicks,s=r.dataKey,c=r.bandSize,l=r.displayedData,o=r.offset,u=e.layout,f=l.map(function(h,d){var g=nn(h,s);return u==="horizontal"?{x:_f({axis:t,ticks:i,bandSize:c,entry:h,index:d}),y:Ft(g)?null:n.scale(g),value:g,payload:h}:{x:Ft(g)?null:t.scale(g),y:_f({axis:n,ticks:a,bandSize:c,entry:h,index:d}),value:g,payload:h}});return qi({points:f,layout:u},o)});var dce=["layout","type","stroke","connectNulls","isRange","ref"],pce=["key"],mL;function Pf(r){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(r)}function gL(r,e){if(r==null)return{};var t=mce(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function mce(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function cc(){return cc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cc.apply(this,arguments)}function ZN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Do(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(t),!0).forEach(function(n){os(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function gce(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function JN(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,yL(n.key),n)}}function bce(r,e,t){return e&&JN(r.prototype,e),t&&JN(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function yce(r,e,t){return e=_b(e),vce(r,bL()?Reflect.construct(e,t||[],_b(r).constructor):e.apply(r,t))}function vce(r,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(r)}function xce(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function bL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!r})()}function _b(r){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_b(r)}function wce(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Z4(r,e)}function Z4(r,e){return Z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z4(r,e)}function os(r,e,t){return e=yL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yL(r){var e=_ce(r,"string");return Pf(e)=="symbol"?e:e+""}function _ce(r,e){if(Pf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var bs=(function(r){function e(){var t;gce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=yce(this,e,[].concat(i)),os(t,"state",{isAnimationFinished:!0}),os(t,"id",fl("recharts-area-")),os(t,"handleAnimationEnd",function(){var s=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),Lt(s)&&s()}),os(t,"handleAnimationStart",function(){var s=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),Lt(s)&&s()}),t}return wce(e,r),bce(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(s&&!c)return null;var l=this.props,o=l.dot,u=l.points,f=l.dataKey,h=St(this.props,!1),d=St(o,!0),g=u.map(function(m,x){var v=Do(Do(Do({key:"dot-".concat(x),r:3},h),d),{},{index:x,cx:m.x,cy:m.y,dataKey:f,value:m.value,payload:m.payload,points:u});return e.renderDotItem(o,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return pe.createElement(nr,cc({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,c=i.strokeWidth,l=s[0].x,o=s[s.length-1].x,u=n*Math.abs(l-o),f=zo(s.map(function(h){return h.y||0}));return Qe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(zo(a.map(function(h){return h.y||0})),f)),Qe(f)?pe.createElement("rect",{x:l<o?l:l-u,y:0,width:u,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,c=i.strokeWidth,l=s[0].y,o=s[s.length-1].y,u=n*Math.abs(l-o),f=zo(s.map(function(h){return h.x||0}));return Qe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(zo(a.map(function(h){return h.x||0})),f)),Qe(f)?pe.createElement("rect",{x:0,y:l<o?l:l-u,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var c=this.props,l=c.layout,o=c.type,u=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var d=gL(c,dce);return pe.createElement(nr,{clipPath:a?"url(#clipPath-".concat(s,")"):null},pe.createElement(Yo,cc({},St(d,!0),{points:n,connectNulls:f,type:o,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&pe.createElement(Yo,cc({},St(this.props,!1),{className:"recharts-area-curve",layout:l,type:o,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&pe.createElement(Yo,cc({},St(this.props,!1),{className:"recharts-area-curve",layout:l,type:o,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,c=s.points,l=s.baseLine,o=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=this.state,y=g.prevPoints,m=g.prevBaseLine;return pe.createElement(xa,{begin:u,duration:f,isActive:o,easing:h,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t;if(y){var _=y.length/c.length,k=c.map(function(I,B){var L=Math.floor(B*_);if(y[L]){var z=y[L],$=un(z.x,I.x),O=un(z.y,I.y);return Do(Do({},I),{},{x:$(v),y:O(v)})}return I}),N;if(Qe(l)&&typeof l=="number"){var P=un(m,l);N=P(v)}else if(Ft(l)||Qf(l)){var D=un(m,0);N=D(v)}else N=l.map(function(I,B){var L=Math.floor(B*_);if(m[L]){var z=m[L],$=un(z.x,I.x),O=un(z.y,I.y);return Do(Do({},I),{},{x:$(v),y:O(v)})}return I});return a.renderAreaStatically(k,N,n,i)}return pe.createElement(nr,null,pe.createElement("defs",null,pe.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(v))),pe.createElement(nr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(c,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,c=a.baseLine,l=a.isAnimationActive,o=this.state,u=o.prevPoints,f=o.prevBaseLine,h=o.totalLength;return l&&s&&s.length&&(!u&&h>0||!il(u,s)||!il(f,c))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,c,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,c=i.points,l=i.className,o=i.top,u=i.left,f=i.xAxis,h=i.yAxis,d=i.width,g=i.height,y=i.isAnimationActive,m=i.id;if(a||!c||!c.length)return null;var x=this.state.isAnimationFinished,v=c.length===1,_=Jt("recharts-area",l),k=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,P=k||N,D=Ft(m)?this.id:m,I=(n=St(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},B=I.r,L=B===void 0?3:B,z=I.strokeWidth,$=z===void 0?2:z,O=gP(s)?s:{},F=O.clipDot,C=F===void 0?!0:F,w=L*2+$;return pe.createElement(nr,{className:_},k||N?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(D)},pe.createElement("rect",{x:k?u:u-d/2,y:N?o:o-g/2,width:k?d:d*2,height:N?g:g*2})),!C&&pe.createElement("clipPath",{id:"clipPath-dots-".concat(D)},pe.createElement("rect",{x:u-w/2,y:o-w/2,width:d+w,height:g+w}))):null,v?null:this.renderArea(P,D),(s||v)&&this.renderDots(P,C,D),(!y||x)&&za.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(ye.PureComponent);mL=bs;os(bs,"displayName","Area");os(bs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!no.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});os(bs,"getBaseValue",function(r,e,t,n){var i=r.layout,a=r.baseValue,s=e.props.baseValue,c=s??a;if(Qe(c)&&typeof c=="number")return c;var l=i==="horizontal"?n:t,o=l.scale.domain();if(l.type==="number"){var u=Math.max(o[0],o[1]),f=Math.min(o[0],o[1]);return c==="dataMin"?f:c==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return c==="dataMin"?o[0]:c==="dataMax"?o[1]:o[0]});os(bs,"getComposedData",function(r){var e=r.props,t=r.item,n=r.xAxis,i=r.yAxis,a=r.xAxisTicks,s=r.yAxisTicks,c=r.bandSize,l=r.dataKey,o=r.stackedData,u=r.dataStartIndex,f=r.displayedData,h=r.offset,d=e.layout,g=o&&o.length,y=mL.getBaseValue(e,t,n,i),m=d==="horizontal",x=!1,v=f.map(function(k,N){var P;g?P=o[u+N]:(P=nn(k,l),Array.isArray(P)?x=!0:P=[y,P]);var D=P[1]==null||g&&nn(k,l)==null;return m?{x:_f({axis:n,ticks:a,bandSize:c,entry:k,index:N}),y:D?null:i.scale(P[1]),value:P,payload:k}:{x:D?null:n.scale(P[1]),y:_f({axis:i,ticks:s,bandSize:c,entry:k,index:N}),value:P,payload:k}}),_;return g||x?_=v.map(function(k){var N=Array.isArray(k.value)?k.value[0]:null;return m?{x:k.x,y:N!=null&&k.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:k.y}}):_=m?i.scale(y):n.scale(y),Do({points:v,baseLine:_,layout:d,isRange:x},h)});os(bs,"renderDotItem",function(r,e){var t;if(pe.isValidElement(r))t=pe.cloneElement(r,e);else if(Lt(r))t=r(e);else{var n=Jt("recharts-area-dot",typeof r!="boolean"?r.className:""),i=e.key,a=gL(e,pce);t=pe.createElement(fm,cc({},a,{key:i,className:n}))}return t});function Df(r){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(r)}function Sce(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ace(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,wL(n.key),n)}}function Ece(r,e,t){return e&&Ace(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Tce(r,e,t){return e=Sb(e),kce(r,vL()?Reflect.construct(e,t||[],Sb(r).constructor):e.apply(r,t))}function kce(r,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(r)}function jce(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vL=function(){return!!r})()}function Sb(r){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sb(r)}function Cce(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&J4(r,e)}function J4(r,e){return J4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J4(r,e)}function xL(r,e,t){return e=wL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wL(r){var e=Oce(r,"string");return Df(e)=="symbol"?e:e+""}function Oce(r,e){if(Df(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Iy=(function(r){function e(){return Sce(this,e),Tce(this,e,arguments)}return Cce(e,r),Ece(e,[{key:"render",value:function(){return null}}])})(pe.Component);xL(Iy,"displayName","ZAxis");xL(Iy,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Nce=["option","isActive"];function Vd(){return Vd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Vd.apply(this,arguments)}function Mce(r,e){if(r==null)return{};var t=Rce(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Rce(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Ice(r){var e=r.option,t=r.isActive,n=Mce(r,Nce);return typeof e=="string"?pe.createElement(cb,Vd({option:pe.createElement(cy,Vd({type:e},n)),isActive:t,shapeType:"symbols"},n)):pe.createElement(cb,Vd({option:e,isActive:t,shapeType:"symbols"},n))}function Bf(r){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(r)}function zd(){return zd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zd.apply(this,arguments)}function eM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ma(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(t),!0).forEach(function(n){Uo(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Pce(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function tM(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,SL(n.key),n)}}function Dce(r,e,t){return e&&tM(r.prototype,e),t&&tM(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Bce(r,e,t){return e=Ab(e),Lce(r,_L()?Reflect.construct(e,t||[],Ab(r).constructor):e.apply(r,t))}function Lce(r,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(r)}function Fce(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _L(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!r})()}function Ab(r){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ab(r)}function $ce(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&e5(r,e)}function e5(r,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e5(r,e)}function Uo(r,e,t){return e=SL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function SL(r){var e=Vce(r,"string");return Bf(e)=="symbol"?e:e+""}function Vce(r,e){if(Bf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Py=(function(r){function e(){var t;Pce(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=Bce(this,e,[].concat(i)),Uo(t,"state",{isAnimationFinished:!1}),Uo(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0})}),Uo(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1})}),Uo(t,"id",fl("recharts-scatter-")),t}return $ce(e,r),Dce(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,s=a.shape,c=a.activeShape,l=a.activeIndex,o=St(this.props,!1);return n.map(function(u,f){var h=l===f,d=h?c:s,g=ma(ma({},o),u);return pe.createElement(nr,zd({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(f)},rl(i.props,u,f),{role:"img"}),pe.createElement(Ice,zd({option:d,isActive:h,key:"symbol-".concat(f)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,s=i.isAnimationActive,c=i.animationBegin,l=i.animationDuration,o=i.animationEasing,u=i.animationId,f=this.state.prevPoints;return pe.createElement(xa,{begin:c,duration:l,isActive:s,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var d=h.t,g=a.map(function(y,m){var x=f&&f[m];if(x){var v=un(x.cx,y.cx),_=un(x.cy,y.cy),k=un(x.size,y.size);return ma(ma({},y),{},{cx:v(d),cy:_(d),size:k(d)})}var N=un(0,y.size);return ma(ma({},y),{},{size:N(d)})});return pe.createElement(nr,null,n.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,s=this.state.prevPoints;return a&&i&&i.length&&(!s||!il(s,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,s=i.xAxis,c=i.yAxis,l=i.children,o=Ai(l,rh);return o?o.map(function(u,f){var h=u.props,d=h.direction,g=h.dataKey;return pe.cloneElement(u,{key:"".concat(d,"-").concat(g,"-").concat(a[f]),data:a,xAxis:s,yAxis:c,layout:d==="x"?"vertical":"horizontal",dataPointFormatter:function(m,x){return{x:m.cx,y:m.cy,value:d==="x"?+m.node.x:+m.node.y,errorVal:nn(m,x)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,s=n.lineType,c=n.lineJointType,l=St(this.props,!1),o=St(a,!1),u,f;if(s==="joint")u=i.map(function(_){return{x:_.cx,y:_.cy}});else if(s==="fitting"){var h=RG(i),d=h.xmin,g=h.xmax,y=h.a,m=h.b,x=function(k){return y*k+m};u=[{x:d,y:x(d)},{x:g,y:x(g)}]}var v=ma(ma(ma({},l),{},{fill:"none",stroke:l&&l.fill},o),{},{points:u});return pe.isValidElement(a)?f=pe.cloneElement(a,v):Lt(a)?f=a(v):f=pe.createElement(Yo,zd({},v,{type:c})),pe.createElement(nr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,s=n.line,c=n.className,l=n.xAxis,o=n.yAxis,u=n.left,f=n.top,h=n.width,d=n.height,g=n.id,y=n.isAnimationActive;if(i||!a||!a.length)return null;var m=this.state.isAnimationFinished,x=Jt("recharts-scatter",c),v=l&&l.allowDataOverflow,_=o&&o.allowDataOverflow,k=v||_,N=Ft(g)?this.id:g;return pe.createElement(nr,{className:x,clipPath:k?"url(#clipPath-".concat(N,")"):null},v||_?pe.createElement("defs",null,pe.createElement("clipPath",{id:"clipPath-".concat(N)},pe.createElement("rect",{x:v?u:u-h/2,y:_?f:f-d/2,width:v?h:h*2,height:_?d:d*2}))):null,s&&this.renderLine(),this.renderErrorBar(),pe.createElement(nr,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||m)&&za.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(ye.PureComponent);Uo(Py,"displayName","Scatter");Uo(Py,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!no.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Uo(Py,"getComposedData",function(r){var e=r.xAxis,t=r.yAxis,n=r.zAxis,i=r.item,a=r.displayedData,s=r.xAxisTicks,c=r.yAxisTicks,l=r.offset,o=i.props.tooltipType,u=Ai(i.props.children,kc),f=Ft(e.dataKey)?i.props.dataKey:e.dataKey,h=Ft(t.dataKey)?i.props.dataKey:t.dataKey,d=n&&n.dataKey,g=n?n.range:Iy.defaultProps.range,y=g&&g[0],m=e.scale.bandwidth?e.scale.bandwidth():0,x=t.scale.bandwidth?t.scale.bandwidth():0,v=a.map(function(_,k){var N=nn(_,f),P=nn(_,h),D=!Ft(d)&&nn(_,d)||"-",I=[{name:Ft(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:N,payload:_,dataKey:f,type:o},{name:Ft(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:P,payload:_,dataKey:h,type:o}];D!=="-"&&I.push({name:n.name||n.dataKey,unit:n.unit||"",value:D,payload:_,dataKey:d,type:o});var B=_f({axis:e,ticks:s,bandSize:m,entry:_,index:k,dataKey:f}),L=_f({axis:t,ticks:c,bandSize:x,entry:_,index:k,dataKey:h}),z=D!=="-"?n.scale(D):y,$=Math.sqrt(Math.max(z,0)/Math.PI);return ma(ma({},_),{},{cx:B,cy:L,x:B-$,y:L-$,xAxis:e,yAxis:t,zAxis:n,width:2*$,height:2*$,size:z,node:{x:N,y:P,z:D},tooltipPayload:I,tooltipPosition:{x:B,y:L},payload:_},u&&u[k]&&u[k].props)});return ma({points:v},l)});function Lf(r){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(r)}function zce(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,TL(n.key),n)}}function Uce(r,e,t){return e&&qce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Hce(r,e,t){return e=Eb(e),Kce(r,AL()?Reflect.construct(e,t||[],Eb(r).constructor):e.apply(r,t))}function Kce(r,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gce(r)}function Gce(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function AL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AL=function(){return!!r})()}function Eb(r){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eb(r)}function Wce(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&t5(r,e)}function t5(r,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t5(r,e)}function EL(r,e,t){return e=TL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function TL(r){var e=Xce(r,"string");return Lf(e)=="symbol"?e:e+""}function Xce(r,e){if(Lf(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function r5(){return r5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},r5.apply(this,arguments)}function Yce(r){var e=r.xAxisId,t=cS(),n=uS(),i=tL(e);return i==null?null:pe.createElement(nh,r5({},i,{className:Jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:t,height:n},ticksGenerator:function(s){return qs(s,!0)}}))}var Ji=(function(r){function e(){return zce(this,e),Hce(this,e,arguments)}return Wce(e,r),Uce(e,[{key:"render",value:function(){return pe.createElement(Yce,this.props)}}])})(pe.Component);EL(Ji,"displayName","XAxis");EL(Ji,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ff(r){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(r)}function Qce(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Zce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,CL(n.key),n)}}function Jce(r,e,t){return e&&Zce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function eue(r,e,t){return e=Tb(e),tue(r,kL()?Reflect.construct(e,t||[],Tb(r).constructor):e.apply(r,t))}function tue(r,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rue(r)}function rue(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!r})()}function Tb(r){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tb(r)}function nue(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&n5(r,e)}function n5(r,e){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n5(r,e)}function jL(r,e,t){return e=CL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function CL(r){var e=iue(r,"string");return Ff(e)=="symbol"?e:e+""}function iue(r,e){if(Ff(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function i5(){return i5=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},i5.apply(this,arguments)}var aue=function(e){var t=e.yAxisId,n=cS(),i=uS(),a=rL(t);return a==null?null:pe.createElement(nh,i5({},a,{className:Jt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return qs(c,!0)}}))},di=(function(r){function e(){return Qce(this,e),eue(this,e,arguments)}return nue(e,r),Jce(e,[{key:"render",value:function(){return pe.createElement(aue,this.props)}}])})(pe.Component);jL(di,"displayName","YAxis");jL(di,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rM(r){return cue(r)||lue(r)||oue(r)||sue()}function sue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oue(r,e){if(r){if(typeof r=="string")return a5(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a5(r,e)}}function lue(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function cue(r){if(Array.isArray(r))return a5(r)}function a5(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var s5=function(e,t,n,i,a){var s=Ai(e,hS),c=Ai(e,Ny),l=[].concat(rM(s),rM(c)),o=Ai(e,Ry),u="".concat(i,"Id"),f=i[0],h=t;if(l.length&&(h=l.reduce(function(y,m){if(m.props[u]===n&&hs(m.props,"extendDomain")&&Qe(m.props[f])){var x=m.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),o.length){var d="".concat(f,"1"),g="".concat(f,"2");h=o.reduce(function(y,m){if(m.props[u]===n&&hs(m.props,"extendDomain")&&Qe(m.props[d])&&Qe(m.props[g])){var x=m.props[d],v=m.props[g];return[Math.min(y[0],x,v),Math.max(y[1],x,v)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,m){return Qe(m)?[Math.min(y[0],m),Math.max(y[1],m)]:y},h)),h},G_={exports:{}},nM;function uue(){return nM||(nM=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(l,o,u){this.fn=l,this.context=o,this.once=u||!1}function a(l,o,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new i(u,f||l,h),g=t?t+o:o;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function s(l,o){--l._eventsCount===0?l._events=new n:delete l._events[o]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var o=[],u,f;if(this._eventsCount===0)return o;for(f in u=this._events)e.call(u,f)&&o.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(u)):o},c.prototype.listeners=function(o){var u=t?t+o:o,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,g=new Array(d);h<d;h++)g[h]=f[h].fn;return g},c.prototype.listenerCount=function(o){var u=t?t+o:o,f=this._events[u];return f?f.fn?1:f.length:0},c.prototype.emit=function(o,u,f,h,d,g){var y=t?t+o:o;if(!this._events[y])return!1;var m=this._events[y],x=arguments.length,v,_;if(m.fn){switch(m.once&&this.removeListener(o,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,f),!0;case 4:return m.fn.call(m.context,u,f,h),!0;case 5:return m.fn.call(m.context,u,f,h,d),!0;case 6:return m.fn.call(m.context,u,f,h,d,g),!0}for(_=1,v=new Array(x-1);_<x;_++)v[_-1]=arguments[_];m.fn.apply(m.context,v)}else{var k=m.length,N;for(_=0;_<k;_++)switch(m[_].once&&this.removeListener(o,m[_].fn,void 0,!0),x){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,u);break;case 3:m[_].fn.call(m[_].context,u,f);break;case 4:m[_].fn.call(m[_].context,u,f,h);break;default:if(!v)for(N=1,v=new Array(x-1);N<x;N++)v[N-1]=arguments[N];m[_].fn.apply(m[_].context,v)}}return!0},c.prototype.on=function(o,u,f){return a(this,o,u,f,!1)},c.prototype.once=function(o,u,f){return a(this,o,u,f,!0)},c.prototype.removeListener=function(o,u,f,h){var d=t?t+o:o;if(!this._events[d])return this;if(!u)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,d);else{for(var y=0,m=[],x=g.length;y<x;y++)(g[y].fn!==u||h&&!g[y].once||f&&g[y].context!==f)&&m.push(g[y]);m.length?this._events[d]=m.length===1?m[0]:m:s(this,d)}return this},c.prototype.removeAllListeners=function(o){var u;return o?(u=t?t+o:o,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,r.exports=c})(G_)),G_.exports}var fue=uue();const hue=Cr(fue);var W_=new hue,X_="recharts.syncMouseEvents";function Up(r){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(r)}function due(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function pue(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,OL(n.key),n)}}function mue(r,e,t){return e&&pue(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Y_(r,e,t){return e=OL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function OL(r){var e=gue(r,"string");return Up(e)=="symbol"?e:e+""}function gue(r,e){if(Up(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var bue=(function(){function r(){due(this,r),Y_(this,"activeIndex",0),Y_(this,"coordinateList",[]),Y_(this,"layout","horizontal")}return mue(r,[{key:"setDetails",value:function(t){var n,i=t.coordinateList,a=i===void 0?null:i,s=t.container,c=s===void 0?null:s,l=t.layout,o=l===void 0?null:l,u=t.offset,f=u===void 0?null:u,h=t.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=o??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,c=i.height,l=this.coordinateList[this.activeIndex].coordinate,o=((t=window)===null||t===void 0?void 0:t.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+o,h=s+this.offset.top+c/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function yue(r,e,t){if(t==="number"&&e===!0&&Array.isArray(r)){var n=r==null?void 0:r[0],i=r==null?void 0:r[1];if(n&&i&&Qe(n)&&Qe(i))return!0}return!1}function vue(r,e,t,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-i,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function NL(r){var e=r.cx,t=r.cy,n=r.radius,i=r.startAngle,a=r.endAngle,s=Jr(e,t,n,i),c=Jr(e,t,n,a);return{points:[s,c],cx:e,cy:t,radius:n,startAngle:i,endAngle:a}}function xue(r,e,t){var n,i,a,s;if(r==="horizontal")n=e.x,a=n,i=t.top,s=t.top+t.height;else if(r==="vertical")i=e.y,s=i,n=t.left,a=t.left+t.width;else if(e.cx!=null&&e.cy!=null)if(r==="centric"){var c=e.cx,l=e.cy,o=e.innerRadius,u=e.outerRadius,f=e.angle,h=Jr(c,l,o,f),d=Jr(c,l,u,f);n=h.x,i=h.y,a=d.x,s=d.y}else return NL(e);return[{x:n,y:i},{x:a,y:s}]}function Hp(r){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(r)}function iM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function B0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(t),!0).forEach(function(n){wue(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function wue(r,e,t){return e=_ue(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _ue(r){var e=Sue(r,"string");return Hp(e)=="symbol"?e:e+""}function Sue(r,e){if(Hp(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Aue(r){var e,t,n=r.element,i=r.tooltipEventType,a=r.isActive,s=r.activeCoordinate,c=r.activePayload,l=r.offset,o=r.activeTooltipIndex,u=r.tooltipAxisBandSize,f=r.layout,h=r.chartName,d=(e=n.props.cursor)!==null&&e!==void 0?e:(t=n.type.defaultProps)===null||t===void 0?void 0:t.cursor;if(!n||!d||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Yo;if(h==="ScatterChart")g=s,y=bae;else if(h==="BarChart")g=vue(f,s,l,u),y=iS;else if(f==="radial"){var m=NL(s),x=m.cx,v=m.cy,_=m.radius,k=m.startAngle,N=m.endAngle;g={cx:x,cy:v,startAngle:k,endAngle:N,innerRadius:_,outerRadius:_},y=EB}else g={points:xue(f,s,l)},y=Yo;var P=B0(B0(B0(B0({stroke:"#ccc",pointerEvents:"none"},l),g),St(d,!1)),{},{payload:c,payloadIndex:o,className:Jt("recharts-tooltip-cursor",d.className)});return ye.isValidElement(d)?ye.cloneElement(d,P):ye.createElement(y,P)}var Eue=["item"],Tue=["children","className","width","height","style","compact","title","desc"];function $f(r){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(r)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Vu.apply(this,arguments)}function aM(r,e){return Cue(r)||jue(r,e)||RL(r,e)||kue()}function kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jue(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,s,c=[],l=!0,o=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(l=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(u){o=!0,i=u}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Cue(r){if(Array.isArray(r))return r}function sM(r,e){if(r==null)return{};var t=Oue(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Oue(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Nue(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Mue(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,IL(n.key),n)}}function Rue(r,e,t){return e&&Mue(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Iue(r,e,t){return e=kb(e),Pue(r,ML()?Reflect.construct(e,t||[],kb(r).constructor):e.apply(r,t))}function Pue(r,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Due(r)}function Due(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ML(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!r})()}function kb(r){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kb(r)}function Bue(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&o5(r,e)}function o5(r,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o5(r,e)}function Vf(r){return $ue(r)||Fue(r)||RL(r)||Lue()}function Lue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(r,e){if(r){if(typeof r=="string")return l5(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l5(r,e)}}function Fue(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function $ue(r){if(Array.isArray(r))return l5(r)}function l5(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function oM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Be(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(t),!0).forEach(function(n){zt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):oM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zt(r,e,t){return e=IL(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function IL(r){var e=Vue(r,"string");return $f(e)=="symbol"?e:e+""}function Vue(r,e){if($f(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var zue={xAxis:["bottom","top"],yAxis:["left","right"]},que={width:"100%",height:"100%"},PL={x:0,y:0};function L0(r){return r}var Uue=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},Hue=function(e,t,n,i){var a=t.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,c=i.radius;return Be(Be(Be({},i),Jr(i.cx,i.cy,c,s)),{},{angle:s,radius:c})}var l=a.coordinate,o=i.angle;return Be(Be(Be({},i),Jr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}return PL},Dy=function(e,t){var n=t.graphicalItems,i=t.dataStartIndex,a=t.dataEndIndex,s=(n??[]).reduce(function(c,l){var o=l.props.data;return o&&o.length?[].concat(Vf(c),Vf(o)):c},[]);return s.length>0?s:e&&e.length&&Qe(i)&&Qe(a)?e.slice(i,a+1):[]};function DL(r){return r==="number"?[0,"auto"]:void 0}var c5=function(e,t,n,i){var a=e.graphicalItems,s=e.tooltipAxis,c=Dy(t,e);return n<0||!a||!a.length||n>=c.length?null:a.reduce(function(l,o){var u,f=(u=o.props.data)!==null&&u!==void 0?u:t;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?c:f;h=Tg(d,s.dataKey,i)}else h=f&&f[n]||c[n];return h?[].concat(Vf(l),[vB(o,h)]):l},[])},lM=function(e,t,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Uue(a,n),c=e.orderedTooltipTicks,l=e.tooltipAxis,o=e.tooltipTicks,u=Lte(s,c,o,l);if(u>=0&&o){var f=o[u]&&o[u].value,h=c5(e,t,u,f),d=Hue(n,c,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},Kue=function(e,t){var n=t.axes,i=t.graphicalItems,a=t.axisType,s=t.axisIdKey,c=t.stackGroups,l=t.dataStartIndex,o=t.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,d=dB(u,a);return n.reduce(function(g,y){var m,x=y.type.defaultProps!==void 0?Be(Be({},y.type.defaultProps),y.props):y.props,v=x.type,_=x.dataKey,k=x.allowDataOverflow,N=x.allowDuplicatedCategory,P=x.scale,D=x.ticks,I=x.includeHidden,B=x[s];if(g[B])return g;var L=Dy(e.data,{graphicalItems:i.filter(function(H){var Y,Z=s in H.props?H.props[s]:(Y=H.type.defaultProps)===null||Y===void 0?void 0:Y[s];return Z===B}),dataStartIndex:l,dataEndIndex:o}),z=L.length,$,O,F;yue(x.domain,k,v)&&($=x4(x.domain,null,k),d&&(v==="number"||P!=="auto")&&(F=Dd(L,_,"category")));var C=DL(v);if(!$||$.length===0){var w,E=(w=x.domain)!==null&&w!==void 0?w:C;if(_){if($=Dd(L,_,v),v==="category"&&d){var A=MG($);N&&A?(O=$,$=fb(0,z)):N||($=sO(E,$,y).reduce(function(H,Y){return H.indexOf(Y)>=0?H:[].concat(Vf(H),[Y])},[]))}else if(v==="category")N?$=$.filter(function(H){return H!==""&&!Ft(H)}):$=sO(E,$,y).reduce(function(H,Y){return H.indexOf(Y)>=0||Y===""||Ft(Y)?H:[].concat(Vf(H),[Y])},[]);else if(v==="number"){var j=qte(L,i.filter(function(H){var Y,Z,te=s in H.props?H.props[s]:(Y=H.type.defaultProps)===null||Y===void 0?void 0:Y[s],W="hide"in H.props?H.props.hide:(Z=H.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return te===B&&(I||!W)}),_,a,u);j&&($=j)}d&&(v==="number"||P!=="auto")&&(F=Dd(L,_,"category"))}else d?$=fb(0,z):c&&c[B]&&c[B].hasStack&&v==="number"?$=h==="expand"?[0,1]:yB(c[B].stackGroups,l,o):$=hB(L,i.filter(function(H){var Y=s in H.props?H.props[s]:H.type.defaultProps[s],Z="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return Y===B&&(I||!Z)}),v,u,!0);if(v==="number")$=s5(f,$,B,a,D),E&&($=x4(E,$,k));else if(v==="category"&&E){var R=E,q=$.every(function(H){return R.indexOf(H)>=0});q&&($=R)}}return Be(Be({},g),{},zt({},B,Be(Be({},x),{},{axisType:a,domain:$,categoricalDomain:F,duplicateDomain:O,originalDomain:(m=x.domain)!==null&&m!==void 0?m:C,isCategorical:d,layout:u})))},{})},Gue=function(e,t){var n=t.graphicalItems,i=t.Axis,a=t.axisType,s=t.axisIdKey,c=t.stackGroups,l=t.dataStartIndex,o=t.dataEndIndex,u=e.layout,f=e.children,h=Dy(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:o}),d=h.length,g=dB(u,a),y=-1;return n.reduce(function(m,x){var v=x.type.defaultProps!==void 0?Be(Be({},x.type.defaultProps),x.props):x.props,_=v[s],k=DL("number");if(!m[_]){y++;var N;return g?N=fb(0,d):c&&c[_]&&c[_].hasStack?(N=yB(c[_].stackGroups,l,o),N=s5(f,N,_,a)):(N=x4(k,hB(h,n.filter(function(P){var D,I,B=s in P.props?P.props[s]:(D=P.type.defaultProps)===null||D===void 0?void 0:D[s],L="hide"in P.props?P.props.hide:(I=P.type.defaultProps)===null||I===void 0?void 0:I.hide;return B===_&&!L}),"number",u),i.defaultProps.allowDataOverflow),N=s5(f,N,_,a)),Be(Be({},m),{},zt({},_,Be(Be({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yi(zue,"".concat(a,".").concat(y%2),null),domain:N,originalDomain:k,isCategorical:g,layout:u})))}return m},{})},Wue=function(e,t){var n=t.axisType,i=n===void 0?"xAxis":n,a=t.AxisComp,s=t.graphicalItems,c=t.stackGroups,l=t.dataStartIndex,o=t.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=Ai(u,a),d={};return h&&h.length?d=Kue(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:o}):s&&s.length&&(d=Gue(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:o})),d},Xue=function(e){var t=$o(e),n=qs(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:N6(n,function(i){return i.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Qg(t,n)}},cM=function(e){var t=e.children,n=e.defaultShowTooltip,i=Hi(t,jf),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Yue=function(e){return!e||!e.length?!1:e.some(function(t){var n=Us(t&&t.type);return n&&n.indexOf("Bar")>=0})},uM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Que=function(e,t){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,c=e.yAxisMap,l=c===void 0?{}:c,o=n.width,u=n.height,f=n.children,h=n.margin||{},d=Hi(f,jf),g=Hi(f,us),y=Object.keys(l).reduce(function(N,P){var D=l[P],I=D.orientation;return!D.mirror&&!D.hide?Be(Be({},N),{},zt({},I,N[I]+D.width)):N},{left:h.left||0,right:h.right||0}),m=Object.keys(s).reduce(function(N,P){var D=s[P],I=D.orientation;return!D.mirror&&!D.hide?Be(Be({},N),{},zt({},I,Yi(N,"".concat(I))+D.height)):N},{top:h.top||0,bottom:h.bottom||0}),x=Be(Be({},m),y),v=x.bottom;d&&(x.bottom+=d.props.height||jf.defaultProps.height),g&&t&&(x=Vte(x,i,n,t));var _=o-x.left-x.right,k=u-x.top-x.bottom;return Be(Be({brushBottom:v},x),{},{width:Math.max(_,0),height:Math.max(k,0)})},Zue=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},By=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,c=s===void 0?["axis"]:s,l=e.axisComponents,o=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(x,v){var _=v.graphicalItems,k=v.stackGroups,N=v.offset,P=v.updateId,D=v.dataStartIndex,I=v.dataEndIndex,B=x.barSize,L=x.layout,z=x.barGap,$=x.barCategoryGap,O=x.maxBarSize,F=uM(L),C=F.numericAxisName,w=F.cateAxisName,E=Yue(_),A=[];return _.forEach(function(j,R){var q=Dy(x.data,{graphicalItems:[j],dataStartIndex:D,dataEndIndex:I}),H=j.type.defaultProps!==void 0?Be(Be({},j.type.defaultProps),j.props):j.props,Y=H.dataKey,Z=H.maxBarSize,te=H["".concat(C,"Id")],W=H["".concat(w,"Id")],ee={},K=l.reduce(function(xe,_e){var Ne=v["".concat(_e.axisType,"Map")],Re=H["".concat(_e.axisType,"Id")];Ne&&Ne[Re]||_e.axisType==="zAxis"||Oc();var $e=Ne[Re];return Be(Be({},xe),{},zt(zt({},_e.axisType,$e),"".concat(_e.axisType,"Ticks"),qs($e)))},ee),V=K[w],Q=K["".concat(w,"Ticks")],re=k&&k[te]&&k[te].hasStack&&Zte(j,k[te].stackGroups),oe=Us(j.type).indexOf("Bar")>=0,ne=Qg(V,Q),le=[],me=E&&Fte({barSize:B,stackGroups:k,totalSize:Zue(K,w)});if(oe){var ge,se,fe=Ft(Z)?O:Z,he=(ge=(se=Qg(V,Q,!0))!==null&&se!==void 0?se:fe)!==null&&ge!==void 0?ge:0;le=$te({barGap:z,barCategoryGap:$,bandSize:he!==ne?he:ne,sizeList:me[W],maxBarSize:fe}),he!==ne&&(le=le.map(function(xe){return Be(Be({},xe),{},{position:Be(Be({},xe.position),{},{offset:xe.position.offset-he/2})})}))}var ve=j&&j.type&&j.type.getComposedData;ve&&A.push({props:Be(Be({},ve(Be(Be({},K),{},{displayedData:q,props:x,dataKey:Y,item:j,bandSize:ne,barPosition:le,offset:N,stackedData:re,layout:L,dataStartIndex:D,dataEndIndex:I}))),{},zt(zt(zt({key:j.key||"item-".concat(R)},C,K[C]),w,K[w]),"animationId",P)),childIndex:UG(j,x.children),item:j})}),A},d=function(x,v){var _=x.props,k=x.dataStartIndex,N=x.dataEndIndex,P=x.updateId;if(!w9({props:_}))return null;var D=_.children,I=_.layout,B=_.stackOffset,L=_.data,z=_.reverseStackOrder,$=uM(I),O=$.numericAxisName,F=$.cateAxisName,C=Ai(D,n),w=Yte(L,C,"".concat(O,"Id"),"".concat(F,"Id"),B,z),E=l.reduce(function(H,Y){var Z="".concat(Y.axisType,"Map");return Be(Be({},H),{},zt({},Z,Wue(_,Be(Be({},Y),{},{graphicalItems:C,stackGroups:Y.axisType===O&&w,dataStartIndex:k,dataEndIndex:N}))))},{}),A=Que(Be(Be({},E),{},{props:_,graphicalItems:C}),v==null?void 0:v.legendBBox);Object.keys(E).forEach(function(H){E[H]=u(_,E[H],A,H.replace("Map",""),t)});var j=E["".concat(F,"Map")],R=Xue(j),q=h(_,Be(Be({},E),{},{dataStartIndex:k,dataEndIndex:N,updateId:P,graphicalItems:C,stackGroups:w,offset:A}));return Be(Be({formattedGraphicalItems:q,graphicalItems:C,offset:A,stackGroups:w},R),E)},g=(function(m){function x(v){var _,k,N;return Nue(this,x),N=Iue(this,x,[v]),zt(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zt(N,"accessibilityManager",new bue),zt(N,"handleLegendBBoxUpdate",function(P){if(P){var D=N.state,I=D.dataStartIndex,B=D.dataEndIndex,L=D.updateId;N.setState(Be({legendBBox:P},d({props:N.props,dataStartIndex:I,dataEndIndex:B,updateId:L},Be(Be({},N.state),{},{legendBBox:P}))))}}),zt(N,"handleReceiveSyncEvent",function(P,D,I){if(N.props.syncId===P){if(I===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(D)}}),zt(N,"handleBrushChange",function(P){var D=P.startIndex,I=P.endIndex;if(D!==N.state.dataStartIndex||I!==N.state.dataEndIndex){var B=N.state.updateId;N.setState(function(){return Be({dataStartIndex:D,dataEndIndex:I},d({props:N.props,dataStartIndex:D,dataEndIndex:I,updateId:B},N.state))}),N.triggerSyncEvent({dataStartIndex:D,dataEndIndex:I})}}),zt(N,"handleMouseEnter",function(P){var D=N.getMouseInfo(P);if(D){var I=Be(Be({},D),{},{isTooltipActive:!0});N.setState(I),N.triggerSyncEvent(I);var B=N.props.onMouseEnter;Lt(B)&&B(I,P)}}),zt(N,"triggeredAfterMouseMove",function(P){var D=N.getMouseInfo(P),I=D?Be(Be({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(I),N.triggerSyncEvent(I);var B=N.props.onMouseMove;Lt(B)&&B(I,P)}),zt(N,"handleItemMouseEnter",function(P){N.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),zt(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),zt(N,"handleMouseMove",function(P){P.persist(),N.throttleTriggeredAfterMouseMove(P)}),zt(N,"handleMouseLeave",function(P){N.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};N.setState(D),N.triggerSyncEvent(D);var I=N.props.onMouseLeave;Lt(I)&&I(D,P)}),zt(N,"handleOuterEvent",function(P){var D=qG(P),I=Yi(N.props,"".concat(D));if(D&&Lt(I)){var B,L;/.*touch.*/i.test(D)?L=N.getMouseInfo(P.changedTouches[0]):L=N.getMouseInfo(P),I((B=L)!==null&&B!==void 0?B:{},P)}}),zt(N,"handleClick",function(P){var D=N.getMouseInfo(P);if(D){var I=Be(Be({},D),{},{isTooltipActive:!0});N.setState(I),N.triggerSyncEvent(I);var B=N.props.onClick;Lt(B)&&B(I,P)}}),zt(N,"handleMouseDown",function(P){var D=N.props.onMouseDown;if(Lt(D)){var I=N.getMouseInfo(P);D(I,P)}}),zt(N,"handleMouseUp",function(P){var D=N.props.onMouseUp;if(Lt(D)){var I=N.getMouseInfo(P);D(I,P)}}),zt(N,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),zt(N,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseDown(P.changedTouches[0])}),zt(N,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseUp(P.changedTouches[0])}),zt(N,"handleDoubleClick",function(P){var D=N.props.onDoubleClick;if(Lt(D)){var I=N.getMouseInfo(P);D(I,P)}}),zt(N,"handleContextMenu",function(P){var D=N.props.onContextMenu;if(Lt(D)){var I=N.getMouseInfo(P);D(I,P)}}),zt(N,"triggerSyncEvent",function(P){N.props.syncId!==void 0&&W_.emit(X_,N.props.syncId,P,N.eventEmitterSymbol)}),zt(N,"applySyncEvent",function(P){var D=N.props,I=D.layout,B=D.syncMethod,L=N.state.updateId,z=P.dataStartIndex,$=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)N.setState(Be({dataStartIndex:z,dataEndIndex:$},d({props:N.props,dataStartIndex:z,dataEndIndex:$,updateId:L},N.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,F=P.chartY,C=P.activeTooltipIndex,w=N.state,E=w.offset,A=w.tooltipTicks;if(!E)return;if(typeof B=="function")C=B(A,P);else if(B==="value"){C=-1;for(var j=0;j<A.length;j++)if(A[j].value===P.activeLabel){C=j;break}}var R=Be(Be({},E),{},{x:E.left,y:E.top}),q=Math.min(O,R.x+R.width),H=Math.min(F,R.y+R.height),Y=A[C]&&A[C].value,Z=c5(N.state,N.props.data,C),te=A[C]?{x:I==="horizontal"?A[C].coordinate:q,y:I==="horizontal"?H:A[C].coordinate}:PL;N.setState(Be(Be({},P),{},{activeLabel:Y,activeCoordinate:te,activePayload:Z,activeTooltipIndex:C}))}else N.setState(P)}),zt(N,"renderCursor",function(P){var D,I=N.state,B=I.isTooltipActive,L=I.activeCoordinate,z=I.activePayload,$=I.offset,O=I.activeTooltipIndex,F=I.tooltipAxisBandSize,C=N.getTooltipEventType(),w=(D=P.props.active)!==null&&D!==void 0?D:B,E=N.props.layout,A=P.key||"_recharts-cursor";return pe.createElement(Aue,{key:A,activeCoordinate:L,activePayload:z,activeTooltipIndex:O,chartName:t,element:P,isActive:w,layout:E,offset:$,tooltipAxisBandSize:F,tooltipEventType:C})}),zt(N,"renderPolarAxis",function(P,D,I){var B=Yi(P,"type.axisType"),L=Yi(N.state,"".concat(B,"Map")),z=P.type.defaultProps,$=z!==void 0?Be(Be({},z),P.props):P.props,O=L&&L[$["".concat(B,"Id")]];return ye.cloneElement(P,Be(Be({},O),{},{className:Jt(B,O.className),key:P.key||"".concat(D,"-").concat(I),ticks:qs(O,!0)}))}),zt(N,"renderPolarGrid",function(P){var D=P.props,I=D.radialLines,B=D.polarAngles,L=D.polarRadius,z=N.state,$=z.radiusAxisMap,O=z.angleAxisMap,F=$o($),C=$o(O),w=C.cx,E=C.cy,A=C.innerRadius,j=C.outerRadius;return ye.cloneElement(P,{polarAngles:Array.isArray(B)?B:qs(C,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(L)?L:qs(F,!0).map(function(R){return R.coordinate}),cx:w,cy:E,innerRadius:A,outerRadius:j,key:P.key||"polar-grid",radialLines:I})}),zt(N,"renderLegend",function(){var P=N.state.formattedGraphicalItems,D=N.props,I=D.children,B=D.width,L=D.height,z=N.props.margin||{},$=B-(z.left||0)-(z.right||0),O=uB({children:I,formattedGraphicalItems:P,legendWidth:$,legendContent:o});if(!O)return null;var F=O.item,C=sM(O,Eue);return ye.cloneElement(F,Be(Be({},C),{},{chartWidth:B,chartHeight:L,margin:z,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),zt(N,"renderTooltip",function(){var P,D=N.props,I=D.children,B=D.accessibilityLayer,L=Hi(I,Kn);if(!L)return null;var z=N.state,$=z.isTooltipActive,O=z.activeCoordinate,F=z.activePayload,C=z.activeLabel,w=z.offset,E=(P=L.props.active)!==null&&P!==void 0?P:$;return ye.cloneElement(L,{viewBox:Be(Be({},w),{},{x:w.left,y:w.top}),active:E,label:C,payload:E?F:[],coordinate:O,accessibilityLayer:B})}),zt(N,"renderBrush",function(P){var D=N.props,I=D.margin,B=D.data,L=N.state,z=L.offset,$=L.dataStartIndex,O=L.dataEndIndex,F=L.updateId;return ye.cloneElement(P,{key:P.key||"_recharts-brush",onChange:R0(N.handleBrushChange,P.props.onChange),data:B,x:Qe(P.props.x)?P.props.x:z.left,y:Qe(P.props.y)?P.props.y:z.top+z.height+z.brushBottom-(I.bottom||0),width:Qe(P.props.width)?P.props.width:z.width,startIndex:$,endIndex:O,updateId:"brush-".concat(F)})}),zt(N,"renderReferenceElement",function(P,D,I){if(!P)return null;var B=N,L=B.clipPathId,z=N.state,$=z.xAxisMap,O=z.yAxisMap,F=z.offset,C=P.type.defaultProps||{},w=P.props,E=w.xAxisId,A=E===void 0?C.xAxisId:E,j=w.yAxisId,R=j===void 0?C.yAxisId:j;return ye.cloneElement(P,{key:P.key||"".concat(D,"-").concat(I),xAxis:$[A],yAxis:O[R],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:L})}),zt(N,"renderActivePoints",function(P){var D=P.item,I=P.activePoint,B=P.basePoint,L=P.childIndex,z=P.isRange,$=[],O=D.props.key,F=D.item.type.defaultProps!==void 0?Be(Be({},D.item.type.defaultProps),D.item.props):D.item.props,C=F.activeDot,w=F.dataKey,E=Be(Be({index:L,dataKey:w,cx:I.x,cy:I.y,r:4,fill:nS(D.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},St(C,!1)),kg(C));return $.push(x.renderActiveDot(C,E,"".concat(O,"-activePoint-").concat(L))),B?$.push(x.renderActiveDot(C,Be(Be({},E),{},{cx:B.x,cy:B.y}),"".concat(O,"-basePoint-").concat(L))):z&&$.push(null),$}),zt(N,"renderGraphicChild",function(P,D,I){var B=N.filterFormatItem(P,D,I);if(!B)return null;var L=N.getTooltipEventType(),z=N.state,$=z.isTooltipActive,O=z.tooltipAxis,F=z.activeTooltipIndex,C=z.activeLabel,w=N.props.children,E=Hi(w,Kn),A=B.props,j=A.points,R=A.isRange,q=A.baseLine,H=B.item.type.defaultProps!==void 0?Be(Be({},B.item.type.defaultProps),B.item.props):B.item.props,Y=H.activeDot,Z=H.hide,te=H.activeBar,W=H.activeShape,ee=!!(!Z&&$&&E&&(Y||te||W)),K={};L!=="axis"&&E&&E.props.trigger==="click"?K={onClick:R0(N.handleItemMouseEnter,P.props.onClick)}:L!=="axis"&&(K={onMouseLeave:R0(N.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:R0(N.handleItemMouseEnter,P.props.onMouseEnter)});var V=ye.cloneElement(P,Be(Be({},B.props),K));function Q(_e){return typeof O.dataKey=="function"?O.dataKey(_e.payload):null}if(ee)if(F>=0){var re,oe;if(O.dataKey&&!O.allowDuplicatedCategory){var ne=typeof O.dataKey=="function"?Q:"payload.".concat(O.dataKey.toString());re=Tg(j,ne,C),oe=R&&q&&Tg(q,ne,C)}else re=j==null?void 0:j[F],oe=R&&q&&q[F];if(W||te){var le=P.props.activeIndex!==void 0?P.props.activeIndex:F;return[ye.cloneElement(P,Be(Be(Be({},B.props),K),{},{activeIndex:le})),null,null]}if(!Ft(re))return[V].concat(Vf(N.renderActivePoints({item:B,activePoint:re,basePoint:oe,childIndex:F,isRange:R})))}else{var me,ge=(me=N.getItemByXY(N.state.activeCoordinate))!==null&&me!==void 0?me:{graphicalItem:V},se=ge.graphicalItem,fe=se.item,he=fe===void 0?P:fe,ve=se.childIndex,xe=Be(Be(Be({},B.props),K),{},{activeIndex:ve});return[ye.cloneElement(he,xe),null,null]}return R?[V,null,null]:[V,null]}),zt(N,"renderCustomized",function(P,D,I){return ye.cloneElement(P,Be(Be({key:"recharts-customized-".concat(I)},N.props),N.state))}),zt(N,"renderMap",{CartesianGrid:{handler:L0,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:L0},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:L0},YAxis:{handler:L0},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=v.id)!==null&&_!==void 0?_:fl("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=cD(N.triggeredAfterMouseMove,(k=v.throttleDelay)!==null&&k!==void 0?k:1e3/60),N.state={},N}return Bue(x,m),Rue(x,[{key:"componentDidMount",value:function(){var _,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,k=_.children,N=_.data,P=_.height,D=_.layout,I=Hi(k,Kn);if(I){var B=I.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,z=c5(this.state,N,B,L),$=this.state.tooltipTicks[B].coordinate,O=(this.state.offset.top+P)/2,F=D==="horizontal",C=F?{x:$,y:O}:{y:$,x:O},w=this.state.formattedGraphicalItems.find(function(A){var j=A.item;return j.type.name==="Scatter"});w&&(C=Be(Be({},C),w.props.points[B].tooltipPosition),z=w.props.points[B].tooltipPayload);var E={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:L,activePayload:z,activeCoordinate:C};this.setState(E),this.renderCursor(I),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,P;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(_){z3([Hi(_.children,Kn)],[Hi(this.props.children,Kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Hi(this.props.children,Kn);if(_&&typeof _.props.shared=="boolean"){var k=_.props.shared?"axis":"item";return c.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var k=this.container,N=k.getBoundingClientRect(),P=OQ(N),D={chartX:Math.round(_.pageX-P.left),chartY:Math.round(_.pageY-P.top)},I=N.width/k.offsetWidth||1,B=this.inRange(D.chartX,D.chartY,I);if(!B)return null;var L=this.state,z=L.xAxisMap,$=L.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&z&&$){var F=$o(z).scale,C=$o($).scale,w=F&&F.invert?F.invert(D.chartX):null,E=C&&C.invert?C.invert(D.chartY):null;return Be(Be({},D),{},{xValue:w,yValue:E})}var A=lM(this.state,this.props.data,this.props.layout,B);return A?Be(Be({},D),A):null}},{key:"inRange",value:function(_,k){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,D=_/N,I=k/N;if(P==="horizontal"||P==="vertical"){var B=this.state.offset,L=D>=B.left&&D<=B.left+B.width&&I>=B.top&&I<=B.top+B.height;return L?{x:D,y:I}:null}var z=this.state,$=z.angleAxisMap,O=z.radiusAxisMap;if($&&O){var F=$o($);return cO({x:D,y:I},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,k=this.getTooltipEventType(),N=Hi(_,Kn),P={};N&&k==="axis"&&(N.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var D=kg(this.props,this.handleOuterEvent);return Be(Be({},D),P)}},{key:"addListener",value:function(){W_.on(X_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){W_.removeListener(X_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,k,N){for(var P=this.state.formattedGraphicalItems,D=0,I=P.length;D<I;D++){var B=P[D];if(B.item===_||B.props.key===_.key||k===Us(B.item.type)&&N===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,k=this.state.offset,N=k.left,P=k.top,D=k.height,I=k.width;return pe.createElement("defs",null,pe.createElement("clipPath",{id:_},pe.createElement("rect",{x:N,y:P,height:D,width:I})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(k,N){var P=aM(N,2),D=P[0],I=P[1];return Be(Be({},k),{},zt({},D,I.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(k,N){var P=aM(N,2),D=P[0],I=P[1];return Be(Be({},k),{},zt({},D,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(_){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(_){var k=this.state,N=k.formattedGraphicalItems,P=k.activeItem;if(N&&N.length)for(var D=0,I=N.length;D<I;D++){var B=N[D],L=B.props,z=B.item,$=z.type.defaultProps!==void 0?Be(Be({},z.type.defaultProps),z.props):z.props,O=Us(z.type);if(O==="Bar"){var F=(L.data||[]).find(function(A){return Qie(_,A)});if(F)return{graphicalItem:B,payload:F}}else if(O==="RadialBar"){var C=(L.data||[]).find(function(A){return cO(_,A)});if(C)return{graphicalItem:B,payload:C}}else if(ky(B,P)||jy(B,P)||Fp(B,P)){var w=xse({graphicalItem:B,activeTooltipItem:P,itemData:$.data}),E=$.activeIndex===void 0?w:$.activeIndex;return{graphicalItem:Be(Be({},B),{},{childIndex:E}),payload:Fp(B,P)?$.data[w]:B.props.data[w]}}}return null}},{key:"render",value:function(){var _=this;if(!w9(this))return null;var k=this.props,N=k.children,P=k.className,D=k.width,I=k.height,B=k.style,L=k.compact,z=k.title,$=k.desc,O=sM(k,Tue),F=St(O,!1);if(L)return pe.createElement(DN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement(U3,Vu({},F,{width:D,height:I,title:z,desc:$}),this.renderClipPath(),S9(N,this.renderMap)));if(this.props.accessibilityLayer){var C,w;F.tabIndex=(C=this.props.tabIndex)!==null&&C!==void 0?C:0,F.role=(w=this.props.role)!==null&&w!==void 0?w:"application",F.onKeyDown=function(A){_.accessibilityManager.keyboardEvent(A)},F.onFocus=function(){_.accessibilityManager.focus()}}var E=this.parseEventsOfWrapper();return pe.createElement(DN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},pe.createElement("div",Vu({className:Jt("recharts-wrapper",P),style:Be({position:"relative",cursor:"default",width:D,height:I},B)},E,{ref:function(j){_.container=j}}),pe.createElement(U3,Vu({},F,{width:D,height:I,title:z,desc:$,style:que}),this.renderClipPath(),S9(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(ye.Component);zt(g,"displayName",t),zt(g,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),zt(g,"getDerivedStateFromProps",function(m,x){var v=m.dataKey,_=m.data,k=m.children,N=m.width,P=m.height,D=m.layout,I=m.stackOffset,B=m.margin,L=x.dataStartIndex,z=x.dataEndIndex;if(x.updateId===void 0){var $=cM(m);return Be(Be(Be({},$),{},{updateId:0},d(Be(Be({props:m},$),{},{updateId:0}),x)),{},{prevDataKey:v,prevData:_,prevWidth:N,prevHeight:P,prevLayout:D,prevStackOffset:I,prevMargin:B,prevChildren:k})}if(v!==x.prevDataKey||_!==x.prevData||N!==x.prevWidth||P!==x.prevHeight||D!==x.prevLayout||I!==x.prevStackOffset||!Ku(B,x.prevMargin)){var O=cM(m),F={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},C=Be(Be({},lM(x,_,D)),{},{updateId:x.updateId+1}),w=Be(Be(Be({},O),F),C);return Be(Be(Be({},w),d(Be({props:m},w),x)),{},{prevDataKey:v,prevData:_,prevWidth:N,prevHeight:P,prevLayout:D,prevStackOffset:I,prevMargin:B,prevChildren:k})}if(!z3(k,x.prevChildren)){var E,A,j,R,q=Hi(k,jf),H=q&&(E=(A=q.props)===null||A===void 0?void 0:A.startIndex)!==null&&E!==void 0?E:L,Y=q&&(j=(R=q.props)===null||R===void 0?void 0:R.endIndex)!==null&&j!==void 0?j:z,Z=H!==L||Y!==z,te=!Ft(_),W=te&&!Z?x.updateId:x.updateId+1;return Be(Be({updateId:W},d(Be(Be({props:m},x),{},{updateId:W,dataStartIndex:H,dataEndIndex:Y}),x)),{},{prevChildren:k,dataStartIndex:H,dataEndIndex:Y})}return null}),zt(g,"renderActiveDot",function(m,x,v){var _;return ye.isValidElement(m)?_=ye.cloneElement(m,x):Lt(m)?_=m(x):_=pe.createElement(fm,x),pe.createElement(nr,{className:"recharts-active-dot",key:v},_)});var y=ye.forwardRef(function(x,v){return pe.createElement(g,Vu({},x,{ref:v}))});return y.displayName=g.displayName,y},BL=By({chartName:"BarChart",GraphicalChild:Zi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ji},{axisType:"yAxis",AxisComp:di}],formatAxisMap:aS}),Jue=By({chartName:"PieChart",GraphicalChild:ao,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ty},{axisType:"radiusAxis",AxisComp:Ay}],formatAxisMap:lre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),efe=By({chartName:"AreaChart",GraphicalChild:bs,axisComponents:[{axisType:"xAxis",AxisComp:Ji},{axisType:"yAxis",AxisComp:di}],formatAxisMap:aS}),Kp=By({chartName:"ComposedChart",GraphicalChild:[al,bs,Zi,Py],axisComponents:[{axisType:"xAxis",AxisComp:Ji},{axisType:"yAxis",AxisComp:di},{axisType:"zAxis",AxisComp:Iy}],formatAxisMap:aS});const fM=["#6366f1","#10b981","#f59e0b","#f43f5e","#8b5cf6","#ec4899","#06b6d4"],Q_=({label:r,options:e,selected:t,onChange:n,icon:i,isMulti:a=!1})=>{const[s,c]=ye.useState(!1),l=ye.useRef(null);ye.useEffect(()=>{const u=f=>{l.current&&!l.current.contains(f.target)&&c(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const o=u=>{a?n(t.includes(u)?t.filter(f=>f!==u):[...t,u]):(n(u),c(!1))};return T.jsxs("div",{className:"relative",ref:l,children:[T.jsxs("button",{onClick:()=>c(!s),className:`flex items-center gap-2 px-4 py-2.5 bg-slate-800 border border-slate-700 rounded-xl text-xs font-bold text-white transition-all hover:bg-slate-700 min-w-[160px] justify-between ${s?"ring-2 ring-indigo-500":""}`,children:[T.jsxs("div",{className:"flex items-center gap-2 truncate",children:[i&&T.jsx(i,{className:"w-3.5 h-3.5 text-indigo-400"}),T.jsx("span",{className:"truncate",children:a?t.length===0?r:`${t.length} Selected`:t==="ALL"?r:t})]}),T.jsx(qa,{className:`w-3.5 h-3.5 text-slate-400 transition-transform ${s?"rotate-180":""}`})]}),s&&T.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl z-[100] overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:T.jsxs("div",{className:"p-1 max-h-60 overflow-y-auto custom-scrollbar",children:[!a&&T.jsxs("div",{onClick:()=>o("ALL"),className:"p-2 text-xs font-bold text-slate-300 hover:bg-slate-700 rounded-lg cursor-pointer",children:[r," (All)"]}),e.map(u=>T.jsxs("div",{onClick:()=>o(u),className:`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors text-xs font-bold ${(a?t.includes(u):t===u)?"bg-indigo-600 text-white":"text-slate-300 hover:bg-slate-700"}`,children:[a&&T.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center ${t.includes(u)?"border-white bg-indigo-500":"border-slate-500"}`,children:t.includes(u)&&T.jsx(qd,{className:"w-2.5 h-2.5 text-white"})}),T.jsx("span",{className:"truncate",children:u})]},u))]})})]})},tfe=({allData:r,date:e})=>{const[t,n]=ye.useState(()=>localStorage.getItem("bd_start")||e),[i,a]=ye.useState(()=>localStorage.getItem("bd_end")||e),[s,c]=ye.useState(()=>localStorage.getItem("bd_machine")||"ALL"),[l,o]=ye.useState([]),[u,f]=ye.useState("ALL"),[h,d]=ye.useState({});ye.useEffect(()=>{localStorage.setItem("bd_start",t)},[t]),ye.useEffect(()=>{localStorage.setItem("bd_end",i)},[i]),ye.useEffect(()=>{localStorage.setItem("bd_machine",s)},[s]);const{groupedData:g,sortedDates:y,uniqueMachines:m,uniqueCategories:x,stats:v,filteredList:_,chartData:k}=ye.useMemo(()=>{const D=Tc(t,i),I=new Set,B=new Set,L=[],z={};let $=0,O=0;D.forEach(w=>{["IM","BM"].forEach(E=>{const A=r[`${w}_${E}`];A&&A.rows&&A.rows.forEach(j=>{j.machine&&I.add(j.machine),j.breakdowns&&j.breakdowns.length>0&&j.breakdowns.forEach(R=>{R.category&&B.add(R.category);const q=s==="ALL"||j.machine===s,H=l.length===0||l.includes(R.category);if(q&&H){const Y=(j.qtyPerHour||0)*(j.cavities||1)/60,Z=up(R.startTime,R.endTime),te=Math.floor(Y*Z),W=te*(j.unitWeight||0)/1e3,ee={...R,date:w,machine:j.machine,product:j.product,unitWeight:j.unitWeight,category:R.category,reason:R.description,startTime:R.startTime,endTime:R.endTime,mins:Z,cycleTime:j.cycleTime,cavity:j.cavities,lostQty:te,lostKg:W};L.push(ee),z[w]||(z[w]=[]),z[w].push(ee),$+=Z,O+=W}})})})});const F=Object.keys(z).sort((w,E)=>E.localeCompare(w));F.length>0&&Object.keys(h).length===0&&d({[F[0]]:!0});let C=[];if(u==="ALL"){const w={};L.forEach(E=>{w[E.category]=(w[E.category]||0)+E.lostKg}),C=Object.keys(w).map(E=>({name:E,value:w[E]})).sort((E,A)=>A.value-E.value)}else{const w={};D.forEach(E=>w[E]=0),L.filter(E=>E.category===u).forEach(E=>{w[E.date]+=E.lostKg}),C=Object.keys(w).sort().map(E=>({name:E,value:w[E]}))}return{groupedData:z,sortedDates:F,uniqueMachines:Array.from(I).sort(),uniqueCategories:Array.from(B).sort(),stats:{totalMins:$,totalLostKg:O},chartData:C,filteredList:L}},[r,t,i,s,l,u]),N=D=>d(I=>({...I,[D]:!I[D]})),P=()=>VK(_,{start:t,end:i});return T.jsxs("div",{className:"space-y-8 animate-fade-in w-full pb-24 max-w-[1920px] mx-auto",children:[T.jsxs("div",{className:"bg-slate-900 p-3 rounded-[1.5rem] shadow-xl border border-slate-700 flex flex-col xl:flex-row items-center justify-between gap-4 w-full",children:[T.jsxs("div",{className:"flex items-center gap-6 px-4",children:[T.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-rose-500 rounded-2xl shadow-lg",children:T.jsx(SM,{className:"w-6 h-6 text-white"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Breakdown Dashboard"}),T.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:[T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(Gp,{className:"w-3 h-3"})," Total: ",T.jsxs("span",{className:"text-white text-xs",children:[v.totalMins," min"]})]}),T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(Xp,{className:"w-3 h-3"})," Loss: ",T.jsxs("span",{className:"text-rose-500 text-xs",children:[v.totalLostKg.toFixed(1)," kg"]})]})]})]})]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-2 pr-2",children:[T.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 px-3 py-2 rounded-xl border border-slate-700",children:[T.jsx(Mc,{className:"w-4 h-4 text-slate-400"}),T.jsx("input",{type:"date",value:t,onChange:D=>n(D.target.value),className:"bg-transparent text-xs font-bold text-white outline-none w-24 [color-scheme:dark]"}),T.jsx("span",{className:"text-slate-500 font-bold",children:"-"}),T.jsx("input",{type:"date",value:i,onChange:D=>a(D.target.value),className:"bg-transparent text-xs font-bold text-white outline-none w-24 [color-scheme:dark]"})]}),T.jsx(Q_,{label:"All Machines",options:m,selected:s,onChange:c,icon:d5}),T.jsx(Q_,{label:"All Categories",options:x,selected:l,onChange:o,icon:ng,isMulti:!0}),T.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-emerald-500/20 transition-all hover:-translate-y-0.5 active:scale-95",children:[T.jsx(Cb,{className:"w-4 h-4"})," Export"]})]})]}),k.length>0&&T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] p-6 border border-slate-200 dark:border-slate-700 shadow-sm relative",children:[T.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-sm font-black uppercase text-slate-700 dark:text-white tracking-widest flex items-center gap-2",children:[T.jsx(Ua,{className:"w-5 h-5 text-indigo-500"}),u==="ALL"?"Total Loss by Category":`Daily Loss Trend: ${u}`]}),T.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-1",children:u==="ALL"?"Compare impact across categories":"Monitor performance fluctuation over time"})]}),T.jsx(Q_,{label:"Select Chart Category",options:x,selected:u,onChange:f,icon:ng})]}),T.jsx("div",{className:"h-[350px] w-full",children:T.jsx(nl,{width:"100%",height:"100%",children:u==="ALL"?T.jsxs(BL,{data:k,margin:{top:10,right:30,left:0,bottom:0},children:[T.jsx(Zs,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(148, 163, 184, 0.2)"}),T.jsx(Ji,{dataKey:"name",tick:{fontSize:10,fill:"#94a3b8",fontWeight:700},axisLine:!1,tickLine:!1,interval:0,angle:-15,textAnchor:"end",height:40}),T.jsx(di,{tick:{fontSize:10,fill:"#6366f1",fontWeight:700},axisLine:!1,tickLine:!1,label:{value:"Loss (Kg)",angle:-90,position:"insideLeft",fill:"#6366f1",fontSize:10}}),T.jsx(Kn,{contentStyle:{backgroundColor:"#1e293b",borderRadius:"12px",border:"none",color:"#fff"},itemStyle:{fontSize:"11px",fontWeight:"bold"},cursor:{fill:"rgba(255,255,255,0.05)"}}),T.jsx(Zi,{dataKey:"value",name:"Loss Kg",radius:[6,6,0,0],barSize:50,children:k.map((D,I)=>T.jsx(kc,{fill:fM[I%fM.length]},`cell-${I}`))})]}):T.jsxs(Kp,{data:k,margin:{top:10,right:30,left:0,bottom:0},children:[T.jsx("defs",{children:T.jsxs("linearGradient",{id:"colorTrend",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:"#f43f5e",stopOpacity:.3}),T.jsx("stop",{offset:"95%",stopColor:"#f43f5e",stopOpacity:0})]})}),T.jsx(Zs,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(148, 163, 184, 0.2)"}),T.jsx(Ji,{dataKey:"name",tick:{fontSize:10,fill:"#94a3b8",fontWeight:700},axisLine:!1,tickLine:!1}),T.jsx(di,{tick:{fontSize:10,fill:"#f43f5e",fontWeight:700},axisLine:!1,tickLine:!1,label:{value:"Loss (Kg)",angle:-90,position:"insideLeft",fill:"#f43f5e",fontSize:10}}),T.jsx(Kn,{contentStyle:{backgroundColor:"#1e293b",borderRadius:"12px",border:"none",color:"#fff"},itemStyle:{fontSize:"11px",fontWeight:"bold"},cursor:{stroke:"#94a3b8",strokeWidth:1,strokeDasharray:"3 3"}}),T.jsx(bs,{type:"monotone",dataKey:"value",name:"Loss Kg",stroke:"#f43f5e",fill:"url(#colorTrend)",strokeWidth:3,dot:{r:4,strokeWidth:2,fill:"#1e293b"}})]})})})]}),T.jsx("div",{className:"space-y-5",children:y.map(D=>{const I=g[D],B=h[D],L=I.reduce(($,O)=>$+O.mins,0),z=I.reduce(($,O)=>$+O.lostKg,0);return T.jsxs("div",{className:"bg-white dark:bg-[#0f172a] rounded-[1.5rem] border border-slate-200 dark:border-slate-800 shadow-lg overflow-hidden transition-all duration-300",children:[T.jsxs("div",{onClick:()=>N(D),className:`flex items-center justify-between p-6 cursor-pointer transition-colors ${B?"bg-slate-50 dark:bg-slate-900":"hover:bg-slate-50 dark:hover:bg-slate-900/50"}`,children:[T.jsxs("div",{className:"flex items-center gap-6",children:[T.jsx("button",{className:`p-3 rounded-xl transition-all ${B?"bg-indigo-600 text-white shadow-lg":"bg-slate-100 dark:bg-slate-800 text-slate-500"}`,children:B?T.jsx(Ud,{className:"w-5 h-5"}):T.jsx(qa,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:D}),T.jsxs("span",{className:"text-xs font-bold text-slate-500 bg-slate-200 dark:bg-slate-800 px-3 py-1 rounded-full uppercase tracking-wider",children:[I.length," Events"]})]})]}),T.jsxs("div",{className:"flex gap-8 text-right",children:[T.jsxs("div",{children:[T.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Downtime"}),T.jsxs("span",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400",children:[L," ",T.jsx("span",{className:"text-sm font-bold text-slate-500",children:"min"})]})]}),T.jsxs("div",{children:[T.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Loss"}),T.jsxs("span",{className:"text-xl font-black text-rose-500",children:[z.toFixed(1)," ",T.jsx("span",{className:"text-sm font-bold text-slate-500",children:"kg"})]})]})]})]}),B&&T.jsx("div",{className:"border-t border-slate-200 dark:border-slate-800 animate-fade-in bg-white dark:bg-[#0f172a]",children:T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{className:"bg-slate-100 dark:bg-slate-950 text-xs font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 pl-6",children:"Machine"}),T.jsx("th",{className:"p-4",children:"Product"}),T.jsx("th",{className:"p-4 text-right",children:"Unit Wt"}),T.jsx("th",{className:"p-4 text-center",children:"Category"}),T.jsx("th",{className:"p-4",children:"Reason"}),T.jsx("th",{className:"p-4 text-center",children:"Start"}),T.jsx("th",{className:"p-4 text-center",children:"End"}),T.jsx("th",{className:"p-4 text-center text-indigo-600 dark:text-indigo-400",children:"Min"}),T.jsx("th",{className:"p-4 text-center",children:"Cycle"}),T.jsx("th",{className:"p-4 text-center",children:"Cav"}),T.jsx("th",{className:"p-4 text-right text-rose-500",children:"Lost Qty"}),T.jsx("th",{className:"p-4 text-right text-rose-500 pr-6",children:"Lost Kg"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800 text-sm font-bold text-slate-700 dark:text-slate-300",children:I.map(($,O)=>T.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors",children:[T.jsx("td",{className:"p-4 pl-6 font-black text-slate-900 dark:text-white",children:$.machine}),T.jsx("td",{className:"p-4 font-medium text-slate-500 dark:text-slate-400 truncate max-w-[150px]",title:$.product,children:$.product}),T.jsx("td",{className:"p-4 text-right font-mono text-slate-400",children:$.unitWeight}),T.jsx("td",{className:"p-4 text-center",children:T.jsx("span",{className:"px-3 py-1 rounded-lg bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-[10px] font-black uppercase tracking-wide border border-indigo-100 dark:border-indigo-800",children:$.category})}),T.jsx("td",{className:"p-4 max-w-xs truncate",title:$.reason,children:$.reason}),T.jsx("td",{className:"p-4 text-center font-mono text-xs opacity-70",children:$.startTime}),T.jsx("td",{className:"p-4 text-center font-mono text-xs opacity-70",children:$.endTime}),T.jsx("td",{className:"p-4 text-center font-black text-indigo-600 dark:text-indigo-400",children:$.mins}),T.jsx("td",{className:"p-4 text-center font-mono text-slate-400",children:$.cycleTime}),T.jsx("td",{className:"p-4 text-center font-mono text-slate-400",children:$.cavity}),T.jsx("td",{className:"p-4 text-right text-rose-500",children:$.lostQty}),T.jsx("td",{className:"p-4 pr-6 text-right text-rose-600 font-black",children:$.lostKg.toFixed(2)})]},O))})]})})})]},D)})})]})},rfe=["Effeicency loss","Mould Change Delay","Quality Issues","Sampling","Machine Settings","Machine Starting Delay","Labour Shortage","Abseteesm","Power Failure","Color Changing","BD Engineering","BD Production","Mould Breakdown","Cycle Time Deviation","Hopper Material Stock Taking","No Orders","Lack of Materials","Material Issues","Lack of Packing Materials","Planning Delay","Early Leave","Other1"],hM="FFBDD7EE",dM="FFD9D9D9",nfe="FF4472C4",ife=({dailyData:r,monthTotals:e,allData:t,currentDate:n,breakdownCategories:i=[]})=>{const[a,s]=ye.useState(!1),[c,l]=ye.useState("Summary"),o=i.length>0?i:rfe,u=(y,m,x)=>{var N;const v=`${y}_${m}`,_=((N=t==null?void 0:t[v])==null?void 0:N.rows)||[];let k=0;return _.forEach(P=>{const D=(P.qtyPerHour||0)*(P.cavities||1)/60,I=P.unitWeight||0;P.breakdowns&&P.breakdowns.forEach(B=>{if(B.category===x){if(!B.startTime||!B.endTime)return;const L=B.startTime.split(":"),z=B.endTime.split(":");if(L.length<2||z.length<2)return;const $=parseInt(L[0])*60+parseInt(L[1]),O=parseInt(z[0])*60+parseInt(z[1]),F=O-$>0?O-$:1440-$+O,C=Math.floor(D*F);k+=C*I/1e3}})}),k},f=(y,m)=>{var k;const x=`${y}_${m}`,v=((k=t==null?void 0:t[x])==null?void 0:k.rows)||[];let _=0;return v.forEach(N=>{const P=Wn(N);_+=P.efficiencyLossKg}),_},h=y=>{var O,F;if(!n)return{im:{dP:0,dA:0,nP:0,nA:0},bm:{dP:0,dA:0,nP:0,nA:0},dateStr:""};const[m,x]=n.split("-"),v=`${m}-${x}-${String(y).padStart(2,"0")}`;let _=0,k=0,N=0,P=0;(((O=t==null?void 0:t[`${v}_IM`])==null?void 0:O.rows)||[]).forEach(C=>{const w=Wn(C);C.shift==="day"?(_+=w.planKg,k+=w.achievedKg):(N+=w.planKg,P+=w.achievedKg)});let I=0,B=0,L=0,z=0;return(((F=t==null?void 0:t[`${v}_BM`])==null?void 0:F.rows)||[]).forEach(C=>{const w=Wn(C);C.shift==="day"?(I+=w.planKg,B+=w.achievedKg):(L+=w.planKg,z+=w.achievedKg)}),{im:{dP:_,dA:k,nP:N,nA:P},bm:{dP:I,dA:B,nP:L,nA:z},dateStr:v}},d=async()=>{try{s(!0),await new Promise(A=>setTimeout(A,500));let y=0,m=0,x=0,v=0;const[_,k]=n.split("-"),N=new Date(parseInt(_),parseInt(k),0).getDate();for(let A=1;A<=N;A++){const j=h(A);j.im.dP>0&&(y+=.5),j.im.nP>0&&(y+=.5),j.bm.dP>0&&(m+=.5),j.bm.nP>0&&(m+=.5),j.im.dA>0&&(x+=.5),j.im.nA>0&&(x+=.5),j.bm.dA>0&&(v+=.5),j.bm.nA>0&&(v+=.5)}const P=Math.max(y,m),D=Math.max(x,v),I=new Pc.Workbook,B=(A,j,R)=>{A.getColumn(1).width=18;for(let te=2;te<=35;te++)A.getColumn(te).width=14;A.getCell("A1").value="Daily Production Report",A.getCell("A1").font={name:"Times New Roman",size:20,bold:!0};const q={font:{bold:!0,name:"Calibri",size:11},fill:{type:"pattern",pattern:"solid",fgColor:{argb:dM}},alignment:{horizontal:"center",vertical:"middle",wrapText:!0},border:{top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}},H=(te,W,ee)=>{const K=A.getCell(te,W);K.value=ee,K.font=q.font,K.fill=q.fill,K.alignment=q.alignment,K.border=q.border};if(H(3,1,"Module"),A.mergeCells("A3:A4"),H(3,2,"Planed Weight (Kg)"),A.mergeCells("B3:B4"),H(3,3,"Day Shift"),A.mergeCells("C3:D3"),H(4,3,"Planed (Kg)"),H(4,4,"Production (kg)"),H(3,5,"Night Shift"),A.mergeCells("E3:F3"),H(4,5,"Planed (Kg)"),H(4,6,"Production (kg)"),H(3,7,"Total"),A.mergeCells("G3:H3"),H(4,7,"Total Plan Kg"),H(4,8,"Production (kg)"),H(3,9,"Prod weight Planed weight"),A.mergeCells("I3:I4"),H(3,10,"Lost (Kg)"),A.mergeCells("J3:J4"),H(3,11,"Lost (Kg) Accuracy"),A.mergeCells("K3:K4"),H(3,12,"Lost Kg vs plan kg"),A.mergeCells("L3:L4"),H(3,13,"Eff Loss kg"),A.mergeCells("M3:M4"),o.forEach((te,W)=>{const ee=14+W;H(3,ee,te),A.mergeCells(3,ee,4,ee)}),A.getRow(3).height=45,A.getRow(4).height=45,[{r:5,l:"IM Line"},{r:6,l:"BM Line"},{r:7,l:"Global AOP"}].forEach(te=>{const W=te.r;A.getCell(W,1).value=te.l,A.getCell(W,1).font={bold:!0,name:"Calibri"},A.getCell(W,1).fill={type:"pattern",pattern:"solid",fgColor:{argb:hM}};for(let ee=1;ee<=13+o.length;ee++)A.getCell(W,ee).border=q.border,ee>1&&(A.getCell(W,ee).alignment={horizontal:"center",vertical:"middle"},A.getCell(W,ee).fill={type:"pattern",pattern:"solid",fgColor:{argb:hM}},(ee>=3&&ee<=6&&W<7||ee>=14)&&(A.getCell(W,ee).fill={type:"pattern",pattern:"none"}));A.getRow(W).height=33.75}),R){const te=W=>({formula:`SUM('1:31'!${W})`});A.getCell("C5").value=te("C5"),A.getCell("D5").value=te("D5"),A.getCell("E5").value=te("E5"),A.getCell("F5").value=te("F5"),A.getCell("C6").value=te("C6"),A.getCell("D6").value=te("D6"),A.getCell("E6").value=te("E6"),A.getCell("F6").value=te("F6"),A.getCell("M5").value=te("M5"),A.getCell("M6").value=te("M6"),o.forEach((W,ee)=>{const K=A.getColumn(14+ee).letter;A.getCell(5,14+ee).value=te(`${K}5`),A.getCell(6,14+ee).value=te(`${K}6`)})}else{const{im:te,bm:W,dateStr:ee}=h(j);A.getCell("C5").value=te.dP,A.getCell("D5").value=te.dA,A.getCell("E5").value=te.nP,A.getCell("F5").value=te.nA,A.getCell("C6").value=W.dP,A.getCell("D6").value=W.dA,A.getCell("E6").value=W.nP,A.getCell("F6").value=W.nA;const K=f(ee,"IM"),V=f(ee,"BM");K>0&&(A.getCell("M5").value=K),V>0&&(A.getCell("M6").value=V),o.forEach((Q,re)=>{const oe=u(ee,"IM",Q),ne=u(ee,"BM",Q);oe>0&&(A.getCell(5,14+re).value=oe),ne>0&&(A.getCell(6,14+re).value=ne)})}[5,6].forEach(te=>{A.getCell(`B${te}`).value={formula:`C${te}+E${te}`},A.getCell(`G${te}`).value={formula:`C${te}+E${te}`},A.getCell(`H${te}`).value={formula:`D${te}+F${te}`},A.getCell(`I${te}`).value={formula:`IFERROR(H${te}/G${te},0)`},A.getCell(`I${te}`).numFmt="0.00%",A.getCell(`J${te}`).value={formula:`B${te}-H${te}`},A.getCell(`K${te}`).value={formula:`SUM(M${te}:AJ${te})`},A.getCell(`L${te}`).value={formula:`IFERROR(J${te}/B${te},0)`},A.getCell(`L${te}`).numFmt="0.00%"});const Z=13+o.length;for(let te=2;te<=Z;te++){const W=A.getColumn(te).letter;te===9?(A.getCell(7,te).value={formula:"IFERROR(H7/B7,0)"},A.getCell(7,te).numFmt="0.00%"):te===12?(A.getCell(7,te).value={formula:"IFERROR(J7/B7,0)"},A.getCell(7,te).numFmt="0.00%"):te===10?A.getCell(7,te).value={formula:"B7-H7"}:A.getCell(7,te).value={formula:`SUM(${W}5:${W}6)`}}},L=A=>{const j=13+o.length,R=A.getColumn(j).letter,q={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},H={type:"pattern",pattern:"solid",fgColor:{argb:dM}};A.getCell("A9").value="Schedule",A.getCell("A9").font={bold:!0},A.getCell("B9").value="AOP",A.getCell("B9").font={bold:!0},A.getCell("A10").value="Working Days",A.getCell("B10").value=P,A.getCell("A11").value="Average Per Day (Kg)",A.getCell("B11").value={formula:"IFERROR(G7/B10,0)"},A.getCell("A12").value="Average per day(Kg)-IM",A.getCell("B12").value={formula:"IFERROR(G5/B10,0)"},A.getCell("A13").value="Average per day(Kg)-BM",A.getCell("B13").value={formula:"IFERROR(G6/B10,0)"};for(let re=10;re<=13;re++)A.getCell(re,1).border=q,A.getCell(re,1).fill=H,A.getCell(re,2).border=q,A.getCell(re,2).fill=H,A.getCell(re,2).numFmt="0.0";A.getCell("D9").value="Production",A.getCell("D9").font={bold:!0},A.getCell("E9").value="AOP",A.getCell("E9").font={bold:!0},A.getCell("D10").value="Working Days",A.getCell("E10").value=D,A.getCell("D11").value="Average Per Day (Kg)",A.getCell("E11").value={formula:"IFERROR(H7/E10,0)"},A.getCell("D12").value="Average per day(Kg)-IM",A.getCell("E12").value={formula:"IFERROR(H5/E10,0)"},A.getCell("D13").value="Average per day(Kg)-BM",A.getCell("E13").value={formula:"IFERROR(H6/E10,0)"};for(let re=10;re<=13;re++)A.getCell(re,4).border=q,A.getCell(re,4).fill=H,A.getCell(re,5).border=q,A.getCell(re,5).fill=H,A.getCell(re,5).numFmt="0.0";const Y=16,Z={type:"pattern",pattern:"solid",fgColor:{argb:nfe}},te={color:{argb:"FFFFFFFF"},bold:!0,size:12};A.mergeCells(`A${Y}:D${Y}`),A.getCell(`A${Y}`).value="IM Machine Loss Analysis",A.getCell(`A${Y}`).fill=Z,A.getCell(`A${Y}`).font=te,A.getCell(`A${Y}`).alignment={horizontal:"center"};const W=["Reason","KG","%","Cumulative"];W.forEach((re,oe)=>{const ne=A.getCell(Y+1,1+oe);ne.value=re,ne.fill=H,ne.font={bold:!0},ne.border=q,ne.alignment={horizontal:"center"}}),A.mergeCells(`F${Y}:I${Y}`),A.getCell(`F${Y}`).value="BM Machine Loss Analysis",A.getCell(`F${Y}`).fill=Z,A.getCell(`F${Y}`).font=te,A.getCell(`F${Y}`).alignment={horizontal:"center"},W.forEach((re,oe)=>{const ne=A.getCell(Y+1,6+oe);ne.value=re,ne.fill=H,ne.font={bold:!0},ne.border=q,ne.alignment={horizontal:"center"}});const ee=Y+2,K=ee+o.length-1,V=`$B$${ee}:$B$${K}`,Q=`$G$${ee}:$G$${K}`;o.forEach((re,oe)=>{const ne=ee+oe;A.getCell(ne,1).value=re,A.getCell(ne,1).border=q,A.getCell(ne,2).value={formula:`HLOOKUP(A${ne},$N$3:$${R}$6,3,FALSE)`},A.getCell(ne,2).numFmt="0.00",A.getCell(ne,2).border=q,A.getCell(ne,3).value={formula:`IFERROR(B${ne}/SUM(${V}),0)`},A.getCell(ne,3).numFmt="0.00%",A.getCell(ne,3).border=q,oe===0?A.getCell(ne,4).value={formula:`C${ne}`}:A.getCell(ne,4).value={formula:`D${ne-1}+C${ne}`},A.getCell(ne,4).numFmt="0.00%",A.getCell(ne,4).border=q,A.getCell(ne,6).value=re,A.getCell(ne,6).border=q,A.getCell(ne,7).value={formula:`HLOOKUP(F${ne},$N$3:$${R}$6,4,FALSE)`},A.getCell(ne,7).numFmt="0.00",A.getCell(ne,7).border=q,A.getCell(ne,8).value={formula:`IFERROR(G${ne}/SUM(${Q}),0)`},A.getCell(ne,8).numFmt="0.00%",A.getCell(ne,8).border=q,oe===0?A.getCell(ne,9).value={formula:`H${ne}`}:A.getCell(ne,9).value={formula:`I${ne-1}+H${ne}`},A.getCell(ne,9).numFmt="0.00%",A.getCell(ne,9).border=q}),A.getRow(9).height=15.75;for(let re=10;re<=13;re++)A.getRow(re).height=15.75;for(let re=Y;re<=K;re++)A.getRow(re).height=15.75},[z,$]=n.split("-"),O=new Date(parseInt(z),parseInt($),0).getDate(),F=A=>{const j=I.getWorksheet(A);return j||I.addWorksheet(A,{views:[{showGridLines:!1}]})};for(let A=1;A<=O;A++){const j=F(String(A));B(j,A,!1)}for(let A=O+1;A<=31;A++){const j=F(String(A));B(j,A,!1)}let C=I.getWorksheet("Summary");C||(C=I.addWorksheet("Summary",{views:[{showGridLines:!1}]})),B(C,0,!0),L(C);const w=await I.xlsx.writeBuffer(),E=new Blob([w],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Dc.saveAs(E,`Production_Report_System_${n}.xlsx`)}catch(y){console.error("Excel Generation Error:",y),alert("Failed to generate Excel report.")}finally{s(!1)}},g=(y,m=0)=>{let x={im:{dP:0,dA:0,nP:0,nA:0,effLoss:0},bm:{dP:0,dA:0,nP:0,nA:0,effLoss:0}},v={};if(o.forEach(A=>{v[A]={im:0,bm:0}}),y){const[A,j]=(n==null?void 0:n.split("-"))||["2025","01"],R=new Date(parseInt(A),parseInt(j),0).getDate();for(let q=1;q<=R;q++){const H=h(q);x.im.dP+=H.im.dP,x.im.dA+=H.im.dA,x.im.nP+=H.im.nP,x.im.nA+=H.im.nA,x.im.effLoss+=f(H.dateStr,"IM"),x.bm.dP+=H.bm.dP,x.bm.dA+=H.bm.dA,x.bm.nP+=H.bm.nP,x.bm.nA+=H.bm.nA,x.bm.effLoss+=f(H.dateStr,"BM"),o.forEach(Y=>{v[Y].im+=u(H.dateStr,"IM",Y),v[Y].bm+=u(H.dateStr,"BM",Y)})}}else{const A=h(m);x.im={...A.im,effLoss:f(A.dateStr,"IM")},x.bm={...A.bm,effLoss:f(A.dateStr,"BM")},o.forEach(j=>{v[j].im=u(A.dateStr,"IM",j),v[j].bm=u(A.dateStr,"BM",j)})}const _=(A,j)=>{const R=A.dP+A.nP,q=A.dA+A.nA,H=Math.max(0,R-q);let Y=0;return o.forEach(Z=>Y+=v[Z][j.toLowerCase()]),{planKg:R,prodKg:q,lostKg:H,breakdownSum:Y,eff:R>0?q/R*100:0,lostP:R>0?H/R*100:0,...A}},k=_(x.im,"IM"),N=_(x.bm,"BM"),P={planKg:k.planKg+N.planKg,prodKg:k.prodKg+N.prodKg,lostKg:k.planKg+N.planKg-(k.prodKg+N.prodKg),breakdownSum:k.breakdownSum+N.breakdownSum,effLoss:k.effLoss+N.effLoss,eff:k.planKg+N.planKg>0?(k.prodKg+N.prodKg)/(k.planKg+N.planKg)*100:0},D=ye.useRef(null),I=o.map(A=>({name:A,kg:v[A].im})).sort((A,j)=>j.kg-A.kg),B=I.reduce((A,j)=>A+j.kg,0);let L=0;const z=I.map(A=>(L+=A.kg,{...A,cumulativePkg:B>0?L/B*100:0,pkg:B>0?A.kg/B*100:0})),$=o.map(A=>({name:A,kg:v[A].bm})).sort((A,j)=>j.kg-A.kg),O=$.reduce((A,j)=>A+j.kg,0);let F=0;const C=$.map(A=>(F+=A.kg,{...A,cumulativePkg:O>0?F/O*100:0,pkg:O>0?A.kg/O*100:0})),w=({children:A,rowSpan:j=1,colSpan:R=1,className:q=""})=>T.jsx("th",{rowSpan:j,colSpan:R,className:`border border-slate-300 dark:border-slate-600 bg-[#d9d9d9] dark:bg-slate-700 text-slate-800 dark:text-white text-xs font-bold text-center p-1 px-2 ${q}`,children:A}),E=({children:A,className:j="",bold:R=!1})=>T.jsx("td",{className:`border border-slate-300 dark:border-slate-600 p-2 text-right text-xs ${R?"font-bold":""} ${j}`,children:A});return T.jsxs("div",{className:"space-y-8",children:[T.jsx("div",{className:"overflow-x-auto custom-scrollbar rounded-xl border border-slate-300 shadow-sm bg-white dark:bg-slate-800",children:T.jsxs("table",{className:"w-full border-collapse min-w-[2000px]",children:[T.jsxs("thead",{children:[T.jsxs("tr",{children:[T.jsx(w,{rowSpan:2,className:"min-w-[150px]",children:"Module"}),T.jsx(w,{rowSpan:2,children:"Planed Weight (Kg)"}),T.jsx(w,{colSpan:2,children:"Day Shift"}),T.jsx(w,{colSpan:2,children:"Night Shift"}),T.jsx(w,{colSpan:2,children:"Total"}),T.jsx(w,{rowSpan:2,children:"Prod weight %"}),T.jsx(w,{rowSpan:2,children:"Lost (Kg)"}),T.jsx(w,{rowSpan:2,children:"Lost (Kg) Accuracy"}),T.jsx(w,{rowSpan:2,children:"Lost Kg %"}),T.jsx(w,{rowSpan:2,children:"Eff Loss kg"}),o.map(A=>T.jsx(w,{rowSpan:2,className:"min-w-[80px] text-[10px] break-words leading-tight",children:A},A))]}),T.jsxs("tr",{children:[T.jsx(w,{children:"Planed (Kg)"}),T.jsx(w,{children:"Production (kg)"}),T.jsx(w,{children:"Planed (Kg)"}),T.jsx(w,{children:"Production (kg)"}),T.jsx(w,{children:"Total Plan Kg"}),T.jsx(w,{children:"Production (kg)"})]})]}),T.jsxs("tbody",{children:[T.jsxs("tr",{className:"bg-[#bdd7ee] dark:bg-sky-900/30",children:[T.jsx("td",{className:"bg-[#bdd7ee] dark:bg-sky-900/50 p-2 font-bold text-xs border border-slate-300 dark:border-slate-600",children:"IM Line"}),T.jsx(E,{bold:!0,children:k.planKg.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:k.dP.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:k.dA.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:k.nP.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:k.nA.toFixed(2)}),T.jsx(E,{bold:!0,children:k.planKg.toFixed(2)}),T.jsx(E,{bold:!0,children:k.prodKg.toFixed(2)}),T.jsxs(E,{children:[k.eff.toFixed(2),"%"]}),T.jsx(E,{className:"text-rose-600 font-bold",children:k.lostKg.toFixed(2)}),T.jsx(E,{children:k.breakdownSum.toFixed(2)}),T.jsxs(E,{children:[k.lostP.toFixed(2),"%"]}),T.jsx(E,{className:"text-amber-600 font-bold",children:k.effLoss>0?k.effLoss.toFixed(2):"-"}),o.map(A=>T.jsx(E,{className:"bg-white dark:bg-slate-800 text-slate-500",children:v[A].im>0?v[A].im.toFixed(2):"-"},A))]}),T.jsxs("tr",{className:"bg-[#bdd7ee] dark:bg-sky-900/30",children:[T.jsx("td",{className:"bg-[#bdd7ee] dark:bg-sky-900/50 p-2 font-bold text-xs border border-slate-300 dark:border-slate-600",children:"BM Line"}),T.jsx(E,{bold:!0,children:N.planKg.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:N.dP.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:N.dA.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:N.nP.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:N.nA.toFixed(2)}),T.jsx(E,{bold:!0,children:N.planKg.toFixed(2)}),T.jsx(E,{bold:!0,children:N.prodKg.toFixed(2)}),T.jsxs(E,{children:[N.eff.toFixed(2),"%"]}),T.jsx(E,{className:"text-rose-600 font-bold",children:N.lostKg.toFixed(2)}),T.jsx(E,{children:N.breakdownSum.toFixed(2)}),T.jsxs(E,{children:[N.lostP.toFixed(2),"%"]}),T.jsx(E,{className:"text-amber-600 font-bold",children:N.effLoss>0?N.effLoss.toFixed(2):"-"}),o.map(A=>T.jsx(E,{className:"bg-white dark:bg-slate-800 text-slate-500",children:v[A].bm>0?v[A].bm.toFixed(2):"-"},A))]}),T.jsxs("tr",{className:"bg-[#bdd7ee] dark:bg-sky-900/30 font-bold border-t-2 border-slate-400",children:[T.jsx("td",{className:"bg-[#bdd7ee] dark:bg-sky-900/50 p-2 font-bold text-xs border border-slate-300 dark:border-slate-600",children:"Global AOP"}),T.jsx(E,{children:P.planKg.toFixed(2)}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:"-"}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:"-"}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:"-"}),T.jsx(E,{className:"bg-white dark:bg-slate-800",children:"-"}),T.jsx(E,{children:P.planKg.toFixed(2)}),T.jsx(E,{children:P.prodKg.toFixed(2)}),T.jsxs(E,{className:"text-emerald-700",children:[P.eff.toFixed(2),"%"]}),T.jsx(E,{className:"text-rose-700",children:P.lostKg.toFixed(2)}),T.jsx(E,{children:P.breakdownSum.toFixed(2)}),T.jsxs(E,{className:"text-rose-700",children:[(P.planKg>0?P.lostKg/P.planKg*100:0).toFixed(2),"%"]}),T.jsx(E,{className:"text-amber-700",children:P.effLoss>0?P.effLoss.toFixed(2):"-"}),o.map(A=>{const j=v[A].im+v[A].bm;return T.jsx(E,{className:j>0?"text-amber-600":"text-slate-400",children:j>0?j.toFixed(2):"-"},A)})]})]})]})}),y&&T.jsxs("div",{className:"space-y-8",children:[T.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-white dark:from-slate-800 dark:to-slate-900 rounded-2xl border-2 border-emerald-200 dark:border-emerald-800 shadow-lg overflow-hidden",children:[T.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-4 py-3",children:T.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider",children:" IM Machine - Loss Reason Analysis (Pareto)"})}),T.jsxs("div",{className:"p-4 flex flex-col lg:flex-row gap-6",children:[T.jsx("div",{className:"lg:w-1/3 overflow-auto max-h-[400px]",children:T.jsxs("table",{className:"w-full text-xs border-collapse",children:[T.jsx("thead",{className:"bg-emerald-100 dark:bg-emerald-900/50 sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-2 text-left",children:"Reason"}),T.jsx("th",{className:"p-2 text-right",children:"KG"}),T.jsx("th",{className:"p-2 text-right",children:"%"}),T.jsx("th",{className:"p-2 text-right",children:"Cum %"})]})}),T.jsx("tbody",{children:z.map((A,j)=>T.jsxs("tr",{className:j%2===0?"bg-white dark:bg-slate-800":"bg-emerald-50/50 dark:bg-slate-700/50",children:[T.jsx("td",{className:"p-2 font-medium",children:A.name}),T.jsx("td",{className:"p-2 text-right font-bold",children:A.kg.toFixed(2)}),T.jsxs("td",{className:"p-2 text-right text-emerald-600",children:[A.pkg.toFixed(1),"%"]}),T.jsxs("td",{className:"p-2 text-right text-amber-600",children:[A.cumulativePkg.toFixed(1),"%"]})]},j))})]})}),T.jsx("div",{className:"lg:w-2/3 h-[350px]",ref:D,children:T.jsx(nl,{width:"100%",height:"100%",children:T.jsxs(Kp,{data:z,margin:{top:20,right:40,left:20,bottom:80},children:[T.jsx(Zs,{strokeDasharray:"3 3",stroke:"#e0e7ef"}),T.jsx(Ji,{dataKey:"name",interval:0,angle:-45,textAnchor:"end",height:100,tick:{fontSize:10,fill:"#94a3b8",fontWeight:600}}),T.jsx(di,{yAxisId:"left",orientation:"left",stroke:"#10b981",label:{value:"KG",angle:-90,position:"insideLeft",fill:"#10b981"},tick:{fill:"#94a3b8",fontSize:10}}),T.jsx(di,{yAxisId:"right",orientation:"right",stroke:"#f97316",domain:[0,100],label:{value:"Cum %",angle:90,position:"insideRight",fill:"#f97316"},tick:{fill:"#94a3b8",fontSize:10}}),T.jsx(Kn,{contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"1px solid #e2e8f0"}}),T.jsx(us,{wrapperStyle:{paddingTop:"10px"}}),T.jsx(Zi,{yAxisId:"left",dataKey:"kg",fill:"#10b981",name:"Loss (KG)",barSize:25,radius:[4,4,0,0]}),T.jsx(al,{yAxisId:"right",type:"monotone",dataKey:"cumulativePkg",stroke:"#f97316",name:"Cumulative %",strokeWidth:3,dot:{fill:"#f97316",r:4}})]})})})]})]}),T.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white dark:from-slate-800 dark:to-slate-900 rounded-2xl border-2 border-amber-200 dark:border-amber-800 shadow-lg overflow-hidden",children:[T.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 py-3",children:T.jsx("h4",{className:"font-bold text-sm uppercase tracking-wider",children:" BM Machine - Loss Reason Analysis (Pareto)"})}),T.jsxs("div",{className:"p-4 flex flex-col lg:flex-row gap-6",children:[T.jsx("div",{className:"lg:w-1/3 overflow-auto max-h-[400px]",children:T.jsxs("table",{className:"w-full text-xs border-collapse",children:[T.jsx("thead",{className:"bg-amber-100 dark:bg-amber-900/50 sticky top-0",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-2 text-left",children:"Reason"}),T.jsx("th",{className:"p-2 text-right",children:"KG"}),T.jsx("th",{className:"p-2 text-right",children:"%"}),T.jsx("th",{className:"p-2 text-right",children:"Cum %"})]})}),T.jsx("tbody",{children:C.map((A,j)=>T.jsxs("tr",{className:j%2===0?"bg-white dark:bg-slate-800":"bg-amber-50/50 dark:bg-slate-700/50",children:[T.jsx("td",{className:"p-2 font-medium",children:A.name}),T.jsx("td",{className:"p-2 text-right font-bold",children:A.kg.toFixed(2)}),T.jsxs("td",{className:"p-2 text-right text-amber-600",children:[A.pkg.toFixed(1),"%"]}),T.jsxs("td",{className:"p-2 text-right text-orange-600",children:[A.cumulativePkg.toFixed(1),"%"]})]},j))})]})}),T.jsx("div",{className:"lg:w-2/3 h-[350px]",children:T.jsx(nl,{width:"100%",height:"100%",children:T.jsxs(Kp,{data:C,margin:{top:20,right:40,left:20,bottom:80},children:[T.jsx(Zs,{strokeDasharray:"3 3",stroke:"#fde68a"}),T.jsx(Ji,{dataKey:"name",interval:0,angle:-45,textAnchor:"end",height:100,tick:{fontSize:10,fill:"#94a3b8",fontWeight:600}}),T.jsx(di,{yAxisId:"left",orientation:"left",stroke:"#f59e0b",label:{value:"KG",angle:-90,position:"insideLeft",fill:"#f59e0b"},tick:{fill:"#94a3b8",fontSize:10}}),T.jsx(di,{yAxisId:"right",orientation:"right",stroke:"#dc2626",domain:[0,100],label:{value:"Cum %",angle:90,position:"insideRight",fill:"#dc2626"},tick:{fill:"#94a3b8",fontSize:10}}),T.jsx(Kn,{contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"1px solid #fde68a"}}),T.jsx(us,{wrapperStyle:{paddingTop:"10px"}}),T.jsx(Zi,{yAxisId:"left",dataKey:"kg",fill:"#f59e0b",name:"Loss (KG)",barSize:25,radius:[4,4,0,0]}),T.jsx(al,{yAxisId:"right",type:"monotone",dataKey:"cumulativePkg",stroke:"#dc2626",name:"Cumulative %",strokeWidth:3,dot:{fill:"#dc2626",r:4}})]})})})]})]})]})]})};return T.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[T.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-sm gap-4",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[T.jsx(fV,{className:"w-6 h-6 text-indigo-500"})," Master Production Schedule"]}),T.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1",children:"Detailed Daily Analysis & Excel Export"})]}),T.jsxs("button",{onClick:d,disabled:a,className:`px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center gap-2 transition-all shadow-xl ${a?"bg-slate-100 text-slate-400 cursor-not-allowed dark:bg-slate-700":"bg-emerald-600 text-white hover:bg-emerald-500 hover:scale-105"}`,children:[a?T.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):T.jsx(h5,{className:"w-4 h-4"}),a?"Generating...":"Download System Excel (31 Sheets)"]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[T.jsxs("div",{className:"flex overflow-x-auto custom-scrollbar border-b border-slate-200 dark:border-slate-700 p-2 gap-2 bg-slate-50 dark:bg-slate-900/50",children:[T.jsxs("button",{onClick:()=>l("Summary"),className:`flex-shrink-0 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider flex items-center gap-2 transition-all ${c==="Summary"?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30":"bg-white dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:[T.jsx(Z$,{className:"w-4 h-4"})," Summary"]}),Array.from({length:31},(y,m)=>m+1).map(y=>T.jsx("button",{onClick:()=>l(String(y)),className:`flex-shrink-0 w-10 h-10 rounded-xl text-xs font-bold flex justify-center items-center transition-all ${c===String(y)?"bg-indigo-600 text-white shadow-lg shadow-indigo-500/30 ring-2 ring-indigo-200 dark:ring-indigo-900":"bg-white dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:y},y))]}),T.jsxs("div",{className:"p-6",children:[T.jsx("div",{className:"mb-4 flex items-center justify-between",children:T.jsxs("h3",{className:"text-lg font-black text-slate-700 dark:text-white uppercase flex items-center gap-2",children:[T.jsx(Mc,{className:"w-5 h-5 text-indigo-500"}),c==="Summary"?`Month Summary - ${n}`:`Daily Report - ${n}-${String(c).padStart(2,"0")}`]})}),g(c==="Summary",c==="Summary"?0:parseInt(c))]})]})]})},afe=({allData:r,currentDate:e,breakdownCategories:t=[]})=>{const[n,i]=ye.useState(e.slice(0,7)),[a,s]=ye.useState("SIMPLE"),c=ye.useMemo(()=>{var P,D;const[l,o]=n.split("-").map(Number),u=new Date(l,o,0).getDate();let f=0,h=0,d=0,g=0,y=0,m=0,x=0,v=0,_=0;const k=[];for(let I=1;I<=u;I++){const B=`${l}-${String(o).padStart(2,"0")}-${String(I).padStart(2,"0")}`,L=((P=r[`${B}_IM`])==null?void 0:P.rows)||[],z=((D=r[`${B}_BM`])==null?void 0:D.rows)||[];let $=0,O=0,F=0;L.forEach(A=>{const j=Wn(A);$+=j.planKg,O+=j.achievedKg,F+=j.lostKg});let C=0,w=0,E=0;z.forEach(A=>{const j=Wn(A);C+=j.planKg,w+=j.achievedKg,E+=j.lostKg}),($>0||C>0||O>0||w>0)&&(k.push({date:B,im:{plan:$,achv:O,loss:F},bm:{plan:C,achv:w,loss:E},plan:$+C,achv:O+w,loss:F+E,totalEff:$+C>0?(O+w)/($+C)*100:0}),g+=$,y+=O,m+=F,x+=C,v+=w,_+=E)}f=g+x,h=y+v,d=m+_;const N=f>0?h/f*100:0;return{totalPlan:f,totalAchv:h,totalLoss:d,efficiency:N,dailyBreakdown:k,imTotalPlan:g,imTotalAchv:y,imTotalLoss:m,bmTotalPlan:x,bmTotalAchv:v,bmTotalLoss:_}},[n,r]);return T.jsxs("div",{className:"space-y-6 animate-fade-in",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-sm gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl text-white shadow-lg shadow-indigo-600/30",children:T.jsx(rg,{className:"w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tight leading-none",children:"Monthly Overview"}),T.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mt-1",children:"Select Month to Analyze"})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1.5 rounded-xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("button",{onClick:()=>s("SIMPLE"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-wider flex items-center gap-2 transition-all ${a==="SIMPLE"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[T.jsx(Q$,{className:"w-4 h-4"})," Simple"]}),T.jsxs("button",{onClick:()=>s("DETAILED"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-wider flex items-center gap-2 transition-all ${a==="DETAILED"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[T.jsx(J$,{className:"w-4 h-4"})," Detailed"]})]}),T.jsx("input",{type:"month",value:n,onChange:l=>i(l.target.value),className:"bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 px-4 py-2.5 rounded-xl font-bold text-slate-700 dark:text-slate-200 outline-none cursor-pointer text-sm dark:[color-scheme:dark]"})]})]}),a==="SIMPLE"&&T.jsxs("div",{className:"space-y-6 animate-fade-in",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[T.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-3xl border border-indigo-100 dark:border-indigo-800",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx("div",{className:"p-2 bg-indigo-500 text-white rounded-lg",children:T.jsx(g5,{className:"w-5 h-5"})}),T.jsx("span",{className:"text-xs font-black uppercase text-indigo-400",children:"Total Output"})]}),T.jsxs("p",{className:"text-3xl font-black text-indigo-700 dark:text-indigo-300",children:[c.totalAchv.toFixed(0)," ",T.jsx("span",{className:"text-sm",children:"kg"})]}),T.jsxs("p",{className:"text-xs font-bold text-indigo-400/70 mt-1",children:["Target: ",c.totalPlan.toFixed(0)," kg"]})]}),T.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-6 rounded-3xl border border-emerald-100 dark:border-emerald-800",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx("div",{className:"p-2 bg-emerald-500 text-white rounded-lg",children:T.jsx(Ua,{className:"w-5 h-5"})}),T.jsx("span",{className:"text-xs font-black uppercase text-emerald-500",children:"Efficiency"})]}),T.jsxs("p",{className:"text-3xl font-black text-emerald-700 dark:text-emerald-400",children:[c.efficiency.toFixed(1),"%"]})]}),T.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-6 rounded-3xl border border-rose-100 dark:border-rose-800",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx("div",{className:"p-2 bg-rose-500 text-white rounded-lg",children:T.jsx(Xp,{className:"w-5 h-5"})}),T.jsx("span",{className:"text-xs font-black uppercase text-rose-400",children:"Total Loss"})]}),T.jsxs("p",{className:"text-3xl font-black text-rose-600 dark:text-rose-400",children:[c.totalLoss.toFixed(0)," ",T.jsx("span",{className:"text-sm",children:"kg"})]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx("div",{className:"p-2 bg-slate-700 text-white rounded-lg",children:T.jsx(Rc,{className:"w-5 h-5"})}),T.jsx("span",{className:"text-xs font-black uppercase text-slate-400",children:"IM vs BM"})]}),T.jsxs("div",{className:"flex justify-between items-end",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"IM"})," ",T.jsx("p",{className:"text-xl font-black dark:text-white",children:c.imTotalAchv.toFixed(0)})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-xs font-bold text-slate-400",children:"BM"})," ",T.jsx("p",{className:"text-xl font-black dark:text-white",children:c.bmTotalAchv.toFixed(0)})]})]})]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-3xl overflow-hidden shadow-lg p-6",children:[T.jsx("h3",{className:"font-black text-slate-700 dark:text-slate-200 mb-4",children:"Daily Performance (Quick View)"}),T.jsxs("div",{className:"grid grid-cols-6 gap-2 text-xs font-bold text-slate-400 uppercase border-b pb-2 mb-2 dark:border-slate-700",children:[T.jsx("div",{className:"col-span-1",children:"Date"}),T.jsx("div",{className:"col-span-1 text-right",children:"Plan"}),T.jsx("div",{className:"col-span-1 text-right",children:"Achieved"}),T.jsx("div",{className:"col-span-1 text-right",children:"Loss"}),T.jsx("div",{className:"col-span-2 text-center",children:"Status"})]}),T.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar space-y-2",children:c.dailyBreakdown.map((l,o)=>T.jsxs("div",{className:"grid grid-cols-6 gap-2 items-center text-sm font-bold text-slate-700 dark:text-slate-300 p-2 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-lg",children:[T.jsx("div",{className:"col-span-1 font-mono text-xs opacity-70",children:l.date}),T.jsx("div",{className:"col-span-1 text-right",children:l.plan.toFixed(0)}),T.jsx("div",{className:"col-span-1 text-right text-emerald-600",children:l.achv.toFixed(0)}),T.jsx("div",{className:"col-span-1 text-right text-rose-500",children:l.loss.toFixed(0)}),T.jsx("div",{className:"col-span-2 flex justify-center",children:T.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-900 rounded-full h-2 overflow-hidden relative",children:T.jsx("div",{className:`h-full absolute left-0 ${l.totalEff>=80?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(100,l.totalEff)}%`}})})})]},o))})]})]}),a==="DETAILED"&&T.jsx(ife,{dailyData:c.dailyBreakdown,monthTotals:c,allData:r,currentDate:n,breakdownCategories:t})]})},Cu={HEADER_BG:"FFF0F0F0",SUBTOTAL:"FFD9D9D9",TOT_BD:"FF89E38E",EFF_HEAD:"FF00B0F0",GRAND_TOT:"FF50D292"},pM=["BD Production","BD Engineering","Machine Settings","Cycle Time Deviation","Mold Change Delay","Absenteeism","Power Failure"],sfe=({allData:r,initialDate:e})=>{const[t,n]=ye.useState(e),[i,a]=ye.useState({}),s=ye.useMemo(()=>{const d=D=>{var I;return((I=r[`${t}_${D}`])==null?void 0:I.rows)||[]},g=d("IM"),y=d("BM"),m=[...g,...y],x=[];m.forEach(D=>{D.breakdowns&&D.breakdowns.forEach(I=>{var E;const B=(I.category||"").toUpperCase().trim();if(B==="MOLD CHANGE"||B==="PLANNED")return;const L=(D.qtyPerHour||0)*(D.cavities||1)/60,z=(I.startTime||"00:00").split(":").map(Number),$=(I.endTime||"00:00").split(":").map(Number);let O=z[0]*60+z[1],F=$[0]*60+$[1];F<O&&(F+=1440);const C=Math.max(0,F-O),w=Math.floor(L*C)*(D.unitWeight||0)/1e3;x.push({cat:((E=I.category)==null?void 0:E.trim())||"Unknown",shift:D.shift==="day"?"Day":"Night",machine:D.machine||"-",time:C,weight:w,reason:I.description||"-",prod:D.product||"-"})})});const v=D=>D.reduce((I,B)=>I+Wn(B).efficiencyLossKg,0),_=v(y),k=v(g),N={};x.forEach(D=>{const I=D.cat;N[I]||(N[I]=[]),N[I].push(D)});const P=Object.keys(N).sort((D,I)=>{const B=pM.indexOf(D),L=pM.indexOf(I);return B!==-1&&L!==-1?B-L:B!==-1?-1:L!==-1?1:D.localeCompare(I)});return{bdList:x,grouped:N,sortedCats:P,effLossBM:_,effLossIM:k}},[r,t]),c=d=>{a(g=>({...g,[d]:!g[d]}))},l=async()=>{const d=new Pc.Workbook,g=d.addWorksheet("BREAKDOWNS SUMMERY",{pageSetup:{paperSize:9,orientation:"portrait",fitToPage:!0,fitToWidth:1},views:[{showGridLines:!1}]});g.getColumn(1).width=25,g.getColumn(2).width=8,g.getColumn(3).width=10,g.getColumn(4).width=8,g.getColumn(5).width=10,g.getColumn(6).width=40,g.getColumn(7).width=20,g.mergeCells("A1:G1");const y=g.getCell("A1");y.value="BREAKDOWN SUMMARY",y.font={name:"Times New Roman",size:26,bold:!0},y.alignment={horizontal:"center"};const m=["Breakdown Category","Shift","Machine","Time","Weight","Breakdown Reason","Product"],x=g.getRow(2);x.values=m,x.font={name:"Calibri",size:12,bold:!0},x.alignment={horizontal:"center",vertical:"middle"};for(let D=1;D<=7;D++){const I=g.getCell(2,D);I.fill={type:"pattern",pattern:"solid",fgColor:{argb:Cu.HEADER_BG}}}let v=3,_=0;s.sortedCats.forEach(D=>{const I=s.grouped[D];let B=0;if(I.forEach((L,z)=>{const $=g.getRow(v);$.getCell(1).value=z===0?D:"",$.getCell(2).value=L.shift,$.getCell(3).value=L.machine,$.getCell(4).value=L.time,$.getCell(5).value=L.weight,$.getCell(6).value=L.reason,$.getCell(7).value=L.prod,$.eachCell((O,F)=>{O.font={name:"Calibri",size:z===0&&F===1?14:12,bold:z===0&&F===1},O.alignment={vertical:"middle",horizontal:F===1||F===6||F===7?"left":"center"}}),B+=L.weight,v++}),I.length>1){g.mergeCells(`A${v}:D${v}`);const L=g.getRow(v);L.getCell(1).value=`${D} Total`,L.getCell(1).alignment={horizontal:"right"},L.getCell(1).font={bold:!0,name:"Calibri",size:12},L.getCell(5).value=B,L.getCell(5).numFmt="0.00",L.getCell(5).font={bold:!0,name:"Calibri",size:12};for(let z=1;z<=7;z++)L.getCell(z).fill={type:"pattern",pattern:"solid",fgColor:{argb:Cu.SUBTOTAL}};v++}_+=B,v++}),g.mergeCells(`A${v}:D${v}`);const k=g.getRow(v);k.getCell(1).value="Total Breakdown",k.getCell(1).alignment={horizontal:"right"},k.getCell(5).value=_,k.getCell(5).numFmt="0.00";for(let D=1;D<=7;D++)k.getCell(D).fill={type:"pattern",pattern:"solid",fgColor:{argb:Cu.TOT_BD}},k.getCell(D).font={bold:!0,name:"Calibri",size:12};v+=2;const N=s.effLossBM+s.effLossIM;if(N>0){g.mergeCells(`A${v}:C${v}`),g.getCell(`A${v}`).value="Efficiency Loss",g.getCell(`A${v}`).fill={type:"pattern",pattern:"solid",fgColor:{argb:Cu.EFF_HEAD}},g.getCell(`A${v}`).font={bold:!0,color:{argb:"FFFFFFFF"},name:"Calibri",size:12},v++,g.mergeCells(`A${v}:C${v}`),g.getCell(`A${v}`).value="BM Efficiency Loss",g.getCell(`A${v}`).font={name:"Calibri",size:12},g.getCell(`E${v}`).value=s.effLossBM,g.getCell(`E${v}`).numFmt="0.00",v++,g.mergeCells(`A${v}:C${v}`),g.getCell(`A${v}`).value="IM Efficiency Loss",g.getCell(`A${v}`).font={name:"Calibri",size:12},g.getCell(`E${v}`).value=s.effLossIM,g.getCell(`E${v}`).numFmt="0.00",v++,g.mergeCells(`A${v}:C${v}`),g.getCell(`A${v}`).value="Total Efficiency Loss",g.getCell(`A${v}`).font={bold:!0,name:"Calibri",size:12},g.getCell(`E${v}`).value=N,g.getCell(`E${v}`).numFmt="0.00";for(let D=1;D<=7;D++)g.getCell(v,D).fill={type:"pattern",pattern:"solid",fgColor:{argb:Cu.SUBTOTAL}},g.getCell(v,D).font={bold:!0,name:"Calibri",size:12};v++,g.mergeCells(`A${v}:D${v}`),g.getCell(`A${v}`).value="Total",g.getCell(`A${v}`).alignment={horizontal:"right"},g.getCell(`E${v}`).value=_+N,g.getCell(`E${v}`).numFmt="0.00";for(let D=1;D<=7;D++)g.getCell(v,D).fill={type:"pattern",pattern:"solid",fgColor:{argb:Cu.GRAND_TOT}},g.getCell(v,D).font={bold:!0,name:"Calibri",size:12}}const P=await d.xlsx.writeBuffer();Dc.saveAs(new Blob([P]),`Breakdown_Summary_${t}.xlsx`)},o=s.bdList.reduce((d,g)=>d+g.weight,0),u=s.effLossBM+s.effLossIM,f=o+u,h=s.bdList.length===0&&u===0;return T.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[T.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border border-slate-200 dark:border-slate-700",children:T.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-rose-500 to-orange-500 shadow-lg shadow-rose-500/30",children:T.jsx(Kd,{className:"w-6 h-6 text-white"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black uppercase tracking-tight text-slate-800 dark:text-white",children:"Breakdown Summary"}),T.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Daily Loss Analysis Report"})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-lg opacity-20 group-hover:opacity-40 transition-opacity rounded-full"}),T.jsxs("div",{className:"relative flex items-center gap-3 bg-white dark:bg-slate-700 px-5 py-2.5 rounded-full border border-slate-200 dark:border-slate-600 shadow-lg cursor-pointer hover:scale-105 transition-transform",children:[T.jsx(Mc,{className:"w-5 h-5 text-indigo-500"}),T.jsx("input",{type:"date",value:t,onChange:d=>n(d.target.value),className:"bg-transparent text-sm font-bold text-slate-700 dark:text-white outline-none cursor-pointer uppercase dark:[color-scheme:dark]"})]})]}),T.jsxs("button",{onClick:l,className:"px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center gap-2 bg-emerald-600 text-white hover:bg-emerald-500 hover:scale-105 transition-all shadow-xl shadow-emerald-500/30",children:[T.jsx(h5,{className:"w-4 h-4"}),"Download Excel"]})]})]})}),h?T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-16 text-center border border-slate-200 dark:border-slate-700 shadow-lg",children:[T.jsx(Kd,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),T.jsx("p",{className:"text-lg font-bold text-slate-400",children:"No Breakdown Data Found"}),T.jsx("p",{className:"text-sm text-slate-300",children:"Select a different date to view breakdowns."})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl p-6 text-white shadow-xl shadow-rose-500/30",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx(Xp,{className:"w-5 h-5 opacity-80"}),T.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-80",children:"Total Breakdown"})]}),T.jsxs("p",{className:"text-3xl font-black",children:[o.toFixed(2)," ",T.jsx("span",{className:"text-lg font-bold opacity-70",children:"kg"})]})]}),T.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-6 text-white shadow-xl shadow-amber-500/30",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx(yc,{className:"w-5 h-5 opacity-80"}),T.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-80",children:"Efficiency Loss"})]}),T.jsxs("p",{className:"text-3xl font-black",children:[u.toFixed(2)," ",T.jsx("span",{className:"text-lg font-bold opacity-70",children:"kg"})]})]}),T.jsxs("div",{className:"bg-gradient-to-br from-slate-700 to-slate-900 rounded-2xl p-6 text-white shadow-xl shadow-slate-500/30",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[T.jsx(Gp,{className:"w-5 h-5 opacity-80"}),T.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-80",children:"Grand Total"})]}),T.jsxs("p",{className:"text-3xl font-black",children:[f.toFixed(2)," ",T.jsx("span",{className:"text-lg font-bold opacity-70",children:"kg"})]})]})]}),T.jsx("div",{className:"space-y-4",children:s.sortedCats.map(d=>{const g=s.grouped[d],y=g.reduce((x,v)=>x+v.weight,0),m=i[d]!==!1;return T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-lg overflow-hidden",children:[T.jsxs("button",{onClick:()=>c(d),className:"w-full flex items-center justify-between p-5 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 hover:from-slate-100 hover:to-slate-200 dark:hover:from-slate-700 dark:hover:to-slate-800 transition-all",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500 animate-pulse"}),T.jsx("h3",{className:"text-lg font-black text-slate-700 dark:text-white uppercase tracking-tight",children:d}),T.jsxs("span",{className:"text-xs font-bold bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400 px-2 py-1 rounded-full",children:[g.length," items"]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("span",{className:"text-lg font-black text-rose-500",children:[y.toFixed(2)," kg"]}),m?T.jsx(Ud,{className:"w-5 h-5 text-slate-400"}):T.jsx(qa,{className:"w-5 h-5 text-slate-400"})]})]}),m&&T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-sm",children:[T.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-slate-400 font-bold uppercase text-xs border-b border-slate-200 dark:border-slate-700",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-5 py-3 text-left",children:"Shift"}),T.jsx("th",{className:"px-3 py-3 text-left",children:"Machine"}),T.jsx("th",{className:"px-3 py-3 text-center",children:"Time"}),T.jsx("th",{className:"px-3 py-3 text-right text-rose-500",children:"Weight (kg)"}),T.jsx("th",{className:"px-3 py-3 text-left",children:"Product"}),T.jsx("th",{className:"px-5 py-3 text-left",children:"Reason"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800 text-slate-600 dark:text-slate-300",children:g.map((x,v)=>T.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[T.jsx("td",{className:"px-5 py-3 font-medium",children:x.shift}),T.jsx("td",{className:"px-3 py-3 font-bold text-slate-800 dark:text-white",children:x.machine}),T.jsxs("td",{className:"px-3 py-3 text-center font-mono text-slate-500",children:[x.time,"m"]}),T.jsx("td",{className:"px-3 py-3 text-right font-bold text-rose-500",children:x.weight.toFixed(2)}),T.jsx("td",{className:"px-3 py-3 text-slate-500",children:x.prod}),T.jsx("td",{className:"px-5 py-3 text-slate-500 max-w-xs truncate",children:x.reason})]},v))})]})})]},d)})}),u>0&&T.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl border border-amber-200 dark:border-amber-800 p-6 shadow-lg",children:[T.jsxs("h3",{className:"text-lg font-black uppercase text-amber-700 dark:text-amber-400 mb-4 flex items-center gap-3",children:[T.jsx(yc,{className:"w-5 h-5"})," Efficiency Loss"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[T.jsx("p",{className:"text-xs font-bold uppercase text-slate-400 mb-1",children:"BM Efficiency Loss"}),T.jsxs("p",{className:"text-xl font-black text-amber-600",children:[s.effLossBM.toFixed(2)," kg"]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-amber-200 dark:border-amber-800",children:[T.jsx("p",{className:"text-xs font-bold uppercase text-slate-400 mb-1",children:"IM Efficiency Loss"}),T.jsxs("p",{className:"text-xl font-black text-amber-600",children:[s.effLossIM.toFixed(2)," kg"]})]})]})]})]})]})},Mo={dateCell:"B1",production:{bm:{day:{plan:"B5",achv:"D5",loss:"F5",pct:"H5"},night:{plan:"B6",achv:"D6",loss:"F6",pct:"H6"},total:{plan:"B7",achv:"D7",loss:"F7",pct:"H7"},mtd:{plan:"B8",achv:"D8",loss:"F8",pct:"H8"}},im:{day:{plan:"B10",achv:"D10",loss:"F10",pct:"H10"},night:{plan:"B11",achv:"D11",loss:"F11",pct:"H11"},total:{plan:"B12",achv:"D12",loss:"F12",pct:"H12"},mtd:{plan:"B13",achv:"D13",loss:"F13",pct:"H13"}},grandTotal:{total:{plan:"B14",achv:"D14",loss:"F14",pct:"H14"},mtd:{plan:"B15",achv:"D15",loss:"F15",pct:"H15"}}},shiftStatus:{shiftA:{nameCell:"B19",plan:"E19",achv:"E20",mtd:"I19"},shiftB:{nameCell:"B21",plan:"E21",achv:"E22",mtd:"I21"}},register:{day:{im_mc:"E26",im_tot:"J26",bm_mc:"E27",bm_tot:"J27"},night:{im_mc:"E28",im_tot:"J28",bm_mc:"E29",bm_tot:"J29"},today:{im_mc:"E30",im_tot:"J30",bm_mc:"E31",bm_tot:"J31"}},att1:{startRow:5,colActual:"O",colPresent:"R",colAbsent:"U"},att2:{startRow:5,colActual:"AB",colPresent:"AE",colAbsent:"AH"},stock:{startRow:18,colMonthOpen:"P",colRVD:"S",colRVDTotal:"V",colIssue:"Y",colIssuedTotal:"AB",colStock:"AE"},delivery:{im:{actual:"S26",mtd:"Z26"},bm:{actual:"S27",mtd:"Z27"},total:{actual:"S28",mtd:"Z28"},todayNote:""}},LL=["general","cnNight","shiftA","shiftB","training","new","total","req","balance"],tg=["pp","pet","ppcp","color"],Bo=r=>!r&&r!==0?0:Number.isInteger(r)?r:Number(r.toFixed(1)),ofe=async(r,e,t,n,i,a,s,c)=>{try{const l=await fetch("./template/report_template.xlsx");if(!l.ok)throw new Error("Template Not Found!");const o=await l.arrayBuffer(),u=new Pc.Workbook;await u.xlsx.load(o);const f=u.worksheets[0];f.getCell(Mo.dateCell).value=r;const h=Mo.production,d=(k,N)=>{k.plan&&(f.getCell(k.plan).value=Bo(N.p)),k.achv&&(f.getCell(k.achv).value=Bo(N.a)),k.loss&&(f.getCell(k.loss).value=Bo(N.l)),k.pct&&(f.getCell(k.pct).value=N.pct/100)};d(h.bm.day,e.bm.d),d(h.bm.night,e.bm.n),d(h.bm.total,e.bm.t),d(h.bm.mtd,e.bm.m),d(h.im.day,e.im.d),d(h.im.night,e.im.n),d(h.im.total,e.im.t),d(h.im.mtd,e.im.m),d(h.grandTotal.total,e.grand.t),d(h.grandTotal.mtd,e.grand.m);const g=Mo.shiftStatus;f.getCell(g.shiftA.nameCell).value=`Shift A
${e.shift.as}`,f.getCell(g.shiftA.plan).value=Bo(e.shift.a.p),f.getCell(g.shiftA.achv).value=Bo(e.shift.a.a),f.getCell(g.shiftA.mtd).value=e.shift.a.pct/100,f.getCell(g.shiftB.nameCell).value=`Shift B
${e.shift.bs}`,f.getCell(g.shiftB.plan).value=Bo(e.shift.b.p),f.getCell(g.shiftB.achv).value=Bo(e.shift.b.a),f.getCell(g.shiftB.mtd).value=e.shift.b.pct/100;const y=(k,N)=>{LL.forEach((P,D)=>{const I=k.startRow+D;f.getCell(`${k.colActual}${I}`).value=N[P].a,f.getCell(`${k.colPresent}${I}`).value=N[P].p,f.getCell(`${k.colAbsent}${I}`).value=N[P].ab})};y(Mo.att1,t),y(Mo.att2,n);const m=Mo.stock;tg.forEach((k,N)=>{const P=m.startRow+N,D=i[k];f.getCell(`${m.colMonthOpen}${P}`).value=D.o,f.getCell(`${m.colRVD}${P}`).value=D.r,f.getCell(`${m.colRVDTotal}${P}`).value=D.rt,f.getCell(`${m.colIssue}${P}`).value=D.i,f.getCell(`${m.colIssuedTotal}${P}`).value=D.it,f.getCell(`${m.colStock}${P}`).value=D.s});const x=Mo.register;f.getCell(x.day.im_mc).value=a.dIM_mc,f.getCell(x.day.im_tot).value=a.dIM_t,f.getCell(x.day.bm_mc).value=a.dBM_mc,f.getCell(x.day.bm_tot).value=a.dBM_t,f.getCell(x.night.im_mc).value=a.nIM_mc,f.getCell(x.night.im_tot).value=a.nIM_t,f.getCell(x.night.bm_mc).value=a.nBM_mc,f.getCell(x.night.bm_tot).value=a.nBM_t,f.getCell(x.today.im_mc).value=a.tIM_mc,f.getCell(x.today.im_tot).value=a.tIM_t,f.getCell(x.today.bm_mc).value=a.tBM_mc,f.getCell(x.today.bm_tot).value=a.tBM_t;const v=Mo.delivery;f.getCell(v.im.actual).value=s.imA,f.getCell(v.im.mtd).value=s.imM,f.getCell(v.bm.actual).value=s.bmA,f.getCell(v.bm.mtd).value=s.bmM,f.getCell(v.total.actual).value=s.totA,f.getCell(v.total.mtd).value=s.totM;const _=await u.xlsx.writeBuffer();Dc.saveAs(new Blob([_]),`Daily_Report_${r}.xlsx`)}catch(l){console.error(l),alert("Template Error: Check public/template/report_template.xlsx")}},Ou={general:{a:"",p:"",ab:""},cnNight:{a:"",p:"",ab:""},shiftA:{a:"",p:"",ab:""},shiftB:{a:"",p:"",ab:""},training:{a:"",p:"",ab:""},new:{a:"",p:"",ab:""},total:{a:"",p:"",ab:""},req:{a:"",p:"",ab:""},balance:{a:"",p:"",ab:""}},Z_={pp:{o:"",r:"",rt:"",i:"",it:"",s:""},pet:{o:"",r:"",rt:"",i:"",it:"",s:""},ppcp:{o:"",r:"",rt:"",i:"",it:"",s:""},color:{o:"",r:"",rt:"",i:"",it:"",s:""}},J_={dIM_mc:"",dIM_t:"",dBM_mc:"",dBM_t:"",d_GT:"",nIM_mc:"",nIM_t:"",nBM_mc:"",nBM_t:"",n_GT:"",tIM_mc:"",tIM_t:"",tBM_mc:"",tBM_t:"",t_GT:""},e3={imA:"",imM:"",bmA:"",bmM:"",totA:"",totM:""},lfe=(r,e)=>{const[t,n,i]=e.split("-"),a=parseInt(n),s=parseInt(i);if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"].includes(r.key)){let c="";r.key==="ArrowUp"&&(c=`${t}-${a-1}-${s}`),(r.key==="ArrowDown"||r.key==="Enter")&&(c=`${t}-${a+1}-${s}`),r.key==="ArrowLeft"&&(c=`${t}-${a}-${s-1}`),r.key==="ArrowRight"&&(c=`${t}-${a}-${s+1}`);const l=document.getElementById(c);l&&(r.preventDefault(),l.focus())}},Da=({val:r,suffix:e="",color:t="",bg:n=""})=>T.jsxs("div",{className:`w-full h-full flex items-center justify-center font-bold text-xs ${t} ${n}`,children:[typeof r=="number"?Bo(r):r,e]}),oi=pe.memo(({id:r,val:e,onChange:t,onBlur:n,className:i="",disabled:a=!1})=>T.jsx("input",{id:r,type:"text",autoComplete:"off",value:e??"",onChange:s=>t(s.target.value),onBlur:n,onKeyDown:s=>lfe(s,r),disabled:a,className:`w-full h-full text-center text-xs font-bold outline-none transition-all placeholder:text-slate-400 
            ${a?"bg-slate-100 dark:bg-slate-800 text-slate-500 cursor-not-allowed":"bg-yellow-50/80 dark:bg-yellow-900/10 text-slate-900 dark:text-slate-100 focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-indigo-500"} ${i}`})),$r=({children:r,className:e="",colSpan:t=1,rowSpan:n=1})=>T.jsx("th",{colSpan:t,rowSpan:n,className:`border border-slate-400 dark:border-slate-600 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-black uppercase text-[10px] p-2 text-center ${e}`,children:r}),lr=({children:r,className:e="",colSpan:t=1,rowSpan:n=1})=>T.jsx("td",{colSpan:t,rowSpan:n,className:`border border-slate-400 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 text-xs p-0 ${e}`,children:r}),cfe=({allData:r,date:e,breakdownCategories:t=[],onUpdate:n})=>{const[i,a]=ye.useState("DAILY"),[s,c]=ye.useState(e),[l,o]=ye.useState(!1),[u,f]=ye.useState(Ou),[h,d]=ye.useState(Ou),[g,y]=ye.useState(Z_),[m,x]=ye.useState(J_),[v,_]=ye.useState(e3),k=`${s}_REPORT`;ye.useEffect(()=>{const L=r[k];L?(f(L.att1||Ou),d(L.att2||Ou),y(L.stock||Z_),x(L.reg||J_),_(L.del||e3)):(f(Ou),d(Ou),y(Z_),x(J_),_(e3))},[s,r,k]);const N=ye.useMemo(()=>{const[L,z]=s.split("-"),$=`${L}-${z}-01`,O=s===$,F=`${$}_REPORT`,C={};return tg.forEach(w=>{var H,Y,Z,te;let E=0;O?E=Number((H=g[w])==null?void 0:H.o)||0:E=Number((te=(Z=(Y=r[F])==null?void 0:Y.stock)==null?void 0:Z[w])==null?void 0:te.o)||0;const A=Tc($,s);let j=0,R=0;A.forEach(W=>{var K;const ee=W===s?g:(K=r[`${W}_REPORT`])==null?void 0:K.stock;ee&&ee[w]&&(j+=Number(ee[w].r||0),R+=Number(ee[w].i||0))});const q=E+j-R;C[w]={o:E,rt:j,it:R,s:q}}),{isDay1:O,calcs:C}},[r,g,s]);ye.useEffect(()=>{let L=!1;const z=JSON.parse(JSON.stringify(g));tg.forEach($=>{const O=N.calcs[$];z[$].rt!=O.rt&&(z[$].rt=O.rt,L=!0),z[$].it!=O.it&&(z[$].it=O.it,L=!0),z[$].s!=O.s&&(z[$].s=O.s,L=!0),!N.isDay1&&z[$].o!=O.o&&(z[$].o=O.o,L=!0)}),L&&y(z)},[N]);const P=ye.useCallback(()=>{n&&n(k,{id:k,date:s,att1:u,att2:h,stock:g,reg:m,del:v})},[u,h,g,m,v,n,k,s]),D=ye.useMemo(()=>{const L=oe=>{var me;if(oe.productType)return oe.productType;const le=(((me=r.adminConfig)==null?void 0:me.productionItems)||[]).find(ge=>ge.itemName===oe.product&&ge.type==="IM");return le?le.productType:"Preform"},z=oe=>{var le;let ne=((le=r[`${s}_${oe}`])==null?void 0:le.rows)||[];return oe==="IM"&&!l&&(ne=ne.filter(me=>L(me)==="Cap")),ne},$=(oe,ne)=>{let le=oe||[];return ne==="IM"&&!l&&(le=le.filter(me=>L(me)==="Cap")),le},O=z("IM"),F=z("BM"),C=r[`${s}_BM`],w=r[`${s}_IM`],E=(oe,ne)=>{const me=(ne?oe.filter(ge=>ge.shift===ne):oe).reduce((ge,se)=>{const fe=Wn(se);return{p:ge.p+fe.planKg,a:ge.a+fe.achievedKg,l:ge.l+fe.lostKg}},{p:0,a:0,l:0});return{...me,pct:me.p>0?me.a/me.p*100:0}},A=E(F,"day"),j=E(F,"night"),R=E(F),q=E(O,"day"),H=E(O,"night"),Y=E(O),Z=oe=>{const ne=s.substring(0,7);let le=0,me=0,ge=0;return Object.values(r).forEach(se=>{var fe;if((fe=se==null?void 0:se.date)!=null&&fe.startsWith(ne)&&se.date<=s&&se.machineType===oe){let he=se.rows||[];oe==="IM"&&!l&&(he=he.filter(ve=>L(ve)==="Cap")),he.forEach(ve=>{const xe=Wn(ve);le+=xe.planKg,me+=xe.achievedKg,ge+=xe.lostKg})}}),{p:le,a:me,l:ge,pct:le>0?me/le*100:0}},te=Z("BM"),W=Z("IM"),ee={p:R.p+Y.p,a:R.a+Y.a,l:R.l+Y.l,pct:R.p+Y.p>0?(R.a+Y.a)/(R.p+Y.p)*100:0},K={p:te.p+W.p,a:te.a+W.a,l:te.l+W.l,pct:te.p+W.p>0?(te.a+W.a)/(te.p+W.p)*100:0},V=oe=>{const ne=s.substring(0,7);let le=0,me=0;return Tc(`${ne}-01`,s).forEach(ge=>{const se=`${ge}_SUPERVISORS`,fe=r[se]||{day:"Shift-A",night:"Shift-B"};["IM","BM"].forEach(he=>{var xe;$(((xe=r[`${ge}_${he}`])==null?void 0:xe.rows)||[],he).forEach(_e=>{const Ne=Wn(_e);(_e.shift==="day"?fe.day:fe.night)===oe&&(le+=Ne.planKg,me+=Ne.achievedKg)})})}),{p:le,a:me,pct:le>0?me/le*100:0}},Q=V("Shift-A"),re=V("Shift-B");return{bm:{d:A,n:j,t:R,m:te},im:{d:q,n:H,t:Y,m:W},grand:{t:ee,m:K},shift:{a:{p:Q.p,a:Q.a,pct:Q.pct},b:{p:re.p,a:re.a,pct:re.pct},as:(C==null?void 0:C.daySupervisor)||(w==null?void 0:w.daySupervisor)||"-",bs:(C==null?void 0:C.nightSupervisor)||(w==null?void 0:w.nightSupervisor)||"-"}}},[r,s,l]),I=ye.useMemo(()=>{const L=(z,$)=>(parseFloat(z||"0")+parseFloat($||"0")).toString();return{d_GT:L(m.dIM_t,m.dBM_t),n_GT:L(m.nIM_t,m.nBM_t),t_GT:L(m.tIM_t,m.tBM_t)}},[m]);ye.useEffect(()=>{(m.d_GT!==I.d_GT||m.n_GT!==I.n_GT||m.t_GT!==I.t_GT)&&x(L=>({...L,d_GT:I.d_GT,n_GT:I.n_GT,t_GT:I.t_GT}))},[I]);const B=()=>{ofe(s,D,u,h,g,m,v)};return T.jsxs("div",{className:"space-y-8 pb-20 animate-fade-in relative w-full",children:[T.jsx("div",{className:"flex justify-center mb-4",children:T.jsx("div",{className:"flex bg-white dark:bg-slate-800 p-1 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:["DAILY","BREAKDOWNS","MONTHLY"].map(L=>T.jsx("button",{onClick:()=>a(L),className:`px-8 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${i===L?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,children:L},L))})}),i==="DAILY"&&T.jsx("div",{className:"max-w-7xl mx-auto px-4",children:T.jsxs("form",{className:"space-y-8",onSubmit:L=>L.preventDefault(),children:[T.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 bg-white dark:bg-slate-800 p-5 rounded-3xl shadow-md border border-slate-400 dark:border-slate-700",children:[T.jsxs("div",{className:"flex items-center gap-6",children:[T.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 dark:bg-slate-900 px-5 py-2.5 rounded-2xl border border-slate-400 dark:border-slate-700",children:[T.jsx(Mc,{className:"w-5 h-5 text-indigo-500"}),T.jsx("input",{type:"date",value:s,onChange:L=>c(L.target.value),className:"bg-transparent font-black text-slate-700 dark:text-white outline-none uppercase text-sm dark:[color-scheme:dark]"})]}),T.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[T.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-colors ${l?"bg-indigo-600 border-indigo-600":"border-slate-400 dark:border-slate-500 group-hover:border-indigo-400"}`,children:l&&T.jsx(uV,{className:"w-3.5 h-3.5 text-white"})}),T.jsx("input",{type:"checkbox",checked:l,onChange:L=>o(L.target.checked),className:"hidden"}),T.jsx("span",{className:"text-xs font-black uppercase tracking-wider text-slate-600 dark:text-slate-300 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:"With Preform"})]})]}),T.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-3 bg-emerald-600 hover:bg-emerald-500 text-white px-8 py-3 rounded-xl font-black uppercase text-xs tracking-widest shadow-xl shadow-emerald-500/20 transition-all hover:-translate-y-1",children:[T.jsx(h5,{className:"w-4 h-4"})," Export Report"]})]}),T.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[T.jsxs("div",{className:"col-span-12 xl:col-span-5 space-y-6",children:[T.jsxs("div",{className:"rounded-lg shadow-sm overflow-hidden border border-slate-400 dark:border-slate-600",children:[T.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 text-center font-black text-slate-700 dark:text-slate-200 uppercase text-xs border-b border-slate-400 dark:border-slate-600",children:"Daily Production Summary"}),T.jsxs("table",{className:"w-full border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx($r,{children:"Type"}),T.jsx($r,{children:"Planned"}),T.jsx($r,{children:"Achieve"}),T.jsx($r,{children:"Loss"}),T.jsx($r,{children:"%"})]})}),T.jsx("tbody",{children:[{l:"BM Line",h:!0},{l:"Day",d:D.bm.d},{l:"Night",d:D.bm.n},{l:"Total",d:D.bm.t},{l:"MTD",d:D.bm.m},{l:"IM Line",h:!0},{l:"Day",d:D.im.d},{l:"Night",d:D.im.n},{l:"Total",d:D.im.t},{l:"MTD",d:D.im.m},{l:`IM+BM
Total`,d:D.grand.t,b:!0},{l:`IM+BM
MTD`,d:D.grand.m,b:!0}].map((L,z)=>T.jsx("tr",{children:L.h?T.jsx(lr,{colSpan:5,className:"font-bold text-center bg-slate-50 dark:bg-slate-800/50 p-1 text-indigo-600 dark:text-indigo-400",children:L.l}):T.jsxs(T.Fragment,{children:[T.jsx(lr,{className:`text-center font-bold p-1.5 ${L.b?"whitespace-pre-line text-emerald-600 dark:text-emerald-400":""}`,children:L.l}),T.jsx(lr,{className:"text-center",children:T.jsx(Da,{val:L.d.p.toFixed(1)})}),T.jsx(lr,{className:"text-center",children:T.jsx(Da,{val:L.d.a.toFixed(1)})}),T.jsx(lr,{className:"text-center",children:T.jsx(Da,{val:L.d.l.toFixed(1),color:"text-rose-500"})}),T.jsx(lr,{className:"text-center",children:T.jsx(Da,{val:L.d.pct.toFixed(0),suffix:"%"})})]})},z))})]})]}),T.jsx("div",{className:"rounded-lg shadow-sm overflow-hidden border border-slate-400 dark:border-slate-600",children:T.jsxs("table",{className:"w-full border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx($r,{className:"w-32",children:"Shift"}),T.jsx($r,{colSpan:2,children:"Plan Vs Achievement"}),T.jsx($r,{className:"w-20",children:"MTD %"})]})}),T.jsx("tbody",{children:[{n:"Shift A",s:D.shift.as,d:D.shift.a},{n:"Shift B",s:D.shift.bs,d:D.shift.b}].map((L,z)=>T.jsxs(pe.Fragment,{children:[T.jsxs("tr",{children:[T.jsxs(lr,{rowSpan:2,className:"text-center font-bold p-2 bg-slate-50 dark:bg-slate-800",children:[L.n,T.jsx("br",{}),T.jsx("span",{className:"font-normal text-[9px] text-slate-500",children:L.s})]}),T.jsx(lr,{className:"text-center font-bold w-24 p-1 text-slate-500",children:"Plan"}),T.jsx(lr,{className:"text-center",children:T.jsx(Da,{val:L.d.p.toFixed(1)})}),T.jsx(lr,{rowSpan:2,className:"text-center font-black text-indigo-600 dark:text-indigo-400",children:T.jsx(Da,{val:L.d.pct.toFixed(0),suffix:"%"})})]}),T.jsxs("tr",{children:[T.jsx(lr,{className:"text-center font-bold p-1 text-slate-500 border-t border-slate-400 dark:border-slate-600",children:"Achievement"}),T.jsx(lr,{className:"text-center border-t border-slate-400 dark:border-slate-600",children:T.jsx(Da,{val:L.d.a.toFixed(1)})})]})]},z))})]})}),T.jsxs("div",{className:"rounded-lg shadow-sm overflow-hidden border border-slate-400 dark:border-slate-600",children:[T.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 text-center font-black text-slate-700 dark:text-slate-200 uppercase text-xs border-b border-slate-400 dark:border-slate-600",children:"Register"}),T.jsxs("table",{className:"w-full border-collapse",children:[T.jsxs("thead",{children:[T.jsxs("tr",{children:[T.jsx($r,{rowSpan:2,className:"w-20",children:"Shift"}),T.jsx($r,{rowSpan:2,className:"w-16"}),T.jsx($r,{rowSpan:2,children:"Related M/C"}),T.jsx($r,{colSpan:2,children:"Total M/C"})]}),T.jsxs("tr",{children:[T.jsx($r,{className:"w-12 text-[8px]",children:"Each"}),T.jsx($r,{className:"w-12 text-[8px]",children:"Grand"})]})]}),T.jsx("tbody",{children:["Day","Night","Today"].map((L,z)=>{const $=L==="Day"?"d":L==="Night"?"n":"t",O=z*2,F=z===0?I.d_GT:z===1?I.n_GT:I.t_GT;return T.jsxs(pe.Fragment,{children:[T.jsxs("tr",{children:[T.jsx(lr,{rowSpan:2,className:"text-center font-bold p-2 text-sm bg-slate-50 dark:bg-slate-800",children:L}),T.jsx(lr,{className:"text-center font-bold p-1 text-[10px]",children:"IM"}),T.jsx(lr,{className:"p-0",children:T.jsx(oi,{id:`reg-${O}-0`,val:m[`${$}IM_mc`],onChange:C=>x({...m,[`${$}IM_mc`]:C}),onBlur:P})}),T.jsx(lr,{className:"p-0",children:T.jsx(oi,{id:`reg-${O}-1`,val:m[`${$}IM_t`],onChange:C=>x({...m,[`${$}IM_t`]:C}),onBlur:P})}),T.jsx(lr,{rowSpan:2,className:"p-0 border-l border-slate-400 dark:border-slate-600 bg-indigo-50/50 dark:bg-indigo-900/20",children:T.jsx(Da,{val:F,color:"text-indigo-700 dark:text-indigo-400 font-black"})})]}),T.jsxs("tr",{className:"border-t border-black",children:[T.jsx(lr,{className:"text-center font-bold p-1 text-[10px] border-t border-slate-400 dark:border-slate-600",children:"BM"}),T.jsx(lr,{className:"p-0 border-t border-slate-400 dark:border-slate-600",children:T.jsx(oi,{id:`reg-${O+1}-0`,val:m[`${$}BM_mc`],onChange:C=>x({...m,[`${$}BM_mc`]:C}),onBlur:P})}),T.jsx(lr,{className:"p-0 border-t border-slate-400 dark:border-slate-600",children:T.jsx(oi,{id:`reg-${O+1}-1`,val:m[`${$}BM_t`],onChange:C=>x({...m,[`${$}BM_t`]:C}),onBlur:P})})]})]},L)})})]})]})]}),T.jsxs("div",{className:"col-span-12 xl:col-span-7 space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-white dark:bg-slate-800 p-2 border border-slate-400 dark:border-slate-600 rounded-lg shadow-sm",children:[T.jsx("div",{className:"col-span-2 text-center font-bold text-slate-700 dark:text-slate-200 uppercase text-lg border-b border-slate-400 dark:border-slate-600 mb-2 pb-1",children:"Attendance"}),[u,h].map((L,z)=>T.jsxs("table",{className:"w-full border-collapse border border-slate-400 dark:border-slate-600",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx($r,{className:"text-left pl-2 bg-slate-50 dark:bg-slate-900 w-24",children:" "}),T.jsx($r,{children:"Act"}),T.jsx($r,{children:"Pre"}),T.jsx($r,{children:"Abs"})]})}),T.jsx("tbody",{children:LL.map(($,O)=>T.jsxs("tr",{children:[T.jsx(lr,{className:"font-bold pl-2 p-1 capitalize text-[10px] text-slate-600 dark:text-slate-400 bg-slate-50 dark:bg-slate-900",children:$.replace(/([A-Z])/g," $1").trim()}),T.jsx(lr,{className:"p-0 w-12",children:T.jsx(oi,{id:`att${z}-${O}-0`,val:L[$].a,onChange:F=>(z===0?f:d)({...L,[$]:{...L[$],a:F}}),onBlur:P})}),T.jsx(lr,{className:"p-0 w-12",children:T.jsx(oi,{id:`att${z}-${O}-1`,val:L[$].p,onChange:F=>(z===0?f:d)({...L,[$]:{...L[$],p:F}}),onBlur:P})}),T.jsx(lr,{className:"p-0 w-12",children:T.jsx(oi,{id:`att${z}-${O}-2`,val:L[$].ab,onChange:F=>(z===0?f:d)({...L,[$]:{...L[$],ab:F}}),onBlur:P,className:"text-rose-600 dark:text-rose-400 bg-rose-50/30 dark:bg-rose-900/10"})})]},$))})]},z))]}),T.jsxs("div",{className:"rounded-lg shadow-sm overflow-hidden border border-slate-400 dark:border-slate-600",children:[T.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 text-center font-black text-slate-700 dark:text-slate-200 uppercase text-xs border-b border-slate-400 dark:border-slate-600",children:"Preform Issues & Stock Details"}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx($r,{className:"w-20",children:"Item"}),T.jsx($r,{className:"w-24",children:"Opn"}),T.jsx($r,{className:"w-24",children:"Rvd"}),T.jsx($r,{className:"w-24",children:"Tot (MTD)"}),T.jsx($r,{className:"w-24",children:"Iss"}),T.jsx($r,{className:"w-24",children:"IsT (MTD)"}),T.jsx($r,{className:"w-24",children:"Stk"})]})}),T.jsx("tbody",{children:tg.map((L,z)=>{const $=N.calcs[L];return T.jsxs("tr",{children:[T.jsx(lr,{className:"font-bold text-center uppercase p-1 bg-slate-50 dark:bg-slate-900",children:L}),T.jsx(lr,{className:"p-0 h-8",children:T.jsx(oi,{id:`stk-${z}-0`,val:$.o,onChange:O=>y({...g,[L]:{...g[L],o:O}}),onBlur:P,disabled:!N.isDay1,className:N.isDay1?"":"text-slate-500 bg-slate-100 dark:bg-slate-800"})}),T.jsx(lr,{className:"p-0 h-8",children:T.jsx(oi,{id:`stk-${z}-1`,val:g[L].r,onChange:O=>y({...g,[L]:{...g[L],r:O}}),onBlur:P})}),T.jsx(lr,{className:"p-0 h-8 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400",children:T.jsx(Da,{val:$.rt,color:"text-indigo-700 dark:text-indigo-300"})}),T.jsx(lr,{className:"p-0 h-8",children:T.jsx(oi,{id:`stk-${z}-3`,val:g[L].i,onChange:O=>y({...g,[L]:{...g[L],i:O}}),onBlur:P})}),T.jsx(lr,{className:"p-0 h-8 bg-rose-50/50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400",children:T.jsx(Da,{val:$.it,color:"text-rose-700 dark:text-rose-300"})}),T.jsx(lr,{className:"p-0 h-8 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 font-black border-l border-slate-400 dark:border-slate-600",children:T.jsx(Da,{val:$.s,color:"text-emerald-700 dark:text-emerald-300"})})]},L)})})]})})]}),T.jsxs("div",{className:"rounded-lg shadow-sm border border-slate-400 dark:border-slate-600 overflow-hidden bg-white dark:bg-slate-800",children:[T.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 text-center font-black text-slate-700 dark:text-slate-200 uppercase text-xs border-b border-slate-400 dark:border-slate-600",children:"Delivery Details"}),T.jsx("div",{className:"p-2",children:T.jsxs("table",{className:"w-full border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx($r,{}),T.jsx($r,{children:"Actual"}),T.jsx($r,{children:"MTD"})]})}),T.jsxs("tbody",{children:[T.jsxs("tr",{children:[T.jsx(lr,{className:"font-bold text-center p-1 bg-slate-50 dark:bg-slate-900",children:"IM"}),T.jsx(lr,{className:"p-0",children:T.jsx(oi,{id:"del-0-0",val:v.imA,onChange:L=>_({...v,imA:L}),onBlur:P})}),T.jsx(lr,{className:"p-0",children:T.jsx(oi,{id:"del-0-1",val:v.imM,onChange:L=>_({...v,imM:L}),onBlur:P})})]}),T.jsxs("tr",{children:[T.jsx(lr,{className:"font-bold text-center p-1 bg-slate-50 dark:bg-slate-900 border-t border-slate-400 dark:border-slate-600",children:"BM"}),T.jsx(lr,{className:"p-0 border-t border-slate-400 dark:border-slate-600",children:T.jsx(oi,{id:"del-1-0",val:v.bmA,onChange:L=>_({...v,bmA:L}),onBlur:P})}),T.jsx(lr,{className:"p-0 border-t border-slate-400 dark:border-slate-600",children:T.jsx(oi,{id:"del-1-1",val:v.bmM,onChange:L=>_({...v,bmM:L}),onBlur:P})})]}),T.jsxs("tr",{children:[T.jsx(lr,{className:"font-bold text-center p-1 bg-slate-50 dark:bg-slate-900 border-t border-slate-400 dark:border-slate-600",children:"Total"}),T.jsx(lr,{className:"p-0 border-t border-slate-400 dark:border-slate-600",children:T.jsx(oi,{id:"del-2-0",val:v.totA,onChange:L=>_({...v,totA:L}),onBlur:P})}),T.jsx(lr,{className:"p-0 border-t border-slate-400 dark:border-slate-600",children:T.jsx(oi,{id:"del-2-1",val:v.totM,onChange:L=>_({...v,totM:L}),onBlur:P})})]})]})]})})]})]})]})]})}),i==="BREAKDOWNS"&&T.jsx("div",{className:"max-w-7xl mx-auto px-4",children:T.jsx(sfe,{allData:r,initialDate:s})}),i==="MONTHLY"&&T.jsx("div",{className:"w-full px-2",children:T.jsx(afe,{allData:r,currentDate:s,breakdownCategories:t})})]})},ufe=({startDate:r,endDate:e,machineType:t,allData:n,machineFilter:i,productFilter:a})=>{const[s,c]=ye.useState({}),l=ye.useMemo(()=>Tc(r,e).map(d=>{const g=`${d}_${t}`,y=n[g],m=y?y.rows:[],x={day:(y==null?void 0:y.daySupervisor)||"-",night:(y==null?void 0:y.nightSupervisor)||"-"};m.sort((k,N)=>k.shift!==N.shift?k.shift==="day"?-1:1:k.startTime.localeCompare(N.startTime));const v=m.filter(k=>!(i.length>0&&!i.includes(k.machine)||a.length>0&&!a.includes(k.product))),_=v.reduce((k,N)=>{const P=Wn(N);return{planQty:k.planQty+P.planQty,achvQty:k.achvQty+N.achievedQty,rejQty:k.rejQty+(N.rejectionQty||0),startQty:k.startQty+(N.startupQty||0),accQty:k.accQty+P.acceptedQty,planKg:k.planKg+P.planKg,achvKg:k.achvKg+P.achievedKg,lostQty:k.lostQty+P.lostQty,lostKg:k.lostKg+P.lostKg,bdLostKg:k.bdLostKg+P.bdLostKg,effLostKg:k.effLostKg+P.efficiencyLossKg}},{planQty:0,achvQty:0,rejQty:0,startQty:0,accQty:0,planKg:0,achvKg:0,lostQty:0,lostKg:0,bdLostKg:0,effLostKg:0});return{date:d,rows:v,subTotal:_,supervisors:x}}).filter(d=>d.rows.length>0),[r,e,t,n,i,a]);ye.useEffect(()=>{c({})},[i,a,r,e,t]);const o=f=>{c(h=>({...h,[f]:!h[f]}))},u=l.reduce((f,h)=>({planQty:f.planQty+h.subTotal.planQty,achvQty:f.achvQty+h.subTotal.achvQty,planKg:f.planKg+h.subTotal.planKg,achvKg:f.achvKg+h.subTotal.achvKg,lostQty:f.lostQty+h.subTotal.lostQty,lostKg:f.lostKg+h.subTotal.lostKg,bdLostKg:f.bdLostKg+h.subTotal.bdLostKg,effLostKg:f.effLostKg+h.subTotal.effLostKg}),{planQty:0,achvQty:0,planKg:0,achvKg:0,lostQty:0,lostKg:0,bdLostKg:0,effLostKg:0});return l.length===0?T.jsxs("div",{className:"p-16 text-center bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-xl flex flex-col items-center animate-fade-in",children:[T.jsx("div",{className:"p-6 bg-slate-100 dark:bg-slate-700 rounded-full text-slate-400 mb-6 shadow-inner",children:T.jsx(Hd,{className:"w-12 h-12 opacity-50"})}),T.jsx("h3",{className:"text-2xl font-black text-slate-700 dark:text-slate-300 mb-2",children:"No Records Found"}),T.jsx("p",{className:"text-slate-400 dark:text-slate-500 font-medium",children:"Adjust the date range to view production logs."})]}):T.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[T.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-6 text-white shadow-2xl border border-slate-700 relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 p-32 bg-indigo-500 rounded-full blur-[100px] opacity-20 pointer-events-none"}),T.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between gap-6",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"p-4 bg-white/10 rounded-2xl backdrop-blur-sm border border-white/10",children:T.jsx(ng,{className:"w-8 h-8 text-indigo-400"})}),T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-black uppercase tracking-widest text-slate-400",children:[t," REPORT SUMMARY"]}),T.jsxs("div",{className:"text-3xl font-black text-white",children:[u.achvKg.toFixed(1)," ",T.jsx("span",{className:"text-lg text-slate-500",children:"kg"})]})]})]}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-4 lg:gap-8",children:[T.jsxs("div",{className:"text-center px-4 py-2 bg-white/5 rounded-2xl border border-white/5 backdrop-blur-sm",children:[T.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Plan Kg"}),T.jsx("div",{className:"text-xl font-black text-white",children:u.planKg.toFixed(1)})]}),T.jsxs("div",{className:"text-center px-4 py-2 bg-emerald-500/10 rounded-2xl border border-emerald-500/20 backdrop-blur-sm",children:[T.jsx("div",{className:"text-xs font-bold text-emerald-400 uppercase tracking-wider mb-1",children:"Achv Kg"}),T.jsx("div",{className:"text-xl font-black text-emerald-400",children:u.achvKg.toFixed(1)})]}),T.jsxs("div",{className:"text-center px-4 py-2 bg-rose-500/10 rounded-2xl border border-rose-500/20 backdrop-blur-sm",children:[T.jsx("div",{className:"text-xs font-bold text-rose-400 uppercase tracking-wider mb-1",children:"Lost Kg"}),T.jsx("div",{className:"text-xl font-black text-rose-400",children:u.lostKg.toFixed(1)})]}),T.jsxs("div",{className:"text-center px-4 py-2 bg-amber-500/10 rounded-2xl border border-amber-500/20 backdrop-blur-sm",children:[T.jsx("div",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider mb-1",children:"Eff %"}),T.jsxs("div",{className:"text-xl font-black text-amber-400",children:[u.planKg>0?(u.achvKg/u.planKg*100).toFixed(1):"0.0","%"]})]})]})]})]}),T.jsx("div",{className:"space-y-3",children:l.map(f=>{const h=s[f.date],d=f.subTotal.planKg>0?f.subTotal.achvKg/f.subTotal.planKg*100:0;return T.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-md overflow-hidden transition-all hover:shadow-lg",children:[T.jsxs("div",{onClick:()=>o(f.date),className:"bg-slate-50 dark:bg-slate-900/50 p-3 md:p-5 flex flex-col md:flex-row items-center justify-between gap-3 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-900 transition-colors border-b border-slate-200 dark:border-slate-700",children:[T.jsxs("div",{className:"flex justify-between items-start w-full md:w-auto md:justify-start md:gap-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`p-2.5 rounded-xl shrink-0 ${d>=90?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600":d>=80?"bg-amber-100 dark:bg-amber-900/30 text-amber-600":"bg-rose-100 dark:bg-rose-900/30 text-rose-600"}`,children:T.jsx(Mc,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"text-sm md:text-lg font-black text-slate-800 dark:text-white uppercase tracking-tight",children:f.date}),T.jsxs("span",{className:"text-[9px] px-1.5 py-0.5 rounded-md bg-slate-200 dark:bg-slate-700 text-slate-500 font-bold",children:[f.rows.length," REC"]})]}),T.jsxs("div",{className:"flex items-center gap-3 text-[10px] md:text-xs font-bold text-slate-400 mt-0.5",children:[T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(CE,{className:"w-3 h-3"})," ",f.supervisors.day]}),T.jsx("span",{className:"w-px h-3 bg-slate-300 dark:bg-slate-600"}),T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(CE,{className:"w-3 h-3"})," ",f.supervisors.night]})]})]})]}),T.jsx("div",{className:"md:hidden pt-1",children:h?T.jsx(Ud,{className:"w-4 h-4 text-slate-400"}):T.jsx(qa,{className:"w-4 h-4 text-slate-400"})})]}),T.jsx("div",{className:"w-full md:w-auto mt-1 md:mt-0",children:T.jsxs("div",{className:"grid grid-cols-4 gap-1 md:gap-8 bg-white dark:bg-slate-950/50 md:bg-transparent rounded-lg p-2 md:p-0 border border-slate-100 dark:border-slate-800 md:border-none",children:[T.jsxs("div",{className:"text-center md:text-left",children:[T.jsx("div",{className:"text-[8px] md:text-[9px] font-bold text-slate-400 uppercase tracking-wider",children:"Plan"}),T.jsx("div",{className:"font-black text-slate-700 dark:text-slate-300 text-xs md:text-lg",children:f.subTotal.planKg.toFixed(1)})]}),T.jsxs("div",{className:"text-center md:text-left",children:[T.jsx("div",{className:"text-[8px] md:text-[9px] font-bold text-emerald-500 uppercase tracking-wider",children:"Achv"}),T.jsx("div",{className:"font-black text-emerald-600 dark:text-emerald-400 text-xs md:text-lg",children:f.subTotal.achvKg.toFixed(1)})]}),T.jsxs("div",{className:"text-center md:text-left",children:[T.jsx("div",{className:"text-[8px] md:text-[9px] font-bold text-rose-500 uppercase tracking-wider",children:"Lost"}),T.jsx("div",{className:"font-black text-rose-600 dark:text-rose-400 text-xs md:text-lg",children:f.subTotal.lostKg.toFixed(1)})]}),T.jsxs("div",{className:"text-center md:text-left",children:[T.jsx("div",{className:"text-[8px] md:text-[9px] font-bold text-amber-500 uppercase tracking-wider",children:"Eff %"}),T.jsxs("div",{className:"font-black text-amber-600 dark:text-amber-400 text-xs md:text-lg",children:[d.toFixed(1),"%"]})]})]})}),T.jsx("div",{className:"hidden md:block",children:h?T.jsx(Ud,{className:"w-5 h-5 text-slate-400"}):T.jsx(qa,{className:"w-5 h-5 text-slate-400"})})]}),h&&T.jsxs("div",{className:"bg-slate-50/50 dark:bg-black/20 p-3 md:p-0",children:[T.jsx("div",{className:"hidden md:block overflow-x-auto custom-scrollbar",children:T.jsxs("table",{className:"w-full text-left text-[11px] min-w-[1500px] border-collapse",children:[T.jsx("thead",{className:"bg-slate-100 dark:bg-slate-900 text-slate-500 dark:text-slate-400 uppercase tracking-wider font-bold text-[10px] border-b border-slate-200 dark:border-slate-700",children:T.jsxs("tr",{children:[T.jsx("th",{className:"py-3 px-2 w-24 text-center",children:"Shift"}),T.jsx("th",{className:"py-3 px-2 w-20",children:"Machine"}),T.jsx("th",{className:"py-3 px-4 w-48",children:"Product"}),T.jsx("th",{className:"py-3 px-2 w-16 text-right",children:"Wt(g)"}),T.jsx("th",{className:"py-3 px-2 w-16 text-right",children:"Qty/Hr"}),T.jsx("th",{className:"py-3 px-2 w-12 text-center",children:"Cav"}),T.jsx("th",{className:"py-3 px-2 w-16 text-center text-indigo-500",children:"Time"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right bg-slate-200/50 dark:bg-slate-800/50",children:"Plan Qty"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right bg-slate-200/50 dark:bg-slate-800/50",children:"Gross"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right text-rose-500 bg-rose-50/50 dark:bg-rose-900/10",children:"Rejection"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right text-amber-500 bg-amber-50/50 dark:bg-amber-900/10",children:"Startup"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right text-emerald-600 bg-emerald-50/50 dark:bg-emerald-900/10",children:"Accepted"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right bg-slate-200/50 dark:bg-slate-800/50",children:"Plan Kg"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right bg-emerald-50 dark:bg-emerald-900/10 text-emerald-600 dark:text-emerald-400",children:"Achv Kg"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right text-rose-500 bg-rose-50/50 dark:bg-rose-900/10",children:"Lost Kg"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right text-amber-500",children:"BD Loss"}),T.jsx("th",{className:"py-3 px-2 w-20 text-right text-amber-500",children:"Eff Loss"}),T.jsx("th",{className:"py-3 px-2 w-12 text-center",children:"Eff %"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800/50",children:f.rows.map(g=>{const y=Wn(g),m=g.shift==="day"?f.supervisors.day:f.supervisors.night;return T.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors dark:text-slate-300",children:[T.jsx("td",{className:"py-2.5 px-2 text-center",children:T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-bold uppercase tracking-widest ${g.shift==="day"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700":"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700"}`,children:g.shift}),T.jsxs("span",{className:"text-[9px] font-black text-slate-400 mt-0.5",children:["(",m,")"]})]})}),T.jsx("td",{className:"py-2.5 px-2 font-black text-slate-700 dark:text-slate-200",children:g.machine}),T.jsx("td",{className:"py-2.5 px-4 font-medium text-slate-600 dark:text-slate-400",children:g.product}),T.jsx("td",{className:"py-2.5 px-2 text-right text-slate-500",children:g.unitWeight}),T.jsx("td",{className:"py-2.5 px-2 text-right text-slate-500",children:g.qtyPerHour}),T.jsx("td",{className:"py-2.5 px-2 text-center text-slate-500",children:g.cavities}),T.jsx("td",{className:"py-2.5 px-2 text-center font-mono text-indigo-500",children:y.timeHr}),T.jsx("td",{className:"py-2.5 px-2 text-right font-medium text-slate-500 bg-slate-50 dark:bg-slate-800/30",children:y.planQty}),T.jsx("td",{className:"py-2.5 px-2 text-right font-bold text-slate-700 dark:text-slate-300 bg-slate-50 dark:bg-slate-800/30",children:g.achievedQty}),T.jsx("td",{className:"py-2.5 px-2 text-right text-rose-500 bg-rose-50/10 dark:bg-rose-900/5 font-bold",children:g.rejectionQty||0}),T.jsx("td",{className:"py-2.5 px-2 text-right text-amber-500 bg-amber-50/10 dark:bg-amber-900/5 font-bold",children:g.startupQty||0}),T.jsx("td",{className:"py-2.5 px-2 text-right text-emerald-600 bg-emerald-50/10 dark:bg-emerald-900/5 font-black",children:y.acceptedQty}),T.jsx("td",{className:"py-2.5 px-2 text-right font-medium text-slate-500 bg-slate-50 dark:bg-slate-800/30",children:y.planKg}),T.jsx("td",{className:"py-2.5 px-2 text-right font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50/30 dark:bg-emerald-900/5",children:y.achievedKg}),T.jsx("td",{className:"py-2.5 px-2 text-right font-bold text-rose-500 bg-rose-50/10 dark:bg-rose-900/5",children:y.lostKg}),T.jsx("td",{className:"py-2.5 px-2 text-right text-amber-600 dark:text-amber-500",children:y.bdLostKg}),T.jsx("td",{className:"py-2.5 px-2 text-right text-amber-600 dark:text-amber-500",children:y.efficiencyLossKg}),T.jsxs("td",{className:"py-2.5 px-2 text-center text-[10px] font-bold bg-slate-50 dark:bg-slate-800/30",children:[y.efficiency.toFixed(0),"%"]})]},g.id)})}),T.jsx("tfoot",{className:"bg-slate-100 dark:bg-slate-900 border-t border-slate-300 dark:border-slate-600 font-bold text-slate-800 dark:text-white text-xs",children:T.jsxs("tr",{children:[T.jsxs("td",{colSpan:7,className:"py-3 px-4 text-right uppercase text-slate-500 tracking-widest text-[10px]",children:["Total (",f.date,")"]}),T.jsx("td",{className:"py-3 px-2 text-right",children:f.subTotal.planQty.toLocaleString()}),T.jsx("td",{className:"py-3 px-2 text-right",children:f.subTotal.achvQty.toLocaleString()}),T.jsx("td",{className:"py-3 px-2 text-right text-rose-600 dark:text-rose-400",children:f.subTotal.rejQty.toLocaleString()}),T.jsx("td",{className:"py-3 px-2 text-right text-amber-600 dark:text-amber-400",children:f.subTotal.startQty.toLocaleString()}),T.jsx("td",{className:"py-3 px-2 text-right text-emerald-600 dark:text-emerald-400",children:f.subTotal.accQty.toLocaleString()}),T.jsx("td",{className:"py-3 px-2 text-right",children:f.subTotal.planKg.toFixed(1)}),T.jsx("td",{className:"py-3 px-2 text-right text-emerald-600 dark:text-emerald-400",children:f.subTotal.achvKg.toFixed(1)}),T.jsx("td",{className:"py-3 px-2 text-right text-rose-600 dark:text-rose-400",children:f.subTotal.lostKg.toFixed(1)}),T.jsx("td",{className:"py-3 px-2 text-right text-amber-600 dark:text-amber-500",children:f.subTotal.bdLostKg.toFixed(1)}),T.jsx("td",{className:"py-3 px-2 text-right text-amber-600 dark:text-amber-500",children:f.subTotal.effLostKg.toFixed(1)}),T.jsx("td",{})]})})]})}),T.jsx("div",{className:"md:hidden space-y-3",children:f.rows.map(g=>{const y=Wn(g);return g.shift==="day"?f.supervisors.day:f.supervisors.night,T.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-3 border border-slate-200 dark:border-slate-800 shadow-sm flex flex-col gap-3",children:[T.jsx("div",{className:"flex justify-between items-start border-b border-slate-100 dark:border-slate-800 pb-2",children:T.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[T.jsxs("div",{className:"flex items-center justify-between w-full",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest ${g.shift==="day"?"bg-amber-100 text-amber-700":"bg-indigo-100 text-indigo-700"}`,children:g.shift}),T.jsx("span",{className:"text-xs font-black text-slate-800 dark:text-white",children:g.machine})]}),T.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-black text-slate-400 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:[T.jsx(Gp,{className:"w-3 h-3"}),y.timeHr," HR"]})]}),T.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600 dark:text-slate-300 mt-1",children:[T.jsx(L$,{className:"w-3.5 h-3.5 text-slate-400 shrink-0"}),T.jsx("span",{className:"text-sm font-bold truncate",children:g.product})]})]})}),T.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center bg-slate-50 dark:bg-slate-950/50 p-2 rounded-lg border border-slate-100 dark:border-slate-800",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Plan"}),T.jsx("div",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:y.planQty})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-emerald-500 uppercase",children:"Gross"}),T.jsx("div",{className:"text-xs font-black text-emerald-600 dark:text-emerald-400",children:g.achievedQty})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-rose-500 uppercase",children:"Rej"}),T.jsx("div",{className:"text-xs font-black text-rose-600 dark:text-rose-400",children:g.rejectionQty||0})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-amber-500 uppercase",children:"Start"}),T.jsx("div",{className:"text-xs font-black text-amber-600 dark:text-amber-400",children:g.startupQty||0})]})]}),T.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Weight"}),T.jsxs("div",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-400",children:[g.unitWeight,"g"]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Cycle"}),T.jsxs("div",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-400",children:[g.cycleTime,"s"]})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Cavity"}),T.jsx("div",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-400",children:g.cavities})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Eff"}),T.jsxs("div",{className:`text-[10px] font-black ${y.efficiency>=90?"text-emerald-500":"text-amber-500"}`,children:[y.efficiency.toFixed(0),"%"]})]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[T.jsxs("div",{className:"bg-rose-50 dark:bg-rose-900/10 p-2 rounded-lg border border-rose-100 dark:border-rose-900/20 text-center flex flex-col justify-center",children:[T.jsxs("div",{className:"flex items-center justify-center gap-1 text-[8px] font-black text-rose-500 uppercase",children:[T.jsx(Kd,{className:"w-3 h-3"})," Lost Kg"]}),T.jsx("div",{className:"text-xs font-black text-rose-700 dark:text-rose-400",children:y.lostKg})]}),T.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-2 rounded-lg border border-amber-100 dark:border-amber-900/20 text-center flex flex-col justify-center",children:[T.jsxs("div",{className:"flex items-center justify-center gap-1 text-[8px] font-black text-amber-500 uppercase",children:[T.jsx(yc,{className:"w-3 h-3"})," BD Loss"]}),T.jsx("div",{className:"text-xs font-black text-amber-700 dark:text-amber-400",children:y.bdLostKg})]}),T.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-lg border border-slate-200 dark:border-slate-700 text-center flex flex-col justify-center",children:[T.jsxs("div",{className:"flex items-center justify-center gap-1 text-[8px] font-black text-slate-500 uppercase",children:[T.jsx(Xp,{className:"w-3 h-3"})," Eff Loss"]}),T.jsx("div",{className:"text-xs font-black text-slate-700 dark:text-slate-300",children:y.efficiencyLossKg})]})]}),T.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-2 rounded-lg border border-emerald-100 dark:border-emerald-900/20 flex justify-between items-center px-3",children:[T.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400",children:[T.jsx(Ob,{className:"w-4 h-4"}),T.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:"ACHIEVED KG"})]}),T.jsxs("div",{className:"text-sm font-black text-emerald-700 dark:text-emerald-300",children:[y.achievedKg," kg"]})]})]},g.id)})})]})]},f.date)})})]})},mM=({label:r,options:e,selected:t,onChange:n,icon:i})=>{const[a,s]=ye.useState(!1),[c,l]=ye.useState(""),o=ye.useRef(null);ye.useEffect(()=>{const g=y=>{o.current&&!o.current.contains(y.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const u=ye.useMemo(()=>e.filter(g=>g.toLowerCase().includes(c.toLowerCase())),[e,c]),f=g=>{t.includes(g)?n(t.filter(y=>y!==g)):n([...t,g])},h=()=>{if(u.length===0)return;if(u.every(y=>t.includes(y)))n(t.filter(y=>!u.includes(y)));else{const y=[...t];u.forEach(m=>{y.includes(m)||y.push(m)}),n(y)}},d=g=>{g.stopPropagation(),n([])};return T.jsxs("div",{className:"relative",ref:o,children:[T.jsxs("button",{onClick:()=>s(!a),className:`h-11 px-4 rounded-xl flex items-center gap-3 border transition-all min-w-[200px] ${a?"bg-indigo-50 border-indigo-500 dark:bg-indigo-900/20 dark:border-indigo-500":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-700"}`,children:[i&&T.jsx("span",{className:"text-slate-400",children:i}),T.jsxs("div",{className:"text-left flex flex-col flex-1 mr-2",children:[T.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider",children:r}),T.jsx("span",{className:"text-xs font-black text-slate-700 dark:text-slate-200 truncate max-w-[140px]",children:t.length===0?`All ${r}s`:t.length===1?t[0]:`${t.length} Selected`})]}),t.length>0?T.jsx("div",{onClick:d,className:"p-0.5 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors mr-1",children:T.jsx(zf,{className:"w-3.5 h-3.5 text-slate-400"})}):T.jsx(qa,{className:`w-3.5 h-3.5 text-slate-400 transition-transform ${a?"rotate-180":""}`})]}),a&&T.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-xl shadow-slate-200/50 dark:shadow-black/50 border border-slate-100 dark:border-slate-700 overflow-hidden z-[60] animate-in fade-in zoom-in-95 duration-100 flex flex-col",children:[T.jsx("div",{className:"p-2 border-b border-slate-100 dark:border-slate-700/50 sticky top-0 bg-white dark:bg-slate-800 z-10",children:T.jsxs("div",{className:"relative",children:[T.jsx(sV,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),T.jsx("input",{type:"text",placeholder:`Search ${r}...`,value:c,onChange:g=>l(g.target.value),className:"w-full pl-8 pr-3 py-2 bg-slate-50 dark:bg-slate-900 rounded-lg text-xs font-bold text-slate-700 dark:text-slate-300 outline-none focus:ring-1 focus:ring-indigo-500/50 border border-transparent focus:border-indigo-500/30 transition-all placeholder:text-slate-400",autoFocus:!0})]})}),T.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar p-1.5 space-y-0.5",children:[u.length>0&&T.jsxs("div",{onClick:h,className:"px-3 py-2 rounded-lg cursor-pointer flex items-center gap-3 text-xs font-bold transition-colors text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20",children:[T.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-all ${u.every(g=>t.includes(g))?"bg-indigo-500 border-indigo-500":"border-indigo-300 dark:border-indigo-700 bg-white dark:bg-slate-900"}`,children:u.every(g=>t.includes(g))&&T.jsx(qd,{className:"w-3 h-3 text-white",strokeWidth:3})}),T.jsx("span",{children:"Select All"})]}),u.length===0?T.jsx("div",{className:"px-4 py-8 text-center",children:T.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"No results found"})}):u.map(g=>{const y=t.includes(g);return T.jsxs("div",{onClick:()=>f(g),className:`px-3 py-2 rounded-lg cursor-pointer flex items-center gap-3 text-xs font-medium transition-colors ${y?"bg-indigo-50 dark:bg-indigo-900/10 text-indigo-700 dark:text-indigo-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[T.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-all ${y?"bg-indigo-500 border-indigo-500 shadow-sm shadow-indigo-500/30":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900"}`,children:y&&T.jsx(qd,{className:"w-3 h-3 text-white",strokeWidth:3})}),T.jsx("span",{children:g})]},g)})]}),T.jsxs("div",{className:"px-3 py-2 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-slate-700 text-[10px] font-bold text-slate-400 flex justify-between items-center",children:[T.jsxs("span",{children:[t.length," selected"]}),t.length>0&&T.jsx("button",{onClick:()=>n([]),className:"text-rose-500 hover:text-rose-600 transition-colors uppercase tracking-wider",children:"Clear"})]})]})]})},gM=r=>r==="Shift-A"?"Shift-B":"Shift-A",ffe=r=>new Date(r).getDay()===2,hfe=(r,e)=>{const t=new Date(r);return t.setDate(t.getDate()-e),t.toISOString().split("T")[0]},FL=({date:r,allData:e,onUpdate:t,adminConfig:n})=>{const[i,a]=ye.useState("ENTRY"),[s,c]=ye.useState(()=>localStorage.getItem("fmj_entry_date")||r),[l,o]=ye.useState(()=>localStorage.getItem("fmj_active_shift")||"day"),[u,f]=ye.useState(()=>localStorage.getItem("fmj_rep_start")||r),[h,d]=ye.useState(()=>localStorage.getItem("fmj_rep_end")||r);ye.useEffect(()=>{localStorage.setItem("fmj_entry_date",s)},[s]),ye.useEffect(()=>{localStorage.setItem("fmj_active_shift",l)},[l]),ye.useEffect(()=>{localStorage.setItem("fmj_rep_start",u)},[u]),ye.useEffect(()=>{localStorage.setItem("fmj_rep_end",h)},[h]);const[g,y]=ye.useState([]),[m,x]=ye.useState([]),[v,_]=ye.useState(null),[k,N]=ye.useState(null),[P,D]=ye.useState(!1),I=`${s}_SUPERVISORS`,B=e[I]||{day:"Shift-A",night:"Shift-B"},L=B.day,z=B.night,$=l==="day"?L:z,O=(se,fe)=>{t(I,{id:I,date:s,day:se,night:fe})};ye.useEffect(()=>{const se=e[I];if(!se)return;const fe=se.day,he=se.night,ve=`${s}_IM`,xe=`${s}_BM`,_e=e[ve];_e&&(_e.daySupervisor!==fe||_e.nightSupervisor!==he)&&t(ve,{..._e,daySupervisor:fe,nightSupervisor:he});const Ne=e[xe];Ne&&(Ne.daySupervisor!==fe||Ne.nightSupervisor!==he)&&t(xe,{...Ne,daySupervisor:fe,nightSupervisor:he})},[e,s,I,t]),ye.useEffect(()=>{e[I]||O("Shift-A","Shift-B")},[s]),ye.useEffect(()=>{if(!ffe(s)){D(!1);return}const se=`${hfe(s,7)}_SUPERVISORS`,fe=e[se];if(!fe){D(!1);return}D(L===fe.day)},[s,e,L]);const F=se=>{if(se!=="Shift-A"&&se!=="Shift-B")return;const fe=se;l==="day"?O(fe,gM(fe)):O(gM(fe),fe)},C=()=>O(z,L),w=se=>`${s}_${se}`,E=se=>{const fe=w(se);return e[fe]||{id:fe,date:s,machineType:se,daySupervisor:L,nightSupervisor:z,rows:[]}},A=E("IM"),j=E("BM"),R=ye.useMemo(()=>({...n,productionItems:n.productionItems.filter(se=>se.type==="IM")}),[n]),q=ye.useMemo(()=>({...n,productionItems:n.productionItems.filter(se=>se.type==="BM")}),[n]),H=se=>{const fe=se==="IM"?A:j,he={id:`row_${Date.now()}_${Math.random().toString(36).slice(2,7)}`,shift:l,startTime:l==="day"?"08:00":"20:00",endTime:l==="day"?"20:00":"08:00",machine:"",product:"",unitWeight:0,qtyPerHour:0,cavities:1,cycleTime:0,achievedQty:0,rejectionQty:0,startupQty:0,acceptedQty:0,breakdowns:[]};t(w(se),{...fe,daySupervisor:L,nightSupervisor:z,rows:[he,...fe.rows||[]]})},Y=(se,fe,he)=>{const ve=se==="IM"?A:j,xe=(ve.rows||[]).map(_e=>_e.id===fe?{..._e,...he}:_e);t(w(se),{...ve,rows:xe})},Z=(se,fe)=>{if(!window.confirm("Delete row?"))return;const he=se==="IM"?A:j,ve=(he.rows||[]).filter(xe=>xe.id!==fe);t(w(se),{...he,rows:ve})},te=(A.rows||[]).filter(se=>se.shift===l),W=(j.rows||[]).filter(se=>se.shift===l),ee=k?(k==="IM"?A.rows:j.rows).find(se=>se.id===v):null,{availableMachines:K,availableProducts:V}=ye.useMemo(()=>{const se=new Set,fe=new Set;return Object.keys(e).forEach(he=>{var ve;he.includes(i==="IM_DB"?"_IM":"_BM")&&(((ve=e[he])==null?void 0:ve.rows)||[]).forEach(xe=>{se.add(xe.machine),fe.add(xe.product)})}),{availableMachines:Array.from(se).sort(),availableProducts:Array.from(fe).sort()}},[e,i]),Q=async se=>{const fe=Tc(u,h),he=[];if(fe.forEach(ve=>{const xe=e[`${ve}_${se}`];xe!=null&&xe.rows&&xe.rows.forEach(_e=>{(!g.length||g.includes(_e.machine))&&(!m.length||m.includes(_e.product))&&he.push({..._e,date:ve})})}),!he.length){alert("No data");return}await zK(he,{type:se})},re=()=>{y([]),x([])},oe=se=>se.reduce((fe,he)=>{const ve=Wn(he);return{plan:fe.plan+ve.planKg,achv:fe.achv+ve.achievedKg,lost:fe.lost+ve.lostKg}},{plan:0,achv:0,lost:0}),ne=oe(te),le=oe(W),me={plan:ne.plan+le.plan,achv:ne.achv+le.achv,lost:ne.lost+le.lost};return T.jsxs("div",{className:"flex flex-col h-full bg-[#F8FAFC] dark:bg-[#020617] transition-colors duration-300 relative w-full",children:[T.jsx("style",{children:`
    @keyframes spin-border { 0% { --rotate: 0deg; } 100% { --rotate: 360deg; } }
    @property --rotate { syntax: "<angle>"; initial-value: 0deg; inherits: false; }
    .animated-tab-active { position: relative; z-index: 0; overflow: hidden; border: none !important; }
    .animated-tab-active::before { content: ""; position: absolute; z-index: -1; width: 150%; height: 150%; left: -25%; top: -25%; background-image: conic-gradient(from var(--rotate), transparent 0%, var(--tab-color) 40%, var(--tab-color) 50%, transparent 100%); animation: spin-border 3s linear infinite; }
    .animated-tab-active::after { content: ""; position: absolute; z-index: -1; inset: 2px; background: var(--bg-color); border-radius: 0.4rem; }
  `}),T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] border-b border-slate-200 dark:border-slate-800 sticky top-0 z-40 shadow-sm shrink-0 w-full flex flex-col",children:[T.jsx("div",{className:"flex items-center justify-center py-2 px-4 overflow-x-auto w-full border-b border-slate-100 dark:border-slate-800/50",children:T.jsxs("div",{className:"flex items-center gap-1.5 min-w-max",children:[T.jsx(dd,{active:i==="ENTRY",icon:Wp,label:"Production Entry",onClick:()=>a("ENTRY"),color:"indigo"}),T.jsx("div",{className:"w-px h-5 bg-slate-300 dark:bg-slate-600 mx-1 min-w-[1px]"}),T.jsx(dd,{active:i==="IM_DB",icon:Hd,label:"IM Report",onClick:()=>a("IM_DB"),color:"emerald"}),T.jsx(dd,{active:i==="BM_DB",icon:Hd,label:"BM Report",onClick:()=>a("BM_DB"),color:"emerald"}),T.jsx("div",{className:"w-px h-5 bg-slate-300 dark:bg-slate-600 mx-1 min-w-[1px]"}),T.jsx(dd,{active:i==="BREAKDOWNS",icon:Ua,label:"Breakdowns",onClick:()=>a("BREAKDOWNS"),color:"rose"}),T.jsx(dd,{active:i==="SUMMARY",icon:F$,label:"Summary",onClick:()=>a("SUMMARY"),color:"amber"})]})}),i==="ENTRY"&&T.jsx(DK,{entryDate:s,setEntryDate:c,activeShift:l,setActiveShift:o,displaySup:$,handleSupervisorChange:F,showSwapNotice:P,handleSwapNow:C})]}),T.jsxs("div",{className:"flex-1 overflow-auto p-2 md:p-4 custom-scrollbar bg-[#F8FAFC] dark:bg-[#020617] transition-colors duration-300 pb-24 w-full",children:[i==="ENTRY"&&T.jsxs("div",{className:"animate-fade-in space-y-4 md:space-y-6 w-full",children:[T.jsxs("div",{className:"space-y-4 w-full",children:[T.jsxs("div",{className:"flex items-center justify-between px-2",children:[T.jsxs("h3",{className:"text-sm md:text-lg font-black text-slate-700 dark:text-slate-200 uppercase flex items-center gap-2",children:[T.jsx(a3,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-500"})," Injection Molding (IM)"]}),T.jsxs("button",{onClick:()=>H("IM"),className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-[10px] font-black uppercase flex items-center gap-2 shadow-md transition-all active:scale-95",children:[T.jsx(zu,{className:"w-3.5 h-3.5"})," Add Row"]})]}),T.jsx(hk,{rows:te,onUpdateRow:(se,fe)=>Y("IM",se,fe),onDeleteRow:se=>Z("IM",se),onOpenBreakdowns:se=>{_(se),N("IM")},adminConfig:R,isFormMode:!0})]}),T.jsx("div",{className:"w-full h-px bg-slate-300 dark:bg-slate-700 my-4"}),T.jsxs("div",{className:"space-y-4 w-full",children:[T.jsxs("div",{className:"flex items-center justify-between px-2",children:[T.jsxs("h3",{className:"text-sm md:text-lg font-black text-slate-700 dark:text-slate-200 uppercase flex items-center gap-2",children:[T.jsx(a3,{className:"w-4 h-4 md:w-5 md:h-5 text-emerald-500"})," Blow Molding (BM)"]}),T.jsxs("button",{onClick:()=>H("BM"),className:"px-3 py-1.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-[10px] font-black uppercase flex items-center gap-2 shadow-md transition-all active:scale-95",children:[T.jsx(zu,{className:"w-3.5 h-3.5"})," Add Row"]})]}),T.jsx(hk,{rows:W,onUpdateRow:(se,fe)=>Y("BM",se,fe),onDeleteRow:se=>Z("BM",se),onOpenBreakdowns:se=>{_(se),N("BM")},adminConfig:q,isFormMode:!0})]})]}),(i==="IM_DB"||i==="BM_DB")&&T.jsxs("div",{className:"animate-fade-in space-y-6 w-full px-2",children:[T.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 bg-white dark:bg-slate-800 p-4 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-sm w-full",children:[T.jsxs("h2",{className:"text-xl font-black text-slate-800 dark:text-white uppercase flex items-center gap-3",children:[T.jsx(Y$,{className:"text-indigo-500"})," ",i==="IM_DB"?"IM":"BM"," Database"]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[T.jsx(mM,{label:"Machine",selected:g,onChange:y,options:K,icon:T.jsx(d5,{className:"w-3.5 h-3.5"})}),T.jsx(mM,{label:"Product",selected:m,onChange:x,options:V,icon:T.jsx(ng,{className:"w-3.5 h-3.5"})}),T.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-900 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700",children:[T.jsx("input",{type:"date",value:u,onChange:se=>f(se.target.value),className:"bg-transparent text-[10px] font-bold text-slate-700 dark:text-white outline-none w-20 dark:[color-scheme:dark]"}),T.jsx("span",{className:"text-slate-400",children:"-"}),T.jsx("input",{type:"date",value:h,onChange:se=>d(se.target.value),className:"bg-transparent text-[10px] font-bold text-slate-700 dark:text-white outline-none w-20 dark:[color-scheme:dark]"})]}),T.jsxs("button",{onClick:()=>Q(i==="IM_DB"?"IM":"BM"),className:"h-10 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg flex items-center gap-2",children:[T.jsx(Cb,{className:"w-3.5 h-3.5"})," Export"]}),(g.length>0||m.length>0)&&T.jsx("button",{onClick:re,className:"h-10 w-10 flex items-center justify-center bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-xl hover:bg-rose-100 transition-all",children:T.jsx(zf,{className:"w-4 h-4"})})]})]}),T.jsx(ufe,{startDate:u,endDate:h,machineType:i==="IM_DB"?"IM":"BM",allData:e,machineFilter:g,productFilter:m})]}),i==="BREAKDOWNS"&&T.jsx("div",{className:"w-full px-2",children:T.jsx(tfe,{allData:e,date:s})}),i==="SUMMARY"&&T.jsx("div",{className:"w-full",children:T.jsx(cfe,{allData:e,date:s,breakdownCategories:n.breakdownCategories,onUpdate:t})}),ee&&T.jsx(UK,{row:ee,onClose:()=>{_(null),N(null)},onSave:se=>{k&&v&&(Y(k,v,{breakdowns:se}),_(null),N(null))},categories:n.breakdownCategories})]}),i==="ENTRY"&&T.jsx("div",{className:"fixed bottom-0 w-full bg-slate-900/90 dark:bg-slate-950/90 backdrop-blur-md border-t border-slate-700 h-12 z-50 flex items-center justify-center shadow-2xl",children:T.jsxs("div",{className:"flex gap-8 text-xs",children:[T.jsxs("div",{className:"flex items-center gap-2 text-slate-400 font-bold",children:[T.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:"Plan"}),T.jsx("span",{className:"text-white text-sm font-black",children:me.plan.toFixed(0)})]}),T.jsx("div",{className:"w-px h-4 bg-slate-700"}),T.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 font-bold",children:[T.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:"Achieved"}),T.jsx("span",{className:"text-white text-sm font-black",children:me.achv.toFixed(0)})]}),T.jsx("div",{className:"w-px h-4 bg-slate-700"}),T.jsxs("div",{className:"flex items-center gap-2 text-rose-400 font-bold",children:[T.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:"Lost"}),T.jsx("span",{className:"text-white text-sm font-black",children:me.lost.toFixed(0)})]})]})})]})},dd=({active:r,icon:e,label:t,onClick:n,color:i})=>{const s={"--tab-color":{indigo:"#6366f1",emerald:"#10b981",rose:"#f43f5e",amber:"#f59e0b"}[i],"--bg-color":"var(--tab-bg-color, #1e293b)"};return T.jsxs("button",{onClick:n,style:s,className:`relative px-4 py-2 rounded-lg flex items-center gap-2 text-[10px] font-black uppercase tracking-tight transition-all whitespace-nowrap overflow-hidden group ${r?"animated-tab-active text-white bg-transparent":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 hover:bg-white dark:hover:bg-slate-800 border border-transparent"}`,children:[T.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[T.jsx(e,{className:`w-3.5 h-3.5 ${r?"text-white":""}`}),T.jsx("span",{children:t})]}),T.jsx("style",{children:".animated-tab-active { --tab-bg-color: #0f172a; } :root:not(.dark) .animated-tab-active { --tab-bg-color: #ffffff; } :root:not(.dark) .animated-tab-active span { color: var(--tab-color); }"})]})},Ro={primary:"#6366f1",success:"#10b981",warning:"#f59e0b",grid:"rgba(148, 163, 184, 0.1)"},dfe=({data:r})=>{const{chartData:e,totals:t,trend:n}=ye.useMemo(()=>{const s={};Object.keys(r).forEach(h=>{if(!h.endsWith("_IM")&&!h.endsWith("_BM"))return;const d=r[h];if(!(d!=null&&d.rows))return;const g=d.date;s[g]||(s[g]={date:g,achieved:0,plan:0,downtime:0,rejection:0}),d.rows.forEach(y=>{const m=Wn(y);s[g].achieved+=m.achievedKg||0,s[g].plan+=m.planKg||0,s[g].downtime+=m.bdMins||0;const x=(y.rejectionQty||0)*(y.unitWeight||0)/1e3;s[g].rejection+=x})});const l=Object.values(s).sort((h,d)=>h.date.localeCompare(d.date)).slice(-14).map(h=>({...h,efficiency:h.plan>0?parseFloat((h.achieved/h.plan*100).toFixed(1)):0,formattedDate:new Date(h.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})})),o=l.reduce((h,d)=>({achieved:h.achieved+d.achieved,plan:h.plan+d.plan,downtime:h.downtime+d.downtime,rejection:h.rejection+d.rejection}),{achieved:0,plan:0,downtime:0,rejection:0}),u=l.length;let f=0;if(u>=6){const h=l.slice(-3).reduce((g,y)=>g+y.achieved,0),d=l.slice(-6,-3).reduce((g,y)=>g+y.achieved,0);f=d>0?(h-d)/d*100:0}return{chartData:l,totals:o,trend:f}},[r]),i=t.plan>0?t.achieved/t.plan*100:0,a=t.achieved>0?t.rejection/t.achieved*100:0;return e.length===0?T.jsx("div",{className:"p-10 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-2xl",children:"No Data Available"}):T.jsxs("div",{className:"space-y-6 pb-12 animate-fade-in",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[T.jsx(F0,{title:"Total Output",value:`${t.achieved.toFixed(0)} kg`,icon:g5,trend:n,color:"indigo"}),T.jsx(F0,{title:"Avg Efficiency",value:`${i.toFixed(1)}%`,icon:Ob,subValue:`Plan: ${t.plan.toFixed(0)} kg`,color:"emerald"}),T.jsx(F0,{title:"Total Downtime",value:`${t.downtime} min`,icon:yc,isInverse:!0,color:"amber"}),T.jsx(F0,{title:"Rejection Rate",value:`${a.toFixed(2)}%`,icon:Rc,isInverse:!0,color:"rose"})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-[#1e293b] p-6 rounded-[1.5rem] border border-slate-200 dark:border-slate-800 shadow-sm",children:[T.jsx("div",{className:"flex items-center justify-between mb-6",children:T.jsxs("div",{children:[T.jsxs("h3",{className:"text-sm font-black text-slate-800 dark:text-slate-100 uppercase tracking-tight flex items-center gap-2",children:[T.jsx(Ua,{className:"w-4 h-4 text-indigo-500"})," Production Performance"]}),T.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mt-1",children:"Achieved vs Planned (Last 14 Days)"})]})}),T.jsx("div",{className:"h-[300px] w-full",children:T.jsx(nl,{width:"100%",height:"100%",children:T.jsxs(Kp,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[T.jsx("defs",{children:T.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:Ro.primary,stopOpacity:.8}),T.jsx("stop",{offset:"95%",stopColor:Ro.primary,stopOpacity:.3})]})}),T.jsx(Zs,{strokeDasharray:"3 3",vertical:!1,stroke:Ro.grid}),T.jsx(Ji,{dataKey:"formattedDate",tick:{fontSize:10,fontWeight:700,fill:"#94a3b8"},axisLine:!1,tickLine:!1,dy:10}),T.jsx(di,{tick:{fontSize:10,fontWeight:700,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),T.jsx(Kn,{contentStyle:{backgroundColor:"#0F172A",border:"none",borderRadius:"10px",color:"#fff"},wrapperStyle:{outline:"none"}}),T.jsx(us,{iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"11px",fontWeight:"bold"}}),T.jsx(Zi,{dataKey:"achieved",name:"Achieved Kg",fill:"url(#barGradient)",radius:[4,4,0,0],barSize:20}),T.jsx(al,{type:"monotone",dataKey:"plan",name:"Target Plan",stroke:Ro.warning,strokeWidth:3,dot:!1,strokeDasharray:"5 5"})]})})})]}),T.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-[1.5rem] border border-slate-200 dark:border-slate-800 shadow-sm",children:[T.jsx("h3",{className:"text-sm font-black text-slate-800 dark:text-slate-100 uppercase tracking-tight mb-2",children:"Efficiency Trend"}),T.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase mb-6",children:"Daily Efficiency %"}),T.jsx("div",{className:"h-[300px] w-full",children:T.jsx(nl,{width:"100%",height:"100%",children:T.jsxs(efe,{data:e,children:[T.jsx("defs",{children:T.jsxs("linearGradient",{id:"effGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:Ro.success,stopOpacity:.3}),T.jsx("stop",{offset:"95%",stopColor:Ro.success,stopOpacity:0})]})}),T.jsx(Zs,{strokeDasharray:"3 3",vertical:!1,stroke:Ro.grid}),T.jsx(Ji,{dataKey:"formattedDate",hide:!0}),T.jsx(di,{domain:[0,120],tick:{fontSize:10,fontWeight:700,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),T.jsx(Kn,{contentStyle:{backgroundColor:"#0F172A",border:"none",borderRadius:"10px",color:"#fff"}}),T.jsx(bs,{type:"monotone",dataKey:"efficiency",stroke:Ro.success,strokeWidth:3,fill:"url(#effGradient)"})]})})})]})]})]})},F0=({title:r,value:e,icon:t,subValue:n,trend:i,isInverse:a,color:s})=>{const c={indigo:"from-indigo-500 to-blue-500 shadow-indigo-500/20 text-indigo-500",emerald:"from-emerald-500 to-teal-500 shadow-emerald-500/20 text-emerald-500",amber:"from-amber-500 to-orange-500 shadow-amber-500/20 text-amber-500",rose:"from-rose-500 to-pink-500 shadow-rose-500/20 text-rose-500"};return T.jsx("div",{className:"relative overflow-hidden bg-white dark:bg-[#1e293b] p-5 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm hover:shadow-md transition-all duration-300",children:T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-[10px] font-black uppercase tracking-wider text-slate-400 mb-1",children:r}),T.jsx("div",{className:"text-xl font-black text-slate-800 dark:text-white mt-1",children:e}),n&&T.jsx("div",{className:"text-[9px] font-bold text-slate-400 mt-1",children:n}),i!==void 0&&T.jsxs("div",{className:`flex items-center gap-1 mt-2 text-[10px] font-black uppercase ${i>=0&&!a||i<0&&a?"text-emerald-500":"text-rose-500"}`,children:[i>=0?T.jsx(D$,{className:"w-3 h-3"}):T.jsx(P$,{className:"w-3 h-3"}),T.jsxs("span",{children:[Math.abs(i).toFixed(1),"% vs prev"]})]})]}),T.jsx("div",{className:`p-3 rounded-2xl bg-gradient-to-br ${c[s]} text-white shadow-lg`,children:T.jsx(t,{className:"w-5 h-5"})})]})})},pfe=({data:r})=>T.jsx("div",{className:"p-20 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Plan vs Achievement Module"}),mfe=({data:r})=>T.jsx("div",{className:"p-20 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Productivity Module"}),gfe=({data:r})=>T.jsx("div",{className:"p-20 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Electricity Usage Module"}),bfe=({data:r})=>T.jsx("div",{className:"p-20 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Water Usage Module"}),yfe=({data:r})=>T.jsx("div",{className:"p-20 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Rejections Module"}),vfe=({data:r})=>T.jsx("div",{className:"p-20 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Absenteeism Module"}),xfe=({data:r})=>T.jsx("div",{className:"p-20 text-center text-slate-400 text-xs font-bold uppercase border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Summary Module"}),wfe=[{id:"DASHBOARD",label:"Dashboard",icon:Wp,color:"text-indigo-500",glow:"shadow-indigo-500/50",border:"from-indigo-600 via-purple-500 to-indigo-600"},{id:"PLAN_VS_ACH",label:"Plan vs Ach",icon:Ob,color:"text-emerald-500",glow:"shadow-emerald-500/50",border:"from-emerald-600 via-teal-500 to-emerald-600"},{id:"PRODUCTIVITY",label:"Productivity",icon:Rc,color:"text-cyan-500",glow:"shadow-cyan-500/50",border:"from-cyan-600 via-sky-500 to-cyan-600"},{id:"ELECTRICITY",label:"Electricity",icon:yc,color:"text-amber-500",glow:"shadow-amber-500/50",border:"from-amber-600 via-yellow-500 to-amber-600"},{id:"WATER",label:"Water",icon:H$,color:"text-blue-500",glow:"shadow-blue-500/50",border:"from-blue-600 via-indigo-500 to-blue-600"},{id:"REJECTIONS",label:"Rejections",icon:vM,color:"text-rose-500",glow:"shadow-rose-500/50",border:"from-rose-600 via-pink-500 to-rose-600"},{id:"ABSENTEEISM",label:"Absenteeism",icon:mV,color:"text-orange-500",glow:"shadow-orange-500/50",border:"from-orange-600 via-amber-500 to-orange-600"},{id:"SUMMARY",label:"Summary",icon:W$,color:"text-violet-500",glow:"shadow-violet-500/50",border:"from-violet-600 via-fuchsia-500 to-violet-600"}],$L=({data:r})=>{const[e,t]=ye.useState("DASHBOARD");return T.jsxs("div",{className:"flex flex-col h-full gap-5",children:[T.jsx("div",{className:"bg-white dark:bg-[#0B1121] p-2.5 rounded-[1.5rem] shadow-sm border border-slate-200 dark:border-slate-800 flex overflow-x-auto custom-scrollbar shrink-0 pb-3",children:T.jsx("div",{className:"flex gap-3 px-1",children:wfe.map(n=>{const i=n.icon,a=e===n.id;return T.jsxs("button",{onClick:()=>t(n.id),className:`relative group px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all duration-300 flex items-center gap-2 overflow-hidden
                  ${a?"text-white shadow-lg "+n.glow:"text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-900 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[a&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${n.border} opacity-90`}),T.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/50 to-transparent -skew-x-12 translate-x-[-200%] animate-shine opacity-30"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-[2px] bg-gradient-to-r from-transparent via-white to-transparent animate-slide-right opacity-50"}),T.jsx("div",{className:"absolute bottom-0 right-0 w-full h-[2px] bg-gradient-to-r from-transparent via-white to-transparent animate-slide-left opacity-50"})]}),T.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[T.jsx(i,{size:14,className:a?"text-white":n.color}),T.jsx("span",{children:n.label})]})]},n.id)})})}),T.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-1",children:[e==="DASHBOARD"&&T.jsx(dfe,{data:r}),e==="PLAN_VS_ACH"&&T.jsx(pfe,{data:r}),e==="PRODUCTIVITY"&&T.jsx(mfe,{data:r}),e==="ELECTRICITY"&&T.jsx(gfe,{data:r}),e==="WATER"&&T.jsx(bfe,{data:r}),e==="REJECTIONS"&&T.jsx(yfe,{data:r}),e==="ABSENTEEISM"&&T.jsx(vfe,{data:r}),e==="SUMMARY"&&T.jsx(xfe,{data:r})]}),T.jsx("style",{children:`
        @keyframes shine {
          0% { transform: translateX(-200%) skewX(-12deg); }
          100% { transform: translateX(200%) skewX(-12deg); }
        }
        .animate-shine {
          animation: shine 3s infinite linear;
        }
        @keyframes slide-right {
           0% { transform: translateX(-100%); } 100% { transform: translateX(100%); }
        }
        @keyframes slide-left {
           0% { transform: translateX(100%); } 100% { transform: translateX(-100%); }
        }
      `})]})},VL=({data:r})=>{const[e,t]=ye.useState(new Date().toISOString().split("T")[0]),[n,i]=ye.useState(new Date().toISOString().split("T")[0]),[a,s]=ye.useState("ALL"),c=ye.useMemo(()=>{const o=Tc(e,n);let u=0,f=0,h=0,d=0,g=0,y=0,m=0,x=0;o.forEach(I=>{(a==="ALL"?["IM","BM"]:[a]).forEach(L=>{const z=r[`${I}_${L}`];z&&z.rows&&z.rows.forEach($=>{const O=Wn($),F=up($.startTime,$.endTime);u+=F,f+=O.bdMins,h+=O.planQty,d+=$.achievedQty||0,g+=O.acceptedQty,y+=O.bdLostQty,m+=O.efficiencyLossQty,x+=($.rejectionQty||0)+($.startupQty||0)})})});const v=Math.max(0,u-f),_=u>0?v/u*100:0,k=Math.max(0,h-y),N=k>0?d/k*100:0,P=d>0?g/d*100:0,D=_*N*P/1e4;return{availability:_,performance:N,quality:P,oee:D*100,lossData:[{name:"Potential",value:h,fill:"#cbd5e1"},{name:"BD Loss",value:-y,fill:"#ef4444"},{name:"Speed Loss",value:-m,fill:"#f59e0b"},{name:"Quality Loss",value:-x,fill:"#ec4899"},{name:"Good Units",value:g,fill:"#10b981"}],stats:{totalPlanQty:h,lossBreakdown:y,lossSpeed:m,lossQuality:x,totalGoodQty:g}}},[r,e,n,a]),l=ye.useMemo(()=>{const o=u=>{let f=0,h=0;return Tc(e,n).forEach(d=>{var y;(((y=r[`${d}_${u}`])==null?void 0:y.rows)||[]).forEach(m=>{const x=Wn(m);f+=x.planQty,h+=x.achievedQty})}),f>0?h/f*100:0};return[{name:"IM Eff",value:o("IM"),fill:"#6366f1"},{name:"BM Eff",value:o("BM"),fill:"#8b5cf6"}]},[r,e,n]);return T.jsxs("div",{className:"space-y-6 pb-12 animate-fade-in",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col md:flex-row justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"bg-indigo-600 p-2.5 rounded-xl text-white shadow-lg shadow-indigo-500/30",children:T.jsx(Ua,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"OEE Dashboard"}),T.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Efficiency Analysis"})]})]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[T.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-900 p-1 rounded-xl border border-slate-200 dark:border-slate-700",children:["ALL","IM","BM"].map(o=>T.jsx("button",{onClick:()=>s(o),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${a===o?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:o},o))}),T.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-3 py-1.5",children:[T.jsx(Mc,{className:"w-4 h-4 text-slate-400"}),T.jsx("input",{type:"date",value:e,onChange:o=>t(o.target.value),className:"bg-transparent text-xs font-bold text-slate-700 dark:text-slate-200 outline-none w-24 dark:[color-scheme:dark]"}),T.jsx("span",{className:"text-slate-300",children:"-"}),T.jsx("input",{type:"date",value:n,onChange:o=>i(o.target.value),className:"bg-transparent text-xs font-bold text-slate-700 dark:text-slate-200 outline-none w-24 dark:[color-scheme:dark]"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[T.jsxs("div",{className:"lg:col-span-1 bg-gradient-to-br from-indigo-900 to-slate-900 rounded-[2rem] p-6 text-white shadow-2xl relative overflow-hidden flex flex-col items-center justify-center min-h-[300px]",children:[T.jsx("div",{className:"absolute top-0 right-0 p-32 bg-indigo-500 rounded-full blur-[80px] opacity-20"}),T.jsxs("div",{className:"relative z-10 text-center",children:[T.jsx("h3",{className:"text-sm font-bold text-indigo-200 uppercase tracking-widest mb-6",children:"Overall Equipment Effectiveness"}),T.jsxs("div",{className:"relative w-48 h-48 mx-auto flex items-center justify-center",children:[T.jsx(_fe,{value:c.oee,color:"#818cf8",size:180,strokeWidth:15}),T.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[T.jsxs("span",{className:"text-4xl font-black text-white",children:[c.oee.toFixed(1),"%"]}),T.jsx("span",{className:"text-[10px] font-bold text-indigo-300 uppercase mt-1",children:"OEE Score"})]})]}),T.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4 text-center",children:[T.jsxs("div",{className:"bg-white/10 rounded-xl p-2",children:[T.jsx("p",{className:"text-[10px] text-indigo-200 uppercase",children:"Target"}),T.jsx("p",{className:"font-bold",children:"85%"})]}),T.jsxs("div",{className:"bg-white/10 rounded-xl p-2",children:[T.jsx("p",{className:"text-[10px] text-indigo-200 uppercase",children:"Grade"}),T.jsx("p",{className:"font-bold text-emerald-400",children:c.oee>=85?"A":c.oee>=70?"B":"C"})]})]})]})]}),T.jsxs("div",{className:"lg:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsx(t3,{title:"Availability",value:c.availability,icon:T.jsx(yc,{className:"w-5 h-5 text-white"}),color:"bg-amber-500",details:[{label:"Planned Time",val:`${(c.stats.totalPlanQty*0+100).toFixed(0)}%`},{label:"Downtime Loss",val:`${c.stats.lossBreakdown.toFixed(0)} units`}]}),T.jsx(t3,{title:"Performance",value:c.performance,icon:T.jsx(Rc,{className:"w-5 h-5 text-white"}),color:"bg-indigo-500",details:[{label:"Speed Loss",val:`${c.stats.lossSpeed.toFixed(0)} units`},{label:"Net Run Rate",val:"92%"}]}),T.jsx(t3,{title:"Quality",value:c.quality,icon:T.jsx(wM,{className:"w-5 h-5 text-white"}),color:"bg-rose-500",details:[{label:"Good Units",val:c.stats.totalGoodQty.toLocaleString()},{label:"Rejects + Start",val:c.stats.lossQuality.toLocaleString()}]}),T.jsxs("div",{className:"md:col-span-2 bg-white dark:bg-slate-800 rounded-[2rem] p-6 border border-slate-200 dark:border-slate-700 shadow-sm min-h-[300px]",children:[T.jsx("h4",{className:"font-black text-slate-700 dark:text-white uppercase text-sm tracking-wide mb-6",children:"Production Loss Waterfall (Units)"}),T.jsx(nl,{width:"100%",height:250,children:T.jsxs(BL,{data:c.lossData,children:[T.jsx(Zs,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),T.jsx(Ji,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#94a3b8",fontWeight:"bold"},interval:0}),T.jsx(di,{hide:!0}),T.jsx(Kn,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),T.jsx(Zi,{dataKey:"value",radius:[4,4,4,4],children:c.lossData.map((o,u)=>T.jsx(kc,{fill:o.fill},`cell-${u}`))})]})})]}),T.jsxs("div",{className:"md:col-span-1 bg-white dark:bg-slate-800 rounded-[2rem] p-6 border border-slate-200 dark:border-slate-700 shadow-sm min-h-[300px] flex flex-col items-center justify-center",children:[T.jsx("h4",{className:"font-black text-slate-700 dark:text-white uppercase text-sm tracking-wide mb-2 w-full text-left",children:"Machine Eff. Comparison"}),T.jsx(nl,{width:"100%",height:200,children:T.jsxs(Jue,{children:[T.jsx(ao,{data:l,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:l.map((o,u)=>T.jsx(kc,{fill:o.fill},`cell-${u}`))}),T.jsx(Kn,{}),T.jsx(us,{verticalAlign:"bottom",height:36,iconType:"circle"})]})}),T.jsx("div",{className:"text-center mt-2",children:T.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"IM vs BM Overall Efficiency"})})]})]})]})]})},_fe=({value:r,size:e,strokeWidth:t,color:n})=>{const i=(e-t)/2,a=i*2*Math.PI,s=a-r/100*a;return T.jsxs("svg",{width:e,height:e,className:"transform -rotate-90",children:[T.jsx("circle",{cx:e/2,cy:e/2,r:i,stroke:"currentColor",strokeWidth:t,fill:"transparent",className:"text-indigo-900/30"}),T.jsx("circle",{cx:e/2,cy:e/2,r:i,stroke:n,strokeWidth:t,fill:"transparent",strokeDasharray:a,strokeDashoffset:s,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]})},t3=({title:r,value:e,icon:t,color:n,details:i})=>T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[2rem] border border-slate-200 dark:border-slate-700 shadow-sm flex flex-col justify-between",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:r}),T.jsxs("h3",{className:"text-3xl font-black text-slate-800 dark:text-white mt-1",children:[e.toFixed(1),"%"]})]}),T.jsx("div",{className:`p-3 rounded-xl shadow-lg ${n} shadow-current opacity-90`,children:t})]}),T.jsx("div",{className:"mt-6 space-y-2",children:i.map((a,s)=>T.jsxs("div",{className:"flex justify-between items-center text-xs",children:[T.jsx("span",{className:"text-slate-400 font-bold",children:a.label}),T.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-black",children:a.val})]},s))}),T.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 rounded-full h-1.5 overflow-hidden",children:T.jsx("div",{className:`h-full ${n}`,style:{width:`${Math.min(100,e)}%`}})})]}),Rt={DATE_MC_BG:"FFFFE699",AUDIT_BG:"FF92D050",ITEM_BG:"FFFFE699",PROD_WITH_BG:"FFA9D08E",REJ_BG:"FF00B0F0",START_BG:"FFF4B084",SCRAP_BG:"FFF4B084",DEFECT_HEADER:"FF4472C4",COL_Q_DYN:"FF5B9BD5",ROW_Q_DYN:"FFCCCCFF",ROW_YELLOW:"FFFFC000",ROW_GREEN:"FFE2EFDA",ROW_CYAN:"FFDAF2FF",ROW_ORANGE:"FFFCE4D6",BLACK_ROW:"FF000000",DAILY_TOTAL_BG:"FFFFFF00",REJ_HEADER_GREY:"FFD9D9D9",REJ_ORANGE_TOT:"FFF4B084",REJ_BLUE_TOT:"FF9BC2E6",REJ_PEACH:"FDFce4d6",REJ_GREEN:"FFE2EFDA",REJ_LAVENDER:"FFDCD7ED",REJ_LIGHT_BLUE:"FFDDEBF7",DASH_GREEN:"FF00FF00",DASH_PURPLE:"FFCC99FF",DASH_BLUE_HEADER:"FF002060",DASH_SUB_BG:"FFFFCC99",DASH_DATE_BG:"FFFF69B4",DASH_A_BG:"FF9BC2E6",DASH_B_BG:"FFFFFF00",WHITE:"FFFFFFFF",SLATE_DARK:"FF1E293B",LIGHT_GREY:"FFF1F5F9",DARK_GREY:"FFE2E8F0"},Dn={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},Sfe=[{name:"BM SHIFT -A",type:"BM",shift:"day",title:"SHIFT A"},{name:"BM SHIFT -B",type:"BM",shift:"night",title:"SHIFT B"},{name:"IM SHIFT -A",type:"IM",shift:"day",title:"SHIFT A"},{name:"IM SHIFT -B",type:"IM",shift:"night",title:"SHIFT B"}],Ad=r=>{let e,t="";for(;r>0;)e=(r-1)%26,t=String.fromCharCode(e+65)+t,r=(r-e-1)/26;return t},Afe=async(r,e,t,n=[])=>{const i=new Pc.Workbook,a=new Set;["LOW THIKNESS","FORMING ISSUE","P/F MARK","WHITE CONER","DEFORMATION","BLACK DOT","BURN MARK","OTHER"].forEach(f=>a.add(f)),n.forEach(f=>a.add(f)),r.forEach(f=>{f.defects&&f.defects.forEach(h=>a.add(h.defectName))});const c=Array.from(a).sort(),l=i.addWorksheet("A Vs B",{views:[{showGridLines:!1}]});jfe(l,r,e,t);for(const f of Sfe){const h=i.addWorksheet(f.name,{views:[{showGridLines:!1}]}),d=r.filter(g=>g.type===f.type&&g.shift===f.shift);Tfe(h,f.title,d,c)}const o=i.addWorksheet("Rejection Analysis",{views:[{showGridLines:!1}]});kfe(o,r,e,t);const u=await i.xlsx.writeBuffer();Dc.saveAs(new Blob([u]),`Production_Report_${e}_to_${t}.xlsx`)},Efe=async(r,e,t,n)=>{const i=new Pc.Workbook,a=(e||"Unknown").replace(/[*?:\/[\]\\]/g,"").substring(0,30),s=i.addWorksheet(a,{views:[{showGridLines:!1}]});s.columns=[{header:"Date",key:"date",width:12},{header:"Shift",key:"shift",width:10},{header:"Machine",key:"machine",width:10},{header:"Item Name",key:"item",width:25},{header:"Unit Wt",key:"wt",width:10},{header:"Prod (Qty)",key:"prod",width:12},{header:"Audit (Qty)",key:"audit",width:12},{header:"Rej (Qty)",key:"rej",width:12},{header:"Rej %",key:"rejP",width:10},{header:"Status",key:"status",width:12}];const c=new Set;r.forEach(g=>{g.defects&&g.defects.forEach(y=>c.add(y.defectName))});const l=Array.from(c).sort(),o=11;l.forEach((g,y)=>{s.getColumn(o+y).width=12,s.getRow(1).getCell(o+y).value=g}),s.getRow(1).eachCell(g=>{g.font={bold:!0,color:{argb:Rt.WHITE},size:11},g.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.SLATE_DARK}},g.alignment={horizontal:"center",vertical:"middle"},g.border=Dn}),s.getRow(1).height=25,r.sort((g,y)=>new Date(g.date).getTime()-new Date(y.date).getTime());let f=2;r.forEach(g=>{const y=s.getRow(f),m=(g.defects||[]).reduce((k,N)=>k+N.qty,0);y.getCell(1).value=new Date(g.date),y.getCell(1).numFmt="d-mmm",y.getCell(2).value=g.shift.toUpperCase(),y.getCell(3).value=g.machine,y.getCell(4).value=g.product,y.getCell(5).value=g.unitWeight,y.getCell(6).value=g.qtyTotal,y.getCell(7).value=m,y.getCell(8).value=g.qtyReject,y.getCell(9).value=(g.pctAll||0)/100,y.getCell(9).numFmt="0.0%";const x=g.pctAll>5?"High Waste":"Good";y.getCell(10).value=x,g.defects&&Array.isArray(g.defects)&&g.defects.forEach(k=>{const N=l.indexOf(k.defectName);if(N!==-1){const P=11+N;y.getCell(P).value=(y.getCell(P).value||0)+k.qty}});const _=g.shift==="day"?Rt.LIGHT_GREY:Rt.DARK_GREY;for(let k=1;k<=10+l.length;k++){const N=y.getCell(k);N.fill={type:"pattern",pattern:"solid",fgColor:{argb:k>10?Rt.ROW_Q_DYN:_}},N.border=Dn,N.alignment={horizontal:"center"},([5,6,7,8].includes(k)||k>10)&&(N.numFmt="0.#"),k===10&&(x==="High Waste"?N.font={color:{argb:"FFFF0000"},bold:!0}:N.font={color:{argb:"FF008000"},bold:!0})}f++});const h=s.getRow(f);h.getCell(1).value="TOTAL",h.getCell(6).value={formula:`SUM(F2:F${f-1})`},h.getCell(6).numFmt="0.#",h.getCell(7).value={formula:`SUM(G2:G${f-1})`},h.getCell(7).numFmt="0.#",h.getCell(8).value={formula:`SUM(H2:H${f-1})`},h.getCell(8).numFmt="0.#",l.forEach((g,y)=>{const m=11+y,x=Ad(m);h.getCell(m).value={formula:`SUM(${x}2:${x}${f-1})`},h.getCell(m).numFmt="0.#"}),h.font={bold:!0};for(let g=1;g<=10+l.length;g++){const y=h.getCell(g);y.border=Dn,y.alignment={horizontal:"center"},y.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFF00"}}}s.mergeCells(`A${f}:E${f}`);const d=await i.xlsx.writeBuffer();Dc.saveAs(new Blob([d]),`Item_Report_${a}_${t}.xlsx`)};function Tfe(r,e,t,n){[10,6,8,25,10,12,12,12,12,10,10,10,10,8,10,12,10].forEach((d,g)=>r.getColumn(g+1).width=d),r.getColumn(17).width=8;const a=18,s=17+n.length;for(let d=a;d<=s;d++)r.getColumn(d).width=10;r.getRow(1).height=30,r.mergeCells("A1:C1");const c=r.getCell("A1");if(c.value=e,c.font={size:20,bold:!0},c.alignment={horizontal:"center",vertical:"middle"},c.border=Dn,r.mergeCells("E1:H1"),r3(r,"E1","PRODUCTION",Rt.PROD_WITH_BG),r.mergeCells("I1:J1"),r3(r,"I1","REJECTION",Rt.REJ_BG),r.mergeCells("K1:N1"),r3(r,"K1","START UP",Rt.START_BG),n.length>0){const d=Ad(s),g=Ad(a);r.mergeCells(`${g}1:${d}1`);const y=r.getCell(`${g}1`);y.value="DEFECT BREAKDOWN",y.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DEFECT_HEADER}},y.font={bold:!0,color:{argb:Rt.WHITE}},y.alignment={horizontal:"center",vertical:"middle"}}r.getRow(2).height=60,[...["DATE","M/C","ITEM","Unit Weight(g)","PROD With Damage","PROD Acc","PROD Weight","Acc Weight","REJ Qty","REJ Weight","START Qty","START Weight","% (St)","SCRAP %","TOT SCRAP %","AUDIT (Qty)"],...n].forEach((d,g)=>{const y=g+1,m=r.getCell(2,y);m.value=d,m.alignment={horizontal:"center",vertical:"middle",wrapText:!0},m.font={bold:!0,size:9},m.border=Dn;let x=Rt.WHITE;y<=2?x=Rt.DATE_MC_BG:y<=4?x=Rt.ITEM_BG:y<=8?x=Rt.PROD_WITH_BG:y<=10?x=Rt.REJ_BG:y<=13?x=Rt.START_BG:y<=15?x=Rt.SCRAP_BG:y===16?x=Rt.AUDIT_BG:x=Rt.COL_Q_DYN,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:x}}}),t.sort((d,g)=>new Date(d.date).getTime()-new Date(g.date).getTime());const u={};t.forEach(d=>{u[d.date]||(u[d.date]=[]),u[d.date].push(d)});let f=3;Object.keys(u).sort().forEach(d=>{const g=u[d],y=f;g.forEach(_=>{const k=r.getRow(f),N=f,P=(_.defects||[]).reduce((D,I)=>D+I.qty,0);k.getCell(1).value=new Date(_.date),k.getCell(1).numFmt="d-mmm",k.getCell(2).value=_.machine,k.getCell(3).value=_.product,k.getCell(4).value=_.unitWeight,k.getCell(5).value=_.qtyTotal,k.getCell(6).value=_.qtyAccept,k.getCell(7).value=_.wgtTotal,k.getCell(8).value=_.wgtAccept,k.getCell(9).value=_.qtyReject,k.getCell(10).value=_.wgtReject,k.getCell(11).value=_.qtyStartup,k.getCell(12).value=_.wgtStartup,k.getCell(13).value={formula:`IFERROR(L${N}/H${N},0)`},k.getCell(13).numFmt="0.0%",k.getCell(14).value={formula:`IFERROR(J${N}/H${N},0)`},k.getCell(14).numFmt="0.0%",k.getCell(15).value={formula:`IFERROR((J${N}+L${N})/H${N},0)`},k.getCell(15).numFmt="0.0%",k.getCell(16).value=P,[4,5,6,7,8,9,10,11,12,16].forEach(D=>k.getCell(D).numFmt="0.#"),_.defects&&Array.isArray(_.defects)&&_.defects.forEach(D=>{const I=n.indexOf(D.defectName);if(I!==-1){const B=17+I,L=k.getCell(B).value||0;k.getCell(B).value=L+D.qty,k.getCell(B).numFmt="0.#"}});for(let D=1;D<=s;D++){const I=k.getCell(D);I.border=Dn,I.alignment={horizontal:"center"},I.font={size:10};let B=Rt.WHITE;D<=2||D==4||D==3?B=Rt.ROW_YELLOW:D<=8?B=Rt.ROW_GREEN:D<=10?B=Rt.ROW_CYAN:D<=13?B=Rt.ROW_ORANGE:D<=15?B=Rt.ROW_GREEN:D==16?B=Rt.PROD_WITH_BG:B=Rt.ROW_Q_DYN,I.fill={type:"pattern",pattern:"solid",fgColor:{argb:B}}}f++});const m=r.getRow(f),x=f;m.getCell(1).value="TOTAL",m.getCell(3).value=`(${new Date(d).toLocaleDateString("en-GB",{day:"numeric",month:"short"})})`,["E","F","G","H","I","J","K","L"].forEach((_,k)=>{const N=5+k,P=Ad(N);m.getCell(N).value={formula:`SUM(${P}${y}:${P}${x-1})`},m.getCell(N).numFmt="0.#"}),m.getCell(16).value={formula:`SUM(P${y}:P${x-1})`},m.getCell(16).numFmt="0.#";for(let _=0;_<n.length;_++){const k=17+_,N=Ad(k);m.getCell(k).value={formula:`SUM(${N}${y}:${N}${x-1})`},m.getCell(k).numFmt="0.#"}for(let _=1;_<=s;_++){const k=m.getCell(_);k.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DAILY_TOTAL_BG}},k.font={bold:!0},k.border=Dn,k.alignment={horizontal:"center"}}f++;const v=r.getRow(f);for(let _=1;_<=s;_++)v.getCell(_).fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.BLACK_ROW}},v.getCell(_).border=Dn;f++}),r.views=[{state:"frozen",xSplit:0,ySplit:2}]}function kfe(r,e,t,n){r.getColumn(1).width=12;for(let d=2;d<=17;d++)r.getColumn(d).width=11;const i=(d,g,y)=>{r.mergeCells(d);const m=r.getCell(d.split(":")[0]);m.value=g,m.fill={type:"pattern",pattern:"solid",fgColor:{argb:y}},m.font={bold:!0},m.alignment={horizontal:"center",vertical:"middle",wrapText:!0},m.border=Dn};i("A1:A1","Date",Rt.WHITE),i("B1:E1","Accepted Production (Kg)",Rt.REJ_HEADER_GREY),i("F1:I1","Rejection (Kg)",Rt.REJ_HEADER_GREY),i("J1:M1","Rejection Percentage",Rt.REJ_HEADER_GREY),i("N1:N1","Total BM %",Rt.REJ_HEADER_GREY),i("O1:O1","Total IM %",Rt.REJ_HEADER_GREY),i("P1:P1","IM Total",Rt.REJ_ORANGE_TOT),i("Q1:Q1","BM Total",Rt.REJ_BLUE_TOT);const a=["IM-A","IM-B","BM-A","BM-B"];a.forEach((d,g)=>r.getCell(2,2+g).value=d),a.forEach((d,g)=>r.getCell(2,6+g).value=d),a.forEach((d,g)=>r.getCell(2,10+g).value=d);for(let d=2;d<=17;d++){const g=r.getCell(2,d);g.font={bold:!0},g.alignment={horizontal:"center"},g.border=Dn,(d<=13||d==14||d==15)&&(g.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_HEADER_GREY}}),d==16&&(g.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_ORANGE_TOT}}),d==17&&(g.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_BLUE_TOT}})}const s={};let c=new Date(t);const l=new Date(n);for(;c<=l;)s[c.toISOString().split("T")[0]]={imA_p:0,imB_p:0,bmA_p:0,bmB_p:0,imA_r:0,imB_r:0,bmA_r:0,bmB_r:0},c.setDate(c.getDate()+1);e.forEach(d=>{if(s[d.date]){const g=d.wgtAccept,y=d.wgtReject;d.type==="IM"?d.shift==="day"?(s[d.date].imA_p+=g,s[d.date].imA_r+=y):(s[d.date].imB_p+=g,s[d.date].imB_r+=y):d.shift==="day"?(s[d.date].bmA_p+=g,s[d.date].bmA_r+=y):(s[d.date].bmB_p+=g,s[d.date].bmB_r+=y)}});let o=3;const u=Object.keys(s).sort();for(const d of u){const g=r.getRow(o),y=s[d];g.getCell(1).value=new Date(d),g.getCell(1).numFmt="d-mmm",[2,3,4,5,6,7,8,9,16,17].forEach((m,x)=>{let v=0;switch(m){case 2:v=y.imA_p;break;case 3:v=y.imB_p;break;case 4:v=y.bmA_p;break;case 5:v=y.bmB_p;break;case 6:v=y.imA_r;break;case 7:v=y.imB_r;break;case 8:v=y.bmA_r;break;case 9:v=y.bmB_r;break}m<16&&(g.getCell(m).value=v,g.getCell(m).numFmt="0.#")}),g.getCell(16).value={formula:`F${o}+G${o}`},g.getCell(16).numFmt="0.#",g.getCell(17).value={formula:`H${o}+I${o}`},g.getCell(17).numFmt="0.#",g.getCell(10).value={formula:`IFERROR(F${o}/(B${o}+F${o}),0)`},g.getCell(10).numFmt="0.0%",g.getCell(11).value={formula:`IFERROR(G${o}/(C${o}+G${o}),0)`},g.getCell(11).numFmt="0.0%",g.getCell(12).value={formula:`IFERROR(H${o}/(D${o}+H${o}),0)`},g.getCell(12).numFmt="0.0%",g.getCell(13).value={formula:`IFERROR(I${o}/(E${o}+I${o}),0)`},g.getCell(13).numFmt="0.0%",g.getCell(14).value={formula:`IFERROR((H${o}+I${o})/(D${o}+E${o}+H${o}+I${o}),0)`},g.getCell(14).numFmt="0.0%",g.getCell(15).value={formula:`IFERROR((F${o}+G${o})/(B${o}+C${o}+F${o}+G${o}),0)`},g.getCell(15).numFmt="0.0%";for(let m=1;m<=17;m++){const x=g.getCell(m);x.border=Dn,x.alignment={horizontal:"center"},(m==2||m==3)&&(x.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_PEACH}}),(m==4||m==5)&&(x.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_GREEN}}),(m==6||m==7)&&(x.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_LAVENDER}}),(m==8||m==9)&&(x.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_GREEN}}),m>=10&&m<=13&&(x.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.REJ_LIGHT_BLUE}})}o++}const f=o,h=r.getRow(f);h.getCell(1).value="Total",h.font={bold:!0},["B","C","D","E","F","G","H","I"].forEach((d,g)=>{h.getCell(2+g).value={formula:`SUM(${d}3:${d}${f-1})`},h.getCell(2+g).font={color:{argb:"FFFF0000"},bold:!0},h.getCell(2+g).numFmt="0.#"}),h.getCell(16).value={formula:`F${f}+G${f}`},h.getCell(16).numFmt="0.#",h.getCell(17).value={formula:`H${f}+I${f}`},h.getCell(17).numFmt="0.#",h.getCell(10).value={formula:`F${f}/(B${f}+F${f})`},h.getCell(11).value={formula:`G${f}/(C${f}+G${f})`},h.getCell(12).value={formula:`H${f}/(D${f}+H${f})`},h.getCell(13).value={formula:`I${f}/(E${f}+I${f})`},h.getCell(14).value={formula:`(H${f}+I${f})/(H${f}+I${f}+D${f}+E${f})`},h.getCell(15).value={formula:`(F${f}+G${f})/(F${f}+G${f}+B${f}+C${f})`};for(let d=1;d<=17;d++){const g=h.getCell(d);g.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2F2F2"}},g.border=Dn,d>=10&&d<=15&&(g.numFmt="0.0%")}r.views=[{state:"frozen",xSplit:0,ySplit:2}]}function jfe(r,e,t,n){r.getColumn(1).width=12;for(let v=2;v<=13;v++)r.getColumn(v).width=6;r.getColumn(14).width=2;for(let v=15;v<=20;v++)r.getColumn(v).width=6;const i=(v,_,k,N="FF000000")=>{r.mergeCells(v);const P=r.getCell(v.split(":")[0]);P.value=_,P.font={size:14,bold:!0,color:{argb:N}},P.fill={type:"pattern",pattern:"solid",fgColor:{argb:k}},P.alignment={horizontal:"center",vertical:"middle"},P.border=Dn};r.getCell("A1").value="Date",r.getCell("A1").border=Dn,r.getCell("A1").alignment={horizontal:"center",vertical:"middle"},r.getCell("A1").font={bold:!0},i("B1:G1","SHIFT A (BM)",Rt.DASH_GREEN),i("H1:M1","SHIFT B (BM)",Rt.DASH_PURPLE),i("O1:T1","TOTAL",Rt.DASH_BLUE_HEADER,Rt.WHITE);const a=["ACHIVE","MTD","Scrap","MTD","Day %","MTD %"],s=v=>{a.forEach((_,k)=>{const N=r.getCell(2,v+k);N.value=_,N.font={bold:!0,size:9},N.alignment={horizontal:"center",vertical:"middle"},N.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DASH_SUB_BG}},N.border=Dn})};s(2),s(8),s(15);const c={};let l=new Date(t);const o=new Date(n);for(;l<=o;)c[l.toISOString().split("T")[0]]={a_ach:0,a_scr:0,b_ach:0,b_scr:0},l.setDate(l.getDate()+1);e.forEach(v=>{v.type==="BM"&&c[v.date]&&(v.shift==="day"?(c[v.date].a_ach+=v.wgtAccept,c[v.date].a_scr+=v.wgtReject):(c[v.date].b_ach+=v.wgtAccept,c[v.date].b_scr+=v.wgtReject))});const u=Object.keys(c).sort();let f=3,h=0,d=0,g=0,y=0,m=0,x=0;for(const v of u){const _=r.getRow(f),k=c[v];_.getCell(1).value=new Date(v),_.getCell(1).numFmt="d-mmm",_.getCell(1).border=Dn,_.getCell(1).alignment={horizontal:"center"},_.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DASH_DATE_BG}},h+=k.a_ach,d+=k.a_scr,_.getCell(2).value=k.a_ach,_.getCell(3).value=h,_.getCell(4).value=k.a_scr,_.getCell(5).value=d,_.getCell(6).value={formula:`IFERROR(D${f}/(B${f}+D${f}),0)`},_.getCell(6).numFmt="0.0%",_.getCell(7).value={formula:`IFERROR(E${f}/(C${f}+E${f}),0)`},_.getCell(7).numFmt="0.0%",g+=k.b_ach,y+=k.b_scr,_.getCell(8).value=k.b_ach,_.getCell(9).value=g,_.getCell(10).value=k.b_scr,_.getCell(11).value=y,_.getCell(12).value={formula:`IFERROR(J${f}/(H${f}+J${f}),0)`},_.getCell(12).numFmt="0.0%",_.getCell(13).value={formula:`IFERROR(K${f}/(I${f}+K${f}),0)`},_.getCell(13).numFmt="0.0%",_.getCell(15).value={formula:`B${f}+H${f}`},m+=k.a_ach+k.b_ach,_.getCell(16).value=m,_.getCell(17).value={formula:`D${f}+J${f}`},x+=k.a_scr+k.b_scr,_.getCell(18).value=x,_.getCell(19).value={formula:`IFERROR(Q${f}/(O${f}+Q${f}),0)`},_.getCell(19).numFmt="0.0%",_.getCell(20).value={formula:`IFERROR(R${f}/(P${f}+R${f}),0)`},_.getCell(20).numFmt="0.0%",[2,3,4,5,8,9,10,11,15,16,17,18].forEach(N=>_.getCell(N).numFmt="0.#");for(let N=2;N<=13;N++){const P=_.getCell(N);P.border=Dn,(N-2)%6<2?P.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DASH_A_BG}}:P.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DASH_B_BG}}}for(let N=15;N<=20;N++){const P=_.getCell(N);P.border=Dn,N-15<2?P.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DASH_A_BG}}:P.fill={type:"pattern",pattern:"solid",fgColor:{argb:Rt.DASH_B_BG}}}f++}r.views=[{state:"frozen",xSplit:0,ySplit:2}]}function r3(r,e,t,n){const i=r.getCell(e);i.value=t,i.font={size:14,bold:!0},i.alignment={horizontal:"center"},i.fill={type:"pattern",pattern:"solid",fgColor:{argb:n}},i.border=Dn}const pd={primary:"#6366f1",danger:"#f43f5e",grid:"#94a3b8"},Cfe=({options:r,selected:e,onChange:t})=>{const[n,i]=ye.useState(!1),a=ye.useRef(null);return ye.useEffect(()=>{const s=c=>{a.current&&!a.current.contains(c.target)&&i(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),T.jsxs("div",{className:"relative min-w-[180px]",ref:a,children:[T.jsxs("button",{onClick:()=>i(!n),className:`w-full flex items-center justify-between gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-xs font-bold text-slate-700 dark:text-white transition-all hover:bg-slate-200 dark:hover:bg-slate-800 ${n?"ring-2 ring-indigo-500":""}`,children:[T.jsxs("div",{className:"flex items-center gap-2 truncate",children:[T.jsx(d5,{className:"w-3.5 h-3.5 text-indigo-500"}),T.jsx("span",{className:"truncate",children:e==="ALL"?"All Products":e})]}),T.jsx(qa,{className:`w-3.5 h-3.5 text-slate-400 transition-transform ${n?"rotate-180":""}`})]}),n&&T.jsxs("div",{className:"absolute top-full right-0 mt-2 w-full min-w-[220px] max-h-64 overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-[100] p-1",children:[T.jsxs("div",{onClick:()=>{t("ALL"),i(!1)},className:`flex items-center gap-2 p-2.5 rounded-lg cursor-pointer text-xs font-bold transition-colors ${e==="ALL"?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[e==="ALL"&&T.jsx(qd,{className:"w-3 h-3"}),T.jsx("span",{children:"All Products"})]}),r.map(s=>T.jsxs("div",{onClick:()=>{t(s),i(!1)},className:`flex items-center gap-2 p-2.5 rounded-lg cursor-pointer text-xs font-bold transition-colors ${e===s?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[e===s&&T.jsx(qd,{className:"w-3 h-3"}),T.jsx("span",{className:"truncate",children:s})]},s))]})]})},zL=({data:r,allData:e,onUpdate:t,adminConfig:n})=>{const i=r||e||{},a=new Date().toISOString().split("T")[0],[s,c]=ye.useState(()=>localStorage.getItem("quality_start_date")||a),[l,o]=ye.useState(()=>localStorage.getItem("quality_end_date")||a),[u,f]=ye.useState("ALL"),[h,d]=ye.useState(null);ye.useEffect(()=>{localStorage.setItem("quality_start_date",s)},[s]),ye.useEffect(()=>{localStorage.setItem("quality_end_date",l)},[l]);const g=ye.useMemo(()=>{const P=[];return!i||Object.keys(i).length===0?[]:(Object.keys(i).sort().forEach(D=>{if(!D.endsWith("_IM")&&!D.endsWith("_BM"))return;const I=D.split("_")[0];if(I>=s&&I<=l){const B=i[D];B&&B.rows&&B.rows.forEach(L=>{const z=Number(L.achievedQty)||0,$=Number(L.rejectionQty)||0,O=(L.defects||[]).reduce((te,W)=>te+W.qty,0),F=Number(L.startupQty)||0,C=z-$-F,w=Number(L.unitWeight)||0,E=z*w/1e3,A=$*w/1e3,j=F*w/1e3,R=C*w/1e3,q=E>0?A/E*100:0,H=E>0?j/E*100:0,Y=E>0?(A+j)/E*100:0,Z=D.endsWith("_IM")?"IM":"BM";P.push({id:L.id,date:I,shift:L.shift,machine:L.machine||"-",product:L.product||"-",unitWeight:w,qtyTotal:z,qtyAccept:C,wgtTotal:E,wgtAccept:R,qtyReject:$,wgtReject:A,auditQty:O,qtyStartup:F,wgtStartup:j,pctScrap:q,pctStartup:H,pctAll:Y,type:Z,defects:L.defects||[]})})}}),P.sort((D,I)=>I.date.localeCompare(D.date)))},[i,s,l]),y=ye.useMemo(()=>Array.from(new Set(g.map(P=>P.product))).sort(),[g]),m=ye.useMemo(()=>u==="ALL"?g:g.filter(P=>P.product===u),[g,u]),x=ye.useMemo(()=>m.reduce((P,D)=>({totalKg:P.totalKg+D.wgtTotal,rejKg:P.rejKg+D.wgtReject,startKg:P.startKg+D.wgtStartup,goodKg:P.goodKg+D.wgtAccept}),{totalKg:0,rejKg:0,startKg:0,goodKg:0}),[m]),v=ye.useMemo(()=>{const P={};return m.forEach(D=>{const I=D.date;P[I]||(P[I]={name:I,production:0,totalRej:0}),P[I].production+=D.wgtTotal,P[I].totalRej+=D.wgtReject+D.wgtStartup}),Object.values(P).map(D=>({...D,damage:D.production>0?parseFloat((D.totalRej/D.production*100).toFixed(2)):0,production:parseFloat(D.production.toFixed(1))})).sort((D,I)=>D.name.localeCompare(I.name))},[m]),_=async()=>{if(m.length===0){alert("No data available to export.");return}if(u!=="ALL")await Efe(m,u,s);else{const P=(n==null?void 0:n.breakdownCategories)||[];await Afe(m,s,l,P)}},k=(P,D,I,B)=>{const L=`${D}_${I}`,z=i[L];if(!z)return;const $=z.rows.map(O=>O.id===P?{...O,defects:B}:O);t(L,{...z,rows:$}),d(null)},N=ye.useMemo(()=>{const P=["OTHER"],D=(n==null?void 0:n.qaCategories)||[];return Array.from(new Set([...P,...D])).sort()},[n]);return T.jsxs("div",{className:"w-full h-full bg-[#F8FAFC] dark:bg-[#020617] p-2 overflow-hidden flex flex-col transition-colors duration-300 relative",children:[T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-3 rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 mb-2 flex-shrink-0",children:[T.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-center gap-3",children:[T.jsxs("div",{className:"flex items-center gap-3 w-full xl:w-auto",children:[T.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-2 rounded-xl shadow-md",children:T.jsx(s3,{className:"w-5 h-5 text-white"})}),T.jsx("div",{children:T.jsx("h2",{className:"text-lg font-black text-slate-800 dark:text-white uppercase tracking-tight leading-none",children:"Quality Console"})})]}),T.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full xl:w-auto justify-end",children:[T.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-0.5 shadow-sm",children:[T.jsxs("div",{className:"px-2 flex items-center gap-2 border-r border-slate-300 dark:border-slate-700",children:[T.jsx(rg,{className:"w-3 h-3 text-indigo-500"}),T.jsx("input",{type:"date",value:s,onChange:P=>c(P.target.value),className:"bg-transparent text-[10px] font-bold text-slate-700 dark:text-slate-200 outline-none dark:[color-scheme:dark] uppercase cursor-pointer"})]}),T.jsx("div",{className:"px-2",children:T.jsx("input",{type:"date",value:l,onChange:P=>o(P.target.value),className:"bg-transparent text-[10px] font-bold text-slate-700 dark:text-slate-200 outline-none dark:[color-scheme:dark] uppercase cursor-pointer"})})]}),T.jsx(Cfe,{options:y,selected:u,onChange:f}),T.jsxs("button",{onClick:_,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1.5 rounded-lg font-black text-[10px] uppercase tracking-widest flex items-center gap-1.5 transition-all shadow-md active:scale-95",children:[T.jsx(G$,{className:"w-3.5 h-3.5"})," Export"]})]})]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-3",children:[T.jsx($0,{label:"Production",value:`${x.totalKg.toFixed(1)} kg`,icon:T.jsx(aV,{className:"w-4 h-4 text-white"}),color:"from-indigo-500 to-blue-500"}),T.jsx($0,{label:"Accepted",value:`${x.goodKg.toFixed(1)} kg`,icon:T.jsx(yM,{className:"w-4 h-4 text-white"}),color:"from-emerald-500 to-teal-500"}),T.jsx($0,{label:"Rejected",value:`${x.rejKg.toFixed(1)} kg`,icon:T.jsx(vM,{className:"w-4 h-4 text-white"}),color:"from-rose-500 to-pink-500"}),T.jsx($0,{label:"Startup",value:`${x.startKg.toFixed(1)} kg`,icon:T.jsx(iV,{className:"w-4 h-4 text-white"}),color:"from-amber-500 to-orange-500"})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar pb-20",children:[v.length>0&&T.jsx("div",{className:"bg-white dark:bg-[#0F172A] p-4 rounded-2xl shadow-md border border-slate-100 dark:border-slate-800 mb-2",children:T.jsx("div",{className:"h-[200px] w-full",children:T.jsx(nl,{width:"100%",height:"100%",children:T.jsxs(Kp,{data:v,margin:{top:10,right:10,left:0,bottom:0},children:[T.jsx("defs",{children:T.jsxs("linearGradient",{id:"colorProd",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:pd.primary,stopOpacity:.8}),T.jsx("stop",{offset:"95%",stopColor:pd.primary,stopOpacity:0})]})}),T.jsx(Zs,{strokeDasharray:"3 3",vertical:!1,stroke:pd.grid,strokeOpacity:.2}),T.jsx(Ji,{dataKey:"name",tick:{fontSize:9,fill:"#94a3b8",fontWeight:700},axisLine:!1,tickLine:!1,dy:5}),T.jsx(di,{yAxisId:"left",tick:{fontSize:9,fill:"#94a3b8",fontWeight:700},axisLine:!1,tickLine:!1}),T.jsx(di,{yAxisId:"right",orientation:"right",tick:{fontSize:9,fill:pd.danger,fontWeight:700},axisLine:!1,tickLine:!1}),T.jsx(Kn,{contentStyle:{backgroundColor:"#1e293b",borderRadius:"8px",border:"none",color:"#fff",fontSize:"10px"},itemStyle:{fontSize:"10px",fontWeight:"bold"}}),T.jsx(Zi,{yAxisId:"left",dataKey:"production",name:"Production Kg",fill:"url(#colorProd)",radius:[4,4,0,0],barSize:30,animationDuration:1e3}),T.jsx(al,{yAxisId:"right",type:"monotone",dataKey:"damage",name:"Damage %",stroke:pd.danger,strokeWidth:2,dot:{r:2},animationDuration:1500})]})})})}),T.jsx(Ofe,{data:m,onEditRow:d})]}),h&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 backdrop-blur-sm bg-slate-900/70 animate-in fade-in zoom-in-95 duration-200",children:T.jsx(Mfe,{row:h,onClose:()=>d(null),onSave:k,categories:N})})]})},$0=({label:r,value:e,icon:t,color:n})=>T.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-2.5 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-3",children:[T.jsx("div",{className:`p-1.5 rounded-lg bg-gradient-to-br ${n} shadow-sm`,children:t}),T.jsxs("div",{children:[T.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500 block leading-tight",children:r}),T.jsx("span",{className:"text-sm font-black text-slate-800 dark:text-white leading-tight",children:e})]})]}),Ofe=({data:r,onEditRow:e})=>{const t=ye.useMemo(()=>{const i={};return r.forEach(a=>{i[a.date]||(i[a.date]=[]),i[a.date].push(a)}),i},[r]),n=Object.keys(t).sort((i,a)=>a.localeCompare(i));return T.jsx("div",{className:"space-y-3 p-1",children:n.map(i=>T.jsx(Nfe,{date:i,items:t[i],onEditRow:e},i))})},Nfe=({date:r,items:e,onEditRow:t})=>{const[n,i]=ye.useState(!1),a=e.reduce((l,o)=>l+o.wgtTotal,0),s=e.reduce((l,o)=>l+o.wgtReject+o.wgtStartup,0),c=a>0?s/a*100:0;return T.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-xl border border-slate-200 dark:border-slate-800 shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden",children:[T.jsxs("div",{onClick:()=>i(!n),className:`p-4 flex flex-col md:flex-row items-center justify-between cursor-pointer transition-colors ${n?"bg-slate-50 dark:bg-slate-900/60":"hover:bg-slate-50 dark:hover:bg-slate-900/30"}`,children:[T.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[T.jsx("div",{className:`p-2 rounded-lg transition-all ${n?"bg-indigo-600 text-white rotate-180":"bg-slate-100 dark:bg-slate-800 text-slate-400"}`,children:T.jsx(qa,{className:"w-4 h-4 transition-transform"})}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-black text-slate-800 dark:text-white uppercase tracking-tight",children:new Date(r).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})}),T.jsxs("span",{className:"text-[10px] font-bold bg-slate-100 dark:bg-slate-800 text-slate-500 px-2 py-0.5 rounded-full uppercase tracking-wide",children:[e.length," Records"]})]})]}),T.jsxs("div",{className:"flex gap-6 mt-3 md:mt-0 w-full md:w-auto justify-between md:justify-end border-t md:border-t-0 border-slate-100 dark:border-slate-800 pt-3 md:pt-0",children:[T.jsxs("div",{className:"text-center md:text-right",children:[T.jsx("span",{className:"block text-[9px] font-black uppercase text-slate-400",children:"Prod"}),T.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400 font-black text-sm",children:[a.toFixed(1)," kg"]})]}),T.jsxs("div",{className:"text-center md:text-right",children:[T.jsx("span",{className:"block text-[9px] font-black uppercase text-slate-400",children:"Waste"}),T.jsxs("span",{className:"text-rose-500 font-black text-sm",children:[s.toFixed(1)," kg"]})]}),T.jsxs("div",{className:"text-center md:text-right",children:[T.jsx("span",{className:"block text-[9px] font-black uppercase text-slate-400",children:"%"}),T.jsxs("span",{className:`font-black text-sm px-1.5 py-0.5 rounded ${c>5?"text-rose-500":"text-emerald-500"}`,children:[c.toFixed(1),"%"]})]})]})]}),n&&T.jsx("div",{className:"border-t border-slate-100 dark:border-slate-800 bg-slate-50/20 dark:bg-slate-900/10",children:T.jsx("div",{className:"overflow-x-auto p-4",children:T.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px]",children:[T.jsx("thead",{className:"bg-slate-100 dark:bg-slate-950 text-[10px] uppercase font-black text-slate-500 dark:text-slate-400 tracking-wider",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-3 pl-4 rounded-l-lg",children:"M/C & Shift"}),T.jsx("th",{className:"p-3 border-r border-slate-200 dark:border-slate-800",children:"Item"}),T.jsx("th",{className:"p-3 text-right",children:"Unit Wt"}),T.jsx("th",{className:"p-3 text-right text-emerald-600 bg-emerald-50/30 dark:bg-emerald-900/10 border-l border-slate-200 dark:border-slate-800",children:"Prod (Qty)"}),T.jsx("th",{className:"p-3 text-right text-emerald-600 bg-emerald-50/30 dark:bg-emerald-900/10",children:"Acc (Qty)"}),T.jsx("th",{className:"p-3 text-right text-emerald-600 bg-emerald-50/30 dark:bg-emerald-900/10",children:"Prod (Kg)"}),T.jsx("th",{className:"p-3 text-right text-emerald-600 bg-emerald-50/30 dark:bg-emerald-900/10 border-r border-slate-200 dark:border-slate-800",children:"Acc (Kg)"}),T.jsx("th",{className:"p-3 text-right text-indigo-500 bg-indigo-50/30 dark:bg-indigo-900/10",children:"Rej (Qty)"}),T.jsx("th",{className:"p-3 text-right text-indigo-500 bg-indigo-50/30 dark:bg-indigo-900/10 border-r border-slate-200 dark:border-slate-800",children:"Rej (Kg)"}),T.jsx("th",{className:"p-3 text-right text-amber-500 bg-amber-50/30 dark:bg-amber-900/10",children:"Start (Qty)"}),T.jsx("th",{className:"p-3 text-right text-amber-500 bg-amber-50/30 dark:bg-amber-900/10 border-r border-slate-200 dark:border-slate-800",children:"Start (Kg)"}),T.jsx("th",{className:"p-3 text-center",children:"% (St)"}),T.jsx("th",{className:"p-3 text-center",children:"Scrap %"}),T.jsx("th",{className:"p-3 text-center border-r border-slate-200 dark:border-slate-800",children:"Tot %"}),T.jsx("th",{className:"p-3 text-center rounded-tr-lg",children:"Action"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-800 text-xs font-bold text-slate-700 dark:text-slate-300",children:e.map((l,o)=>T.jsxs("tr",{className:"hover:bg-white dark:hover:bg-slate-800 transition-colors",children:[T.jsxs("td",{className:"p-3 pl-4 border-r border-slate-200 dark:border-slate-800",children:[T.jsx("span",{className:"font-black",children:l.machine})," ",T.jsxs("span",{className:"text-[10px] opacity-70",children:["(",l.shift,")"]})]}),T.jsx("td",{className:"p-3 truncate max-w-[150px]",title:l.product,children:l.product}),T.jsxs("td",{className:"p-3 text-right font-mono opacity-70 border-r border-slate-200 dark:border-slate-800",children:[l.unitWeight,"g"]}),T.jsx("td",{className:"p-3 text-right font-black",children:l.qtyTotal}),T.jsx("td",{className:"p-3 text-right",children:l.qtyAccept}),T.jsx("td",{className:"p-3 text-right font-black",children:l.wgtTotal.toFixed(1)}),T.jsx("td",{className:"p-3 text-right border-r border-slate-200 dark:border-slate-800",children:l.wgtAccept.toFixed(1)}),T.jsx("td",{className:"p-3 text-right font-black text-indigo-500",children:l.qtyReject}),T.jsx("td",{className:"p-3 text-right font-black text-indigo-500 border-r border-slate-200 dark:border-slate-800",children:l.wgtReject.toFixed(1)}),T.jsx("td",{className:"p-3 text-right font-black text-amber-500",children:l.qtyStartup}),T.jsx("td",{className:"p-3 text-right font-black text-amber-500 border-r border-slate-200 dark:border-slate-800",children:l.wgtStartup.toFixed(1)}),T.jsxs("td",{className:"p-3 text-center text-amber-500",children:[l.pctStartup.toFixed(1),"%"]}),T.jsxs("td",{className:"p-3 text-center text-indigo-500",children:[l.pctScrap.toFixed(1),"%"]}),T.jsx("td",{className:"p-3 text-center border-r border-slate-200 dark:border-slate-800",children:T.jsxs("span",{className:`px-1.5 py-0.5 rounded ${l.pctAll>5?"bg-rose-100 text-rose-600":"text-slate-500"}`,children:[l.pctAll.toFixed(1),"%"]})}),T.jsx("td",{className:"p-3 text-center",children:T.jsxs("button",{onClick:()=>t(l),className:`px-3 py-1.5 rounded-lg text-white text-[10px] uppercase font-black tracking-wider whitespace-nowrap min-w-[90px] transition-all flex items-center justify-center mx-auto gap-1 relative overflow-hidden group
                                                    ${l.auditQty>0?"bg-indigo-600 shadow-lg shadow-indigo-500/40 ring-2 ring-indigo-400 ring-offset-2 dark:ring-offset-[#0F172A]":"bg-slate-700 hover:bg-indigo-600"}
                                                `,children:[l.auditQty>0&&T.jsx("span",{className:"absolute inset-0 bg-white/20 animate-[pulse_2s_infinite]"}),T.jsx(a3,{className:"w-3 h-3 relative z-10"}),T.jsxs("span",{className:"relative z-10",children:["Audit ",l.auditQty>0?`(${l.auditQty})`:""]})]})})]},o))})]})})})]})},Mfe=({row:r,onClose:e,onSave:t,categories:n})=>{const[i,a]=ye.useState([]),[s,c]=ye.useState(n[0]||""),[l,o]=ye.useState("");ye.useEffect(()=>{r.defects&&a(r.defects),n.length>0&&!s&&c(n[0])},[r,n]);const u=()=>{const d=parseInt(l);if(!d||d<=0||!s)return;const g=i.find(y=>y.defectName===s);a(g?i.map(y=>y.defectName===s?{...y,qty:y.qty+d}:y):[...i,{defectName:s,qty:d}]),o("")},f=d=>a(i.filter(g=>g.defectName!==d)),h=i.reduce((d,g)=>d+g.qty,0);return T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] w-full max-w-lg rounded-3xl shadow-2xl border border-slate-200 dark:border-slate-700 flex flex-col max-h-[85vh] overflow-hidden ring-1 ring-white/20",children:[T.jsxs("div",{className:"p-6 bg-gradient-to-r from-indigo-600 to-purple-600 relative overflow-hidden flex-shrink-0",children:[T.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:T.jsx(B$,{className:"w-32 h-32 text-white"})}),T.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl font-black text-white uppercase tracking-tight flex items-center gap-2",children:[T.jsx(s3,{className:"w-5 h-5"})," QA Audit Entry"]}),T.jsxs("p",{className:"text-xs font-bold text-indigo-100 mt-1 opacity-90",children:[r.machine,"  ",r.product]})]}),T.jsx("button",{onClick:e,className:"p-2 bg-white/20 hover:bg-white/30 text-white rounded-full transition-colors backdrop-blur-sm",children:T.jsx(zf,{className:"w-5 h-5"})})]})]}),T.jsx("div",{className:"p-5 bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 flex-shrink-0",children:T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wide mb-1.5 block",children:"Defect Category"}),T.jsxs("div",{className:"relative",children:[T.jsx("select",{value:s,onChange:d=>c(d.target.value),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-xl pl-3 pr-8 py-3 text-xs font-bold text-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:n.map(d=>T.jsx("option",{value:d,children:d},d))}),T.jsx(qa,{className:"w-4 h-4 text-slate-400 absolute right-3 top-3 pointer-events-none"})]})]}),T.jsxs("div",{className:"w-24",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-wide mb-1.5 block",children:"Quantity"}),T.jsx("input",{type:"number",placeholder:"0",value:l,onChange:d=>o(d.target.value),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-xl px-3 py-3 text-xs font-bold text-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 text-center"})]}),T.jsx("div",{className:"flex items-end",children:T.jsx("button",{onClick:u,className:"bg-indigo-600 hover:bg-indigo-500 text-white p-3 rounded-xl transition-all shadow-md active:scale-95",children:T.jsx(U$,{className:"w-5 h-5"})})})]})}),T.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-2.5",children:i.length===0?T.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-50 p-10",children:[T.jsx(s3,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mb-3"}),T.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"No defects recorded yet"})]}):i.map((d,g)=>T.jsxs("div",{className:"flex justify-between items-center p-3.5 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-xl shadow-sm animate-in slide-in-from-bottom-2 duration-300 hover:border-indigo-200 dark:hover:border-indigo-900 transition-colors group",children:[T.jsxs("span",{className:"text-xs font-black text-slate-700 dark:text-slate-200 uppercase flex items-center gap-2",children:[T.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500"})," ",d.defectName]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("span",{className:"text-sm font-black text-rose-500 bg-rose-50 dark:bg-rose-900/20 px-2 py-0.5 rounded-md",children:d.qty}),T.jsx("button",{onClick:()=>f(d.defectName),className:"text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100",children:T.jsx(Fs,{className:"w-4 h-4"})})]})]},g))}),T.jsxs("div",{className:"p-5 border-t border-slate-100 dark:border-slate-800 bg-slate-50/80 dark:bg-slate-900/80 flex-shrink-0",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[T.jsx("span",{className:"text-xs font-black uppercase text-slate-500",children:"Total Audit Count"}),T.jsxs("span",{className:"text-xl font-black text-indigo-600 dark:text-indigo-400",children:[h," ",T.jsx("span",{className:"text-xs text-slate-400",children:"units"})]})]}),T.jsxs("button",{onClick:()=>t(r.id,r.date,r.type,i),className:"w-full py-3.5 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-xl font-black uppercase text-xs tracking-widest flex items-center justify-center gap-2 shadow-lg shadow-emerald-500/20 active:scale-95 transition-all",children:[T.jsx(_M,{className:"w-4 h-4"})," Save Record"]})]})]})},Rfe=({onRefresh:r})=>{const[e,t]=ye.useState(""),[n,i]=ye.useState(""),[a,s]=ye.useState(!1),[c,l]=ye.useState(""),o=pe.useRef(null),[u,f]=ye.useState(0),[h,d]=ye.useState(0),[g,y]=ye.useState(0);ye.useEffect(()=>{const k=localStorage.getItem("fmj_pro_db_v2");if(k){const N=new Blob([k]).size;f(N/1024);const P=JSON.parse(k),D=Object.keys(P).length;d(Math.min(5e4,D*2+50)),y(Math.min(2e4,Math.floor(D/5)+20))}},[]);const m=async()=>{if(!e||!n){alert("Select date range.");return}if(window.confirm("WARNING: Permanent deletion. Proceed?")){s(!0),l("Analyzing data...");try{const k=new Date(e),N=new Date(n),P=[];for(let B=new Date(k);B<=N;B.setDate(B.getDate()+1)){const L=B.toISOString().split("T")[0];P.push(`${L}_IM`,`${L}_BM`)}const D=localStorage.getItem("fmj_pro_db_v2");if(D){const B=JSON.parse(D);P.forEach(L=>delete B[L]),localStorage.setItem("fmj_pro_db_v2",JSON.stringify(B))}const I=new Set;P.forEach(B=>I.add(B.substring(0,7)));for(const B of Array.from(I)){l(`Cleaning Cloud: ${B}...`);const L=Io(Po,"production_data",B),z={};let $=!1;P.forEach(O=>{O.startsWith(B)&&(z[`entries.${O}`]=sP(),$=!0)}),$&&(z.last_sync=new Date().toISOString(),await Du(L,z).catch(()=>{}))}l("Done!"),setTimeout(()=>{t(""),i(""),s(!1),l(""),r(),alert("Cleanup Complete.")},800)}catch(k){console.error(k),s(!1),alert("Error occurred.")}}},x=()=>{try{const k=localStorage.getItem("fmj_pro_db_v2");if(!k)return;const N=URL.createObjectURL(new Blob([k],{type:"application/json"})),P=document.createElement("a");P.href=N,P.download=`Backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(P),P.click(),document.body.removeChild(P)}catch{alert("Backup Failed")}},v=k=>{var D;const N=(D=k.target.files)==null?void 0:D[0];if(!N)return;const P=new FileReader;P.onload=I=>{var B;try{const L=JSON.parse((B=I.target)==null?void 0:B.result);window.confirm("Restore backup? Overwrites current data.")&&(localStorage.setItem("fmj_pro_db_v2",JSON.stringify(L)),r())}catch{alert("Invalid file")}},P.readAsText(N),k.target.value=""},_=(k,N)=>{const P=k/N*100;return P<50?"bg-emerald-500":P<80?"bg-amber-500":"bg-rose-500"};return T.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-6 animate-fade-in pb-20",children:[T.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-2xl relative overflow-hidden border border-slate-700",children:[T.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-indigo-600/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),T.jsxs("div",{className:"relative z-10 flex items-center gap-5",children:[T.jsx("div",{className:"p-3.5 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg ring-4 ring-white/10",children:T.jsx(Hd,{className:"w-7 h-7 text-white"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Storage Management"}),T.jsx("p",{className:"text-indigo-200 font-bold text-[10px] uppercase tracking-widest mt-1 opacity-80",children:"Cloud Cleanup & Disaster Recovery"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-5 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group hover:shadow-md transition-all",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-emerald-600"}),T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Database Size"}),T.jsxs("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:[u.toFixed(2)," ",T.jsx("span",{className:"text-xs text-slate-500",children:"KB"})]})]}),T.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl text-emerald-500",children:T.jsx(p5,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 h-2 rounded-full overflow-hidden",children:T.jsx("div",{className:`h-full rounded-full ${_(u,1024*1024)} transition-all duration-1000`,style:{width:`${Math.min(u/(1024*1024)*100,100)}%`}})}),T.jsx("p",{className:"text-[9px] font-bold text-slate-400 mt-2 text-right",children:"Limit: 1 GB (Free Tier)"})]}),T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-5 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group hover:shadow-md transition-all",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-sky-400 to-sky-600"}),T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Est. Daily Reads"}),T.jsxs("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:[h.toLocaleString()," ",T.jsx("span",{className:"text-xs text-slate-500",children:"ops"})]})]}),T.jsx("div",{className:"p-2 bg-sky-50 dark:bg-sky-900/20 rounded-xl text-sky-500",children:T.jsx(V$,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 h-2 rounded-full overflow-hidden",children:T.jsx("div",{className:`h-full rounded-full ${_(h,5e4)} transition-all duration-1000`,style:{width:`${h/5e4*100}%`}})}),T.jsx("p",{className:"text-[9px] font-bold text-slate-400 mt-2 text-right",children:"Limit: 50k / Day"})]}),T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] p-5 rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group hover:shadow-md transition-all",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-amber-400 to-amber-600"}),T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Est. Daily Writes"}),T.jsxs("span",{className:"text-xl font-black text-slate-800 dark:text-white",children:[g.toLocaleString()," ",T.jsx("span",{className:"text-xs text-slate-500",children:"ops"})]})]}),T.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded-xl text-amber-500",children:T.jsx(Ua,{className:"w-5 h-5"})})]}),T.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 h-2 rounded-full overflow-hidden",children:T.jsx("div",{className:`h-full rounded-full ${_(g,2e4)} transition-all duration-1000`,style:{width:`${g/2e4*100}%`}})}),T.jsx("p",{className:"text-[9px] font-bold text-slate-400 mt-2 text-right",children:"Limit: 20k / Day"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-lg overflow-hidden flex flex-col",children:[T.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 bg-rose-50/50 dark:bg-rose-900/10",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400 rounded-xl",children:T.jsx(Fs,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-sm font-black text-rose-600 dark:text-rose-400 uppercase tracking-tight",children:"System Purge"}),T.jsx("p",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 mt-0.5",children:"Remove historical data (Irreversible)"})]})]})}),T.jsxs("div",{className:"p-6 flex-1 flex flex-col gap-4",children:[T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1 space-y-1",children:[T.jsx("label",{className:"text-[9px] font-black uppercase text-slate-400",children:"Start Date"}),T.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 p-2 rounded-xl",children:[T.jsx(rg,{className:"w-4 h-4 text-slate-400"}),T.jsx("input",{type:"date",value:e,onChange:k=>t(k.target.value),className:"bg-transparent w-full text-xs font-bold text-slate-700 dark:text-white outline-none uppercase dark:[color-scheme:dark]"})]})]}),T.jsxs("div",{className:"flex-1 space-y-1",children:[T.jsx("label",{className:"text-[9px] font-black uppercase text-slate-400",children:"End Date"}),T.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 p-2 rounded-xl",children:[T.jsx(rg,{className:"w-4 h-4 text-slate-400"}),T.jsx("input",{type:"date",value:n,onChange:k=>i(k.target.value),className:"bg-transparent w-full text-xs font-bold text-slate-700 dark:text-white outline-none uppercase dark:[color-scheme:dark]"})]})]})]}),a?T.jsxs("div",{className:"w-full py-3 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center gap-2 animate-pulse",children:[T.jsx(b5,{className:"w-4 h-4 text-slate-400 animate-spin"}),T.jsx("span",{className:"text-xs font-bold text-slate-400",children:c})]}):T.jsxs("button",{onClick:m,className:"w-full py-3 bg-rose-500 hover:bg-rose-600 text-white rounded-xl font-black text-xs uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg shadow-rose-500/20 active:scale-95 transition-all",children:[T.jsx(Fs,{className:"w-4 h-4"})," Clear Records"]})]})]}),T.jsxs("div",{className:"bg-white dark:bg-[#0F172A] rounded-[2rem] border border-slate-200 dark:border-slate-800 shadow-lg overflow-hidden flex flex-col",children:[T.jsx("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 bg-indigo-50/50 dark:bg-indigo-900/10",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-xl",children:T.jsx(oV,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-sm font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-tight",children:"Manual Backup"}),T.jsx("p",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 mt-0.5",children:"Download or restore JSON snapshots"})]})]})}),T.jsxs("div",{className:"p-6 flex-1 grid grid-cols-1 gap-3 content-center",children:[T.jsxs("button",{onClick:x,className:"group flex items-center justify-between p-4 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 bg-slate-50/50 dark:bg-slate-900/30 transition-all active:scale-95",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 rounded-xl",children:T.jsx(I$,{className:"w-5 h-5"})}),T.jsx("div",{className:"text-left",children:T.jsx("h4",{className:"text-xs font-black text-slate-700 dark:text-white uppercase",children:"Download DB"})})]}),T.jsx(Cb,{className:"w-4 h-4 text-emerald-500"})]}),T.jsxs("button",{onClick:()=>{var k;return(k=o.current)==null?void 0:k.click()},className:"group flex items-center justify-between p-4 rounded-2xl border border-slate-200 dark:border-slate-700 hover:border-amber-500 dark:hover:border-amber-500 bg-slate-50/50 dark:bg-slate-900/30 transition-all active:scale-95",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2.5 bg-amber-100 dark:bg-amber-900/30 text-amber-600 rounded-xl",children:T.jsx(o3,{className:"w-5 h-5"})}),T.jsx("div",{className:"text-left",children:T.jsx("h4",{className:"text-xs font-black text-slate-700 dark:text-white uppercase",children:"Upload Backup"})})]}),T.jsx(o3,{className:"w-4 h-4 text-amber-500"})]}),T.jsx("input",{type:"file",ref:o,onChange:v,accept:".json",className:"hidden"})]})]})]})]})},qL=({config:r,onUpdate:e})=>{const[t,n]=ye.useState("ITEMS"),[i,a]=ye.useState("IM"),[s,c]=ye.useState({machine:"",itemName:"",customerName:"",unitWeight:0,jobNo:"",productType:"Preform"}),[l,o]=ye.useState({}),[u,f]=ye.useState(""),[h,d]=ye.useState(""),[g,y]=ye.useState(""),[m,x]=ye.useState(""),[v,_]=ye.useState(""),[k,N]=ye.useState("");ye.useEffect(()=>{if(e&&r){const w={productionItems:r.productionItems||[],breakdownCategories:r.breakdownCategories||[],shiftTeams:r.shiftTeams||[],qaCategories:r.qaCategories||[]};(!r.productionItems||!r.qaCategories)&&e(w)}},[e]);const P=()=>{var j,R,q,H;if(!e)return;const w={};if((j=s.machine)!=null&&j.trim()||(w.machine=!0),(R=s.itemName)!=null&&R.trim()||(w.itemName=!0),o(w),Object.keys(w).length>0)return;const E={id:`itm_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,machine:s.machine.trim().toUpperCase(),itemName:s.itemName.trim(),customerName:((q=s.customerName)==null?void 0:q.trim())||"-",unitWeight:Number(s.unitWeight)||0,jobNo:((H=s.jobNo)==null?void 0:H.trim())||"-",type:i,productType:i==="IM"?s.productType:void 0},A={...r,productionItems:[...r.productionItems||[],E]};e(A),c({machine:"",itemName:"",customerName:"",unitWeight:0,jobNo:"",productType:"Preform"}),o({})},D=(w,E)=>{c(A=>({...A,[w]:E})),l[w]&&o(A=>({...A,[w]:!1}))},I=w=>{if(!e||!window.confirm("Remove this item?"))return;const E={...r,productionItems:(r.productionItems||[]).filter(A=>A.id!==w)};e(E)},B=()=>{if(!e)return;const w=u.trim();if(!w)return;const E=r.breakdownCategories||[];if(E.some(j=>j.toLowerCase()===w.toLowerCase())){d("Category exists!");return}const A={...r,breakdownCategories:[...E,w]};e(A),f(""),d("")},L=w=>{if(!e||!window.confirm("Remove category?"))return;const E={...r,breakdownCategories:(r.breakdownCategories||[]).filter(A=>A!==w)};e(E)},z=()=>{if(!e)return;const w=v.trim();if(!w)return;const E=r.shiftTeams||[];if(E.some(j=>j.toLowerCase()===w.toLowerCase())){N("Team exists!");return}const A={...r,shiftTeams:[...E,w]};e(A),_(""),N("")},$=w=>{if(!e||!window.confirm("Remove team?"))return;const E={...r,shiftTeams:(r.shiftTeams||[]).filter(A=>A!==w)};e(E)},O=()=>{if(!e)return;const w=g.trim();if(!w)return;const E=r.qaCategories||[];if(E.some(j=>j.toLowerCase()===w.toLowerCase())){x("Defect exists!");return}const A={...r,qaCategories:[...E,w]};e(A),y(""),x("")},F=w=>{if(!e||!window.confirm("Remove defect category?"))return;const E=r.qaCategories||[],A={...r,qaCategories:E.filter(j=>j!==w)};e(A)},C=(r.productionItems||[]).filter(w=>w.type===i);return T.jsxs("div",{className:"p-8 space-y-8 animate-fade-in pb-24 max-w-7xl mx-auto",children:[T.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-center bg-white dark:bg-slate-800 p-4 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-sm gap-4 transition-all",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 p-2.5 rounded-xl",children:T.jsx(cV,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black uppercase text-slate-800 dark:text-white tracking-tight",children:"System Admin"}),T.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Master Data Control"})]})]}),T.jsxs("div",{className:"flex flex-wrap gap-1 bg-slate-100 dark:bg-slate-900 p-1.5 rounded-2xl",children:[T.jsx(md,{active:t==="ITEMS",icon:Hd,label:"Items",onClick:()=>n("ITEMS"),color:"indigo"}),T.jsx(md,{active:t==="CATS",icon:wM,label:"Breakdowns",onClick:()=>n("CATS"),color:"rose"}),T.jsx(md,{active:t==="QA",icon:SM,label:"QA Defects",onClick:()=>n("QA"),color:"amber"}),T.jsx(md,{active:t==="TEAMS",icon:gV,label:"Teams",onClick:()=>n("TEAMS"),color:"emerald"}),T.jsx(md,{active:t==="STORAGE",icon:p5,label:"Storage",onClick:()=>n("STORAGE"),color:"cyan"})]})]}),t==="ITEMS"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"flex justify-center",children:T.jsxs("div",{className:"flex bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[T.jsx("button",{onClick:()=>a("IM"),className:`px-8 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all ${i==="IM"?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-slate-400"}`,children:"IM Items"}),T.jsx("button",{onClick:()=>a("BM"),className:`px-8 py-2 rounded-lg text-xs font-black uppercase tracking-wider transition-all ${i==="BM"?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-slate-400"}`,children:"BM Items"})]})}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-lg",children:[T.jsx("h3",{className:"text-xs font-black uppercase text-slate-400 mb-4 tracking-widest",children:"Create New Item"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Machine *"}),T.jsx("input",{type:"text",placeholder:"M01",value:s.machine,onChange:w=>D("machine",w.target.value),className:`w-full mt-1 p-2.5 bg-slate-50 dark:bg-slate-900 border rounded-xl text-sm font-bold dark:text-white outline-none uppercase transition-colors ${l.machine?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-600 focus:border-indigo-500"}`})]}),T.jsxs("div",{className:"md:col-span-3",children:[T.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Product Name *"}),T.jsx("input",{type:"text",placeholder:"Name",value:s.itemName,onChange:w=>D("itemName",w.target.value),className:`w-full mt-1 p-2.5 bg-slate-50 dark:bg-slate-900 border rounded-xl text-sm font-bold dark:text-white outline-none transition-colors ${l.itemName?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-600 focus:border-indigo-500"}`})]}),T.jsxs("div",{className:"md:col-span-3",children:[T.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Customer"}),T.jsx("input",{type:"text",placeholder:"Client Name",value:s.customerName,onChange:w=>D("customerName",w.target.value),className:"w-full mt-1 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-bold dark:text-white outline-none focus:border-indigo-500"})]}),T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Job No"}),T.jsx("input",{type:"text",placeholder:"Job #",value:s.jobNo,onChange:w=>D("jobNo",w.target.value),className:"w-full mt-1 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-bold dark:text-white outline-none focus:border-indigo-500"})]}),T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Weight (g)"}),T.jsx("input",{type:"number",placeholder:"0.0",value:s.unitWeight||"",onChange:w=>D("unitWeight",parseFloat(w.target.value)),className:"w-full mt-1 p-2.5 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-bold dark:text-white outline-none focus:border-indigo-500"})]}),i==="IM"&&T.jsxs("div",{className:"md:col-span-12",children:[T.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase mr-2",children:"Type:"}),T.jsxs("select",{value:s.productType,onChange:w=>D("productType",w.target.value),className:"p-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg text-xs font-bold dark:text-white outline-none focus:border-indigo-500",children:[T.jsx("option",{value:"Preform",children:"Preform"}),T.jsx("option",{value:"Cap",children:"Cap"})]})]}),T.jsx("div",{className:"md:col-span-12 flex justify-end mt-2",children:T.jsxs("button",{onClick:P,className:"px-8 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold uppercase text-xs transition-all flex items-center gap-2 shadow-lg active:scale-95",children:[T.jsx(zu,{className:"w-4 h-4"})," Add Item"]})})]})]}),T.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm",children:T.jsxs("table",{className:"w-full text-left text-sm",children:[T.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 uppercase text-[10px] font-black tracking-wider",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 pl-6",children:"Machine"}),T.jsx("th",{className:"p-4",children:"Product Name"}),T.jsx("th",{className:"p-4",children:"Customer"}),T.jsx("th",{className:"p-4 text-center",children:"Job No"}),T.jsx("th",{className:"p-4 text-center",children:"Weight"}),i==="IM"&&T.jsx("th",{className:"p-4 text-center",children:"Type"}),T.jsx("th",{className:"p-4 text-right pr-6",children:"Action"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-slate-700 dark:text-slate-300 font-medium text-xs",children:C.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:7,className:"p-10 text-center text-slate-400 uppercase font-bold text-[10px] tracking-widest",children:"No items found."})}):C.map(w=>T.jsxs("tr",{className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[T.jsx("td",{className:"p-4 pl-6 font-black",children:w.machine}),T.jsx("td",{className:"p-4 font-bold",children:w.itemName}),T.jsx("td",{className:"p-4 text-slate-500 dark:text-slate-400",children:w.customerName}),T.jsx("td",{className:"p-4 text-center text-slate-500 dark:text-slate-400 font-mono",children:w.jobNo}),T.jsxs("td",{className:"p-4 text-center font-mono",children:[w.unitWeight,"g"]}),i==="IM"&&T.jsx("td",{className:"p-4 text-center",children:T.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-bold uppercase ${w.productType==="Preform"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}`,children:w.productType||"-"})}),T.jsx("td",{className:"p-4 pr-6 text-right",children:T.jsx("button",{onClick:()=>I(w.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-all",children:T.jsx(Fs,{className:"w-4 h-4"})})})]},w.id))})]})})]}),t==="CATS"&&T.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-lg",children:[T.jsx("h3",{className:"text-xs font-black uppercase text-slate-400 mb-4 tracking-widest",children:"Add Breakdown Category"}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("input",{type:"text",placeholder:"e.g. Machine Fault",value:u,onChange:w=>{f(w.target.value),d("")},className:`w-full p-3 bg-slate-50 dark:bg-slate-900 border rounded-xl text-sm font-bold dark:text-white outline-none transition-colors ${h?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-600 focus:border-rose-500"}`}),h&&T.jsx("p",{className:"text-rose-500 text-xs font-bold mt-2 ml-1",children:h})]}),T.jsxs("button",{onClick:B,className:"px-6 bg-rose-500 hover:bg-rose-600 text-white rounded-xl font-bold uppercase text-xs transition-all flex items-center gap-2 shadow-lg shadow-rose-500/30 active:scale-95",children:[T.jsx(zu,{className:"w-4 h-4"})," Add"]})]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm",children:[T.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:T.jsx("h4",{className:"font-black text-rose-500 uppercase text-xs tracking-widest",children:"Active Categories"})}),T.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.breakdownCategories&&r.breakdownCategories.length>0?r.breakdownCategories.map(w=>T.jsxs("div",{className:"flex justify-between items-center p-4 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[T.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:w}),T.jsx("button",{onClick:()=>L(w),className:"text-slate-300 hover:text-rose-500",children:T.jsx(Fs,{className:"w-4 h-4"})})]},w)):T.jsx("div",{className:"p-8 text-center text-slate-400 text-xs font-bold uppercase",children:"No categories defined."})})]})]}),t==="QA"&&T.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-lg",children:[T.jsx("h3",{className:"text-xs font-black uppercase text-slate-400 mb-4 tracking-widest",children:"Add Quality Defect"}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("input",{type:"text",placeholder:"e.g. Scratches",value:g,onChange:w=>{y(w.target.value),x("")},className:`w-full p-3 bg-slate-50 dark:bg-slate-900 border rounded-xl text-sm font-bold dark:text-white outline-none transition-colors ${m?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-600 focus:border-amber-500"}`}),m&&T.jsx("p",{className:"text-rose-500 text-xs font-bold mt-2 ml-1",children:m})]}),T.jsxs("button",{onClick:O,className:"px-6 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-bold uppercase text-xs transition-all flex items-center gap-2 shadow-lg shadow-amber-500/30 active:scale-95",children:[T.jsx(zu,{className:"w-4 h-4"})," Add"]})]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm",children:[T.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:T.jsx("h4",{className:"font-black text-amber-500 uppercase text-xs tracking-widest",children:"Active Defect Categories"})}),T.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.qaCategories&&r.qaCategories.length>0?r.qaCategories.map(w=>T.jsxs("div",{className:"flex justify-between items-center p-4 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[T.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:w}),T.jsx("button",{onClick:()=>F(w),className:"text-slate-300 hover:text-rose-500",children:T.jsx(Fs,{className:"w-4 h-4"})})]},w)):T.jsx("div",{className:"p-8 text-center text-slate-400 text-xs font-bold uppercase",children:"No defects defined. (Defaults will be used)"})})]})]}),t==="TEAMS"&&T.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[T.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-lg",children:[T.jsx("h3",{className:"text-xs font-black uppercase text-slate-400 mb-4 tracking-widest",children:"Add Shift Team"}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("input",{type:"text",placeholder:"e.g. Shift C, Team Alpha",value:v,onChange:w=>{_(w.target.value),N("")},className:`w-full p-3 bg-slate-50 dark:bg-slate-900 border rounded-xl text-sm font-bold dark:text-white outline-none transition-colors ${k?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-600 focus:border-emerald-500"}`}),k&&T.jsx("p",{className:"text-rose-500 text-xs font-bold mt-2 ml-1",children:k})]}),T.jsxs("button",{onClick:z,className:"px-6 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-bold uppercase text-xs transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/30 active:scale-95",children:[T.jsx(UserPlus,{className:"w-4 h-4"})," Add Team"]})]})]}),T.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-3xl overflow-hidden shadow-sm",children:[T.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:T.jsx("h4",{className:"font-black text-emerald-500 uppercase text-xs tracking-widest",children:"Active Shift Teams"})}),T.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.shiftTeams&&r.shiftTeams.length>0?r.shiftTeams.map(w=>T.jsxs("div",{className:"flex justify-between items-center p-4 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[T.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:w}),T.jsx("button",{onClick:()=>$(w),className:"text-slate-300 hover:text-rose-500",children:T.jsx(Fs,{className:"w-4 h-4"})})]},w)):T.jsx("div",{className:"p-8 text-center text-slate-400 text-xs font-bold uppercase",children:"No shift teams defined."})})]})]}),t==="STORAGE"&&T.jsx(Rfe,{onRefresh:()=>window.location.reload()})]})},md=({active:r,icon:e,label:t,onClick:n,color:i})=>{const a={indigo:r?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:text-indigo-600",rose:r?"bg-rose-500 text-white shadow-lg":"text-slate-500 hover:text-rose-500",amber:r?"bg-amber-500 text-white shadow-lg":"text-slate-500 hover:text-amber-500",emerald:r?"bg-emerald-500 text-white shadow-lg":"text-slate-500 hover:text-emerald-500",cyan:r?"bg-cyan-500 text-white shadow-lg":"text-slate-500 hover:text-cyan-500"};return T.jsxs("button",{onClick:n,className:`px-5 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 transition-all duration-300 ${a[i]}`,children:[T.jsx(e,{className:"w-3.5 h-3.5"})," ",t]})},UL=()=>T.jsxs("div",{className:"w-full h-full flex flex-col gap-6 animate-fade-in",children:[T.jsx("div",{className:"bg-white dark:bg-[#0F172A] p-6 rounded-3xl shadow-md border border-slate-100 dark:border-slate-800",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"p-3 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-2xl shadow-lg shadow-cyan-500/30",children:T.jsx(jb,{className:"w-8 h-8 text-white"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Production Planning"}),T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Schedule & Resource Management"})]})]})}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl bg-slate-50/50 dark:bg-slate-900/50",children:[T.jsx("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-full shadow-sm mb-4",children:T.jsx(lV,{className:"w-12 h-12 text-cyan-500 opacity-50"})}),T.jsx("h3",{className:"text-lg font-black text-slate-400 uppercase tracking-widest",children:"Module Under Construction"}),T.jsx("p",{className:"text-xs font-bold text-slate-400 mt-2",children:"Planning features will be available soon."}),T.jsxs("button",{className:"mt-6 px-6 py-2.5 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl text-xs font-black uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all active:scale-95",children:[T.jsx(X$,{className:"w-4 h-4"})," Create Plan"]})]})]}),HL=()=>T.jsxs("div",{className:"w-full h-full flex flex-col gap-6 animate-fade-in",children:[T.jsx("div",{className:"bg-white dark:bg-[#0F172A] p-6 rounded-3xl shadow-md border border-slate-100 dark:border-slate-800",children:T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl shadow-lg shadow-orange-500/30",children:T.jsx(Nb,{className:"w-8 h-8 text-white"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:"Delivery Schedule"}),T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Logistics & Dispatch"})]})]})}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl bg-slate-50/50 dark:bg-slate-900/50",children:[T.jsx("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-full shadow-sm mb-4",children:T.jsx(eV,{className:"w-12 h-12 text-orange-500 opacity-50"})}),T.jsx("h3",{className:"text-lg font-black text-slate-400 uppercase tracking-widest",children:"Module Under Construction"}),T.jsx("p",{className:"text-xs font-bold text-slate-400 mt-2",children:"Delivery features will be available soon."}),T.jsxs("button",{className:"mt-6 px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-xl text-xs font-black uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all active:scale-95",children:[T.jsx(rV,{className:"w-4 h-4"})," New Delivery"]})]})]}),Ife=()=>{const[r,e]=ye.useState(Tt.KPI),[t,n]=ye.useState(new Date().toISOString().split("T")[0]),[i,a]=ye.useState(!1),[s,c]=ye.useState(!1),[l,o]=ye.useState(()=>{const _=localStorage.getItem("theme");return _==="dark"||!_&&!0}),{combinedData:u,adminConfig:f,updateDayData:h,updateAdminConfig:d,isCloudEnabled:g,toggleCloudSync:y,cloudStatus:m,localStatus:x,lastSyncTime:v}=oP(t);return ye.useEffect(()=>{l?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[l]),T.jsxs("div",{className:"flex h-screen w-full bg-[#FAFAFA] text-slate-900 dark:bg-[#020617] dark:text-slate-100 transition-colors duration-500 font-sans selection:bg-amber-500/30",children:[T.jsx(bV,{activeTab:r,setActiveTab:e,isSidebarOpen:i,setIsSidebarOpen:a,isDarkMode:l,setIsDarkMode:o,onOpenSyncModal:()=>c(!0),cloudStatus:m,localStatus:x,isCloudEnabled:g}),T.jsxs("main",{className:"flex-1 flex flex-col min-w-0 relative bg-[#FAFAFA] dark:bg-[#020617]",children:[T.jsx(vV,{activeTab:r}),T.jsx("div",{className:"flex-1 overflow-hidden relative",children:T.jsxs("div",{className:"absolute inset-0 p-4 scroll-smooth overflow-y-auto custom-scrollbar",children:[r===Tt.PRODUCTION&&T.jsx(FL,{date:t,onDateChange:n,allData:u,onUpdate:h,adminConfig:f}),r===Tt.KPI&&T.jsx($L,{data:u}),r===Tt.OEE&&T.jsx(VL,{data:u}),r===Tt.QUALITY&&T.jsx(zL,{data:u,allData:u,onUpdate:h,adminConfig:f}),r===Tt.PLANNING&&T.jsx(UL,{}),r===Tt.DELIVERY&&T.jsx(HL,{}),r===Tt.ADMIN&&T.jsx(qL,{config:f,onUpdate:d})]})})]}),T.jsx(AM,{isOpen:s,onClose:()=>c(!1),isCloudEnabled:g,toggleCloudSync:y,cloudStatus:m,localStatus:x,lastSyncTime:v,adminConfig:f})]})},Pfe=()=>{var P;const[r,e]=ye.useState(Tt.KPI),[t,n]=ye.useState(new Date().toISOString().split("T")[0]),[i,a]=ye.useState(!1),[s,c]=ye.useState(!1),[l,o]=ye.useState(()=>{const D=localStorage.getItem("theme");return D==="dark"||!D&&!0}),{combinedData:u,adminConfig:f,updateDayData:h,updateAdminConfig:d,isCloudEnabled:g,toggleCloudSync:y,cloudStatus:m,localStatus:x,lastSyncTime:v}=oP(t);ye.useEffect(()=>{l?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[l]);const _=D=>{e(D),a(!1)},k=[{id:Tt.PRODUCTION,label:"Production Log",icon:Wp,color:"text-amber-500"},{id:Tt.KPI,label:"KPI Dashboard",icon:Rc,color:"text-indigo-500"},{id:Tt.OEE,label:"OEE Analytics",icon:Ua,color:"text-purple-500"},{id:Tt.QUALITY,label:"Quality Control",icon:f5,color:"text-emerald-500"},{id:Tt.PLANNING,label:"Planning",icon:jb,color:"text-cyan-500"},{id:Tt.DELIVERY,label:"Delivery",icon:Nb,color:"text-orange-500"},{id:Tt.ADMIN,label:"System Admin",icon:v5,color:"text-rose-500"}],N=(P=k.find(D=>D.id===r))==null?void 0:P.label;return T.jsxs("div",{className:"flex flex-col h-screen w-full bg-[#FAFAFA] text-slate-900 dark:bg-[#020617] dark:text-slate-100 font-sans overflow-hidden",children:[T.jsxs("div",{className:"flex-none h-14 bg-white/90 dark:bg-[#0F172A]/90 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-3 z-30 shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>a(!0),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl text-slate-600 dark:text-slate-300 active:scale-95 transition-transform",children:T.jsx(tV,{size:20,strokeWidth:2.5})}),T.jsx("div",{children:T.jsx("h1",{className:"text-xs font-black uppercase tracking-tight text-slate-800 dark:text-white flex items-center gap-2",children:N})})]}),T.jsx("div",{className:"flex items-center gap-2",children:T.jsx("button",{onClick:()=>c(!0),className:`w-2.5 h-2.5 rounded-full ${x==="success"?"bg-emerald-500":"bg-amber-500"} animate-pulse ring-2 ring-emerald-500/20`})})]}),T.jsx("div",{className:`fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-40 transition-opacity duration-300 ${i?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>a(!1)}),T.jsxs("div",{className:`fixed inset-y-0 left-0 w-72 bg-white dark:bg-[#0B1121] z-50 shadow-2xl transform transition-transform duration-300 ease-out flex flex-col ${i?"translate-x-0":"-translate-x-full"}`,children:[T.jsxs("div",{className:"h-16 flex items-center justify-between px-5 border-b border-slate-100 dark:border-slate-800",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white shadow-lg shadow-indigo-600/30",children:T.jsx(xM,{size:16})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-base font-black tracking-tighter text-slate-800 dark:text-white",children:"FMJ PRO"}),T.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Mobile v1.0"})]})]}),T.jsx("button",{onClick:()=>a(!1),className:"p-2 bg-slate-50 dark:bg-slate-800 rounded-full text-slate-400 hover:text-rose-500 transition-colors",children:T.jsx(zf,{size:18})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-1",children:k.map(D=>{const I=D.icon,B=r===D.id;return T.jsxs("button",{onClick:()=>_(D.id),className:`w-full flex items-center gap-4 p-3 rounded-xl transition-all duration-200 ${B?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-900":"hover:bg-slate-50 dark:hover:bg-slate-800/50 border-transparent"} border`,children:[T.jsx(I,{size:18,className:B?D.color:"text-slate-400"}),T.jsx("span",{className:`text-xs font-bold ${B?"text-slate-800 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:D.label}),B&&T.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-indigo-500"})]},D.id)})}),T.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:T.jsxs("button",{onClick:()=>o(!l),className:"w-full flex items-center justify-between p-3 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm active:scale-95 transition-transform",children:[T.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-500 dark:text-slate-300 flex items-center gap-2",children:[l?T.jsx(m5,{size:14}):T.jsx(y5,{size:14}),l?"Dark Mode":"Light Mode"]}),T.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${l?"bg-indigo-600":"bg-slate-300"}`,children:T.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${l?"translate-x-4":"translate-x-0"}`})})]})})]}),T.jsx("div",{className:"flex-1 overflow-hidden relative",children:T.jsx("div",{className:"absolute inset-0 overflow-y-auto custom-scrollbar p-2 pb-20",children:T.jsxs("div",{className:"min-w-0 max-w-full",children:[r===Tt.PRODUCTION&&T.jsx(FL,{date:t,onDateChange:n,allData:u,onUpdate:h,adminConfig:f}),r===Tt.KPI&&T.jsx($L,{data:u}),r===Tt.OEE&&T.jsx(VL,{data:u}),r===Tt.QUALITY&&T.jsx(zL,{data:u,allData:u,onUpdate:h,adminConfig:f}),r===Tt.PLANNING&&T.jsx(UL,{}),r===Tt.DELIVERY&&T.jsx(HL,{}),r===Tt.ADMIN&&T.jsx(qL,{config:f,onUpdate:d})]})})}),T.jsx(AM,{isOpen:s,onClose:()=>c(!1),isCloudEnabled:g,toggleCloudSync:y,cloudStatus:m,localStatus:x,lastSyncTime:v,adminConfig:f})]})},Dfe=()=>{const[r,e]=ye.useState(window.innerWidth<768),[t,n]=ye.useState(1);return ye.useEffect(()=>{const i=()=>{const a=window.innerWidth;let s=1;a<=480?s=.85:a<=1024?s=.9:a<=1440?s=.95:s=1,n(s),e(a<768)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),T.jsx("div",{style:{zoom:t,width:"100%",height:"100%"},children:r?T.jsx(Pfe,{}):T.jsx(Ife,{})})},KL=document.getElementById("root");if(!KL)throw new Error("Could not find root element");const Bfe=O$.createRoot(KL);Bfe.render(T.jsx(pe.StrictMode,{children:T.jsx(Dfe,{})}));
